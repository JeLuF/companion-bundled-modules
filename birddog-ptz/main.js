/*! For license information please see main.js.LICENSE.txt */
(()=>{var e,t={7056:(e,t,a)=>{"use strict";const n=a(4063);n.code='require("ajv/dist/runtime/equal").default',t.Z=n},758:(e,t,a)=>{"use strict";a.d(t,{r:()=>i});var n=a(5659),o=a(6890),r=a(2176);function i(){(0,o.T)(),(0,r.KV)()&&function(){const t=(0,n.cu)();if(!t.__SENTRY__)return;const a={mongodb:()=>new((0,r.l$)(e,"./node/integrations/mongo").Mongo),mongoose:()=>new((0,r.l$)(e,"./node/integrations/mongo").Mongo),mysql:()=>new((0,r.l$)(e,"./node/integrations/mysql").Mysql),pg:()=>new((0,r.l$)(e,"./node/integrations/postgres").Postgres)},o=Object.keys(a).filter((e=>!!(0,r.$y)(e))).map((e=>{try{return a[e]()}catch(e){return}})).filter((e=>e));o.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...o])}()}e=a.hmd(e)},2716:(e,t,a)=>{"use strict";a.d(t,{_:()=>d});var n=a(4307),o=a(2176),r=a(2343),i=a(535),s=a(2844),c=a(7597),l=a(7990);class d{static __initStatic(){this.id="Apollo"}constructor(e={useNestjs:!1}){this.name=d.id,this._useNest=!!e.useNestjs}loadDependency(){return this._useNest?this._module=this._module||(0,o.$y)("@nestjs/graphql"):this._module=this._module||(0,o.$y)("apollo-server-core"),this._module}setupOnce(e,t){if((0,l.K)(t))("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("Apollo Integration is skipped because of instrumenter configuration.");else if(this._useNest){const e=this.loadDependency();if(!e)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error("Apollo-NestJS Integration was unable to require @nestjs/graphql package."));(0,i.hl)(e.GraphQLFactory.prototype,"mergeWithSchema",(function(e){return function(...a){return(0,i.hl)(this.resolversExplorerService,"explore",(function(e){return function(){return u((0,s.lE)(e.call(this)),t)}})),e.call(this,...a)}}))}else{const e=this.loadDependency();if(!e)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error("Apollo Integration was unable to require apollo-server-core package."));(0,i.hl)(e.ApolloServerBase.prototype,"constructSchema",(function(e){return function(){if(!this.config.resolvers)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&(this.config.schema?(r.kg.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `schema` property.If you are using NestJS with Apollo, please use `Sentry.Integrations.Apollo({ useNestjs: true })` instead."),r.kg.warn()):this.config.modules&&r.kg.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `modules` property."),r.kg.error("Skipping tracing as no resolvers found on the `ApolloServer` instance.")),e.call(this);const a=(0,s.lE)(this.config.resolvers);return this.config.resolvers=u(a,t),e.call(this)}}))}}}function u(e,t){return e.map((e=>(Object.keys(e).forEach((a=>{Object.keys(e[a]).forEach((o=>{"function"==typeof e[a][o]&&function(e,t,a,o){(0,i.hl)(e[t],a,(function(e){return function(...r){const i=o().getScope(),s=(0,n.x)([i,"optionalAccess",e=>e.getSpan,"call",e=>e()]),l=(0,n.x)([s,"optionalAccess",e=>e.startChild,"call",e=>e({description:`${t}.${a}`,op:"graphql.resolve",origin:"auto.graphql.apollo"})]),d=e.call(this,...r);return(0,c.J8)(d)?d.then((e=>((0,n.x)([l,"optionalAccess",e=>e.finish,"call",e=>e()]),e))):((0,n.x)([l,"optionalAccess",e=>e.finish,"call",e=>e()]),d)}}))}(e,a,o,t)}))})),e)))}d.__initStatic()},8737:(e,t,a)=>{"use strict";a.d(t,{N:()=>l});var n=a(4307),o=a(2343),r=a(6956),i=a(442),s=a(7597),c=a(7990);class l{static __initStatic(){this.id="Express"}constructor(e={}){this.name=l.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}setupOnce(e,t){this._router?(0,c.K)(t)?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("Express Integration is skipped because of instrumenter configuration."):(function(e,t=[]){t.forEach((t=>function(e,t){const a=e[t];return e[t]=function(...e){return a.call(this,...function(e,t){return e.map((e=>"function"==typeof e?d(e,t):Array.isArray(e)?e.map((e=>"function"==typeof e?d(e,t):e)):e))}(e,t))},e}(e,t)))}(this._router,this._methods),function(e){const t="settings"in e;t&&void 0===e._router&&e.lazyrouter&&e.lazyrouter();const a=t?e._router:e;if(!a)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.debug("Cannot instrument router for URL Parameterization (did not find a valid router)."),void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.debug("Routing instrumentation is currently only supported in Express 4."));const c=Object.getPrototypeOf(a),l=c.process_params;c.process_params=function(e,t,a,o,c){a._reconstructedRoute||(a._reconstructedRoute="");const{layerRoutePath:d,isRegex:u,isArray:p,numExtraSegments:m}=function(e){const t=(0,n.x)([e,"access",e=>e.route,"optionalAccess",e=>e.path]),a=(0,s.Kj)(t),o=Array.isArray(t);if(!t)return{isRegex:a,isArray:o,numExtraSegments:0};const i=o?Math.max(t.reduce(((e,t)=>e+(0,r.$A)(t.toString())),0)-(0,r.$A)(e.path||""),0):0,c=function(e,t){return e?t.map((e=>e.toString())).join(","):t&&t.toString()}(o,t);return{layerRoutePath:c,isRegex:a,isArray:o,numExtraSegments:i}}(e);(d||u||p)&&(a._hasParameters=!0);const h=(d||e.path||"").split("/").filter((e=>e.length>0&&(u||p||!e.includes("*")))).join("/");if(h&&h.length>0&&(a._reconstructedRoute+=`/${h}${u?"/":""}`),(0,r.$A)(a.originalUrl||"")+m===(0,r.$A)(a._reconstructedRoute)){a._hasParameters||a._reconstructedRoute!==a.originalUrl&&(a._reconstructedRoute=a.originalUrl?(0,r.rt)(a.originalUrl):a.originalUrl);const e=o.__sentry_transaction;if(e&&"custom"!==e.metadata.source){const t=a._reconstructedRoute||"/";e.setName(...(0,i.oA)(a,{path:!0,method:!0,customRoute:t}))}}return l.call(this,e,t,a,o,c)}}(this._router)):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.error("ExpressIntegration is missing an Express instance")}}function d(e,t){const a=e.length;switch(a){case 2:return function(a,n){const o=n.__sentry_transaction;if(o){const a=o.startChild({description:e.name,op:`middleware.express.${t}`,origin:"auto.middleware.express"});n.once("finish",(()=>{a.finish()}))}return e.call(this,a,n)};case 3:return function(a,o,r){const i=o.__sentry_transaction,s=(0,n.x)([i,"optionalAccess",e=>e.startChild,"call",a=>a({description:e.name,op:`middleware.express.${t}`,origin:"auto.middleware.express"})]);e.call(this,a,o,(function(...e){(0,n.x)([s,"optionalAccess",e=>e.finish,"call",e=>e()]),r.call(this,...e)}))};case 4:return function(a,o,r,i){const s=r.__sentry_transaction,c=(0,n.x)([s,"optionalAccess",e=>e.startChild,"call",a=>a({description:e.name,op:`middleware.express.${t}`,origin:"auto.middleware.express"})]);e.call(this,a,o,r,(function(...e){(0,n.x)([c,"optionalAccess",e=>e.finish,"call",e=>e()]),i.call(this,...e)}))};default:throw new Error(`Express middleware takes 2-4 arguments. Got: ${a}`)}}l.__initStatic()},1791:(e,t,a)=>{"use strict";a.d(t,{k:()=>l});var n=a(4307),o=a(2176),r=a(2343),i=a(535),s=a(7597),c=a(7990);class l{static __initStatic(){this.id="GraphQL"}constructor(){this.name=l.id}loadDependency(){return this._module=this._module||(0,o.$y)("graphql/execution/execute.js")}setupOnce(e,t){if((0,c.K)(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("GraphQL Integration is skipped because of instrumenter configuration."));const a=this.loadDependency();a?(0,i.hl)(a,"execute",(function(e){return function(...a){const o=t().getScope(),r=(0,n.x)([o,"optionalAccess",e=>e.getSpan,"call",e=>e()]),i=(0,n.x)([r,"optionalAccess",e=>e.startChild,"call",e=>e({description:"execute",op:"graphql.execute",origin:"auto.graphql.graphql"})]);(0,n.x)([o,"optionalAccess",e=>e.setSpan,"call",e=>e(i)]);const c=e.call(this,...a);return(0,s.J8)(c)?c.then((e=>((0,n.x)([i,"optionalAccess",e=>e.finish,"call",e=>e()]),(0,n.x)([o,"optionalAccess",e=>e.setSpan,"call",e=>e(r)]),e))):((0,n.x)([i,"optionalAccess",e=>e.finish,"call",e=>e()]),(0,n.x)([o,"optionalAccess",e=>e.setSpan,"call",e=>e(r)]),c)}})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error("GraphQL Integration was unable to require graphql/execution package.")}}l.__initStatic()},6046:(e,t,a)=>{"use strict";a.d(t,{G:()=>o});var n=a(2176);e=a.hmd(e);const o=[()=>new((0,n.l$)(e,"./apollo").Apollo),()=>new((0,n.l$)(e,"./apollo").Apollo)({useNestjs:!0}),()=>new((0,n.l$)(e,"./graphql").GraphQL),()=>new((0,n.l$)(e,"./mongo").Mongo),()=>new((0,n.l$)(e,"./mongo").Mongo)({mongoose:!0}),()=>new((0,n.l$)(e,"./mysql").Mysql),()=>new((0,n.l$)(e,"./postgres").Postgres)]},6169:(e,t,a)=>{"use strict";a.d(t,{_:()=>u});var n=a(4307),o=a(2176),r=a(2343),i=a(535),s=a(7597),c=a(7990);const l=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],d={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]};class u{static __initStatic(){this.id="Mongo"}constructor(e={}){this.name=u.id,this._operations=Array.isArray(e.operations)?e.operations:l,this._describeOperations=!("describeOperations"in e)||e.describeOperations,this._useMongoose=!!e.useMongoose}loadDependency(){const e=this._useMongoose?"mongoose":"mongodb";return this._module=this._module||(0,o.$y)(e)}setupOnce(e,t){if((0,c.K)(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("Mongo Integration is skipped because of instrumenter configuration."));const a=this.loadDependency();if(a)this._instrumentOperations(a.Collection,this._operations,t);else{const e=this._useMongoose?"mongoose":"mongodb";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error(`Mongo Integration was unable to require \`${e}\` package.`)}}_instrumentOperations(e,t,a){t.forEach((t=>this._patchOperation(e,t,a)))}_patchOperation(e,t,a){if(!(t in e.prototype))return;const o=this._getSpanContextFromOperationArguments.bind(this);(0,i.hl)(e.prototype,t,(function(e){return function(...r){const i=r[r.length-1],c=a().getScope(),l=(0,n.x)([c,"optionalAccess",e=>e.getSpan,"call",e=>e()]);if("function"!=typeof i||"mapReduce"===t&&2===r.length){const a=(0,n.x)([l,"optionalAccess",e=>e.startChild,"call",e=>e(o(this,t,r))]),i=e.call(this,...r);if((0,s.J8)(i))return i.then((e=>((0,n.x)([a,"optionalAccess",e=>e.finish,"call",e=>e()]),e)));if((d=i)&&"object"==typeof d&&d.once&&"function"==typeof d.once){const e=i;try{e.once("close",(()=>{(0,n.x)([a,"optionalAccess",e=>e.finish,"call",e=>e()])}))}catch(e){(0,n.x)([a,"optionalAccess",e=>e.finish,"call",e=>e()])}return e}return(0,n.x)([a,"optionalAccess",e=>e.finish,"call",e=>e()]),i}var d;const u=(0,n.x)([l,"optionalAccess",e=>e.startChild,"call",e=>e(o(this,t,r.slice(0,-1)))]);return e.call(this,...r.slice(0,-1),(function(e,t){(0,n.x)([u,"optionalAccess",e=>e.finish,"call",e=>e()]),i(e,t)}))}}))}_getSpanContextFromOperationArguments(e,t,a){const n={"db.system":"mongodb","db.name":e.dbName,"db.operation":t,"db.mongodb.collection":e.collectionName},o={op:"db",origin:"auto.db.mongo",description:t,data:n},r=d[t],i=Array.isArray(this._describeOperations)?this._describeOperations.includes(t):this._describeOperations;if(!r||!i)return o;try{if("mapReduce"===t){const[e,t]=a;n[r[0]]="string"==typeof e?e:e.name||"<anonymous>",n[r[1]]="string"==typeof t?t:t.name||"<anonymous>"}else for(let e=0;e<r.length;e++)n[`db.mongodb.${r[e]}`]=JSON.stringify(a[e])}catch(e){}return o}}u.__initStatic()},24:(e,t,a)=>{"use strict";a.d(t,{m:()=>c});var n=a(4307),o=a(2176),r=a(2343),i=a(535),s=a(7990);class c{static __initStatic(){this.id="Mysql"}constructor(){this.name=c.id}loadDependency(){return this._module=this._module||(0,o.$y)("mysql/lib/Connection.js")}setupOnce(e,t){if((0,s.K)(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("Mysql Integration is skipped because of instrumenter configuration."));const a=this.loadDependency();if(!a)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error("Mysql Integration was unable to require `mysql` package."));let o;try{a.prototype.connect=new Proxy(a.prototype.connect,{apply:(e,t,a)=>(o||(o=t.config),e.apply(t,a))})}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error("Mysql Integration was unable to instrument `mysql` config.")}(0,i.hl)(a,"createQuery",(function(e){return function(a,r,i){const s=t().getScope(),c=(0,n.x)([s,"optionalAccess",e=>e.getSpan,"call",e=>e()]),l=(0,n.x)([c,"optionalAccess",e=>e.startChild,"call",e=>e({description:"string"==typeof a?a:a.sql,op:"db",origin:"auto.db.mysql",data:{...o?{"server.address":o.host,"server.port":o.port,"db.user":o.user}:{},"db.system":"mysql"}})]);return"function"==typeof i?e.call(this,a,r,(function(e,t,a){(0,n.x)([l,"optionalAccess",e=>e.finish,"call",e=>e()]),i(e,t,a)})):"function"==typeof r?e.call(this,a,(function(e,t,a){(0,n.x)([l,"optionalAccess",e=>e.finish,"call",e=>e()]),r(e,t,a)})):e.call(this,a,r,i)}}))}}c.__initStatic()},1370:(e,t,a)=>{"use strict";a.d(t,{E:()=>l});var n=a(4307),o=a(2176),r=a(2343),i=a(535),s=a(7597),c=a(7990);class l{static __initStatic(){this.id="Postgres"}constructor(e={}){this.name=l.id,this._usePgNative=!!e.usePgNative}loadDependency(){return this._module=this._module||(0,o.$y)("pg")}setupOnce(e,t){if((0,c.K)(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("Postgres Integration is skipped because of instrumenter configuration."));const a=this.loadDependency();if(!a)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error("Postgres Integration was unable to require `pg` package."));if(this._usePgNative&&!(0,n.x)([a,"access",e=>e.native,"optionalAccess",e=>e.Client]))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error("Postgres Integration was unable to access 'pg-native' bindings."));const{Client:o}=this._usePgNative?a.native:a;(0,i.hl)(o.prototype,"query",(function(e){return function(a,o,r){const i=t().getScope(),c=(0,n.x)([i,"optionalAccess",e=>e.getSpan,"call",e=>e()]),l={"db.system":"postgresql"};try{this.database&&(l["db.name"]=this.database),this.host&&(l["server.address"]=this.host),this.port&&(l["server.port"]=this.port),this.user&&(l["db.user"]=this.user)}catch(e){}const d=(0,n.x)([c,"optionalAccess",e=>e.startChild,"call",e=>e({description:"string"==typeof a?a:a.text,op:"db",origin:"auto.db.postgres",data:l})]);if("function"==typeof r)return e.call(this,a,o,(function(e,t){(0,n.x)([d,"optionalAccess",e=>e.finish,"call",e=>e()]),r(e,t)}));if("function"==typeof o)return e.call(this,a,(function(e,t){(0,n.x)([d,"optionalAccess",e=>e.finish,"call",e=>e()]),o(e,t)}));const u=void 0!==o?e.call(this,a,o):e.call(this,a);return(0,s.J8)(u)?u.then((e=>((0,n.x)([d,"optionalAccess",e=>e.finish,"call",e=>e()]),e))):((0,n.x)([d,"optionalAccess",e=>e.finish,"call",e=>e()]),u)}}))}}l.__initStatic()},9889:(e,t,a)=>{"use strict";a.d(t,{g:()=>c});var n=a(5659),o=a(1250),r=a(535),i=a(2343),s=a(7990);class c{static __initStatic(){this.id="Prisma"}constructor(e={}){if(this.name=c.id,(t=e.client)&&t.$use&&!e.client._sentryInstrumented){(0,r.xp)(e.client,"_sentryInstrumented",!0);const t={};try{const a=e.client._engineConfig;if(a){const{activeProvider:e,clientVersion:n}=a;e&&(t["db.system"]=e),n&&(t["db.prisma.version"]=n)}}catch(e){}e.client.$use(((e,a)=>{if((0,s.K)(n.Gd))return a(e);const r=e.action,i=e.model;return(0,o.g4)({name:i?`${i} ${r}`:r,op:"db.sql.prisma",origin:"auto.db.prisma",data:{...t,"db.operation":r}},(()=>a(e)))}))}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn("Unsupported Prisma client provided to PrismaIntegration. Provided client:",e.client);var t}setupOnce(){}}c.__initStatic()},7990:(e,t,a)=>{"use strict";a.d(t,{K:()=>o});var n=a(4307);function o(e){const t=(0,n.x)([e,"call",e=>e(),"access",e=>e.getClient,"call",e=>e(),"optionalAccess",e=>e.getOptions,"call",e=>e()]);return"sentry"!==((0,n.x)([t,"optionalAccess",e=>e.instrumenter])||"sentry")}},1131:(e,t,a)=>{"use strict";a.d(t,{J:()=>n});const n="production"},5659:(e,t,a)=>{"use strict";a.d(t,{$b:()=>b,Gd:()=>_,Ok:()=>y,Xb:()=>p,cu:()=>m,j0:()=>S,pj:()=>h,uZ:()=>g,vi:()=>w});var n=a(2844),o=a(1170),r=a(2343),i=a(1235),s=a(1131),c=a(350),l=a(9015);const d=4,u=100;class p{constructor(e,t=new c.s,a=d){this._version=a,this._stack=[{scope:t}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=c.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(e){const t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const a=this._lastEventId=t&&t.event_id?t.event_id:(0,n.DM)(),o=new Error("Sentry syntheticException");return this._withClient(((n,r)=>{n.captureException(e,{originalException:e,syntheticException:o,...t,event_id:a},r)})),a}captureMessage(e,t,a){const o=this._lastEventId=a&&a.event_id?a.event_id:(0,n.DM)(),r=new Error(e);return this._withClient(((n,i)=>{n.captureMessage(e,t,{originalException:e,syntheticException:r,...a,event_id:o},i)})),o}captureEvent(e,t){const a=t&&t.event_id?t.event_id:(0,n.DM)();return e.type||(this._lastEventId=a),this._withClient(((n,o)=>{n.captureEvent(e,{...t,event_id:a},o)})),a}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:a,client:n}=this.getStackTop();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=u}=n.getOptions&&n.getOptions()||{};if(s<=0)return;const c={timestamp:(0,o.yW)(),...e},l=i?(0,r.Cf)((()=>i(c,t))):c;null!==l&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),a.addBreadcrumb(l,s))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t)}configureScope(e){const{scope:t,client:a}=this.getStackTop();a&&e(t)}run(e){const t=h(this);try{e(this)}finally{h(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const a=this._callExtensionMethod("startTransaction",e,t);return"undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__||a||(this.getClient()?console.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):console.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),a}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&(0,l.RJ)(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:a}=this.getStackTop(),{release:n,environment:o=s.J}=a&&a.getOptions()||{},{userAgent:r}=i.n2.navigator||{},c=(0,l.Hv)({release:n,environment:o,user:t.getUser(),...r&&{userAgent:r},...e}),d=t.getSession&&t.getSession();return d&&"ok"===d.status&&(0,l.CT)(d,{status:"exited"}),this.endSession(),t.setSession(c),c}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),a=e.getSession();a&&t&&t.captureSession&&t.captureSession(a)}_withClient(e){const{scope:t,client:a}=this.getStackTop();a&&e(a,t)}_callExtensionMethod(e,...t){const a=m().__SENTRY__;if(a&&a.extensions&&"function"==typeof a.extensions[e])return a.extensions[e].apply(this,t);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function m(){return i.n2.__SENTRY__=i.n2.__SENTRY__||{extensions:{},hub:void 0},i.n2}function h(e){const t=m(),a=w(t);return S(t,e),a}function _(){const e=m();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return f(e)}function f(e=m()){return v(e)&&!w(e).isOlderThan(d)||S(e,new p),w(e)}function g(e,t=f()){if(!v(e)||w(e).isOlderThan(d)){const a=t.getStackTop();S(e,new p(a.client,c.s.clone(a.scope)))}}function b(e){const t=m();t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.acs=e}function y(e,t={}){const a=m();return a.__SENTRY__&&a.__SENTRY__.acs?a.__SENTRY__.acs.runWithAsyncContext(e,t):e()}function v(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function w(e){return(0,i.YO)("hub",(()=>new p),e)}function S(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}},350:(e,t,a)=>{"use strict";a.d(t,{c:()=>p,s:()=>d});var n=a(7597),o=a(1170),r=a(6893),i=a(2343),s=a(2844),c=a(1235),l=a(9015);class d{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=m()}static clone(e){const t=new d;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags={...e._tags},t._extra={...e._extra},t._contexts={...e._contexts},t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments],t._sdkProcessingMetadata={...e._sdkProcessingMetadata},t._propagationContext={...e._propagationContext}),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&(0,l.CT)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){const t=e(this);return t instanceof d?t:this}return e instanceof d?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession),e._propagationContext&&(this._propagationContext=e._propagationContext)):(0,n.PO)(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=m(),this}addBreadcrumb(e,t){const a="number"==typeof t?t:100;if(a<=0)return this;const n={timestamp:(0,o.yW)(),...e};return this._breadcrumbs=[...this._breadcrumbs,n].slice(-a),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const t=this._span.transaction;if(t){e.sdkProcessingMetadata={dynamicSamplingContext:t.getDynamicSamplingContext(),...e.sdkProcessingMetadata};const a=t.name;a&&(e.tags={transaction:a,...e.tags})}}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata,propagationContext:this._propagationContext},this._notifyEventProcessors([...u(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}_notifyEventProcessors(e,t,a,o=0){return new r.cW(((r,s)=>{const c=e[o];if(null===t||"function"!=typeof c)r(t);else{const l=c({...t},a);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.id&&null===l&&i.kg.log(`Event processor "${c.id}" dropped event`),(0,n.J8)(l)?l.then((t=>this._notifyEventProcessors(e,t,a,o+1).then(r))).then(null,s):this._notifyEventProcessors(e,l,a,o+1).then(r).then(null,s)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?(0,s.lE)(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function u(){return(0,c.YO)("globalEventProcessors",(()=>[]))}function p(e){u().push(e)}function m(){return{traceId:(0,s.DM)(),spanId:(0,s.DM)().substring(16)}}},9015:(e,t,a)=>{"use strict";a.d(t,{CT:()=>s,Hv:()=>i,RJ:()=>c});var n=a(1170),o=a(2844),r=a(535);function i(e){const t=(0,n.ph)(),a={sid:(0,o.DM)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return(0,r.Jr)({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(a)};return e&&s(a,e),a}function s(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,n.ph)(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,o.DM)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function c(e,t){let a={};t?a={status:t}:"ok"===e.status&&(a={status:"exited"}),s(e,a)}},454:(e,t,a)=>{"use strict";a.d(t,{_:()=>r});var n=a(535),o=a(1131);function r(e,t,a){const r=t.getOptions(),{publicKey:i}=t.getDsn()||{},{segment:s}=a&&a.getUser()||{},c=(0,n.Jr)({environment:r.environment||o.J,release:r.release,user_segment:s,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",c),c}},6890:(e,t,a)=>{"use strict";a.d(t,{T:()=>g,l:()=>f});var n=a(2343),o=a(7597),r=a(5659),i=a(7522),s=a(1688),c=a(9791);let l=!1;function d(){const e=(0,c.x1)();if(e){const t="internal_error";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.kg.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}d.tag="sentry_tracingErrorCallback";var u=a(5544),p=a(8069);function m(){const e=this.getScope().getSpan();return e?{"sentry-trace":e.toTraceparent()}:{}}function h(e,t,a){if(!(0,i.z)(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setMetadata({sampleRate:Number(e.sampled)}),e;let r;return"function"==typeof t.tracesSampler?(r=t.tracesSampler(a),e.setMetadata({sampleRate:Number(r)})):void 0!==a.parentSampled?r=a.parentSampled:void 0!==t.tracesSampleRate?(r=t.tracesSampleRate,e.setMetadata({sampleRate:Number(r)})):(r=1,e.setMetadata({sampleRate:r})),s=r,((0,o.i2)(s)||"number"!=typeof s&&"boolean"!=typeof s?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),0):!(s<0||s>1)||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${s}.`),0))?r?(e.sampled=Math.random()<r,e.sampled?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.kg.log(`[Tracing] starting ${e.op} transaction - ${e.name}`),e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.kg.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e);var s}function _(e,t){const a=this.getClient(),o=a&&a.getOptions()||{},r=o.instrumenter||"sentry",i=e.instrumenter||"sentry";r!==i&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.kg.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${r}\` instrumenter.\nThe transaction will not be sampled. Please use the ${r} instrumentation to start transactions.`),e.sampled=!1);let s=new p.Y(e,this);return s=h(s,o,{parentSampled:e.parentSampled,transactionContext:e,...t}),s.sampled&&s.initSpanRecorder(o._experiments&&o._experiments.maxSpans),a&&a.emit&&a.emit("startTransaction",s),s}function f(e,t,a,n,o,r,i){const s=e.getClient(),c=s&&s.getOptions()||{};let l=new u.io(t,e,a,n,i,o);return l=h(l,c,{parentSampled:t.parentSampled,transactionContext:t,...r}),l.sampled&&l.initSpanRecorder(c._experiments&&c._experiments.maxSpans),s&&s.emit&&s.emit("startTransaction",l),l}function g(){const e=(0,r.cu)();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=_),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=m),l||(l=!0,(0,s.oq)("error",d),(0,s.oq)("unhandledrejection",d)))}},5544:(e,t,a)=>{"use strict";a.d(t,{AT:()=>s,io:()=>d});var n=a(1170),o=a(2343),r=a(8903),i=a(8069);const s={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},c=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class l extends r.gB{constructor(e,t,a,n){super(n),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=a}add(e){e.spanId!==this.transactionSpanId&&(e.finish=t=>{e.endTimestamp="number"==typeof t?t:(0,n.ph)(),this._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),super.add(e)}}class d extends i.Y{constructor(e,t,a=s.idleTimeout,n=s.finalTimeout,r=s.heartbeatInterval,i=!1){super(e,t),this._idleHub=t,this._idleTimeout=a,this._finalTimeout=n,this._heartbeatInterval=r,this._onScope=i,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=c[4],i&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),t.configureScope((e=>e.setSpan(this)))),this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=c[3],this.finish())}),this._finalTimeout)}finish(e=(0,n.ph)()){if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setTag("finishReason",this._finishReason),this.spanRecorder){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);for(const t of this._beforeFinishCallbacks)t(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter((t=>{if(t.spanId===this.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus("cancelled"),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));const a=t.startTimestamp<e,n=(this._finalTimeout+this._idleTimeout)/1e3,r=t.endTimestamp-this.startTimestamp<n;if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){const e=JSON.stringify(t,void 0,2);a?r||o.kg.log("[Tracing] discarding Span since it finished after Transaction final timeout",e):o.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",e)}return a&&r})),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] flushing IdleTransaction")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] No active IdleTransaction");if(this._onScope){const e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const t=e=>{this._finished||this._pushActivity(e)},a=e=>{this._finished||this._popActivity(e)};this.spanRecorder=new l(t,a,this.spanId,e),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:t}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=c[5],this.finish(e)))}setFinishReason(e){this._finishReason=e}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=c[1],this.finish(e))}),this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`[Tracing] popActivity ${e}`),delete this.activities[e],("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=(0,n.ph)();this._idleTimeoutCanceledPermanently?(this._finishReason=c[5],this.finish(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=c[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}},8903:(e,t,a)=>{"use strict";a.d(t,{Dr:()=>l,Zd:()=>d,gB:()=>c});var n=a(2844),o=a(1170),r=a(2343),i=a(7638),s=a(535);class c{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class l{constructor(e={}){this.traceId=e.traceId||(0,n.DM)(),this.spanId=e.spanId||(0,n.DM)().substring(16),this.startTimestamp=e.startTimestamp||(0,o.ph)(),this.tags=e.tags||{},this.data=e.data||{},this.instrumenter=e.instrumenter||"sentry",this.origin=e.origin||"manual",e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.name&&(this.description=e.name),e.status&&(this.status=e.status),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}startChild(e){const t=new l({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t),t.transaction=this.transaction,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.transaction){const a=`[Tracing] Starting '${e&&e.op||"< unknown op >"}' span on transaction '${t.transaction.name||"< unknown name >"}' (${t.transaction.spanId}).`;t.transaction.metadata.spanMetadata[t.spanId]={logMessage:a},r.kg.log(a)}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e)),this.setData("http.response.status_code",e);const t=d(e);return"unknown_error"!==t&&this.setStatus(t),this}setName(e){this.description=e}isSuccess(){return"ok"===this.status}finish(e){if(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:e}=this.transaction.metadata.spanMetadata[this.spanId];e&&r.kg.log(e.replace("Starting","Finishing"))}this.endTimestamp="number"==typeof e?e:(0,o.ph)()}toTraceparent(){return(0,i.$p)(this.traceId,this.spanId,this.sampled)}toContext(){return(0,s.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=e.data||{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=e.spanId||this.spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this.traceId=e.traceId||this.traceId,this}getTraceContext(){return(0,s.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return(0,s.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId,origin:this.origin})}}function d(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}},1250:(e,t,a)=>{"use strict";a.d(t,{GK:()=>c,HN:()=>l,g4:()=>i,y_:()=>s});var n=a(7597),o=a(5659),r=a(7522);function i(e,t,a=(()=>{})){const i={...e};void 0!==i.name&&void 0===i.description&&(i.description=i.name);const s=(0,o.Gd)(),c=s.getScope(),l=c.getSpan(),d=function(){if((0,r.z)())return l?l.startChild(i):s.startTransaction(i)}();function u(){d&&d.finish(),s.getScope().setSpan(l)}let p;c.setSpan(d);try{p=t(d)}catch(e){throw d&&d.setStatus("internal_error"),a(e),u(),e}return(0,n.J8)(p)?Promise.resolve(p).then((()=>{u()}),(e=>{d&&d.setStatus("internal_error"),a(e),u()})):u(),p}function s(e,t){const a={...e};void 0!==a.name&&void 0===a.description&&(a.description=a.name);const i=(0,o.Gd)(),s=i.getScope(),c=s.getSpan(),l=function(){if((0,r.z)())return c?c.startChild(a):i.startTransaction(a)}();function d(){l&&l.finish(),i.getScope().setSpan(c)}let u;s.setSpan(l);try{u=t(l)}catch(e){throw l&&l.setStatus("internal_error"),d(),e}return(0,n.J8)(u)?Promise.resolve(u).then((()=>{d()}),(()=>{l&&l.setStatus("internal_error"),d()})):d(),u}function c(e){if(!(0,r.z)())return;const t={...e};void 0!==t.name&&void 0===t.description&&(t.description=t.name);const a=(0,o.Gd)(),n=l();return n?n.startChild(t):a.startTransaction(t)}function l(){return(0,o.Gd)().getScope().getSpan()}},8069:(e,t,a)=>{"use strict";a.d(t,{Y:()=>c});var n=a(2343),o=a(535),r=a(5659),i=a(454),s=a(8903);class c extends s.Dr{constructor(e,t){super(e),delete this.description,this._measurements={},this._contexts={},this._hub=t||(0,r.Gd)(),this._name=e.name||"",this.metadata={source:"custom",...e.metadata,spanMetadata:{}},this._trimEnd=e.trimEnd,this.transaction=this;const a=this.metadata.dynamicSamplingContext;a&&(this._frozenDynamicSamplingContext={...a})}get name(){return this._name}set name(e){this.setName(e)}setName(e,t="custom"){this._name=e,this.metadata.source=t}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new s.gB(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,a=""){this._measurements[e]={value:t,unit:a}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){if(void 0!==this.endTimestamp)return;this.name||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e);const t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this.sampled)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(t&&t.recordDroppedEvent("sample_rate","transaction"));const a=this.spanRecorder?this.spanRecorder.spans.filter((e=>e!==this&&e.endTimestamp)):[];this._trimEnd&&a.length>0&&(this.endTimestamp=a.reduce(((e,t)=>e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e)).endTimestamp);const o=this.metadata,r={contexts:{...this._contexts,trace:this.getTraceContext()},spans:a,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...o,dynamicSamplingContext:this.getDynamicSamplingContext()},...o.source&&{transaction_info:{source:o.source}}};return Object.keys(this._measurements).length>0&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),r.measurements=this._measurements),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(r)}toContext(){const e=super.toContext();return(0,o.Jr)({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const e=this._hub||(0,r.Gd)(),t=e.getClient();if(!t)return{};const a=e.getScope(),n=(0,i._)(this.traceId,t,a),o=this.metadata.sampleRate;void 0!==o&&(n.sample_rate=`${o}`);const s=this.metadata.source;return s&&"url"!==s&&(n.transaction=this.name),void 0!==this.sampled&&(n.sampled=String(this.sampled)),n}setHub(e){this._hub=e}}},9791:(e,t,a)=>{"use strict";a.d(t,{x1:()=>o});var n=a(5659);function o(e){return(e||(0,n.Gd)()).getScope().getTransaction()}},7522:(e,t,a)=>{"use strict";a.d(t,{z:()=>o});var n=a(5659);function o(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=(0,n.Gd)().getClient(),a=e||t&&t.getOptions();return!!a&&(a.enableTracing||"tracesSampleRate"in a||"tracesSampler"in a)}},6304:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DEFAULT_USER_INCLUDES:()=>Ut,Handlers:()=>o,Hub:()=>b.Xb,Integrations:()=>ga,NodeClient:()=>Re,SDK_VERSION:()=>g,Scope:()=>se.s,addBreadcrumb:()=>k,addGlobalEventProcessor:()=>se.c,addRequestDataToEvent:()=>zt,autoDiscoverNodePerformanceMonitoringIntegrations:()=>pe,captureCheckIn:()=>N,captureEvent:()=>w,captureException:()=>y,captureMessage:()=>v,close:()=>D,configureScope:()=>S,createTransport:()=>ne,deepReadDirSync:()=>ta,defaultIntegrations:()=>Jt,defaultStackParser:()=>ea,extractRequestData:()=>Mt,extractTraceparentData:()=>ce.qG,flush:()=>R,getActiveSpan:()=>le.HN,getActiveTransaction:()=>re.x1,getCurrentHub:()=>b.Gd,getHubFromCarrier:()=>b.vi,getModuleFromFilename:()=>Zt,getSentryRelease:()=>Xt,init:()=>Kt,lastEventId:()=>G,makeMain:()=>b.pj,makeNodeTransport:()=>$e,runWithAsyncContext:()=>b.Ok,setContext:()=>E,setExtra:()=>x,setExtras:()=>A,setMeasurement:()=>ie,setTag:()=>T,setTags:()=>I,setUser:()=>P,spanStatusfromHttpCode:()=>de.Zd,startActiveSpan:()=>le.y_,startSpan:()=>le.GK,startTransaction:()=>C,trace:()=>le.g4,withScope:()=>O});var n={};a.r(n),a.d(n,{FunctionToString:()=>l,InboundFilters:()=>_});var o={};a.r(o),a.d(o,{errorHandler:()=>ca,extractRequestData:()=>na,parseRequest:()=>oa,requestHandler:()=>ia,tracingHandler:()=>ra,trpcMiddleware:()=>la});var r={};a.r(r),a.d(r,{Console:()=>et,Context:()=>At,ContextLines:()=>ft,Http:()=>ot,LinkedErrors:()=>bt,LocalVariables:()=>qt,Modules:()=>wt,OnUncaughtException:()=>ct,OnUnhandledRejection:()=>lt,RequestData:()=>Ft,Undici:()=>Yt.Y});var i={};a.r(i),a.d(i,{Apollo:()=>da._,Express:()=>ua.N,GraphQL:()=>pa.k,Mongo:()=>ma._,Mysql:()=>ha.m,Postgres:()=>_a.E,Prisma:()=>fa.g});var s=a(535);let c;class l{static __initStatic(){this.id="FunctionToString"}constructor(){this.name=l.id}setupOnce(){c=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=(0,s.HK)(this)||this;return c.apply(t,e)}}catch(e){}}}l.__initStatic();var d=a(2343),u=a(2844),p=a(7321);const m=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],h=[/^.*healthcheck.*$/,/^.*healthy.*$/,/^.*live.*$/,/^.*ready.*$/,/^.*heartbeat.*$/,/^.*\/health$/,/^.*\/healthz$/];class _{static __initStatic(){this.id="InboundFilters"}constructor(e={}){this.name=_.id,this._options=e}setupOnce(e,t){const a=e=>{const a=t();if(a){const t=a.getIntegration(_);if(t){const n=a.getClient(),o=n?n.getOptions():{},r=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:m],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:h],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(t._options,o);return function(e,t){return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,u.jH)(e)}`),!0):function(e,t){return!(e.type||!t||!t.length)&&function(e){if(e.message)return[e.message];if(e.exception){const{values:t}=e.exception;try{const{type:e="",value:a=""}=t&&t[t.length-1]||{};return[`${a}`,`${e}: ${a}`]}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.error(`Cannot extract message for event ${(0,u.jH)(e)}`),[]}}return[]}(e).some((e=>(0,p.U0)(e,t)))}(e,t.ignoreErrors)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,u.jH)(e)}`),!0):function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const a=e.transaction;return!!a&&(0,p.U0)(a,t)}(e,t.ignoreTransactions)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${(0,u.jH)(e)}`),!0):function(e,t){if(!t||!t.length)return!1;const a=f(e);return!!a&&(0,p.U0)(a,t)}(e,t.denyUrls)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,u.jH)(e)}.\nUrl: ${f(e)}`),!0):!function(e,t){if(!t||!t.length)return!0;const a=f(e);return!a||(0,p.U0)(a,t)}(e,t.allowUrls)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,u.jH)(e)}.\nUrl: ${f(e)}`),!0)}(e,r)?null:e}}return e};a.id=this.name,e(a)}}function f(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const a=e[t];if(a&&"<anonymous>"!==a.filename&&"[native code]"!==a.filename)return a.filename||null}return null}(t):null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.error(`Cannot extract url for event ${(0,u.jH)(e)}`),null}}_.__initStatic();const g="7.66.0";var b=a(5659);function y(e,t){return(0,b.Gd)().captureException(e,{captureContext:t})}function v(e,t){const a="string"==typeof t?t:void 0,n="string"!=typeof t?{captureContext:t}:void 0;return(0,b.Gd)().captureMessage(e,a,n)}function w(e,t){return(0,b.Gd)().captureEvent(e,t)}function S(e){(0,b.Gd)().configureScope(e)}function k(e){(0,b.Gd)().addBreadcrumb(e)}function E(e,t){(0,b.Gd)().setContext(e,t)}function A(e){(0,b.Gd)().setExtras(e)}function x(e,t){(0,b.Gd)().setExtra(e,t)}function I(e){(0,b.Gd)().setTags(e)}function T(e,t){(0,b.Gd)().setTag(e,t)}function P(e){(0,b.Gd)().setUser(e)}function O(e){(0,b.Gd)().withScope(e)}function C(e,t){return(0,b.Gd)().startTransaction({...e},t)}function N(e,t){const a=(0,b.Gd)(),n=a.getScope(),o=a.getClient();if(o){if(o.captureCheckIn)return o.captureCheckIn(e,t,n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn("Cannot capture check-in. Client does not support sending check-ins.")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn("Cannot capture check-in. No client defined.");return(0,u.DM)()}async function R(e){const t=(0,b.Gd)().getClient();return t?t.flush(e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function D(e){const t=(0,b.Gd)().getClient();return t?t.close(e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function G(){return(0,b.Gd)().lastEventId()}class U extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}var B=a(6893);const M=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function z(e,t=!1){const{host:a,path:n,pass:o,port:r,projectId:i,protocol:s,publicKey:c}=e;return`${s}://${c}${t&&o?`:${o}`:""}@${a}${r?`:${r}`:""}/${n?`${n}/`:n}${i}`}function L(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}var F=a(7597),$=a(6147);function j(e,t=100,a=1/0){try{return W("",e,t,a)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function V(e,t=3,a=102400){const n=j(e,t);return o=n,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(o))>a?V(e,t-1,a):n;var o}function W(e,t,a=1/0,n=1/0,o=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(a){if(e)return!!t.has(a)||(t.add(a),!1);for(let e=0;e<t.length;e++)if(t[e]===a)return!0;return t.push(a),!1},function(a){if(e)t.delete(a);else for(let e=0;e<t.length;e++)if(t[e]===a){t.splice(e,1);break}}]}()){const[r,i]=o;if(null==t||["number","boolean","string"].includes(typeof t)&&!(0,F.i2)(t))return t;const c=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if((0,F.Cy)(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${(0,$.$P)(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const a=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(a)?`[HTMLElement: ${a}]`:`[object ${a}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;const l="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:a;if(0===l)return c.replace("object ","");if(r(t))return"[Circular ~]";const d=t;if(d&&"function"==typeof d.toJSON)try{return W("",d.toJSON(),l-1,n,o)}catch(e){}const u=Array.isArray(t)?[]:{};let p=0;const m=(0,s.Sh)(t);for(const e in m){if(!Object.prototype.hasOwnProperty.call(m,e))continue;if(p>=n){u[e]="[MaxProperties ~]";break}const t=m[e];u[e]=W(e,t,l-1,n,o),p++}return i(t),u}function q(e,t=[]){return[e,t]}function Y(e,t){const[a,n]=e;return[a,[...n,t]]}function H(e,t){const a=e[1];for(const e of a)if(t(e,e[0].type))return!0;return!1}function Z(e,t){return(t||new TextEncoder).encode(e)}function J(e,t){const[a,n]=e;let o=JSON.stringify(a);function r(e){"string"==typeof o?o="string"==typeof e?o+e:[Z(o,t),e]:o.push("string"==typeof e?Z(e,t):e)}for(const e of n){const[t,a]=e;if(r(`\n${JSON.stringify(t)}\n`),"string"==typeof a||a instanceof Uint8Array)r(a);else{let e;try{e=JSON.stringify(a)}catch(t){e=JSON.stringify(j(a))}r(e)}}return"string"==typeof o?o:function(e){const t=e.reduce(((e,t)=>e+t.length),0),a=new Uint8Array(t);let n=0;for(const t of e)a.set(t,n),n+=t.length;return a}(o)}function K(e,t){const a="string"==typeof e.data?Z(e.data,t):e.data;return[(0,s.Jr)({type:"attachment",length:a.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),a]}const Q={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor"};function X(e){return Q[e]}function ee(e){if(!e||!e.sdk)return;const{name:t,version:a}=e.sdk;return{name:t,version:a}}const te=6e4;const ae=30;function ne(e,t,a=function(e){const t=[];function a(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(n){if(!(void 0===e||t.length<e))return(0,B.$2)(new U("Not adding Promise because buffer limit was reached."));const o=n();return-1===t.indexOf(o)&&t.push(o),o.then((()=>a(o))).then(null,(()=>a(o).then(null,(()=>{})))),o},drain:function(e){return new B.cW(((a,n)=>{let o=t.length;if(!o)return a(!0);const r=setTimeout((()=>{e&&e>0&&a(!1)}),e);t.forEach((e=>{(0,B.WD)(e).then((()=>{--o||(clearTimeout(r),a(!0))}),n)}))}))}}}(e.bufferSize||ae)){let n={};function o(o){const r=[];if(H(o,((t,a)=>{const o=X(a);if(function(e,t,a=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>a}(n,o)){const n=oe(t,a);e.recordDroppedEvent("ratelimit_backoff",o,n)}else r.push(t)})),0===r.length)return(0,B.WD)();const i=q(o[0],r),s=t=>{H(i,((a,n)=>{const o=oe(a,n);e.recordDroppedEvent(t,X(n),o)}))};return a.add((()=>t({body:J(i,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),n=function(e,{statusCode:t,headers:a},n=Date.now()){const o={...e},r=a&&a["x-sentry-rate-limits"],i=a&&a["retry-after"];if(r)for(const e of r.trim().split(",")){const[t,a]=e.split(":",2),r=parseInt(t,10),i=1e3*(isNaN(r)?60:r);if(a)for(const e of a.split(";"))o[e]=n+i;else o.all=n+i}else i?o.all=n+function(e,t=Date.now()){const a=parseInt(`${e}`,10);if(!isNaN(a))return 1e3*a;const n=Date.parse(`${e}`);return isNaN(n)?te:n-t}(i,n):429===t&&(o.all=n+6e4);return o}(n,e),e)),(e=>{throw s("network_error"),e})))).then((e=>e),(e=>{if(e instanceof U)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.error("Skipped sending event because buffer is full."),s("queue_overflow"),(0,B.WD)();throw e}))}return o.__sentry__baseTransport__=!0,{send:o,flush:e=>a.drain(e)}}function oe(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}var re=a(9791);function ie(e,t,a){const n=(0,re.x1)();n&&n.setMeasurement(e,t,a)}var se=a(350),ce=a(7638),le=a(1250),de=a(8903),ue=a(6046);function pe(){const e=ue.G.map((e=>{try{return e()}catch(e){return}})).filter((e=>!!e));return 0===e.length&&d.kg.warn("Performance monitoring integrations could not be automatically loaded."),e.filter((e=>!!e.loadDependency()))}var me=a(4307);const he=[];function _e(e){const t=e.defaultIntegrations||[],a=e.integrations;let n;t.forEach((e=>{e.isDefaultInstance=!0})),n=Array.isArray(a)?[...t,...a]:"function"==typeof a?(0,u.lE)(a(t)):t;const o=function(e){const t={};return e.forEach((e=>{const{name:a}=e,n=t[a];n&&!n.isDefaultInstance&&e.isDefaultInstance||(t[a]=e)})),Object.keys(t).map((e=>t[e]))}(n),r=function(e,t){for(let t=0;t<e.length;t++)if(!0==("Debug"===e[t].name))return t;return-1}(o);if(-1!==r){const[e]=o.splice(r,1);o.push(e)}return o}function fe(e,t){t[e.name]=e,-1===he.indexOf(e.name)&&(e.setupOnce(se.c,b.Gd),he.push(e.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log(`Integration installed: ${e.name}`))}var ge=a(9015),be=a(454),ye=a(1170),ve=a(1235),we=a(1131);const Se=new WeakMap,ke="Not capturing exception because it's already been captured.";class Ee{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},e.dsn?this._dsn=function(e){const t="string"==typeof e?function(e){const t=M.exec(e);if(!t)return void console.error(`Invalid Sentry Dsn: ${e}`);const[a,n,o="",r,i="",s]=t.slice(1);let c="",l=s;const d=l.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),l=d.pop()),l){const e=l.match(/^\d+/);e&&(l=e[0])}return L({host:r,pass:o,path:c,projectId:l,port:i,protocol:a,publicKey:n})}(e):L(e);if(t&&function(e){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return!0;const{port:t,projectId:a,protocol:n}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(d.kg.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(a.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(n)?t&&isNaN(parseInt(t,10))&&(d.kg.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(d.kg.error(`Invalid Sentry Dsn: Invalid protocol ${n}`),1):(d.kg.error(`Invalid Sentry Dsn: Invalid projectId ${a}`),1)))}(t))return t}(e.dsn):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn("No DSN provided, client will not do anything."),this._dsn){const t=function(e,t={}){const a="string"==typeof t?t:t.tunnel,n="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return a||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",a=e.port?`:${e.port}`:"";return`${t}//${e.host}${a}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return(0,s._j)({sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}})}(e,n)}`}(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,a){if((0,u.YO)(e))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log(ke));let n=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,a))).then((e=>{n=e}))),n}captureMessage(e,t,a,n){let o=a&&a.event_id;const r=(0,F.pt)(e)?this.eventFromMessage(String(e),t,a):this.eventFromException(e,a);return this._process(r.then((e=>this._captureEvent(e,a,n))).then((e=>{o=e}))),o}captureEvent(e,t,a){if(t&&t.originalException&&(0,u.YO)(t.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log(ke));let n=t&&t.event_id;return this._process(this._captureEvent(e,t,a).then((e=>{n=e}))),n}captureSession(e){this._isEnabled()?"string"!=typeof e.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),(0,ge.CT)(e,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?this._isClientDoneProcessing(e).then((a=>t.flush(e).then((e=>a&&e)))):(0,B.WD)(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,e)))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function(e){const t={};return e.forEach((e=>{e&&fe(e,t)})),t}(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){fe(e,this._integrations)}sendEvent(e,t={}){if(this.emit("beforeSendEvent",e,t),this._dsn){let a=function(e,t,a,n){const o=ee(a),r=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,a&&a.sdk);const i=function(e,t,a,n){const o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!a&&{dsn:z(n)},...o&&{trace:(0,s.Jr)({...o})}}}(e,o,n,t);return delete e.sdkProcessingMetadata,q(i,[[{type:r},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])a=Y(a,K(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const n=this._sendEnvelope(a);n&&n.then((t=>this.emit("afterSendEvent",e,t)),null)}}sendSession(e){if(this._dsn){const t=function(e,t,a,n){const o=ee(a);return q({sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!n&&{dsn:z(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}}recordDroppedEvent(e,t,a){if(this._options.sendClientReports){const a=`${e}:${t}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log(`Adding outcome: "${a}"`),this._outcomes[a]=this._outcomes[a]+1||1}}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_updateSessionFromEvent(e,t){let a=!1,n=!1;const o=t.exception&&t.exception.values;if(o){n=!0;for(const e of o){const t=e.mechanism;if(t&&!1===t.handled){a=!0;break}}}const r="ok"===e.status;(r&&0===e.errors||r&&a)&&((0,ge.CT)(e,{...a&&{status:"crashed"},errors:e.errors||Number(n||a)}),this.captureSession(e))}_isClientDoneProcessing(e){return new B.cW((t=>{let a=0;const n=setInterval((()=>{0==this._numProcessing?(clearInterval(n),t(!0)):(a+=1,e&&a>=e&&(clearInterval(n),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(e,t,a){const n=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o.length>0&&(t.integrations=o),function(e,t,a,n){const{normalizeDepth:o=3,normalizeMaxBreadth:r=1e3}=e,i={...t,event_id:t.event_id||a.event_id||(0,u.DM)(),timestamp:t.timestamp||(0,ye.yW)()},s=a.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:a,release:n,dist:o,maxValueLength:r=250}=t;"environment"in e||(e.environment="environment"in t?a:we.J),void 0===e.release&&void 0!==n&&(e.release=n),void 0===e.dist&&void 0!==o&&(e.dist=o),e.message&&(e.message=(0,p.$G)(e.message,r));const i=e.exception&&e.exception.values&&e.exception.values[0];i&&i.value&&(i.value=(0,p.$G)(i.value,r));const s=e.request;s&&s.url&&(s.url=(0,p.$G)(s.url,r))}(i,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(i,s),void 0===t.type&&function(e,t){const a=ve.n2._sentryDebugIds;if(!a)return;let n;const o=Se.get(t);o?n=o:(n=new Map,Se.set(t,n));const r=Object.keys(a).reduce(((e,o)=>{let r;const i=n.get(o);i?r=i:(r=t(o),n.set(o,r));for(let t=r.length-1;t>=0;t--){const n=r[t];if(n.filename){e[n.filename]=a[o];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=r[e.filename])}))}))}catch(e){}}(i,e.stackParser);let c=n;a.captureContext&&(c=se.s.clone(c).update(a.captureContext));let l=(0,B.WD)(i);if(c){if(c.getAttachments){const e=[...a.attachments||[],...c.getAttachments()];e.length&&(a.attachments=e)}l=c.applyToEvent(i,a)}return l.then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const a=e.debug_meta.images;Object.keys(t).forEach((e=>{a.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"==typeof o&&o>0?function(e,t,a){if(!e)return null;const n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:j(e.data,t,a)}})))},...e.user&&{user:j(e.user,t,a)},...e.contexts&&{contexts:j(e.contexts,t,a)},...e.extra&&{extra:j(e.extra,t,a)}};return e.contexts&&e.contexts.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=j(e.contexts.trace.data,t,a))),e.spans&&(n.spans=e.spans.map((e=>(e.data&&(e.data=j(e.data,t,a)),e)))),n}(e,o,r):e)))}(n,e,t,a).then((e=>{if(null===e)return e;const{propagationContext:t}=e.sdkProcessingMetadata||{};if((!e.contexts||!e.contexts.trace)&&t){const{traceId:n,spanId:o,parentSpanId:r,dsc:i}=t;e.contexts={trace:{trace_id:n,span_id:o,parent_span_id:r},...e.contexts};const s=i||(0,be._)(n,this,a);e.sdkProcessingMetadata={dynamicSamplingContext:s,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},a){return this._processEvent(e,t,a).then((e=>e.event_id),(e=>{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){const t=e;"log"===t.logLevel?d.kg.log(t.message):d.kg.warn(t)}}))}_processEvent(e,t,a){const n=this.getOptions(),{sampleRate:o}=n;if(!this._isEnabled())return(0,B.$2)(new U("SDK not enabled, will not capture event.","log"));const r=xe(e),i=Ae(e),s=e.type||"error",c=`before send for type \`${s}\``;if(i&&"number"==typeof o&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",e),(0,B.$2)(new U(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const l="replay_event"===s?"replay":s;return this._prepareEvent(e,t,a).then((a=>{if(null===a)throw this.recordDroppedEvent("event_processor",l,e),new U("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return a;const o=function(e,t,a){const{beforeSend:n,beforeSendTransaction:o}=e;return Ae(t)&&n?n(t,a):xe(t)&&o?o(t,a):t}(n,a,t);return function(e,t){const a=`${t} must return \`null\` or a valid event.`;if((0,F.J8)(e))return e.then((e=>{if(!(0,F.PO)(e)&&null!==e)throw new U(a);return e}),(e=>{throw new U(`${t} rejected with ${e}`)}));if(!(0,F.PO)(e)&&null!==e)throw new U(a);return e}(o,c)})).then((n=>{if(null===n)throw this.recordDroppedEvent("before_send",l,e),new U(`${c} returned \`null\`, will not send event.`,"log");const o=a&&a.getSession();!r&&o&&this._updateSessionFromEvent(o,n);const i=n.transaction_info;if(r&&i&&n.transaction!==e.transaction){const e="custom";n.transaction_info={...i,source:e}}return this.sendEvent(n,t),n})).then(null,(e=>{if(e instanceof U)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new U(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this._transport&&this._dsn)return this.emit("beforeEnvelope",e),this._transport.send(e).then(null,(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.error("Error while sending event:",e)}));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[a,n]=t.split(":");return{reason:a,category:n,quantity:e[t]}}))}}function Ae(e){return void 0===e.type}function xe(e){return"transaction"===e.type}var Ie=a(6890);class Te{constructor(e,t){this._client=e,this.flushTimeout=60,this._pendingAggregates={},this._isEnabled=!0,this._intervalId=setInterval((()=>this.flush()),1e3*this.flushTimeout),this._sessionAttrs=t}flush(){const e=this.getSessionAggregates();0!==e.aggregates.length&&(this._pendingAggregates={},this._client.sendSession(e))}getSessionAggregates(){const e=Object.keys(this._pendingAggregates).map((e=>this._pendingAggregates[parseInt(e)])),t={attrs:this._sessionAttrs,aggregates:e};return(0,s.Jr)(t)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;const e=(0,b.Gd)().getScope(),t=e.getRequestSession();t&&t.status&&(this._incrementSessionStatusCount(t.status,new Date),e.setRequestSession(void 0))}_incrementSessionStatusCount(e,t){const a=new Date(t).setSeconds(0,0);this._pendingAggregates[a]=this._pendingAggregates[a]||{};const n=this._pendingAggregates[a];switch(n.started||(n.started=new Date(a).toISOString()),e){case"errored":return n.errored=(n.errored||0)+1,n.errored;case"ok":return n.exited=(n.exited||0)+1,n.exited;default:return n.crashed=(n.crashed||0)+1,n.crashed}}}var Pe=a(2037),Oe=a(3837);function Ce(e,t){return e(t.stack||"",1)}function Ne(e,t){const a={type:t.name||t.constructor.name,value:t.message},n=Ce(e,t);return n.length&&(a.stacktrace={frames:n}),a}class Re extends Ee{constructor(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.node",packages:[{name:"npm:@sentry/node",version:g}],version:g},e.transportOptions={textEncoder:new Oe.TextEncoder,...e.transportOptions},(0,Ie.T)(),super(e)}captureException(e,t,a){if(this._options.autoSessionTracking&&this._sessionFlusher&&a){const e=a.getRequestSession();e&&"ok"===e.status&&(e.status="errored")}return super.captureException(e,t,a)}captureEvent(e,t,a){if(this._options.autoSessionTracking&&this._sessionFlusher&&a&&"exception"===(e.type||"exception")&&e.exception&&e.exception.values&&e.exception.values.length>0){const e=a.getRequestSession();e&&"ok"===e.status&&(e.status="errored")}return super.captureEvent(e,t,a)}close(e){return(0,me.x)([this,"access",e=>e._sessionFlusher,"optionalAccess",e=>e.close,"call",e=>e()]),super.close(e)}initSessionFlusher(){const{release:e,environment:t}=this._options;e?this._sessionFlusher=new Te(this,{release:e,environment:t}):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")}eventFromException(e,t){return(0,B.WD)(function(e,t,a){let n=t;const o=a&&a.data&&a.data.mechanism||{handled:!0,type:"generic"};if(!(0,F.VZ)(t)){if((0,F.PO)(t)){const e=`Non-Error exception captured with keys: ${(0,s.zf)(t)}`,o=(0,b.Gd)(),r=o.getClient(),i=r&&r.getOptions().normalizeDepth;o.configureScope((e=>{e.setExtra("__serialized__",V(t,i))})),n=a&&a.syntheticException||new Error(e),n.message=e}else n=a&&a.syntheticException||new Error(t),n.message=t;o.synthetic=!0}const r={exception:{values:[Ne(e,n)]}};return(0,u.Db)(r,void 0,void 0),(0,u.EG)(r,o),{...r,event_id:a&&a.event_id}}(this._options.stackParser,e,t))}eventFromMessage(e,t="info",a){return(0,B.WD)(function(e,t,a="info",n,o){const r={event_id:n&&n.event_id,level:a,message:t};if(o&&n&&n.syntheticException){const a=Ce(e,n.syntheticException);a.length&&(r.exception={values:[{value:t,stacktrace:{frames:a}}]})}return r}(this._options.stackParser,e,t,a,this._options.attachStacktrace))}captureCheckIn(e,t,a){const n="in_progress"!==e.status&&e.checkInId?e.checkInId:(0,u.DM)();if(!this._isEnabled())return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn("SDK not enabled, will not capture checkin."),n;const o=this.getOptions(),{release:r,environment:i,tunnel:c}=o,l={check_in_id:n,monitor_slug:e.monitorSlug,status:e.status,release:r,environment:i};"in_progress"!==e.status&&(l.duration=e.duration),t&&(l.monitor_config={schedule:t.schedule,checkin_margin:t.checkinMargin,max_runtime:t.maxRuntime,timezone:t.timezone});const[p,m]=this._getTraceInfoFromScope(a);m&&(l.contexts={trace:m});const h=function(e,t,a,n,o){const r={sent_at:(new Date).toISOString()};a&&a.sdk&&(r.sdk={name:a.sdk.name,version:a.sdk.version}),n&&o&&(r.dsn=z(o)),t&&(r.trace=(0,s.Jr)(t));const i=function(e){return[{type:"check_in"},e]}(e);return q(r,[i])}(l,p,this.getSdkMetadata(),c,this.getDsn());return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.info("Sending checkin:",e.monitorSlug,e.status),this._sendEnvelope(h),n}_prepareEvent(e,t,a){return e.platform=e.platform||"node",e.contexts={...e.contexts,runtime:(0,me.x)([e,"access",e=>e.contexts,"optionalAccess",e=>e.runtime])||{name:"node",version:global.process.version}},e.server_name=e.server_name||this.getOptions().serverName||global.process.env.SENTRY_NAME||Pe.hostname(),super._prepareEvent(e,t,a)}_captureRequestSession(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn("Discarded request mode session because autoSessionTracking option was disabled")}_getTraceInfoFromScope(e){if(!e)return[void 0,void 0];const t=e.getSpan();if(t)return[(0,me.x)([t,"optionalAccess",e=>e.transaction,"optionalAccess",e=>e.getDynamicSamplingContext,"call",e=>e()]),(0,me.x)([t,"optionalAccess",e=>e.getTraceContext,"call",e=>e()])];const{traceId:a,spanId:n,parentSpanId:o,dsc:r}=e.getPropagationContext(),i={trace_id:a,span_id:n,parent_span_id:o};return r?[r,i]:[(0,be._)(a,this,e),i]}}function De(e,t){return null!=e?e:t()}var Ge=a(3685),Ue=a(5687),Be=a(6018),Me=a(2781),ze=a(7310),Le=a(9796);const Fe=32768;function $e(e){let t;try{t=new ze.URL(e.url)}catch(t){return console.warn("[@sentry/node]: Invalid dsn or tunnel option, will not send any events. The tunnel option must be a full URL when used."),ne(e,(()=>Promise.resolve({})))}const a="https:"===t.protocol,n=function(e,t){const{no_proxy:a}=process.env;return a&&a.split(",").some((t=>e.host.endsWith(t)||e.hostname.endsWith(t)))?void 0:t}(t,e.proxy||(a?process.env.https_proxy:void 0)||process.env.http_proxy),o=a?Ue:Ge,r=void 0!==e.keepAlive&&e.keepAlive,i=n?new Be.HttpsProxyAgent(n):new o.Agent({keepAlive:r,maxSockets:30,timeout:2e3}),s=function(e,t,a){const{hostname:n,pathname:o,port:r,protocol:i,search:s}=new ze.URL(e.url);return function(c){return new Promise(((l,d)=>{let u=function(e){return new Me.Readable({read(){this.push(e),this.push(null)}})}(c.body);const p={...e.headers};c.body.length>Fe&&(p["content-encoding"]="gzip",u=u.pipe((0,Le.createGzip)()));const m=t.request({method:"POST",agent:a,headers:p,hostname:n,path:`${o}${s}`,port:r,protocol:i,ca:e.caCerts},(e=>{e.on("data",(()=>{})),e.on("end",(()=>{})),e.setEncoding("utf8");const t=De(e.headers["retry-after"],(()=>null)),a=De(e.headers["x-sentry-rate-limits"],(()=>null));l({statusCode:e.statusCode,headers:{"retry-after":t,"x-sentry-rate-limits":Array.isArray(a)?a[0]:a}})}));m.on("error",d),u.pipe(m)}))}}(e,De(e.httpModule,(()=>o)),i);return ne(e,s)}var je=a(9656);const Ve=require("domain");function We(){return Ve.active}function qe(){const e=We();if(e)return(0,b.uZ)(e),(0,b.vi)(e)}function Ye(e,t){const a=We();if(a&&(0,me.x)([t,"optionalAccess",e=>e.reuseExisting]))return e();const n=Ve.create(),o=function(e){const t={};return(0,b.uZ)(t,e),(0,b.vi)(t)}(a?(0,b.vi)(a):void 0);return(0,b.j0)(n,o),n.bind((()=>e()))()}const He=require("async_hooks");let Ze;function Je(){je.V.major&&je.V.major>=14?function(){function e(){return Ze.getStore()}Ze||(Ze=new He.AsyncLocalStorage),(0,b.$b)({getCurrentHub:e,runWithAsyncContext:function(t,a){const n=e();if(n&&(0,me.x)([a,"optionalAccess",e=>e.reuseExisting]))return t();const o=function(e){const t={};return(0,b.uZ)(t,e),(0,b.vi)(t)}(n);return Ze.run(o,(()=>t()))}})}():(0,b.$b)({getCurrentHub:qe,runWithAsyncContext:Ye})}var Ke=a(1688);const Qe=["fatal","error","warning","log","info","debug"];function Xe(e){return"warn"===e?"warning":Qe.includes(e)?e:"log"}class et{constructor(){et.prototype.__init.call(this)}static __initStatic(){this.id="Console"}__init(){this.name=et.id}setupOnce(){(0,Ke.oq)("console",(({args:e,level:t})=>{const a=(0,b.Gd)();a.getIntegration(et)&&a.addBreadcrumb({category:"console",level:Xe(t),message:Oe.format.apply(void 0,e)},{input:[...e],level:t})}))}}et.__initStatic();var tt=a(9181),at=a(7612),nt=a(7578);class ot{static __initStatic(){this.id="Http"}__init(){this.name=ot.id}constructor(e={}){ot.prototype.__init.call(this),this._breadcrumbs=void 0===e.breadcrumbs||e.breadcrumbs,this._tracing=e.tracing?!0===e.tracing?{}:e.tracing:void 0}setupOnce(e,t){if(!this._breadcrumbs&&!this._tracing)return;const n=(0,me.x)([t,"call",e=>e(),"access",e=>e.getClient,"call",e=>e(),"optionalAccess",e=>e.getOptions,"call",e=>e()]);if(n&&"sentry"!==n.instrumenter)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log("HTTP Integration is skipped because of instrumenter configuration."));const o=(0,me.x)([this,"access",e=>e._tracing,"optionalAccess",e=>e.shouldCreateSpanForRequest])||(0,me.x)([n,"optionalAccess",e=>e.shouldCreateSpanForRequest]),r=(0,me.x)([n,"optionalAccess",e=>e.tracePropagationTargets])||(0,me.x)([this,"access",e=>e._tracing,"optionalAccess",e=>e.tracePropagationTargets]),i=a(3685),c=rt(i,this._breadcrumbs,o,r);if((0,s.hl)(i,"get",c),(0,s.hl)(i,"request",c),je.V.major&&je.V.major>8){const e=a(5687),t=rt(e,this._breadcrumbs,o,r);(0,s.hl)(e,"get",t),(0,s.hl)(e,"request",t)}}}function rt(e,t,a,n){const o=new at.LRUMap(100),r=new at.LRUMap(100);function i(e,t,a,n){(0,b.Gd)().getIntegration(ot)&&(0,b.Gd)().addBreadcrumb({category:"http",data:{status_code:n&&n.statusCode,...t},type:"http"},{event:e,request:a,response:n})}return function(s){return function(...c){const l=(0,nt.nY)(e,c),u=l[0],m=(0,nt.lx)(u),h=(0,nt.CA)(u);if((0,nt.ZB)(h))return s.apply(e,l);const _=(0,b.Gd)(),f=_.getScope(),g=f.getSpan(),y=function(e,t){const a={url:e,"http.method":t.method||"GET"};return t.hash&&(a["http.fragment"]=t.hash.substring(1)),t.search&&(a["http.query"]=t.search.substring(1)),a}(h,u),v=(e=>{if(void 0===a)return!0;const t=o.get(e);if(void 0!==t)return t;const n=a(e);return o.set(e,n),n})(m)?(0,me.x)([g,"optionalAccess",e=>e.startChild,"call",e=>e({op:"http.client",origin:"auto.http.node.http",description:`${y["http.method"]} ${y.url}`,data:y})]):void 0;if((e=>{if(void 0===n)return!0;const t=r.get(e);if(void 0!==t)return t;const a=(0,p.U0)(e,n);return r.set(e,a),a})(m))if(v){const e=v.toTraceparent(),t=(0,me.x)([v,"optionalAccess",e=>e.transaction,"optionalAccess",e=>e.getDynamicSamplingContext,"call",e=>e()]);it(u,h,e,t)}else{const e=_.getClient(),{traceId:t,sampled:a,dsc:n}=f.getPropagationContext(),o=(0,ce.$p)(t,void 0,a),r=n||(e?(0,be._)(t,e,f):void 0);it(u,h,o,r)}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log(`[Tracing] Not adding sentry-trace header to outgoing request (${h}) due to mismatching tracePropagationTargets option.`);return s.apply(e,l).once("response",(function(e){t&&i("response",y,this,e),v&&(e.statusCode&&v.setHttpStatus(e.statusCode),v.description=(0,nt.Dt)(v.description,u,this),v.finish())})).once("error",(function(){t&&i("error",y,this),v&&(v.setHttpStatus(500),v.description=(0,nt.Dt)(v.description,u,this),v.finish())}))}}}function it(e,t,a,n){if((e.headers||{})["sentry-trace"])return;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log(`[Tracing] Adding sentry-trace header ${a} to outgoing request to "${t}": `);const o=(0,tt.IQ)(n),r=o&&o.length>0?function(e,t){return e.headers&&e.headers.baggage?t?Array.isArray(e.headers.baggage)?[...e.headers.baggage,t]:[e.headers.baggage,t]:e.headers.baggage:t}(e,o):void 0;e.headers={...e.headers,"sentry-trace":a,...r&&{baggage:r}}}function st(e){console.error(e);const t=(0,b.Gd)().getClient();void 0===t&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn("No NodeClient was defined, we are exiting the process now."),global.process.exit(1));const a=t.getOptions(),n=a&&a.shutdownTimeout&&a.shutdownTimeout>0&&a.shutdownTimeout||2e3;t.close(n).then((e=>{e||("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn("We reached the timeout for emptying the request buffer, still exiting now!"),global.process.exit(1)}),(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.error(e)}))}ot.__initStatic();class ct{static __initStatic(){this.id="OnUncaughtException"}__init(){this.name=ct.id}__init2(){this.handler=this._makeErrorHandler()}constructor(e={}){ct.prototype.__init.call(this),ct.prototype.__init2.call(this),this._options={exitEvenIfOtherHandlersAreRegistered:!0,...e}}setupOnce(){global.process.on("uncaughtException",this.handler)}_makeErrorHandler(){let e,t=!1,a=!1,n=!1;return o=>{let r=st;const i=(0,b.Gd)().getClient();this._options.onFatalError?r=this._options.onFatalError:i&&i.getOptions().onFatalError&&(r=i.getOptions().onFatalError);const s=0===global.process.listeners("uncaughtException").reduce(((e,t)=>"domainUncaughtExceptionClear"===t.name||t.tag&&"sentry_tracingErrorCallback"===t.tag||t===this.handler?e:e+1),0),c=this._options.exitEvenIfOtherHandlersAreRegistered||s;if(t)c&&(n?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),st(o)):a||(a=!0,setTimeout((()=>{n||(n=!0,r(e,o))}),2e3)));else{const a=(0,b.Gd)();e=o,t=!0,a.getIntegration(ct)?a.withScope((e=>{e.setLevel("fatal"),a.captureException(o,{originalException:o,data:{mechanism:{handled:!1,type:"onuncaughtexception"}}}),!n&&c&&(n=!0,r(o))})):!n&&c&&(n=!0,r(o))}}}}ct.__initStatic();class lt{static __initStatic(){this.id="OnUnhandledRejection"}__init(){this.name=lt.id}constructor(e={mode:"warn"}){this._options=e,lt.prototype.__init.call(this)}setupOnce(){global.process.on("unhandledRejection",this.sendUnhandledPromise.bind(this))}sendUnhandledPromise(e,t){const a=(0,b.Gd)();a.getIntegration(lt)&&a.withScope((n=>{n.setExtra("unhandledPromiseRejection",!0),a.captureException(e,{originalException:t,data:{mechanism:{handled:!1,type:"onunhandledrejection"}}})})),this._handleRejection(e)}_handleRejection(e){const t="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";"warn"===this._options.mode?(0,d.Cf)((()=>{console.warn(t),console.error(e&&e.stack?e.stack:e)})):"strict"===this._options.mode&&((0,d.Cf)((()=>{console.warn(t)})),st(e))}}function dt(e,t,a=250,n,o,r,i){if(!(r.exception&&r.exception.values&&i&&(0,F.V9)(i.originalException,Error)))return;const s=r.exception.values.length>0?r.exception.values[r.exception.values.length-1]:void 0;var c,l;s&&(r.exception.values=(c=ut(e,t,o,i.originalException,n,r.exception.values,s,0),l=a,c.map((e=>(e.value&&(e.value=(0,p.$G)(e.value,l)),e)))))}function ut(e,t,a,n,o,r,i,s){if(r.length>=a+1)return r;let c=[...r];if((0,F.V9)(n[o],Error)){pt(i,s);const r=e(t,n[o]),l=c.length;mt(r,o,l,s),c=ut(e,t,a,n[o],o,[r,...c],r,l)}return Array.isArray(n.errors)&&n.errors.forEach(((n,r)=>{if((0,F.V9)(n,Error)){pt(i,s);const l=e(t,n),d=c.length;mt(l,`errors[${r}]`,d,s),c=ut(e,t,a,n,o,[l,...c],l,d)}})),c}function pt(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,is_exception_group:!0,exception_id:t}}function mt(e,t,a,n){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:a,parent_id:n}}lt.__initStatic();const ht=require("fs"),_t=new at.LRUMap(100);class ft{static __initStatic(){this.id="ContextLines"}__init(){this.name=ft.id}constructor(e={}){this._options=e,ft.prototype.__init.call(this)}get _contextLines(){return void 0!==this._options.frameContextLines?this._options.frameContextLines:7}setupOnce(e,t){e((e=>t().getIntegration(ft)?this.addSourceContext(e):e))}async addSourceContext(e){const t={},a=[];if(this._contextLines>0&&(0,me.x)([e,"access",e=>e.exception,"optionalAccess",e=>e.values]))for(const n of e.exception.values)if((0,me.x)([n,"access",e=>e.stacktrace,"optionalAccess",e=>e.frames]))for(let e=n.stacktrace.frames.length-1;e>=0;e--){const o=n.stacktrace.frames[e];!o.filename||t[o.filename]||_t.get(o.filename)||(a.push(gt(o.filename)),t[o.filename]=1)}if(a.length>0&&await Promise.all(a),this._contextLines>0&&(0,me.x)([e,"access",e=>e.exception,"optionalAccess",e=>e.values]))for(const t of e.exception.values)t.stacktrace&&t.stacktrace.frames&&await this.addSourceContextToFrames(t.stacktrace.frames);return e}addSourceContextToFrames(e){for(const t of e)if(t.filename&&void 0===t.context_line){const e=_t.get(t.filename);if(e)try{(0,u.go)(e,t,this._contextLines)}catch(e){}}}}async function gt(e){const t=_t.get(e);if(null===t)return null;if(void 0!==t)return t;let a=null;try{a=(await(n=e,new Promise(((e,t)=>{(0,ht.readFile)(n,"utf8",((a,n)=>{a?t(a):e(n)}))})))).split("\n")}catch(e){}var n;return _t.set(e,a),a}ft.__initStatic();class bt{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=bt.id}constructor(e={}){bt.prototype.__init.call(this),this._key=e.key||"cause",this._limit=e.limit||5}setupOnce(e,t){e((async(e,a)=>{const n=t(),o=n.getClient(),r=n.getIntegration(bt);if(!o||!r)return e;const i=o.getOptions();dt(Ne,i.stackParser,i.maxValueLength,r._key,r._limit,e,a);const s=t().getIntegration(ft);return s&&await s.addSourceContext(e),e}))}}bt.__initStatic();var yt=a(1017);let vt;class wt{constructor(){wt.prototype.__init.call(this)}static __initStatic(){this.id="Modules"}__init(){this.name=wt.id}setupOnce(e,t){e((e=>t().getIntegration(wt)?{...e,modules:{...e.modules,...this._getModules()}}:e))}_getModules(){return vt||(vt=function(){const e=a.c[a.s]&&a.c[a.s].paths||[],t=function(){try{return a.c?Object.keys(a.c):[]}catch(e){return[]}}(),n={},o={};return t.forEach((t=>{let a=t;const r=()=>{const t=a;if(a=(0,yt.dirname)(t),!a||t===a||o[t])return;if(e.indexOf(a)<0)return r();const i=(0,yt.join)(t,"package.json");if(o[t]=!0,!(0,ht.existsSync)(i))return r();try{const e=JSON.parse((0,ht.readFileSync)(i,"utf8"));n[e.name]=e.version}catch(e){}};r()})),n}()),vt}}wt.__initStatic();const St=require("child_process"),kt=(0,Oe.promisify)(ht.readFile),Et=(0,Oe.promisify)(ht.readdir);class At{static __initStatic(){this.id="Context"}__init(){this.name=At.id}constructor(e={app:!0,os:!0,device:!0,culture:!0,cloudResource:!0}){this._options=e,At.prototype.__init.call(this)}setupOnce(e){e((e=>this.addContext(e)))}async addContext(e){void 0===this._cachedContext&&(this._cachedContext=this._getContexts());const t=this._updateContext(await this._cachedContext);return e.contexts={...e.contexts,app:{...t.app,...(0,me.x)([e,"access",e=>e.contexts,"optionalAccess",e=>e.app])},os:{...t.os,...(0,me.x)([e,"access",e=>e.contexts,"optionalAccess",e=>e.os])},device:{...t.device,...(0,me.x)([e,"access",e=>e.contexts,"optionalAccess",e=>e.device])},culture:{...t.culture,...(0,me.x)([e,"access",e=>e.contexts,"optionalAccess",e=>e.culture])},cloud_resource:{...t.cloud_resource,...(0,me.x)([e,"access",e=>e.contexts,"optionalAccess",e=>e.cloud_resource])}},e}_updateContext(e){return(0,me.x)([e,"optionalAccess",e=>e.app,"optionalAccess",e=>e.app_memory])&&(e.app.app_memory=process.memoryUsage().rss),(0,me.x)([e,"optionalAccess",e=>e.device,"optionalAccess",e=>e.free_memory])&&(e.device.free_memory=Pe.freemem()),e}async _getContexts(){const e={};if(this._options.os&&(e.os=await async function(){const e=Pe.platform();switch(e){case"darwin":return async function(){const e={kernel_version:Pe.release(),name:"Mac OS X",version:"10."+(Number(Pe.release().split(".")[0])-4)};try{const t=await new Promise(((e,t)=>{(0,St.execFile)("/usr/bin/sw_vers",((a,n)=>{a?t(a):e(n)}))}));e.name=Pt(/^ProductName:\s+(.*)$/m,t),e.version=Pt(/^ProductVersion:\s+(.*)$/m,t),e.build=Pt(/^BuildVersion:\s+(.*)$/m,t)}catch(e){}return e}();case"linux":return async function(){const e={kernel_version:Pe.release(),name:"Linux"};try{const t=await Et("/etc"),a=It.find((e=>t.includes(e.name)));if(!a)return e;const n=(0,yt.join)("/etc",a.name),o=(await kt(n,{encoding:"utf-8"})).toLowerCase(),{distros:r}=a;e.name=r.find((e=>o.indexOf(Ot(e))>=0))||r[0];const i=Ot(e.name);e.version=Tt[i](o)}catch(e){}return e}();default:return{name:xt[e]||e,version:Pe.release()}}}()),this._options.app&&(e.app=function(){const e=process.memoryUsage().rss;return{app_start_time:new Date(Date.now()-1e3*process.uptime()).toISOString(),app_memory:e}}()),this._options.device&&(e.device=function(e){const t={};let a;try{a=Pe.uptime&&Pe.uptime()}catch(e){}if("number"==typeof a&&(t.boot_time=new Date(Date.now()-1e3*a).toISOString()),t.arch=Pe.arch(),(!0===e||e.memory)&&(t.memory_size=Pe.totalmem(),t.free_memory=Pe.freemem()),!0===e||e.cpu){const e=Pe.cpus();if(e&&e.length){const a=e[0];t.processor_count=e.length,t.cpu_description=a.model,t.processor_frequency=a.speed}}return t}(this._options.device)),this._options.culture){const t=function(){try{if("string"!=typeof process.versions.icu)return;const e=new Date(9e8);if("enero"===new Intl.DateTimeFormat("es",{month:"long"}).format(e)){const e=Intl.DateTimeFormat().resolvedOptions();return{locale:e.locale,timezone:e.timeZone}}}catch(e){}}();t&&(e.culture=t)}return this._options.cloudResource&&(e.cloud_resource=process.env.VERCEL?{"cloud.provider":"vercel","cloud.region":process.env.VERCEL_REGION}:process.env.AWS_REGION?{"cloud.provider":"aws","cloud.region":process.env.AWS_REGION,"cloud.platform":process.env.AWS_EXECUTION_ENV}:process.env.GCP_PROJECT?{"cloud.provider":"gcp"}:process.env.ALIYUN_REGION_ID?{"cloud.provider":"alibaba_cloud","cloud.region":process.env.ALIYUN_REGION_ID}:process.env.WEBSITE_SITE_NAME&&process.env.REGION_NAME?{"cloud.provider":"azure","cloud.region":process.env.REGION_NAME}:process.env.IBM_CLOUD_REGION?{"cloud.provider":"ibm_cloud","cloud.region":process.env.IBM_CLOUD_REGION}:process.env.TENCENTCLOUD_REGION?{"cloud.provider":"tencent_cloud","cloud.region":process.env.TENCENTCLOUD_REGION,"cloud.account.id":process.env.TENCENTCLOUD_APPID,"cloud.availability_zone":process.env.TENCENTCLOUD_ZONE}:process.env.NETLIFY?{"cloud.provider":"netlify"}:process.env.FLY_REGION?{"cloud.provider":"fly.io","cloud.region":process.env.FLY_REGION}:process.env.DYNO?{"cloud.provider":"heroku"}:void 0),e}}At.__initStatic();const xt={aix:"IBM AIX",freebsd:"FreeBSD",openbsd:"OpenBSD",sunos:"SunOS",win32:"Windows"},It=[{name:"fedora-release",distros:["Fedora"]},{name:"redhat-release",distros:["Red Hat Linux","Centos"]},{name:"redhat_version",distros:["Red Hat Linux"]},{name:"SuSE-release",distros:["SUSE Linux"]},{name:"lsb-release",distros:["Ubuntu Linux","Arch Linux"]},{name:"debian_version",distros:["Debian"]},{name:"debian_release",distros:["Debian"]},{name:"arch-release",distros:["Arch Linux"]},{name:"gentoo-release",distros:["Gentoo Linux"]},{name:"novell-release",distros:["SUSE Linux"]},{name:"alpine-release",distros:["Alpine Linux"]}],Tt={alpine:e=>e,arch:e=>Pt(/distrib_release=(.*)/,e),centos:e=>Pt(/release ([^ ]+)/,e),debian:e=>e,fedora:e=>Pt(/release (..)/,e),mint:e=>Pt(/distrib_release=(.*)/,e),red:e=>Pt(/release ([^ ]+)/,e),suse:e=>Pt(/VERSION = (.*)\n/,e),ubuntu:e=>Pt(/distrib_release=(.*)/,e)};function Pt(e,t){const a=e.exec(t);return a?a[1]:void 0}function Ot(e){return e.split(" ")[0].toLowerCase()}var Ct=a(442),Nt=a(6956),Rt=a(6489);const Dt={ip:!1,request:!0,transaction:!0,user:!0},Gt=["cookies","data","headers","method","query_string","url"],Ut=["id","username","email"];function Bt(e,t={}){const a=e.method&&e.method.toUpperCase();let n="",o="url";t.customRoute||e.route?(n=t.customRoute||`${e.baseUrl||""}${e.route&&e.route.path}`,o="route"):(e.originalUrl||e.url)&&(n=(0,Nt.rt)(e.originalUrl||e.url||""));let r="";return t.method&&a&&(r+=a),t.method&&t.path&&(r+=" "),t.path&&n&&(r+=n),[r,o]}function Mt(e,t){const{include:a=Gt}=t||{},n={},o=e.headers||{},r=e.method,i=e.hostname||e.host||o.host||"<no host>",s="https"===e.protocol||e.socket&&e.socket.encrypted?"https":"http",c=e.originalUrl||e.url||"",l=c.startsWith(s)?c:`${s}://${i}${c}`;return a.forEach((t=>{switch(t){case"headers":n.headers=o,a.includes("cookies")||delete n.headers.cookie;break;case"method":n.method=r;break;case"url":n.url=l;break;case"cookies":n.cookies=e.cookies||o.cookie&&Rt.Q(o.cookie)||{};break;case"query_string":n.query_string=function(e){let t=e.originalUrl||e.url||"";if(t)return t.startsWith("/")&&(t=`http://dogs.are.great${t}`),e.query||void 0!==typeof URL&&new URL(t).search.replace("?","")||ze.parse(t).query||void 0}(e);break;case"data":if("GET"===r||"HEAD"===r)break;void 0!==e.body&&(n.data=(0,F.HD)(e.body)?e.body:JSON.stringify(j(e.body)));break;default:({}).hasOwnProperty.call(e,t)&&(n[t]=e[t])}})),n}function zt(e,t,a){const n={...Dt,...(0,me.x)([a,"optionalAccess",e=>e.include])};if(n.request){const a=Array.isArray(n.request)?Mt(t,{include:n.request}):Mt(t);e.request={...e.request,...a}}if(n.user){const a=t.user&&(0,F.PO)(t.user)?function(e,t){const a={};return(Array.isArray(t)?t:Ut).forEach((t=>{e&&t in e&&(a[t]=e[t])})),a}(t.user,n.user):{};Object.keys(a).length&&(e.user={...e.user,...a})}if(n.ip){const a=t.ip||t.socket&&t.socket.remoteAddress;a&&(e.user={...e.user,ip_address:a})}return n.transaction&&!e.transaction&&(e.transaction=function(e,t){switch(t){case"path":return Bt(e,{path:!0})[0];case"handler":return e.route&&e.route.stack&&e.route.stack[0]&&e.route.stack[0].name||"<anonymous>";default:return Bt(e,{path:!0,method:!0})[0]}}(t,n.transaction)),e}const Lt={include:{cookies:!0,data:!0,headers:!0,ip:!1,query_string:!0,url:!0,user:{id:!0,username:!0,email:!0}},transactionNamingScheme:"methodPath"};class Ft{static __initStatic(){this.id="RequestData"}__init(){this.name=Ft.id}constructor(e={}){Ft.prototype.__init.call(this),this._addRequestData=zt,this._options={...Lt,...e,include:{method:!0,...Lt.include,...e.include,user:e.include&&"boolean"==typeof e.include.user?e.include.user:{...Lt.include.user,...(e.include||{}).user}}}}setupOnce(e,t){const{transactionNamingScheme:a}=this._options;e((e=>{const n=t(),o=n.getIntegration(Ft),{sdkProcessingMetadata:r={}}=e,i=r.request;if(!o||!i)return e;const s=r.requestDataOptionsFromExpressHandler||r.requestDataOptionsFromGCPWrapper||function(e){const{transactionNamingScheme:t,include:{ip:a,user:n,...o}}=e,r=[];for(const[e,t]of Object.entries(o))t&&r.push(e);let i;if(void 0===n)i=!0;else if("boolean"==typeof n)i=n;else{const e=[];for(const[t,a]of Object.entries(n))a&&e.push(t);i=e}return{include:{ip:a,user:i,request:0!==r.length?r:void 0,transaction:t}}}(this._options),c=this._addRequestData(e,i,s);if("transaction"===e.type||"handler"===a)return c;const l=i._sentryTransaction;if(l){const e="sentry.javascript.nextjs"===function(e){try{return e.getClient().getOptions()._metadata.sdk.name}catch(e){return}}(n)?l.name.startsWith("/api"):"path"!==a,[t]=(0,Ct.oA)(i,{path:!0,method:e,customRoute:l.name});c.transaction=t}return c}))}}function $t(e){let t=[],a=!1;function n(n){t=[],a||(a=!0,e(n))}return t.push(n),{add:function(e){t.push(e)},next:function(e){const a=t.pop()||n;try{a(e)}catch(t){n(e)}}}}Ft.__initStatic();class jt{constructor(){const{Session:e}=a(1405);this._session=new e}configureAndConnect(e,t){this._session.connect(),this._session.on("Debugger.paused",(t=>{e(t,(()=>{this._session.post("Debugger.resume")}))})),this._session.post("Debugger.enable"),this._session.post("Debugger.setPauseOnExceptions",{state:t?"all":"uncaught"})}getLocalVariables(e,t){this._getProperties(e,(e=>{const{add:a,next:n}=$t(t);for(const t of e)if((0,me.x)([t,"optionalAccess",e=>e.value,"optionalAccess",e=>e.objectId])&&"Array"===(0,me.x)([t,"optionalAccess",e=>e.value,"access",e=>e.className])){const e=t.value.objectId;a((a=>this._unrollArray(e,t.name,a,n)))}else if((0,me.x)([t,"optionalAccess",e=>e.value,"optionalAccess",e=>e.objectId])&&"Object"===(0,me.x)([t,"optionalAccess",e=>e.value,"optionalAccess",e=>e.className])){const e=t.value.objectId;a((a=>this._unrollObject(e,t.name,a,n)))}else((0,me.x)([t,"optionalAccess",e=>e.value,"optionalAccess",e=>e.value])||(0,me.x)([t,"optionalAccess",e=>e.value,"optionalAccess",e=>e.description]))&&a((e=>this._unrollOther(t,e,n)));n({})}))}_getProperties(e,t){this._session.post("Runtime.getProperties",{objectId:e,ownProperties:!0},((e,a)=>{t(e?[]:a.result)}))}_unrollArray(e,t,a,n){this._getProperties(e,(e=>{a[t]=e.filter((e=>"length"!==e.name&&!isNaN(parseInt(e.name,10)))).sort(((e,t)=>parseInt(e.name,10)-parseInt(t.name,10))).map((e=>(0,me.x)([e,"optionalAccess",e=>e.value,"optionalAccess",e=>e.value]))),n(a)}))}_unrollObject(e,t,a,n){this._getProperties(e,(e=>{a[t]=e.map((e=>[e.name,(0,me.x)([e,"optionalAccess",e=>e.value,"optionalAccess",e=>e.value])])).reduce(((e,[t,a])=>(e[t]=a,e)),{}),n(a)}))}_unrollOther(e,t,a){(0,me.x)([e,"optionalAccess",e=>e.value,"optionalAccess",e=>e.value])?t[e.name]=e.value.value:(0,me.x)([e,"optionalAccess",e=>e.value,"optionalAccess",e=>e.description])&&"function"!==(0,me.x)([e,"optionalAccess",e=>e.value,"optionalAccess",e=>e.type])&&(t[e.name]=`<${e.value.description}>`),a(t)}}function Vt(e){return void 0!==e&&["","?","<anonymous>"].includes(e)}function Wt(e){if(void 0!==e)return e.slice(-10).reduce(((e,t)=>`${e},${t.function},${t.lineno},${t.colno}`),"")}class qt{static __initStatic(){this.id="LocalVariables"}__init(){this.name=qt.id}__init2(){this._cachedFrames=new at.LRUMap(20)}constructor(e={},t=function(){try{return new jt}catch(e){return}}()){this._options=e,this._session=t,qt.prototype.__init.call(this),qt.prototype.__init2.call(this)}setupOnce(e,t){this._setup(e,(0,me.x)([t,"call",e=>e(),"access",e=>e.getClient,"call",e=>e(),"optionalAccess",e=>e.getOptions,"call",e=>e()]))}_setup(e,t){if(this._session&&(0,me.x)([t,"optionalAccess",e=>e.includeLocalVariables])){if((je.V.major||0)<18)return void d.kg.log("The `LocalVariables` integration is only supported on Node >= v18.");this._session.configureAndConnect(((e,a)=>this._handlePaused(t.stackParser,e,a)),!!this._options.captureAllExceptions),e((async e=>this._addLocalVariables(e)))}}_handlePaused(e,{params:{reason:t,data:a,callFrames:n}},o){if("exception"!==t&&"promiseRejection"!==t)return void o();const r=function(e,t){if(void 0!==t)return Wt(e(t,1))}(e,(0,me.x)([a,"optionalAccess",e=>e.description]));if(null==r)return void o();const{add:i,next:s}=$t((e=>{this._cachedFrames.set(r,e),o()}));for(let e=0;e<Math.min(n.length,5);e++){const{scopeChain:t,functionName:a,this:o}=n[e],r=t.find((e=>"local"===e.type)),c="global"!==o.className&&o.className?`${o.className}.${a}`:a;if(void 0===(0,me.x)([r,"optionalAccess",e=>e.object,"access",e=>e.objectId]))i((t=>{t[e]={function:c},s(t)}));else{const t=r.object.objectId;i((a=>(0,me.x)([this,"access",e=>e._session,"optionalAccess",e=>e.getLocalVariables,"call",n=>n(t,(t=>{a[e]={function:c,vars:t},s(a)}))])))}}s([])}_addLocalVariables(e){for(const t of(0,me.x)([e,"optionalAccess",e=>e.exception,"optionalAccess",e=>e.values])||[])this._addLocalVariablesToException(t);return e}_addLocalVariablesToException(e){const t=Wt((0,me.x)([e,"optionalAccess",e=>e.stacktrace,"optionalAccess",e=>e.frames]));if(void 0===t)return;const a=this._cachedFrames.delete(t);if(void 0===a)return;const n=(0,me.x)([e,"access",e=>e.stacktrace,"optionalAccess",e=>e.frames,"optionalAccess",e=>e.length])||0;for(let t=0;t<n;t++){const i=n-t-1;if(!(0,me.x)([e,"optionalAccess",e=>e.stacktrace,"optionalAccess",e=>e.frames,"optionalAccess",e=>e[i]])||!a[t])break;void 0!==a[t].vars&&!1!==e.stacktrace.frames[i].in_app&&((o=e.stacktrace.frames[i].function)===(r=a[t].function)||Vt(o)&&Vt(r))&&(e.stacktrace.frames[i].vars=a[t].vars)}var o,r}}qt.__initStatic();var Yt=a(1249);const Ht="\\"===yt.sep;function Zt(e,t=Ht){if(!e)return;const n=t?e.replace(/^[A-Z]:/,"").replace(/\\/g,"/"):e;let{root:o,dir:r,base:i,ext:s}=yt.posix.parse(n);const c=`${a.c[a.s]&&a.c[a.s].filename&&r||global.process.cwd()}/`;let l=i;".js"===s&&(l=l.slice(0,l.length-3)),o||r||(r=".");let d=r.lastIndexOf("/node_modules/");if(d>-1)return`${r.slice(d+14).replace(/\//g,".")}:${l}`;if(d=`${r}/`.lastIndexOf(c,0),0===d){let e=r.slice(c.length).replace(/\//g,".");return e&&(e+=":"),e+=l,e}return l}const Jt=[new _,new l,new et,new ot,new Yt.Y,new ct,new lt,new ft,new qt,new At,new wt,new Ft,new bt];function Kt(e={}){const t=(0,b.cu)();Je();const a=(0,me.x)([t,"access",e=>e.__SENTRY__,"optionalAccess",e=>e.integrations])||[];e.defaultIntegrations=!1===e.defaultIntegrations?[]:[...Array.isArray(e.defaultIntegrations)?e.defaultIntegrations:Jt,...a],void 0===e.dsn&&process.env.SENTRY_DSN&&(e.dsn=process.env.SENTRY_DSN);const n=process.env.SENTRY_TRACES_SAMPLE_RATE;if(void 0===e.tracesSampleRate&&n){const t=parseFloat(n);isFinite(t)&&(e.tracesSampleRate=t)}if(void 0===e.release){const t=Xt();void 0!==t?e.release=t:e.autoSessionTracking=!1}void 0===e.environment&&process.env.SENTRY_ENVIRONMENT&&(e.environment=process.env.SENTRY_ENVIRONMENT),void 0===e.autoSessionTracking&&void 0!==e.dsn&&(e.autoSessionTracking=!0),void 0===e.instrumenter&&(e.instrumenter="sentry");const o={...e,stackParser:(0,$.Sq)(e.stackParser||ea),integrations:_e(e),transport:e.transport||$e};!function(e,t){!0===t.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?d.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const a=(0,b.Gd)();a.getScope().update(t.initialScope);const n=new e(t);a.bindClient(n)}(e.clientClass||Re,o),e.autoSessionTracking&&function(){const e=(0,b.Gd)();e.startSession(),process.on("beforeExit",(()=>{const t=e.getScope().getSession();t&&!["exited","crashed"].includes(t.status)&&e.endSession()}))}(),function(){const e=(process.env.SENTRY_USE_ENVIRONMENT||"").toLowerCase();if(!["false","n","no","off","0"].includes(e)){const e=process.env.SENTRY_TRACE,t=process.env.SENTRY_BAGGAGE,{propagationContext:a}=(0,ce.KA)(e,t);(0,b.Gd)().getScope().setPropagationContext(a)}}()}function Qt(e){if(void 0===e)return!1;const t=e&&e.getOptions();return!(!t||void 0===t.autoSessionTracking)&&t.autoSessionTracking}function Xt(e){return process.env.SENTRY_RELEASE?process.env.SENTRY_RELEASE:ve.n2.SENTRY_RELEASE&&ve.n2.SENTRY_RELEASE.id?ve.n2.SENTRY_RELEASE.id:process.env.GITHUB_SHA||process.env.COMMIT_REF||process.env.VERCEL_GIT_COMMIT_SHA||process.env.VERCEL_GITHUB_COMMIT_SHA||process.env.VERCEL_GITLAB_COMMIT_SHA||process.env.VERCEL_BITBUCKET_COMMIT_SHA||process.env.ZEIT_GITHUB_COMMIT_SHA||process.env.ZEIT_GITLAB_COMMIT_SHA||process.env.ZEIT_BITBUCKET_COMMIT_SHA||e}const ea=(0,$.pE)((0,$.Ep)(Zt));function ta(e){const t=yt.resolve(e);if(!ht.existsSync(t))throw new Error(`Cannot read contents of ${t}. Directory does not exist.`);if(!ht.statSync(t).isDirectory())throw new Error(`Cannot read contents of ${t}, because it is not a directory.`);const a=e=>ht.readdirSync(e).reduce(((t,n)=>{const o=yt.join(e,n);return ht.statSync(o).isDirectory()?t.concat(a(o)):(t.push(o),t)}),[]);return a(t).map((e=>yt.relative(t,e)))}var aa=a(7522);function na(e,t){return Mt(e,{include:t})}function oa(e,t,a={}){return zt(e,t,{include:a})}function ra(){return function(e,t,a){const n=(0,b.Gd)(),o=(0,me.x)([n,"access",e=>e.getClient,"call",e=>e(),"optionalAccess",e=>e.getOptions,"call",e=>e()]);if(!o||"sentry"!==o.instrumenter||"OPTIONS"===(0,me.x)([e,"access",e=>e.method,"optionalAccess",e=>e.toUpperCase,"call",e=>e()])||"HEAD"===(0,me.x)([e,"access",e=>e.method,"optionalAccess",e=>e.toUpperCase,"call",e=>e()]))return a();const r=e.headers&&(0,F.HD)(e.headers["sentry-trace"])?e.headers["sentry-trace"]:void 0,i=(0,me.x)([e,"access",e=>e.headers,"optionalAccess",e=>e.baggage]),{traceparentData:s,dynamicSamplingContext:c,propagationContext:l}=(0,ce.KA)(r,i);if(n.getScope().setPropagationContext(l),!(0,aa.z)(o))return a();const[d,u]=(0,Ct.oA)(e,{path:!0,method:!0}),p=C({name:d,op:"http.server",origin:"auto.http.node.tracingHandler",...s,metadata:{dynamicSamplingContext:s&&!c?{}:c,request:e,source:u}},{request:Mt(e)});n.configureScope((e=>{e.setSpan(p)})),t.__sentry_transaction=p,t.once("finish",(()=>{setImmediate((()=>{(0,Ct.dB)(p,e),p.setHttpStatus(t.statusCode),p.finish()}))})),a()}}function ia(e){const t=function(e={}){let t;if("include"in e)t={include:e.include};else{const{ip:a,request:n,transaction:o,user:r}=e;(a||n||o||r)&&(t={include:(0,s.Jr)({ip:a,request:n,transaction:o,user:r})})}return t}(e),a=(0,b.Gd)(),n=a.getClient();if(n&&Qt(n)){n.initSessionFlusher();const e=a.getScope();e.getSession()&&e.setSession()}return function(a,n,o){if(e&&e.flushTimeout&&e.flushTimeout>0){const t=n.end;n.end=function(a,n,o){R(e.flushTimeout).then((()=>{t.call(this,a,n,o)})).then(null,(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.error(e),t.call(this,a,n,o)}))}}(0,b.Ok)((()=>{const e=(0,b.Gd)();e.configureScope((n=>{if(n.setSDKProcessingMetadata({request:a,requestDataOptionsFromExpressHandler:t}),Qt(e.getClient())){const t=e.getScope();t&&t.setRequestSession({status:"ok"})}})),n.once("finish",(()=>{const t=e.getClient();Qt(t)&&setImmediate((()=>{t&&t._captureRequestSession&&t._captureRequestSession()}))})),o()}))}}function sa(e){const t=function(e){const t=e.status||e.statusCode||e.status_code||e.output&&e.output.statusCode;return t?parseInt(t,10):500}(e);return t>=500}function ca(e){return function(t,a,n,o){(e&&e.shouldHandleError||sa)(t)?O((e=>{e.setSDKProcessingMetadata({request:a});const r=n.__sentry_transaction;r&&void 0===e.getSpan()&&e.setSpan(r);const i=(0,b.Gd)().getClient();if(i&&Qt(i)&&void 0!==i._sessionFlusher){const t=e.getRequestSession();t&&void 0!==t.status&&(t.status="crashed")}e.addEventProcessor((e=>((0,u.EG)(e,{type:"middleware",handled:!1}),e)));const s=y(t);n.sentry=s,o(t)})):o(t)}}function la(e={}){return function({path:t,type:a,next:n,rawInput:o}){const r=(0,b.Gd)(),i=(0,me.x)([r,"access",e=>e.getClient,"call",e=>e(),"optionalAccess",e=>e.getOptions,"call",e=>e()]),s=r.getScope().getTransaction();if(s){s.setName(`trpc/${t}`,"route"),s.op="rpc.server";const n={procedure_type:a};(void 0!==e.attachRpcInput?e.attachRpcInput:(0,me.x)([i,"optionalAccess",e=>e.sendDefaultPii]))&&(n.input=j(o)),s.setContext("trpc",n)}return n()}}var da=a(2716),ua=a(8737),pa=a(1791),ma=a(6169),ha=a(24),_a=a(1370),fa=a(9889);const ga={...n,...r,...i}},1249:(e,t,a)=>{"use strict";a.d(t,{Y:()=>_});var n,o=a(4307),r=a(5659),i=a(454),s=a(2176),c=a(7321),l=a(9181),d=a(7638),u=a(6956),p=a(7612),m=a(9656),h=a(7578);e=a.hmd(e),function(e){e.RequestCreate="undici:request:create",e.RequestEnd="undici:request:headers",e.RequestError="undici:request:error"}(n||(n={}));class _{static __initStatic(){this.id="Undici"}__init(){this.name=_.id}__init2(){this._createSpanUrlMap=new p.LRUMap(100)}__init3(){this._headersUrlMap=new p.LRUMap(100)}constructor(e={}){_.prototype.__init.call(this),_.prototype.__init2.call(this),_.prototype.__init3.call(this),_.prototype.__init4.call(this),_.prototype.__init5.call(this),_.prototype.__init6.call(this),this._options={breadcrumbs:void 0===e.breadcrumbs||e.breadcrumbs,shouldCreateSpanForRequest:e.shouldCreateSpanForRequest}}setupOnce(t){if(m.V.major&&m.V.major<16)return;let a;try{a=(0,s.l$)(e,"diagnostics_channel")}catch(e){}a&&a.subscribe&&(a.subscribe(n.RequestCreate,this._onRequestCreate),a.subscribe(n.RequestEnd,this._onRequestEnd),a.subscribe(n.RequestError,this._onRequestError))}_shouldCreateSpan(e){if(void 0===this._options.shouldCreateSpanForRequest)return!0;const t=this._createSpanUrlMap.get(e);if(void 0!==t)return t;const a=this._options.shouldCreateSpanForRequest(e);return this._createSpanUrlMap.set(e,a),a}__init4(){this._onRequestCreate=e=>{const t=(0,r.Gd)();if(!t.getIntegration(_))return;const{request:a}=e,n=a.origin?a.origin.toString()+a.path:a.path;if((0,h.ZB)(n)||void 0!==a.__sentry_span__)return;const s=t.getClient();if(!s)return;const p=s.getOptions(),m=t.getScope(),g=m.getSpan(),b=this._shouldCreateSpan(n)?function(e,t,a){const n=(0,u.en)(a),r=t.method||"GET",i={"http.method":r};return n.search&&(i["http.query"]=n.search),n.hash&&(i["http.fragment"]=n.hash),(0,o.x)([e,"optionalAccess",e=>e.startChild,"call",e=>e({op:"http.client",origin:"auto.http.node.undici",description:`${r} ${(0,u.tF)(n)}`,data:i})])}(g,a,n):void 0;if(b&&(a.__sentry_span__=b),(e=>{if(void 0===p.tracePropagationTargets)return!0;const t=this._headersUrlMap.get(e);if(void 0!==t)return t;const a=(0,c.U0)(e,p.tracePropagationTargets);return this._headersUrlMap.set(e,a),a})(n))if(b){const e=(0,o.x)([b,"optionalAccess",e=>e.transaction,"optionalAccess",e=>e.getDynamicSamplingContext,"call",e=>e()]),t=(0,l.IQ)(e);f(a,b.toTraceparent(),t)}else{const{traceId:e,sampled:t,dsc:n}=m.getPropagationContext(),o=(0,d.$p)(e,void 0,t),r=n||(0,i._)(e,s,m);f(a,o,(0,l.IQ)(r))}}}__init5(){this._onRequestEnd=e=>{const t=(0,r.Gd)();if(!t.getIntegration(_))return;const{request:a,response:n}=e,o=a.origin?a.origin.toString()+a.path:a.path;if((0,h.ZB)(o))return;const i=a.__sentry_span__;i&&(i.setHttpStatus(n.statusCode),i.finish()),this._options.breadcrumbs&&t.addBreadcrumb({category:"http",data:{method:a.method,status_code:n.statusCode,url:o},type:"http"},{event:"response",request:a,response:n})}}__init6(){this._onRequestError=e=>{const t=(0,r.Gd)();if(!t.getIntegration(_))return;const{request:a}=e,n=a.origin?a.origin.toString()+a.path:a.path;if((0,h.ZB)(n))return;const o=a.__sentry_span__;o&&(o.setStatus("internal_error"),o.finish()),this._options.breadcrumbs&&t.addBreadcrumb({category:"http",data:{method:a.method,url:n},level:"error",type:"http"},{event:"error",request:a})}}}function f(e,t,a){e.__sentry_has_headers__||(e.addHeader("sentry-trace",t),a&&e.addHeader("baggage",a),e.__sentry_has_headers__=!0)}_.__initStatic()},7578:(e,t,a)=>{"use strict";a.d(t,{CA:()=>l,Dt:()=>d,ZB:()=>s,lx:()=>c,nY:()=>p});var n=a(4307),o=a(5659),r=a(7310),i=a(9656);function s(e){const t=(0,n.x)([o.Gd,"call",e=>e(),"access",e=>e.getClient,"call",e=>e(),"optionalAccess",e=>e.getDsn,"call",e=>e()]);return!!t&&e.includes(t.host)}function c(e){return`${e.protocol||""}//${e.hostname||e.host||""}${e.port&&80!==e.port&&443!==e.port?`:${e.port}`:""}${e.path?e.path:"/"}`}function l(e){const t=e.protocol||"",a=e.hostname||e.host||"",n=e.port&&80!==e.port&&443!==e.port?`:${e.port}`:"",o=e.pathname||"/";return`${t}//${e.auth?function(e){const[t,a]=e.split(":");return`${t?"[Filtered]":""}:${a?"[Filtered]":""}@`}(e.auth):""}${a}${n}${o}`}function d(e,t,a){if(!e)return e;let[o,r]=e.split(" ");return t.host&&!t.protocol&&(t.protocol=(0,n.x)([a,"optionalAccess",e=>e.agent,"optionalAccess",e=>e.protocol]),r=l(t)),(0,n.x)([r,"optionalAccess",e=>e.startsWith,"call",e=>e("///")])&&(r=r.slice(2)),`${o} ${r}`}function u(e){const t={protocol:e.protocol,hostname:"string"==typeof e.hostname&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:`${e.pathname||""}${e.search||""}`,href:e.href};return""!==e.port&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=`${e.username}:${e.password}`),t}function p(e,t){let a,o;return"function"==typeof t[t.length-1]&&(a=t.pop()),o="string"==typeof t[0]?u(new r.URL(t[0])):t[0]instanceof r.URL?u(t[0]):t[0],2===t.length&&(o={...o,...t[1]}),void 0===o.protocol&&(i.V.major&&i.V.major>8?o.protocol=(0,n.x)([(0,n.x)([e,"optionalAccess",e=>e.globalAgent]),"optionalAccess",e=>e.protocol])||(0,n.x)([o.agent,"optionalAccess",e=>e.protocol])||(0,n.x)([o._defaultAgent,"optionalAccess",e=>e.protocol]):o.protocol=(0,n.x)([o.agent,"optionalAccess",e=>e.protocol])||(0,n.x)([o._defaultAgent,"optionalAccess",e=>e.protocol])||(0,n.x)([(0,n.x)([e,"optionalAccess",e=>e.globalAgent]),"optionalAccess",e=>e.protocol])),a?[o,a]:[o]}},9656:(e,t,a)=>{"use strict";a.d(t,{V:()=>n});const n=(0,a(2844).J4)(process.versions.node)},5605:(e,t,a)=>{"use strict";a.r(t),a.d(t,{BROWSER_TRACING_INTEGRATION_ID:()=>ue,BrowserTracing:()=>oe,IdleTransaction:()=>fe,Integrations:()=>ve,Span:()=>de,SpanStatus:()=>ye,TRACEPARENT_REGEXP:()=>_e,Transaction:()=>le,addExtensionMethods:()=>re,defaultRequestInstrumentationOptions:()=>pe,extractTraceparentData:()=>se,getActiveTransaction:()=>ie,hasTracingEnabled:()=>me,instrumentOutgoingRequests:()=>ge,spanStatusfromHttpCode:()=>ce,startIdleTransaction:()=>be,stripUrlQueryAndFragment:()=>he});var n=a(5544),o=a(6890),r=a(9791),i=a(2343),s=a(7638),c=a(8464);const l=a(1235).n2;var d=a(1170);const u=(e,t,a)=>{let n,o;return r=>{t.value>=0&&(r||a)&&(o=t.value-(n||0),(o||void 0===n)&&(n=t.value,t.delta=o,e(t)))}},p=()=>l.__WEB_VITALS_POLYFILL__?l.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=l.performance.timing,t=l.performance.navigation.type,a={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const t in e)"navigationStart"!==t&&"toJSON"!==t&&(a[t]=Math.max(e[t]-e.navigationStart,0));return a})()):l.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],m=()=>{const e=p();return e&&e.activationStart||0},h=(e,t)=>{const a=p();let n="navigate";return a&&(n=l.document.prerendering||m()>0?"prerender":a.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:n}},_=(e,t,a)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const n=new PerformanceObserver((e=>{t(e.getEntries())}));return n.observe(Object.assign({type:e,buffered:!0},a||{})),n}}catch(e){}},f=(e,t)=>{const a=n=>{"pagehide"!==n.type&&"hidden"!==l.document.visibilityState||(e(n),t&&(removeEventListener("visibilitychange",a,!0),removeEventListener("pagehide",a,!0)))};addEventListener("visibilitychange",a,!0),addEventListener("pagehide",a,!0)};let g=-1;const b=()=>(g<0&&(g="hidden"!==l.document.visibilityState||l.document.prerendering?1/0:0,f((({timeStamp:e})=>{g=e}),!0)),{get firstHiddenTime(){return g}}),y={};function v(e){return"number"==typeof e&&isFinite(e)}function w(e,{startTimestamp:t,...a}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...a})}function S(e){return e/1e3}function k(){return l&&l.addEventListener&&l.performance}let E,A,x=0,I={};function T(){const e=k();if(e&&d.Z1){e.mark&&l.performance.mark("sentry-tracing-init"),(e=>{const t=b(),a=h("FID");let n;const o=e=>{e.startTime<t.firstHiddenTime&&(a.value=e.processingStart-e.startTime,a.entries.push(e),n(!0))},r=e=>{e.forEach(o)},i=_("first-input",r);n=u(e,a),i&&f((()=>{r(i.takeRecords()),i.disconnect()}),!0)})((e=>{const t=e.entries.pop();if(!t)return;const a=S(d.Z1),n=S(t.startTime);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Measurements] Adding FID"),I.fid={value:e.value,unit:"millisecond"},I["mark.fid"]={value:a+n,unit:"second"}}));const t=(e=>{const t=h("CLS",0);let a,n=0,o=[];const r=e=>{e.forEach((e=>{if(!e.hadRecentInput){const r=o[0],i=o[o.length-1];n&&0!==o.length&&e.startTime-i.startTime<1e3&&e.startTime-r.startTime<5e3?(n+=e.value,o.push(e)):(n=e.value,o=[e]),n>t.value&&(t.value=n,t.entries=o,a&&a())}}))},i=_("layout-shift",r);if(i){a=u(e,t);const n=()=>{r(i.takeRecords()),a(!0)};return f(n),n}})((e=>{const t=e.entries.pop();t&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Measurements] Adding CLS"),I.cls={value:e.value,unit:""},A=t)})),a=(e=>{const t=b(),a=h("LCP");let n;const o=e=>{const o=e[e.length-1];if(o){const e=Math.max(o.startTime-m(),0);e<t.firstHiddenTime&&(a.value=e,a.entries=[o],n())}},r=_("largest-contentful-paint",o);if(r){n=u(e,a);const t=()=>{y[a.id]||(o(r.takeRecords()),r.disconnect(),y[a.id]=!0,n(!0))};return["keydown","click"].forEach((e=>{addEventListener(e,t,{once:!0,capture:!0})})),f(t,!0),t}})((e=>{const t=e.entries.pop();t&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Measurements] Adding LCP"),I.lcp={value:e.value,unit:"millisecond"},E=t)}));return()=>{t&&t(),a&&a()}}return()=>{}}function P(e,t,a,n,o,r){const i=r?t[r]:t[`${a}End`],s=t[`${a}Start`];s&&i&&w(e,{op:"browser",origin:"auto.browser.browser.metrics",description:o||a,startTimestamp:n+S(s),endTimestamp:n+S(i)})}var O=a(7522),C=a(5659),N=a(454),R=a(1688),D=a(7321),G=a(9181),U=a(7597);const B=["localhost",/^\/(?!\/)/],M={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:B,tracePropagationTargets:B};function z(e){const{traceFetch:t,traceXHR:a,tracePropagationTargets:n,tracingOrigins:o,shouldCreateSpanForRequest:r,enableHTTPTimings:i}={traceFetch:M.traceFetch,traceXHR:M.traceXHR,...e},c="function"==typeof r?r:e=>!0,l=e=>function(e,t){return(0,D.U0)(e,t||B)}(e,n||o),d={};t&&(0,R.oq)("fetch",(e=>{const t=function(e,t,a,n){if(!(0,O.z)()||!e.fetchData)return;const o=t(e.fetchData.url);if(e.endTimestamp&&o){const t=e.fetchData.__span;if(!t)return;const a=n[t];if(a){if(e.response){a.setHttpStatus(e.response.status);const t=e.response&&e.response.headers&&e.response.headers.get("content-length"),n=parseInt(t);n>0&&a.setData("http.response_content_length",n)}else e.error&&a.setStatus("internal_error");a.finish(),delete n[t]}return}const r=(0,C.Gd)(),i=r.getScope(),c=r.getClient(),l=i.getSpan(),{method:d,url:u}=e.fetchData,p=o&&l?l.startChild({data:{url:u,type:"fetch","http.method":d},description:`${d} ${u}`,op:"http.client",origin:"auto.http.browser"}):void 0;if(p&&(e.fetchData.__span=p.spanId,n[p.spanId]=p),a(e.fetchData.url)&&c){const t=e.args[0];e.args[1]=e.args[1]||{};const a=e.args[1];a.headers=function(e,t,a,n,o){const r=o||a.getSpan(),i=r&&r.transaction,{traceId:c,sampled:l,dsc:d}=a.getPropagationContext(),u=r?r.toTraceparent():(0,s.$p)(c,void 0,l),p=i?i.getDynamicSamplingContext():d||(0,N._)(c,t,a),m=(0,G.IQ)(p),h="undefined"!=typeof Request&&(0,U.V9)(e,Request)?e.headers:n.headers;if(h){if("undefined"!=typeof Headers&&(0,U.V9)(h,Headers)){const e=new Headers(h);return e.append("sentry-trace",u),m&&e.append(G.bU,m),e}if(Array.isArray(h)){const e=[...h,["sentry-trace",u]];return m&&e.push([G.bU,m]),e}{const e="baggage"in h?h.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),m&&t.push(m),{...h,"sentry-trace":u,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":u,baggage:m}}(t,c,i,a,p)}return p}(e,c,l,d);i&&t&&L(t)})),a&&(0,R.oq)("xhr",(e=>{const t=function(e,t,a,n){const o=e.xhr,r=o&&o[R.xU];if(!(0,O.z)()||o&&o.__sentry_own_request__||!o||!r)return;const i=t(r.url);if(e.endTimestamp&&i){const e=o.__sentry_xhr_span_id__;if(!e)return;const t=n[e];return void(t&&(t.setHttpStatus(r.status_code),t.finish(),delete n[e]))}const c=(0,C.Gd)(),l=c.getScope(),d=l.getSpan(),u=i&&d?d.startChild({data:{...r.data,type:"xhr","http.method":r.method,url:r.url},description:`${r.method} ${r.url}`,op:"http.client",origin:"auto.http.browser"}):void 0;if(u&&(o.__sentry_xhr_span_id__=u.spanId,n[o.__sentry_xhr_span_id__]=u),o.setRequestHeader&&a(r.url))if(u){const e=u&&u.transaction,t=e&&e.getDynamicSamplingContext(),a=(0,G.IQ)(t);$(o,u.toTraceparent(),a)}else{const e=c.getClient(),{traceId:t,sampled:a,dsc:n}=l.getPropagationContext(),r=(0,s.$p)(t,void 0,a),i=n||(e?(0,N._)(t,e,l):void 0);$(o,r,(0,G.IQ)(i))}return u}(e,c,l,d);i&&t&&L(t)}))}function L(e){const t=e.data.url,a=new PerformanceObserver((n=>{n.getEntries().forEach((n=>{(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)})(n)&&n.name.endsWith(t)&&(function(e){const{name:t,version:a}=function(e){let t="unknown",a="unknown",n="";for(const o of e){if("/"===o){[t,a]=e.split("/");break}if(!isNaN(Number(o))){t="h"===n?"http":n,a=e.split(n)[1];break}n+=o}return n===e&&(t=n),{name:t,version:a}}(e.nextHopProtocol),n=[];return n.push(["network.protocol.version",a],["network.protocol.name",t]),d.Z1?[...n,["http.request.redirect_start",F(e.redirectStart)],["http.request.fetch_start",F(e.fetchStart)],["http.request.domain_lookup_start",F(e.domainLookupStart)],["http.request.domain_lookup_end",F(e.domainLookupEnd)],["http.request.connect_start",F(e.connectStart)],["http.request.secure_connection_start",F(e.secureConnectionStart)],["http.request.connection_end",F(e.connectEnd)],["http.request.request_start",F(e.requestStart)],["http.request.response_start",F(e.responseStart)],["http.request.response_end",F(e.responseEnd)]]:n}(n).forEach((t=>e.setData(...t))),a.disconnect())}))}));a.observe({entryTypes:["resource"]})}function F(e=0){return((d.Z1||performance.timeOrigin)+e)/1e3}function $(e,t,a){try{e.setRequestHeader("sentry-trace",t),a&&e.setRequestHeader(G.bU,a)}catch(e){}}const j="BrowserTracing",V={...n.AT,markBackgroundTransactions:!0,routingInstrumentation:function(e,t=!0,a=!0){if(!l||!l.location)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn("Could not initialize routing instrumentation due to invalid location"));let n,o=l.location.href;t&&(n=e({name:l.location.pathname,startTimestamp:d.Z1?d.Z1/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),a&&(0,R.oq)("history",(({to:t,from:a})=>{void 0===a&&o&&-1!==o.indexOf(t)?o=void 0:a!==t&&(o=void 0,n&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`[Tracing] Finishing current transaction with op: ${n.op}`),n.finish()),n=e({name:l.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...M};function W(e){const t=(0,c.qT)(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}var q,Y=a(758),H=a(8903),Z=a(8069),J=a(6956);!function(e){e.Ok="ok",e.DeadlineExceeded="deadline_exceeded",e.Unauthenticated="unauthenticated",e.PermissionDenied="permission_denied",e.NotFound="not_found",e.ResourceExhausted="resource_exhausted",e.InvalidArgument="invalid_argument",e.Unimplemented="unimplemented",e.Unavailable="unavailable",e.InternalError="internal_error",e.UnknownError="unknown_error",e.Cancelled="cancelled",e.AlreadyExists="already_exists",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.DataLoss="data_loss"}(q||(q={}));var K=a(2716),Q=a(8737),X=a(1791),ee=a(6169),te=a(24),ae=a(1370),ne=a(9889);const oe=class{constructor(e){this.name=j,this._hasSetTracePropagationTargets=!1,(0,o.T)(),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&(this._hasSetTracePropagationTargets=!(!e||!e.tracePropagationTargets&&!e.tracingOrigins)),this.options={...V,...e},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=T(),this.options.enableLongTask&&_("longtask",(e=>{for(const t of e){const e=(0,r.x1)();if(!e)return;const a=S(d.Z1+t.startTime),n=S(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:a,endTimestamp:a+n})}})),this.options._experiments.enableInteractions&&_("event",(e=>{for(const t of e){const e=(0,r.x1)();if(!e)return;if("click"===t.name){const a=S(d.Z1+t.startTime),n=S(t.duration);e.startChild({description:(0,c.Rt)(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:a,endTimestamp:a+n})}}}),{durationThreshold:0})}setupOnce(e,t){this._getCurrentHub=t;const a=t().getClient(),n=a&&a.getOptions(),{routingInstrumentation:o,startTransactionOnLocationChange:s,startTransactionOnPageLoad:c,markBackgroundTransactions:d,traceFetch:u,traceXHR:p,shouldCreateSpanForRequest:m,enableHTTPTimings:h,_experiments:_}=this.options,f=n&&n.tracePropagationTargets,g=f||this.options.tracePropagationTargets;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this._hasSetTracePropagationTargets&&f&&i.kg.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),o((e=>{const a=this._createRouteTransaction(e);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(a,e,t),a}),c,s),d&&(l&&l.document?l.document.addEventListener("visibilitychange",(()=>{const e=(0,r.x1)();if(l.document.hidden&&e){const t="cancelled";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${e.op}`),e.status||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.finish()}})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")),_.enableInteractions&&this._registerInteractionListener(),z({traceFetch:u,traceXHR:p,tracePropagationTargets:g,shouldCreateSpanForRequest:m,enableHTTPTimings:h})}_createRouteTransaction(e){if(!this._getCurrentHub)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`));const t=this._getCurrentHub(),{beforeNavigate:a,idleTimeout:n,finalTimeout:r,heartbeatInterval:u}=this.options,p="pageload"===e.op,m=p?W("sentry-trace"):"",h=p?W("baggage"):"",{traceparentData:_,dynamicSamplingContext:f,propagationContext:g}=(0,s.KA)(m,h),y={...e,..._,metadata:{...e.metadata,dynamicSamplingContext:_&&!f?{}:f},trimEnd:!0},T="function"==typeof a?a(y):y,O=void 0===T?{...y,sampled:!1}:T;O.metadata=O.name!==y.name?{...O.metadata,source:"custom"}:O.metadata,this._latestRouteName=O.name,this._latestRouteSource=O.metadata&&O.metadata.source,!1===O.sampled&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`[Tracing] Will not send ${O.op} transaction because of beforeNavigate.`),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`[Tracing] Starting ${O.op} transaction on scope`);const{location:C}=l,N=(0,o.l)(t,O,n,r,!0,{location:C},u),R=t.getScope();return p&&_?R.setPropagationContext(g):R.setPropagationContext({traceId:N.traceId,spanId:N.spanId,parentSpanId:N.parentSpanId,sampled:N.sampled}),N.registerBeforeFinishCallback((e=>{this._collectWebVitals(),function(e){const t=k();if(!t||!l.performance.getEntries||!d.Z1)return;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Tracing] Adding & adjusting spans using Performance API");const a=S(d.Z1),n=t.getEntries();let o,r;if(n.slice(x).forEach((t=>{const n=S(t.startTime),s=S(t.duration);if(!("navigation"===e.op&&a+n<e.startTimestamp))switch(t.entryType){case"navigation":!function(e,t,a){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((n=>{P(e,t,n,a)})),P(e,t,"secureConnection",a,"TLS/SSL","connectEnd"),P(e,t,"fetch",a,"cache","domainLookupStart"),P(e,t,"domainLookup",a,"DNS"),function(e,t,a){w(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:a+S(t.requestStart),endTimestamp:a+S(t.responseEnd)}),w(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:a+S(t.responseStart),endTimestamp:a+S(t.responseEnd)})}(e,t,a)}(e,t,a),o=a+S(t.responseStart),r=a+S(t.requestStart);break;case"mark":case"paint":case"measure":{!function(e,t,a,n,o){const r=o+a,i=r+n;w(e,{description:t.name,endTimestamp:i,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:r})}(e,t,n,s,a);const o=b(),r=t.startTime<o.firstHiddenTime;"first-paint"===t.name&&r&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Measurements] Adding FP"),I.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&r&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Measurements] Adding FCP"),I.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":{const o=t.name.replace(l.location.origin,"");!function(e,t,a,n,o,r){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const i={};"transferSize"in t&&(i["http.response_transfer_size"]=t.transferSize),"encodedBodySize"in t&&(i["http.response_content_length"]=t.encodedBodySize),"decodedBodySize"in t&&(i["http.decoded_response_content_length"]=t.decodedBodySize),"renderBlockingStatus"in t&&(i["resource.render_blocking_status"]=t.renderBlockingStatus);const s=r+n;w(e,{description:a,endTimestamp:s+o,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:s,data:i})}(e,t,o,n,s,a);break}}})),x=Math.max(n.length-1,0),function(e){const t=l.navigator;if(!t)return;const a=t.connection;a&&(a.effectiveType&&e.setTag("effectiveConnectionType",a.effectiveType),a.type&&e.setTag("connectionType",a.type),v(a.rtt)&&(I["connection.rtt"]={value:a.rtt,unit:"millisecond"})),v(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),v(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===e.op){"number"==typeof o&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Measurements] Adding TTFB"),I.ttfb={value:1e3*(o-e.startTimestamp),unit:"millisecond"},"number"==typeof r&&r<=o&&(I["ttfb.requestTime"]={value:1e3*(o-r),unit:"millisecond"})),["fcp","fp","lcp"].forEach((t=>{if(!I[t]||a>=e.startTimestamp)return;const n=I[t].value,o=a+S(n),r=Math.abs(1e3*(o-e.startTimestamp)),s=r-n;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`[Measurements] Normalized ${t} from ${n} to ${r} (${s})`),I[t].value=r}));const t=I["mark.fid"];t&&I.fid&&(w(e,{description:"first input delay",endTimestamp:t.value+S(I.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:t.value}),delete I["mark.fid"]),"fcp"in I||delete I.cls,Object.keys(I).forEach((t=>{e.setMeasurement(t,I[t].value,I[t].unit)})),function(e){E&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Measurements] Adding LCP Data"),E.element&&e.setTag("lcp.element",(0,c.Rt)(E.element)),E.id&&e.setTag("lcp.id",E.id),E.url&&e.setTag("lcp.url",E.url.trim().slice(0,200)),e.setTag("lcp.size",E.size)),A&&A.sources&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Measurements] Adding CLS Data"),A.sources.forEach(((t,a)=>e.setTag(`cls.source.${a+1}`,(0,c.Rt)(t.node)))))}(e)}E=void 0,A=void 0,I={}}(e)})),N}_registerInteractionListener(){let e;const t=()=>{const{idleTimeout:t,finalTimeout:a,heartbeatInterval:n}=this.options,s="ui.action.click",c=(0,r.x1)();if(c&&c.op&&["navigation","pageload"].includes(c.op))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn(`[Tracing] Did not create ${s} transaction because a pageload or navigation transaction is in progress.`));if(e&&(e.setFinishReason("interactionInterrupted"),e.finish(),e=void 0),!this._getCurrentHub)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn(`[Tracing] Did not create ${s} transaction because _getCurrentHub is invalid.`));if(!this._latestRouteName)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`));const d=this._getCurrentHub(),{location:u}=l,p={name:this._latestRouteName,op:s,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};e=(0,o.l)(d,p,t,a,!0,{location:u},n)};["click"].forEach((e=>{addEventListener(e,t,{once:!1,capture:!0})}))}},re=Y.r,ie=r.x1,se=s.qG,ce=H.Zd,le=Z.Y,de=H.Dr,ue=j,pe=M,me=O.z,he=J.rt,_e=s.Ke,fe=n.io,ge=z,be=o.l,ye=q,ve={BrowserTracing:oe,Apollo:K._,Express:Q.N,GraphQL:X.k,Mongo:ee._,Mysql:te.m,Postgres:ae.E,Prisma:ne.g};("undefined"==typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&(0,Y.r)()},9181:(e,t,a)=>{"use strict";a.d(t,{EN:()=>l,IQ:()=>d,bU:()=>r});var n=a(7597),o=a(2343);const r="baggage",i="sentry-",s=/^sentry-/,c=8192;function l(e){if(!(0,n.HD)(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce(((e,t)=>({...e,...u(t)})),{});else{if(!e)return;t=u(e)}const a=Object.entries(t).reduce(((e,[t,a])=>(t.match(s)&&(e[t.slice(i.length)]=a),e)),{});return Object.keys(a).length>0?a:void 0}function d(e){if(e)return function(e){if(0!==Object.keys(e).length)return Object.entries(e).reduce(((e,[t,a],n)=>{const r=`${encodeURIComponent(t)}=${encodeURIComponent(a)}`,i=0===n?r:`${e},${r}`;return i.length>c?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`Not adding key: ${t} with val: ${a} to baggage header due to exceeding baggage size limits.`),e):i}),"")}(Object.entries(e).reduce(((e,[t,a])=>(a&&(e[`${i}${t}`]=a),e)),{}))}function u(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,a])=>(e[t]=a,e)),{})}},8464:(e,t,a)=>{"use strict";a.d(t,{Rt:()=>i,qT:()=>c});var n=a(7597);const o=(0,a(1235).Rf)(),r=80;function i(e,t={}){try{let a=e;const n=5,o=[];let i=0,c=0;const l=" > ",d=l.length;let u;const p=Array.isArray(t)?t:t.keyAttrs,m=!Array.isArray(t)&&t.maxStringLength||r;for(;a&&i++<n&&(u=s(a,p),!("html"===u||i>1&&c+o.length*d+u.length>=m));)o.push(u),c+=u.length,a=a.parentNode;return o.reverse().join(l)}catch(e){return"<unknown>"}}function s(e,t){const a=e,o=[];let r,i,s,c,l;if(!a||!a.tagName)return"";o.push(a.tagName.toLowerCase());const d=t&&t.length?t.filter((e=>a.getAttribute(e))).map((e=>[e,a.getAttribute(e)])):null;if(d&&d.length)d.forEach((e=>{o.push(`[${e[0]}="${e[1]}"]`)}));else if(a.id&&o.push(`#${a.id}`),r=a.className,r&&(0,n.HD)(r))for(i=r.split(/\s+/),l=0;l<i.length;l++)o.push(`.${i[l]}`);const u=["aria-label","type","name","title","alt"];for(l=0;l<u.length;l++)s=u[l],c=a.getAttribute(s),c&&o.push(`[${s}="${c}"]`);return o.join("")}function c(e){return o.document&&o.document.querySelector?o.document.querySelector(e):null}},4307:(e,t,a)=>{"use strict";function n(e){let t,a=e[0],n=1;for(;n<e.length;){const o=e[n],r=e[n+1];if(n+=2,("optionalAccess"===o||"optionalCall"===o)&&null==a)return;"access"===o||"optionalAccess"===o?(t=a,a=r(a)):"call"!==o&&"optionalCall"!==o||(a=r(((...e)=>a.call(t,...e))),t=void 0)}return a}a.d(t,{x:()=>n})},1688:(e,t,a)=>{"use strict";a.d(t,{xU:()=>p,oq:()=>f});var n=a(7597),o=a(2343),r=a(535),i=a(6147),s=a(1235);const c=(0,s.Rf)();function l(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}const d=(0,s.Rf)(),u=(0,s.Rf)(),p="__sentry_xhr_v2__",m={},h={};function _(e){if(!h[e])switch(h[e]=!0,e){case"console":"console"in s.n2&&o.RU.forEach((function(e){e in s.n2.console&&(0,r.hl)(s.n2.console,e,(function(t){return b[e]=t,function(...t){g("console",{args:t,level:e});const a=b[e];a&&a.apply(s.n2.console,t)}}))}));break;case"dom":!function(){if(!("document"in u))return;const e=g.bind(null,"dom"),t=A(e,!0);u.document.addEventListener("click",t,!1),u.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const a=u[t]&&u[t].prototype;a&&a.hasOwnProperty&&a.hasOwnProperty("addEventListener")&&((0,r.hl)(a,"addEventListener",(function(t){return function(a,n,o){if("click"===a||"keypress"==a)try{const n=this,r=n.__sentry_instrumentation_handlers__=n.__sentry_instrumentation_handlers__||{},i=r[a]=r[a]||{refCount:0};if(!i.handler){const n=A(e);i.handler=n,t.call(this,a,n,o)}i.refCount++}catch(e){}return t.call(this,a,n,o)}})),(0,r.hl)(a,"removeEventListener",(function(e){return function(t,a,n){if("click"===t||"keypress"==t)try{const a=this,o=a.__sentry_instrumentation_handlers__||{},r=o[t];r&&(r.refCount--,r.refCount<=0&&(e.call(this,t,r.handler,n),r.handler=void 0,delete o[t]),0===Object.keys(o).length&&delete a.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,a,n)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in u))return;const e=XMLHttpRequest.prototype;(0,r.hl)(e,"open",(function(e){return function(...t){const a=t[1],o=this[p]={method:(0,n.HD)(t[0])?t[0].toUpperCase():t[0],url:t[1],request_headers:{}};(0,n.HD)(a)&&"POST"===o.method&&a.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const i=()=>{const e=this[p];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}g("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?(0,r.hl)(this,"onreadystatechange",(function(e){return function(...t){return i(),e.apply(this,t)}})):this.addEventListener("readystatechange",i),(0,r.hl)(this,"setRequestHeader",(function(e){return function(...t){const[a,n]=t,o=this[p];return o&&(o.request_headers[a.toLowerCase()]=n),e.apply(this,t)}})),e.apply(this,t)}})),(0,r.hl)(e,"send",(function(e){return function(...t){const a=this[p];return a&&void 0!==t[0]&&(a.body=t[0]),g("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}();break;case"fetch":(function(){if(!function(){if(!("fetch"in c))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}())return!1;if(l(c.fetch))return!0;let e=!1;const t=c.document;if(t&&"function"==typeof t.createElement)try{const a=t.createElement("iframe");a.hidden=!0,t.head.appendChild(a),a.contentWindow&&a.contentWindow.fetch&&(e=l(a.contentWindow.fetch)),t.head.removeChild(a)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e})()&&(0,r.hl)(s.n2,"fetch",(function(e){return function(...t){const{method:a,url:n}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,a]=e;return{url:v(t),method:y(a,"method")?String(a.method).toUpperCase():"GET"}}const t=e[0];return{url:v(t),method:y(t,"method")?String(t.method).toUpperCase():"GET"}}(t),o={args:t,fetchData:{method:a,url:n},startTimestamp:Date.now()};return g("fetch",{...o}),e.apply(s.n2,t).then((e=>(g("fetch",{...o,endTimestamp:Date.now(),response:e}),e)),(e=>{throw g("fetch",{...o,endTimestamp:Date.now(),error:e}),e}))}}));break;case"history":!function(){if(!function(){const e=d.chrome,t=e&&e.app&&e.app.runtime,a="history"in d&&!!d.history.pushState&&!!d.history.replaceState;return!t&&a}())return;const e=u.onpopstate;function t(e){return function(...t){const a=t.length>2?t[2]:void 0;if(a){const e=w,t=String(a);w=t,g("history",{from:e,to:t})}return e.apply(this,t)}}u.onpopstate=function(...t){const a=u.location.href,n=w;if(w=a,g("history",{from:n,to:a}),e)try{return e.apply(this,t)}catch(e){}},(0,r.hl)(u.history,"pushState",t),(0,r.hl)(u.history,"replaceState",t)}();break;case"error":x=u.onerror,u.onerror=function(e,t,a,n,o){return g("error",{column:n,error:o,line:a,msg:e,url:t}),!(!x||x.__SENTRY_LOADER__)&&x.apply(this,arguments)},u.onerror.__SENTRY_INSTRUMENTED__=!0;break;case"unhandledrejection":I=u.onunhandledrejection,u.onunhandledrejection=function(e){return g("unhandledrejection",e),!(I&&!I.__SENTRY_LOADER__)||I.apply(this,arguments)},u.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0;break;default:return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn("unknown instrumentation type:",e))}}function f(e,t){m[e]=m[e]||[],m[e].push(t),_(e)}function g(e,t){if(e&&m[e])for(const a of m[e]||[])try{a(t)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${(0,i.$P)(a)}\nError:`,t)}}const b={};function y(e,t){return!!e&&"object"==typeof e&&!!e[t]}function v(e){return"string"==typeof e?e:e?y(e,"url")?e.url:e.toString?e.toString():"":""}let w;const S=1e3;let k,E;function A(e,t=!1){return a=>{if(!a||E===a)return;if(function(e){if("keypress"!==e.type)return!1;try{const t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(a))return;const n="keypress"===a.type?"input":a.type;(void 0===k||function(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}(E,a))&&(e({event:a,name:n,global:t}),E=a),clearTimeout(k),k=u.setTimeout((()=>{k=void 0}),S)}}let x=null,I=null},7597:(e,t,a)=>{"use strict";a.d(t,{Cy:()=>m,HD:()=>i,J8:()=>p,Kj:()=>u,PO:()=>c,V9:()=>_,VZ:()=>o,cO:()=>l,i2:()=>h,kK:()=>d,pt:()=>s});const n=Object.prototype.toString;function o(e){switch(n.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return _(e,Error)}}function r(e,t){return n.call(e)===`[object ${t}]`}function i(e){return r(e,"String")}function s(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function c(e){return r(e,"Object")}function l(e){return"undefined"!=typeof Event&&_(e,Event)}function d(e){return"undefined"!=typeof Element&&_(e,Element)}function u(e){return r(e,"RegExp")}function p(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function m(e){return c(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function h(e){return"number"==typeof e&&e!=e}function _(e,t){try{return e instanceof t}catch(e){return!1}}},2343:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>r,RU:()=>o,kg:()=>s});var n=a(1235);const o=["debug","info","warn","error","log","assert","trace"];function r(e){if(!("console"in n.n2))return e();const t=n.n2.console,a={};o.forEach((e=>{const n=t[e]&&t[e].__sentry_original__;e in t&&n&&(a[e]=t[e],t[e]=n)}));try{return e()}finally{Object.keys(a).forEach((e=>{t[e]=a[e]}))}}function i(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?o.forEach((a=>{t[a]=(...t)=>{e&&r((()=>{n.n2.console[a](`Sentry Logger [${a}]:`,...t)}))}})):o.forEach((e=>{t[e]=()=>{}})),t}let s;s="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,n.YO)("logger",i):i()},2844:(e,t,a)=>{"use strict";a.d(t,{DM:()=>i,Db:()=>l,EG:()=>d,J4:()=>p,YO:()=>h,go:()=>m,jH:()=>c,lE:()=>_});var n=a(535),o=a(7321),r=a(1235);function i(){const e=r.n2,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");const a=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&a())>>e/4).toString(16)))}function s(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function c(e){const{message:t,event_id:a}=e;if(t)return t;const n=s(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||a||"<unknown>":a||"<unknown>"}function l(e,t,a){const n=e.exception=e.exception||{},o=n.values=n.values||[],r=o[0]=o[0]||{};r.value||(r.value=t||""),r.type||(r.type=a||"Error")}function d(e,t){const a=s(e);if(!a)return;const n=a.mechanism;if(a.mechanism={type:"generic",handled:!0,...n,...t},t&&"data"in t){const e={...n&&n.data,...t.data};a.mechanism.data=e}}const u=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function p(e){const t=e.match(u)||[],a=parseInt(t[1],10),n=parseInt(t[2],10),o=parseInt(t[3],10);return{buildmetadata:t[5],major:isNaN(a)?void 0:a,minor:isNaN(n)?void 0:n,patch:isNaN(o)?void 0:o,prerelease:t[4]}}function m(e,t,a=5){if(void 0===t.lineno)return;const n=e.length,r=Math.max(Math.min(n-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,r-a),r).map((e=>(0,o.JM)(e,0))),t.context_line=(0,o.JM)(e[Math.min(n-1,r)],t.colno||0),t.post_context=e.slice(Math.min(r+1,n),r+1+a).map((e=>(0,o.JM)(e,0)))}function h(e){if(e&&e.__sentry_captured__)return!0;try{(0,n.xp)(e,"__sentry_captured__",!0)}catch(e){}return!1}function _(e){return Array.isArray(e)?e:[e]}},2176:(e,t,a)=>{"use strict";function n(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function o(e,t){return e.require(t)}function r(t){let a;try{a=o(e,t)}catch(e){}try{const{cwd:n}=o(e,"process");a=o(e,`${n()}/node_modules/${t}`)}catch(e){}return a}a.d(t,{l$:()=>o,KV:()=>n,$y:()=>r}),e=a.hmd(e)},535:(e,t,a)=>{"use strict";a.d(t,{HK:()=>c,Jr:()=>h,Sh:()=>d,_j:()=>l,hl:()=>i,xp:()=>s,zf:()=>m});var n=a(8464),o=a(7597),r=a(7321);function i(e,t,a){if(!(t in e))return;const n=e[t],o=a(n);if("function"==typeof o)try{!function(e,t){const a=t.prototype||{};e.prototype=t.prototype=a,s(e,"__sentry_original__",t)}(o,n)}catch(e){}e[t]=o}function s(e,t,a){Object.defineProperty(e,t,{value:a,writable:!0,configurable:!0})}function c(e){return e.__sentry_original__}function l(e){return Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}function d(e){if((0,o.VZ)(e))return{message:e.message,name:e.name,stack:e.stack,...p(e)};if((0,o.cO)(e)){const t={type:e.type,target:u(e.target),currentTarget:u(e.currentTarget),...p(e)};return"undefined"!=typeof CustomEvent&&(0,o.V9)(e,CustomEvent)&&(t.detail=e.detail),t}return e}function u(e){try{return(0,o.kK)(e)?(0,n.Rt)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function p(e){if("object"==typeof e&&null!==e){const t={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}return{}}function m(e,t=40){const a=Object.keys(d(e));if(a.sort(),!a.length)return"[object has no keys]";if(a[0].length>=t)return(0,r.$G)(a[0],t);for(let e=a.length;e>0;e--){const n=a.slice(0,e).join(", ");if(!(n.length>t))return e===a.length?n:(0,r.$G)(n,t)}return""}function h(e){return _(e,new Map)}function _(e,t){if((0,o.PO)(e)){const a=t.get(e);if(void 0!==a)return a;const n={};t.set(e,n);for(const a of Object.keys(e))void 0!==e[a]&&(n[a]=_(e[a],t));return n}if(Array.isArray(e)){const a=t.get(e);if(void 0!==a)return a;const n=[];return t.set(e,n),e.forEach((e=>{n.push(_(e,t))})),n}return e}},442:(e,t,a)=>{"use strict";a.d(t,{dB:()=>o,oA:()=>r});var n=a(6956);function o(e,t,a){e&&(e.metadata.source&&"url"!==e.metadata.source||e.setName(...r(t,{path:!0,method:!0})),e.setData("url",t.originalUrl||t.url),t.baseUrl&&e.setData("baseUrl",t.baseUrl),e.setData("query",function(e,t){let a=e.originalUrl||e.url||"";if(a)return a.startsWith("/")&&(a=`http://dogs.are.great${a}`),e.query||void 0!==typeof URL&&new URL(a).search.replace("?","")||t&&t.url&&t.url.parse(a).query||void 0}(t,a)))}function r(e,t={}){const a=e.method&&e.method.toUpperCase();let o="",r="url";t.customRoute||e.route?(o=t.customRoute||`${e.baseUrl||""}${e.route&&e.route.path}`,r="route"):(e.originalUrl||e.url)&&(o=(0,n.rt)(e.originalUrl||e.url||""));let i="";return t.method&&a&&(i+=a),t.method&&t.path&&(i+=" "),t.path&&o&&(i+=o),[i,r]}},6147:(e,t,a)=>{"use strict";function n(e){const t=/^\s*[-]{4,}$/,a=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return n=>{const o=n.match(a);if(o){let t,a,n,r,i;if(o[1]){n=o[1];let e=n.lastIndexOf(".");if("."===n[e-1]&&e--,e>0){t=n.slice(0,e),a=n.slice(e+1);const o=t.indexOf(".Module");o>0&&(n=n.slice(o+1),t=t.slice(0,o))}r=void 0}a&&(r=t,i=a),"<anonymous>"===a&&(i=void 0,n=void 0),void 0===n&&(i=i||"<anonymous>",n=r?`${r}.${i}`:i);let s=o[2]&&o[2].startsWith("file://")?o[2].slice(7):o[2];const c="native"===o[5];s||!o[5]||c||(s=o[5]);const l=!(c||s&&!s.startsWith("/")&&!s.includes(":\\")&&!s.startsWith(".")&&!s.match(/^[a-zA-Z]([a-zA-Z0-9.\-+])*:\/\//)||void 0===s||s.includes("node_modules/"));return{filename:s,module:e?e(s):void 0,function:n,lineno:parseInt(o[3],10)||void 0,colno:parseInt(o[4],10)||void 0,in_app:l}}if(n.match(t))return{filename:n}}}a.d(t,{pE:()=>s,$P:()=>d,Ep:()=>u,Sq:()=>c});const o=50,r=/\(error: (.*)\)/,i=/captureMessage|captureException/;function s(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,a=0)=>{const n=[],s=e.split("\n");for(let e=a;e<s.length;e++){const a=s[e];if(a.length>1024)continue;const i=r.test(a)?a.replace(r,"$1"):a;if(!i.match(/\S*Error: /)){for(const e of t){const t=e(i);if(t){n.push(t);break}}if(n.length>=o)break}}return function(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),i.test(t[t.length-1].function||"")&&(t.pop(),i.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,o).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(n)}}function c(e){return Array.isArray(e)?s(...e):e}const l="<anonymous>";function d(e){try{return e&&"function"==typeof e&&e.name||l}catch(e){return l}}function u(e){return[90,n(e)]}},7321:(e,t,a)=>{"use strict";a.d(t,{$G:()=>o,JM:()=>r,U0:()=>i});var n=a(7597);function o(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function r(e,t){let a=e;const n=a.length;if(n<=150)return a;t>n&&(t=n);let o=Math.max(t-60,0);o<5&&(o=0);let r=Math.min(o+140,n);return r>n-5&&(r=n),r===n&&(o=Math.max(r-140,0)),a=a.slice(o,r),o>0&&(a=`'{snip} ${a}`),r<n&&(a+=" {snip}"),a}function i(e,t=[],a=!1){return t.some((t=>function(e,t,a=!1){return!!(0,n.HD)(e)&&((0,n.Kj)(t)?t.test(e):!!(0,n.HD)(t)&&(a?e===t:e.includes(t)))}(e,t,a)))}},6893:(e,t,a)=>{"use strict";a.d(t,{$2:()=>i,WD:()=>r,cW:()=>s});var n,o=a(7597);function r(e){return new s((t=>{t(e)}))}function i(e){return new s(((t,a)=>{a(e)}))}!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(n||(n={}));class s{constructor(e){s.prototype.__init.call(this),s.prototype.__init2.call(this),s.prototype.__init3.call(this),s.prototype.__init4.call(this),this._state=n.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new s(((a,n)=>{this._handlers.push([!1,t=>{if(e)try{a(e(t))}catch(e){n(e)}else a(t)},e=>{if(t)try{a(t(e))}catch(e){n(e)}else n(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new s(((t,a)=>{let n,o;return this.then((t=>{o=!1,n=t,e&&e()}),(t=>{o=!0,n=t,e&&e()})).then((()=>{o?a(n):t(n)}))}))}__init(){this._resolve=e=>{this._setResult(n.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(n.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===n.PENDING&&((0,o.J8)(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===n.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===n.RESOLVED&&e[1](this._value),this._state===n.REJECTED&&e[2](this._value),e[0]=!0)}))}}}},1170:(e,t,a)=>{"use strict";a.d(t,{Z1:()=>p,ph:()=>d,yW:()=>l});var n=a(2176),o=a(1235);e=a.hmd(e);const r=(0,o.Rf)(),i={nowSeconds:()=>Date.now()/1e3},s=(0,n.KV)()?function(){try{return(0,n.l$)(e,"perf_hooks").performance}catch(e){return}}():function(){const{performance:e}=r;if(e&&e.now)return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),c=void 0===s?i:{nowSeconds:()=>(s.timeOrigin+s.now())/1e3},l=i.nowSeconds.bind(i),d=c.nowSeconds.bind(c);let u;const p=(()=>{const{performance:e}=r;if(!e||!e.now)return void(u="none");const t=36e5,a=e.now(),n=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+a-n):t,i=o<t,s=e.timing&&e.timing.navigationStart,c="number"==typeof s?Math.abs(s+a-n):t;return i||c<t?o<=c?(u="timeOrigin",e.timeOrigin):(u="navigationStart",s):(u="dateNow",n)})()},7638:(e,t,a)=>{"use strict";a.d(t,{$p:()=>c,KA:()=>s,Ke:()=>r,qG:()=>i});var n=a(9181),o=a(2844);const r=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function i(e){if(!e)return;const t=e.match(r);if(!t)return;let a;return"1"===t[3]?a=!0:"0"===t[3]&&(a=!1),{traceId:t[1],parentSampled:a,parentSpanId:t[2]}}function s(e,t){const a=i(e),r=(0,n.EN)(t),{traceId:s,parentSpanId:c,parentSampled:l}=a||{},d={traceId:s||(0,o.DM)(),spanId:(0,o.DM)().substring(16),sampled:l};return c&&(d.parentSpanId=c),r&&(d.dsc=r),{traceparentData:a,dynamicSamplingContext:r,propagationContext:d}}function c(e=(0,o.DM)(),t=(0,o.DM)().substring(16),a){let n="";return void 0!==a&&(n=a?"-1":"-0"),`${e}-${t}${n}`}},6956:(e,t,a)=>{"use strict";function n(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const a=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:a,hash:n,relative:t[5]+a+n}}function o(e){return e.split(/[\?#]/,1)[0]}function r(e){return e.split(/\\?\//).filter((e=>e.length>0&&","!==e)).length}function i(e){const{protocol:t,host:a,path:n}=e;return`${t?`${t}://`:""}${a&&a.replace(/^.*@/,"[filtered]:[filtered]@").replace(":80","").replace(":443","")||""}${n}`}a.d(t,{$A:()=>r,en:()=>n,rt:()=>o,tF:()=>i})},1235:(e,t,a)=>{"use strict";function n(e){return e&&e.Math==Math?e:void 0}a.d(t,{Rf:()=>r,YO:()=>i,n2:()=>o});const o="object"==typeof globalThis&&n(globalThis)||"object"==typeof window&&n(window)||"object"==typeof self&&n(self)||"object"==typeof global&&n(global)||function(){return this}()||{};function r(){return o}function i(e,t,a){const n=a||o,r=n.__SENTRY__=n.__SENTRY__||{};return r[e]||(r[e]=t())}},8054:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const o=a(2361),r=n(a(5158)),i=n(a(3214)),s=r.default("agent-base");function c(){const{stack:e}=new Error;return"string"==typeof e&&e.split("\n").some((e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:")))}function l(e,t){return new l.Agent(e,t)}!function(e){class t extends o.EventEmitter{constructor(e,t){super();let a=t;"function"==typeof e?this.callback=e:e&&(a=e),this.timeout=null,a&&"number"==typeof a.timeout&&(this.timeout=a.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return"number"==typeof this.explicitDefaultPort?this.explicitDefaultPort:c()?443:80}set defaultPort(e){this.explicitDefaultPort=e}get protocol(){return"string"==typeof this.explicitProtocol?this.explicitProtocol:c()?"https:":"http:"}set protocol(e){this.explicitProtocol=e}callback(e,t,a){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(e,t){const a=Object.assign({},t);"boolean"!=typeof a.secureEndpoint&&(a.secureEndpoint=c()),null==a.host&&(a.host="localhost"),null==a.port&&(a.port=a.secureEndpoint?443:80),null==a.protocol&&(a.protocol=a.secureEndpoint?"https:":"http:"),a.host&&a.path&&delete a.path,delete a.agent,delete a.hostname,delete a._defaultAgent,delete a.defaultPort,delete a.createConnection,e._last=!0,e.shouldKeepAlive=!1;let n=!1,o=null;const r=a.timeout||this.timeout,l=t=>{e._hadError||(e.emit("error",t),e._hadError=!0)},d=()=>{o=null,n=!0;const e=new Error(`A "socket" was not created for HTTP request before ${r}ms`);e.code="ETIMEOUT",l(e)},u=e=>{n||(null!==o&&(clearTimeout(o),o=null),l(e))},p=t=>{if(n)return;if(null!=o&&(clearTimeout(o),o=null),r=t,Boolean(r)&&"function"==typeof r.addRequest)return s("Callback returned another Agent instance %o",t.constructor.name),void t.addRequest(e,a);var r;if(t)return t.once("free",(()=>{this.freeSocket(t,a)})),void e.onSocket(t);const i=new Error(`no Duplex stream was returned to agent-base for \`${e.method} ${e.path}\``);l(i)};if("function"==typeof this.callback){this.promisifiedCallback||(this.callback.length>=3?(s("Converting legacy callback function to promise"),this.promisifiedCallback=i.default(this.callback)):this.promisifiedCallback=this.callback),"number"==typeof r&&r>0&&(o=setTimeout(d,r)),"port"in a&&"number"!=typeof a.port&&(a.port=Number(a.port));try{s("Resolving socket for %o request: %o",a.protocol,`${e.method} ${e.path}`),Promise.resolve(this.promisifiedCallback(e,a)).then(p,u)}catch(e){Promise.reject(e).catch(u)}}else l(new Error("`callback` is not defined"))}freeSocket(e,t){s("Freeing socket %o %o",e.constructor.name,t),e.destroy()}destroy(){s("Destroying agent %o",this.constructor.name)}}e.Agent=t,e.prototype=e.Agent.prototype}(l||(l={})),e.exports=l},3214:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,a){return new Promise(((n,o)=>{e.call(this,t,a,((e,t)=>{e?o(e):n(t)}))}))}}},6489:(e,t)=>{"use strict";t.Q=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var o={},r=t||{},i=e.split(";"),s=r.decode||a,c=0;c<i.length;c++){var l=i[c],d=l.indexOf("=");if(!(d<0)){var u=l.substring(0,d).trim();if(null==o[u]){var p=l.substring(d+1,l.length).trim();'"'===p[0]&&(p=p.slice(1,-1)),o[u]=n(p,s)}}}return o};var a=decodeURIComponent;encodeURIComponent;function n(e,t){try{return t(e)}catch(t){return e}}},1227:(e,t,a)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const a="color: "+this.color;t.splice(1,0,a,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,a)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=a(2447)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},2447:(e,t,a)=>{e.exports=function(e){function t(e){let a,o,r,i=null;function s(...e){if(!s.enabled)return;const n=s,o=Number(new Date),r=o-(a||o);n.diff=r,n.prev=a,n.curr=o,a=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((a,o)=>{if("%%"===a)return"%";i++;const r=t.formatters[o];if("function"==typeof r){const t=e[i];a=r.call(n,t),e.splice(i,1),i--}return a})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(o!==t.namespaces&&(o=t.namespaces,r=t.enabled(e)),r),set:e=>{i=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,a){const n=t(this.namespace+(void 0===a?":":a)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let a;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(a=0;a<o;a++)n[a]&&("-"===(e=n[a].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let a,n;for(a=0,n=t.skips.length;a<n;a++)if(t.skips[a].test(e))return!1;for(a=0,n=t.names.length;a<n;a++)if(t.names[a].test(e))return!0;return!1},t.humanize=a(7824),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((a=>{t[a]=e[a]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let a=0;for(let t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t),a|=0;return t.colors[Math.abs(a)%t.colors.length]},t.enable(t.load()),t}},5158:(e,t,a)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=a(1227):e.exports=a(39)},39:(e,t,a)=>{const n=a(6224),o=a(3837);t.init=function(e){e.inspectOpts={};const a=Object.keys(t.inspectOpts);for(let n=0;n<a.length;n++)e.inspectOpts[a[n]]=t.inspectOpts[a[n]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(a){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),r=`  ${o};1m${n} [0m`;a[0]=r+a[0].split("\n").join("\n"+r),a.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else a[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+a[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=a(2130);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const a=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[a]=n,e}),{}),e.exports=a(2447)(t);const{formatters:r}=e.exports;r.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},r.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},2559:e=>{!function(){"use strict";var t=[,function(e,t){function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.lengthOf=t.keysOf=t.isObject=t.isInfOrNaN=t.isFunction=t.isArguments=t.hasOwn=t.handleError=t.convertMapToObject=t.checkError=void 0,t.isFunction=function(e){return"function"==typeof e},t.isObject=function(e){return"object"===n(e)},t.keysOf=function(e){return Object.keys(e)},t.lengthOf=function(e){return Object.keys(e).length};var o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};t.hasOwn=o,t.convertMapToObject=function(e){return Array.from(e).reduce((function(e,t){var n,o,r=(o=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,o,r=[],i=!0,s=!1;try{for(a=a.call(e);!(i=(n=a.next()).done)&&(r.push(n.value),!t||r.length!==t);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==a.return||a.return()}finally{if(s)throw o}}return r}}(n,o)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],s=r[1];return e[i]=s,e}),{})},t.isArguments=function(e){return null!=e&&o(e,"callee")},t.isInfOrNaN=function(e){return Number.isNaN(e)||e===1/0||e===-1/0};var r={maxStack:function(e){return new RegExp("Maximum call stack size exceeded","g").test(e)}};t.checkError=r,t.handleError=function(e){return function(){try{return e.apply(this,arguments)}catch(e){if(r.maxStack(e.message))throw new Error("Converting circular structure to JSON");throw e}}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Base64=void 0;for(var a=Object.create(null),n=function(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)},o=0;o<64;o++)a[n(o)]=o;var r=function(e){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var t=[],a=0;a<e;a++)t.push(0);return t.$Uint8ArrayPolyfill=!0,t}return new Uint8Array(new ArrayBuffer(e))},i={encode:function(e){if("string"==typeof e){var t=e;e=r(t.length);for(var a=0;a<t.length;a++){var o=t.charCodeAt(a);if(o>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");e[a]=o}}for(var i=[],s=null,c=null,l=null,d=null,u=0;u<e.length;u++)switch(u%3){case 0:s=e[u]>>2&63,c=(3&e[u])<<4;break;case 1:c|=e[u]>>4&15,l=(15&e[u])<<2;break;case 2:l|=e[u]>>6&3,d=63&e[u],i.push(n(s)),i.push(n(c)),i.push(n(l)),i.push(n(d)),s=null,c=null,l=null,d=null}return null!=s&&(i.push(n(s)),i.push(n(c)),null==l?i.push("="):i.push(n(l)),null==d&&i.push("=")),i.join("")},decode:function(e){var t=Math.floor(3*e.length/4);"="==e.charAt(e.length-1)&&(t--,"="==e.charAt(e.length-2)&&t--);for(var n,o=r(t),i=null,s=null,c=null,l=0,d=0;d<e.length;d++){var u="="===(n=e.charAt(d))?-1:a[n];switch(d%4){case 0:if(u<0)throw new Error("invalid base64 string");i=u<<2;break;case 1:if(u<0)throw new Error("invalid base64 string");i|=u>>4,o[l++]=i,s=(15&u)<<4;break;case 2:u>=0&&(s|=u>>2,o[l++]=s,c=(3&u)<<6);break;case 3:u>=0&&(o[l++]=c|u)}}return o},newBinary:r};t.Base64=i},function(e){e.exports={_noYieldsAllowed:function(e){return e()}}},function(e,t){function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function n(e){return JSON.stringify(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function e(t,o,r,i,s){var c=o[t];switch(a(c)){case"string":return n(c);case"number":return isFinite(c)?String(c):"null";case"boolean":return String(c);case"object":if(!c)return"null";var l,d=i+r,u=[];if(Array.isArray(c)||{}.hasOwnProperty.call(c,"callee")){for(var p=c.length,m=0;m<p;m+=1)u[m]=e(m,c,r,d,s)||"null";return l=0===u.length?"[]":d?"[\n"+d+u.join(",\n"+d)+"\n"+i+"]":"["+u.join(",")+"]"}var h=Object.keys(c);return s&&(h=h.sort()),h.forEach((function(t){(l=e(t,c,r,d,s))&&u.push(n(t)+(d?": ":":")+l)})),l=0===u.length?"{}":d?"{\n"+d+u.join(",\n"+d)+"\n"+i+"}":"{"+u.join(",")+"}"}};t.default=function(e,t){var a=Object.assign({indent:"",canonical:!1},t);if(!0===a.indent)a.indent="  ";else if("number"==typeof a.indent){for(var n="",r=0;r<a.indent;r++)n+=" ";a.indent=n}return o("",{"":e},a.indent,"",a.canonical)},e.exports=t.default}],a={};function n(e){var o=a[e];if(void 0!==o)return o.exports;var r=a[e]={exports:{}};return t[e](r,r.exports,n),r.exports}var o={};!function(){var e=o,t=n(2).Base64,a=n(3);Object.defineProperty(e,"__esModule",{value:!0}),e.EJSON=void 0;var r=n(1),i={};e.EJSON=i;var s=new Map;i.addType=function(e,t){if(s.has(e))throw new Error("Type ".concat(e," already present"));s.set(e,t)};var c=[{matchJSONValue:function(e){return(0,r.hasOwn)(e,"$date")&&1===(0,r.lengthOf)(e)},matchObject:function(e){return e instanceof Date},toJSONValue:function(e){return{$date:e.getTime()}},fromJSONValue:function(e){return new Date(e.$date)}},{matchJSONValue:function(e){return(0,r.hasOwn)(e,"$regexp")&&(0,r.hasOwn)(e,"$flags")&&2===(0,r.lengthOf)(e)},matchObject:function(e){return e instanceof RegExp},toJSONValue:function(e){return{$regexp:e.source,$flags:e.flags}},fromJSONValue:function(e){return new RegExp(e.$regexp,e.$flags.slice(0,50).replace(/[^gimuy]/g,"").replace(/(.)(?=.*\1)/g,""))}},{matchJSONValue:function(e){return(0,r.hasOwn)(e,"$InfNaN")&&1===(0,r.lengthOf)(e)},matchObject:r.isInfOrNaN,toJSONValue:function(e){return{$InfNaN:Number.isNaN(e)?0:e===1/0?1:-1}},fromJSONValue:function(e){return e.$InfNaN/0}},{matchJSONValue:function(e){return(0,r.hasOwn)(e,"$binary")&&1===(0,r.lengthOf)(e)},matchObject:function(e){return"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&(0,r.hasOwn)(e,"$Uint8ArrayPolyfill")},toJSONValue:function(e){return{$binary:t.encode(e)}},fromJSONValue:function(e){return t.decode(e.$binary)}},{matchJSONValue:function(e){return(0,r.hasOwn)(e,"$escape")&&1===(0,r.lengthOf)(e)},matchObject:function(e){var t=!1;if(e){var a=(0,r.lengthOf)(e);1!==a&&2!==a||(t=c.some((function(t){return t.matchJSONValue(e)})))}return t},toJSONValue:function(e){var t={};return(0,r.keysOf)(e).forEach((function(a){t[a]=i.toJSONValue(e[a])})),{$escape:t}},fromJSONValue:function(e){var t={};return(0,r.keysOf)(e.$escape).forEach((function(a){t[a]=i.fromJSONValue(e.$escape[a])})),t}},{matchJSONValue:function(e){return(0,r.hasOwn)(e,"$type")&&(0,r.hasOwn)(e,"$value")&&2===(0,r.lengthOf)(e)},matchObject:function(e){return i._isCustomType(e)},toJSONValue:function(e){var t=a._noYieldsAllowed((function(){return e.toJSONValue()}));return{$type:e.typeName(),$value:t}},fromJSONValue:function(e){var t=e.$type;if(!s.has(t))throw new Error("Custom EJSON type ".concat(t," is not defined"));var n=s.get(t);return a._noYieldsAllowed((function(){return n(e.$value)}))}}];i._isCustomType=function(e){return e&&(0,r.isFunction)(e.toJSONValue)&&(0,r.isFunction)(e.typeName)&&s.has(e.typeName())},i._getTypes=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?s:(0,r.convertMapToObject)(s)},i._getConverters=function(){return c};var l=function(e){for(var t=0;t<c.length;t++){var a=c[t];if(a.matchObject(e))return a.toJSONValue(e)}},d=function e(t){if(null===t)return null;var a=l(t);return void 0!==a?a:(0,r.isObject)(t)?((0,r.keysOf)(t).forEach((function(a){var n=t[a];if((0,r.isObject)(n)||void 0===n||(0,r.isInfOrNaN)(n)){var o=l(n);o?t[a]=o:e(n)}})),t):t};i._adjustTypesToJSONValue=d,i.toJSONValue=function(e){var t=l(e);if(void 0!==t)return t;var a=e;return(0,r.isObject)(e)&&(a=i.clone(e),d(a)),a};var u=function(e){if((0,r.isObject)(e)&&null!==e){var t=(0,r.keysOf)(e);if(t.length<=2&&t.every((function(e){return"string"==typeof e&&"$"===e.substr(0,1)})))for(var a=0;a<c.length;a++){var n=c[a];if(n.matchJSONValue(e))return n.fromJSONValue(e)}}return e},p=function e(t){if(null===t)return null;var a=u(t);return a!==t?a:(0,r.isObject)(t)?((0,r.keysOf)(t).forEach((function(a){var n=t[a];if((0,r.isObject)(n)){var o=u(n);if(n!==o)return void(t[a]=o);e(n)}})),t):t};i._adjustTypesFromJSONValue=p,i.fromJSONValue=function(e){var t=u(e);return t===e&&(0,r.isObject)(e)&&(t=i.clone(e),p(t)),t},i.stringify=(0,r.handleError)((function(e,t){var a=i.toJSONValue(e);return t&&(t.canonical||t.indent)?n(4)(a,t):JSON.stringify(a)})),i.parse=function(e){if("string"!=typeof e)throw new Error("EJSON.parse argument should be a string");return i.fromJSONValue(JSON.parse(e))},i.isBinary=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},i.equals=function(e,t,a){var n,o=!(!a||!a.keyOrderSensitive);if(e===t)return!0;if(Number.isNaN(e)&&Number.isNaN(t))return!0;if(!e||!t)return!1;if(!(0,r.isObject)(e)||!(0,r.isObject)(t))return!1;if(e instanceof Date&&t instanceof Date)return e.valueOf()===t.valueOf();if(i.isBinary(e)&&i.isBinary(t)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}if((0,r.isFunction)(e.equals))return e.equals(t,a);if((0,r.isFunction)(t.equals))return t.equals(e,a);var s,c=Array.isArray(e),l=Array.isArray(t);if(c!==l)return!1;if(c&&l){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!i.equals(e[n],t[n],a))return!1;return!0}switch(i._isCustomType(e)+i._isCustomType(t)){case 1:return!1;case 2:return i.equals(i.toJSONValue(e),i.toJSONValue(t))}var d=(0,r.keysOf)(e),u=(0,r.keysOf)(t);return o?(n=0,s=d.every((function(o){return!(n>=u.length||o!==u[n]||!i.equals(e[o],t[u[n]],a)||(n++,0))}))):(n=0,s=d.every((function(o){return!!(0,r.hasOwn)(t,o)&&!!i.equals(e[o],t[o],a)&&(n++,!0)}))),s&&n===u.length},i.clone=function(e){var t;if(!(0,r.isObject)(e))return e;if(null===e)return null;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return e;if(i.isBinary(e)){t=i.newBinary(e.length);for(var a=0;a<e.length;a++)t[a]=e[a];return t}return Array.isArray(e)?e.map(i.clone):(0,r.isArguments)(e)?Array.from(e).map(i.clone):(0,r.isFunction)(e.clone)?e.clone():i._isCustomType(e)?i.fromJSONValue(i.clone(i.toJSONValue(e)),!0):(t={},(0,r.keysOf)(e).forEach((function(a){t[a]=i.clone(e[a])})),t)},i.newBinary=t.newBinary}(),e.exports=o.EJSON}()},6729:e=>{"use strict";var t=Object.prototype.hasOwnProperty,a="~";function n(){}function o(e,t,a){this.fn=e,this.context=t,this.once=a||!1}function r(e,t,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,r||e,i),c=a?a+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function i(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(a=!1)),s.prototype.eventNames=function(){var e,n,o=[];if(0===this._eventsCount)return o;for(n in e=this._events)t.call(e,n)&&o.push(a?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e){var t=a?a+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,r=n.length,i=new Array(r);o<r;o++)i[o]=n[o].fn;return i},s.prototype.listenerCount=function(e){var t=a?a+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,o,r,i){var s=a?a+e:e;if(!this._events[s])return!1;var c,l,d=this._events[s],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,o),!0;case 5:return d.fn.call(d.context,t,n,o,r),!0;case 6:return d.fn.call(d.context,t,n,o,r,i),!0}for(l=1,c=new Array(u-1);l<u;l++)c[l-1]=arguments[l];d.fn.apply(d.context,c)}else{var p,m=d.length;for(l=0;l<m;l++)switch(d[l].once&&this.removeListener(e,d[l].fn,void 0,!0),u){case 1:d[l].fn.call(d[l].context);break;case 2:d[l].fn.call(d[l].context,t);break;case 3:d[l].fn.call(d[l].context,t,n);break;case 4:d[l].fn.call(d[l].context,t,n,o);break;default:if(!c)for(p=1,c=new Array(u-1);p<u;p++)c[p-1]=arguments[p];d[l].fn.apply(d[l].context,c)}}return!0},s.prototype.on=function(e,t,a){return r(this,e,t,a,!1)},s.prototype.once=function(e,t,a){return r(this,e,t,a,!0)},s.prototype.removeListener=function(e,t,n,o){var r=a?a+e:e;if(!this._events[r])return this;if(!t)return i(this,r),this;var s=this._events[r];if(s.fn)s.fn!==t||o&&!s.once||n&&s.context!==n||i(this,r);else{for(var c=0,l=[],d=s.length;c<d;c++)(s[c].fn!==t||o&&!s[c].once||n&&s[c].context!==n)&&l.push(s[c]);l.length?this._events[r]=1===l.length?l[0]:l:i(this,r)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&i(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=a,s.EventEmitter=s,e.exports=s},4063:e=>{"use strict";e.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var n,o,r;if(Array.isArray(t)){if((n=t.length)!=a.length)return!1;for(o=n;0!=o--;)if(!e(t[o],a[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((n=(r=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(a,r[o]))return!1;for(o=n;0!=o--;){var i=r[o];if(!e(t[i],a[i]))return!1}return!0}return t!=t&&a!=a}},6560:e=>{"use strict";e.exports=(e,t=process.argv)=>{const a=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(a+e),o=t.indexOf("--");return-1!==n&&(-1===o||n<o)}},9146:function(e,t,a){"use strict";var n=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(o,r){function i(e){try{c(n.next(e))}catch(e){r(e)}}function s(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(a(1808)),i=o(a(4404)),s=o(a(7310)),c=o(a(9491)),l=o(a(5158)),d=a(8054),u=o(a(9829)),p=l.default("https-proxy-agent:agent");class m extends d.Agent{constructor(e){let t;if(t="string"==typeof e?s.default.parse(e):e,!t)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");p("creating new HttpsProxyAgent instance: %o",t),super(t);const a=Object.assign({},t);var n;this.secureProxy=t.secureProxy||"string"==typeof(n=a.protocol)&&/^https:?$/i.test(n),a.host=a.hostname||a.host,"string"==typeof a.port&&(a.port=parseInt(a.port,10)),!a.port&&a.host&&(a.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in a)&&(a.ALPNProtocols=["http 1.1"]),a.host&&a.path&&(delete a.path,delete a.pathname),this.proxy=a}callback(e,t){return n(this,void 0,void 0,(function*(){const{proxy:a,secureProxy:n}=this;let o;n?(p("Creating `tls.Socket`: %o",a),o=i.default.connect(a)):(p("Creating `net.Socket`: %o",a),o=r.default.connect(a));const s=Object.assign({},a.headers);let l=`CONNECT ${t.host}:${t.port} HTTP/1.1\r\n`;a.auth&&(s["Proxy-Authorization"]=`Basic ${Buffer.from(a.auth).toString("base64")}`);let{host:d,port:m,secureEndpoint:_}=t;(function(e,t){return Boolean(!t&&80===e||t&&443===e)})(m,_)||(d+=`:${m}`),s.Host=d,s.Connection="close";for(const e of Object.keys(s))l+=`${e}: ${s[e]}\r\n`;const f=u.default(o);o.write(`${l}\r\n`);const{statusCode:g,buffered:b}=yield f;if(200===g){if(e.once("socket",h),t.secureEndpoint){p("Upgrading socket connection to TLS");const e=t.servername||t.host;return i.default.connect(Object.assign(Object.assign({},function(e,...t){const a={};let n;for(n in e)t.includes(n)||(a[n]=e[n]);return a}(t,"host","hostname","path","port")),{socket:o,servername:e}))}return o}o.destroy();const y=new r.default.Socket({writable:!1});return y.readable=!0,e.once("socket",(e=>{p("replaying proxy buffer for failed request"),c.default(e.listenerCount("data")>0),e.push(b),e.push(null)})),y}))}}function h(e){e.resume()}t.default=m},6018:function(e,t,a){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(a(9146));function o(e){return new n.default(e)}!function(e){e.HttpsProxyAgent=n.default,e.prototype=n.default.prototype}(o||(o={})),e.exports=o},9829:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(a(5158)).default("https-proxy-agent:parse-proxy-response");t.default=function(e){return new Promise(((t,a)=>{let n=0;const r=[];function i(){const a=e.read();a?function(e){r.push(e),n+=e.length;const a=Buffer.concat(r,n);if(-1===a.indexOf("\r\n\r\n"))return o("have not received end of HTTP headers yet..."),void i();const s=a.toString("ascii",0,a.indexOf("\r\n")),c=+s.split(" ")[1];o("got proxy server response: %o",s),t({statusCode:c,buffered:a})}(a):e.once("readable",i)}function s(e){o("onclose had error %o",e)}function c(){o("onend")}e.on("error",(function t(n){e.removeListener("end",c),e.removeListener("error",t),e.removeListener("close",s),e.removeListener("readable",i),o("onerror %o",n),a(n)})),e.on("close",s),e.on("end",c),i()}))}},7612:function(e,t,a){var n,o;!function(r,i){const s=t;!function(e){const t=Symbol("newer"),a=Symbol("older");function n(e,t){"number"!=typeof e&&(t=e,e=0),this.size=0,this.limit=e,this.oldest=this.newest=void 0,this._keymap=new Map,t&&(this.assign(t),e<1&&(this.limit=this.size))}function o(e,n){this.key=e,this.value=n,this[t]=void 0,this[a]=void 0}function r(e){this.entry=e}function i(e){this.entry=e}function s(e){this.entry=e}e.LRUMap=n,n.prototype._markEntryAsUsed=function(e){e!==this.newest&&(e[t]&&(e===this.oldest&&(this.oldest=e[t]),e[t][a]=e[a]),e[a]&&(e[a][t]=e[t]),e[t]=void 0,e[a]=this.newest,this.newest&&(this.newest[t]=e),this.newest=e)},n.prototype.assign=function(e){let n,r=this.limit||Number.MAX_VALUE;this._keymap.clear();let i=e[Symbol.iterator]();for(let e=i.next();!e.done;e=i.next()){let i=new o(e.value[0],e.value[1]);if(this._keymap.set(i.key,i),n?(n[t]=i,i[a]=n):this.oldest=i,n=i,0==r--)throw new Error("overflow")}this.newest=n,this.size=this._keymap.size},n.prototype.get=function(e){var t=this._keymap.get(e);if(t)return this._markEntryAsUsed(t),t.value},n.prototype.set=function(e,n){var r=this._keymap.get(e);return r?(r.value=n,this._markEntryAsUsed(r),this):(this._keymap.set(e,r=new o(e,n)),this.newest?(this.newest[t]=r,r[a]=this.newest):this.oldest=r,this.newest=r,++this.size,this.size>this.limit&&this.shift(),this)},n.prototype.shift=function(){var e=this.oldest;if(e)return this.oldest[t]?(this.oldest=this.oldest[t],this.oldest[a]=void 0):(this.oldest=void 0,this.newest=void 0),e[t]=e[a]=void 0,this._keymap.delete(e.key),--this.size,[e.key,e.value]},n.prototype.find=function(e){let t=this._keymap.get(e);return t?t.value:void 0},n.prototype.has=function(e){return this._keymap.has(e)},n.prototype.delete=function(e){var n=this._keymap.get(e);if(n)return this._keymap.delete(n.key),n[t]&&n[a]?(n[a][t]=n[t],n[t][a]=n[a]):n[t]?(n[t][a]=void 0,this.oldest=n[t]):n[a]?(n[a][t]=void 0,this.newest=n[a]):this.oldest=this.newest=void 0,this.size--,n.value},n.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()},r.prototype[Symbol.iterator]=function(){return this},r.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:[e.key,e.value]}):{done:!0,value:void 0}},i.prototype[Symbol.iterator]=function(){return this},i.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:e.key}):{done:!0,value:void 0}},s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:e.value}):{done:!0,value:void 0}},n.prototype.keys=function(){return new i(this.oldest)},n.prototype.values=function(){return new s(this.oldest)},n.prototype.entries=function(){return this},n.prototype[Symbol.iterator]=function(){return new r(this.oldest)},n.prototype.forEach=function(e,a){"object"!=typeof a&&(a=this);let n=this.oldest;for(;n;)e.call(a,n.value,n.key,this),n=n[t]},n.prototype.toJSON=function(){for(var e=new Array(this.size),a=0,n=this.oldest;n;)e[a++]={key:n.key,value:n.value},n=n[t];return e},n.prototype.toString=function(){for(var e="",a=this.oldest;a;)e+=String(a.key)+":"+a.value,(a=a[t])&&(e+=" < ");return e}}(s),void 0===(o="function"==typeof(n=s)?n.call(t,a,t,e):n)||(e.exports=o)}()},4341:e=>{"use strict";const t=(e,t,n,o)=>{if("length"===n||"prototype"===n)return;if("arguments"===n||"caller"===n)return;const r=Object.getOwnPropertyDescriptor(e,n),i=Object.getOwnPropertyDescriptor(t,n);!a(r,i)&&o||Object.defineProperty(e,n,i)},a=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},n=(e,t)=>`/* Wrapped ${e}*/\n${t}`,o=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),r=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");e.exports=(e,a,{ignoreNonConfigurable:i=!1}={})=>{const{name:s}=e;for(const n of Reflect.ownKeys(a))t(e,a,n,i);return((e,t)=>{const a=Object.getPrototypeOf(t);a!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,a)})(e,a),((e,t,a)=>{const i=""===a?"":`with ${a.trim()}() `,s=n.bind(null,i,t.toString());Object.defineProperty(s,"name",r),Object.defineProperty(e,"toString",{...o,value:s})})(e,a,s),e}},7824:e=>{var t=1e3,a=60*t,n=60*a,o=24*n;function r(e,t,a,n){var o=t>=1.5*a;return Math.round(e/a)+" "+n+(o?"s":"")}e.exports=function(e,i){i=i||{};var s,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(r){var i=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return i*o;case"hours":case"hour":case"hrs":case"hr":case"h":return i*n;case"minutes":case"minute":case"mins":case"min":case"m":return i*a;case"seconds":case"second":case"secs":case"sec":case"s":return i*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===l&&isFinite(e))return i.long?(s=e,(c=Math.abs(s))>=o?r(s,c,o,"day"):c>=n?r(s,c,n,"hour"):c>=a?r(s,c,a,"minute"):c>=t?r(s,c,t,"second"):s+" ms"):function(e){var r=Math.abs(e);return r>=o?Math.round(e/o)+"d":r>=n?Math.round(e/n)+"h":r>=a?Math.round(e/a)+"m":r>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},3414:(e,t,a)=>{if(!globalThis.DOMException)try{const{MessageChannel:e}=a(1267),t=(new e).port1,n=new ArrayBuffer;t.postMessage(n,[n,n])}catch(e){"DOMException"===e.constructor.name&&(globalThis.DOMException=e.constructor)}e.exports=globalThis.DOMException},7345:e=>{"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then((e=>new Promise((e=>{e(t())})).then((()=>e))),(e=>new Promise((e=>{e(t())})).then((()=>{throw e})))))},5860:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(6729),o=a(6512),r=a(6506),i=()=>{},s=new o.TimeoutError;t.default=class extends n{constructor(e){var t,a,n,o;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=i,this._resolveIdle=i,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:r.default},e)).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(a=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==a?a:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(o=null===(n=e.interval)||void 0===n?void 0:n.toString())&&void 0!==o?o:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=i,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=i,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((()=>{this._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise(((a,n)=>{this._queue.enqueue((async()=>{this._pendingCount++,this._intervalCount++;try{const r=void 0===this._timeout&&void 0===t.timeout?e():o.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,(()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&n(s)}));a(await r)}catch(e){n(e)}this._next()}),t),this._tryToStartAnother(),this.emit("add")}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise((e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}}))}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise((e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}}))}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}},7489:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){let n=0,o=e.length;for(;o>0;){const r=o/2|0;let i=n+r;a(e[i],t)<=0?(n=++i,o-=r+1):o=r}return n}},6506:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(7489);t.default=class{constructor(){this._queue=[]}enqueue(e,t){const a={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(a);const o=n.default(this._queue,a,((e,t)=>t.priority-e.priority));this._queue.splice(o,0,a)}dequeue(){const e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this._queue.length}}},6512:(e,t,a)=>{"use strict";const n=a(7345);class o extends Error{constructor(e){super(e),this.name="TimeoutError"}}const r=(e,t,a)=>new Promise(((r,i)=>{if("number"!=typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void r(e);const s=setTimeout((()=>{if("function"==typeof a){try{r(a())}catch(e){i(e)}return}const n=a instanceof Error?a:new o("string"==typeof a?a:`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),i(n)}),t);n(e.then(r,i),(()=>{clearTimeout(s)}))}));e.exports=r,e.exports.default=r,e.exports.TimeoutError=o},2130:(e,t,a)=>{"use strict";const n=a(2037),o=a(6224),r=a(6560),{env:i}=process;let s;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function l(e,t){if(0===s)return 0;if(r("color=16m")||r("color=full")||r("color=truecolor"))return 3;if(r("color=256"))return 2;if(e&&!t&&void 0===s)return 0;const a=s||0;if("dumb"===i.TERM)return a;if("win32"===process.platform){const e=n.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((e=>e in i))||"codeship"===i.CI_NAME?1:a;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("truecolor"===i.COLORTERM)return 3;if("TERM_PROGRAM"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||"COLORTERM"in i?1:a}r("no-color")||r("no-colors")||r("color=false")||r("color=never")?s=0:(r("color")||r("colors")||r("color=true")||r("color=always"))&&(s=1),"FORCE_COLOR"in i&&(s="true"===i.FORCE_COLOR?1:"false"===i.FORCE_COLOR?0:0===i.FORCE_COLOR.length?1:Math.min(parseInt(i.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(l(e,e&&e.isTTY))},stdout:c(l(!0,o.isatty(1))),stderr:c(l(!0,o.isatty(2)))}},2660:function(e,t){var a;a=function(e){"use strict";const t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function a(){}const n="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0;function o(e){return"object"==typeof e&&null!==e||"function"==typeof e}const r=a,i=Promise,s=Promise.prototype.then,c=Promise.resolve.bind(i),l=Promise.reject.bind(i);function d(e){return new i(e)}function u(e){return c(e)}function p(e){return l(e)}function m(e,t,a){return s.call(e,t,a)}function h(e,t,a){m(m(e,t,a),void 0,r)}function _(e,t){h(e,t)}function f(e,t){h(e,void 0,t)}function g(e,t,a){return m(e,t,a)}function b(e){m(e,void 0,r)}const y=(()=>{const e=n&&n.queueMicrotask;if("function"==typeof e)return e;const t=u(void 0);return e=>m(t,e)})();function v(e,t,a){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,a)}function w(e,t,a){try{return u(v(e,t,a))}catch(e){return p(e)}}class S{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const t=this._back;let a=t;16383===t._elements.length&&(a={_elements:[],_next:void 0}),t._elements.push(e),a!==t&&(this._back=a,t._next=a),++this._size}shift(){const e=this._front;let t=e;const a=this._cursor;let n=a+1;const o=e._elements,r=o[a];return 16384===n&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),o[a]=void 0,r}forEach(e){let t=this._cursor,a=this._front,n=a._elements;for(;!(t===n.length&&void 0===a._next||t===n.length&&(a=a._next,n=a._elements,t=0,0===n.length));)e(n[t]),++t}peek(){const e=this._front,t=this._cursor;return e._elements[t]}}function k(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?I(e):"closed"===t._state?function(e){I(e),O(e)}(e):T(e,t._storedError)}function E(e,t){return va(e._ownerReadableStream,t)}function A(e){"readable"===e._ownerReadableStream._state?P(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){T(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}(e),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function x(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function I(e){e._closedPromise=d(((t,a)=>{e._closedPromise_resolve=t,e._closedPromise_reject=a}))}function T(e,t){I(e),P(e,t)}function P(e,t){void 0!==e._closedPromise_reject&&(b(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function O(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const C=t("[[AbortSteps]]"),N=t("[[ErrorSteps]]"),R=t("[[CancelSteps]]"),D=t("[[PullSteps]]"),G=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},U=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function B(e,t){if(void 0!==e&&"object"!=typeof(a=e)&&"function"!=typeof a)throw new TypeError(`${t} is not an object.`);var a}function M(e,t){if("function"!=typeof e)throw new TypeError(`${t} is not a function.`)}function z(e,t){if(!function(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError(`${t} is not an object.`)}function L(e,t,a){if(void 0===e)throw new TypeError(`Parameter ${t} is required in '${a}'.`)}function F(e,t,a){if(void 0===e)throw new TypeError(`${t} is required in '${a}'.`)}function $(e){return Number(e)}function j(e){return 0===e?0:e}function V(e,t){const a=Number.MAX_SAFE_INTEGER;let n=Number(e);if(n=j(n),!G(n))throw new TypeError(`${t} is not a finite number`);if(n=function(e){return j(U(e))}(n),n<0||n>a)throw new TypeError(`${t} is outside the accepted range of 0 to ${a}, inclusive`);return G(n)&&0!==n?n:0}function W(e,t){if(!ba(e))throw new TypeError(`${t} is not a ReadableStream.`)}function q(e){return new K(e)}function Y(e,t){e._reader._readRequests.push(t)}function H(e,t,a){const n=e._reader._readRequests.shift();a?n._closeSteps():n._chunkSteps(t)}function Z(e){return e._reader._readRequests.length}function J(e){const t=e._reader;return void 0!==t&&!!Q(t)}class K{constructor(e){if(L(e,1,"ReadableStreamDefaultReader"),W(e,"First parameter"),ya(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");k(this,e),this._readRequests=new S}get closed(){return Q(this)?this._closedPromise:p(ee("closed"))}cancel(e=void 0){return Q(this)?void 0===this._ownerReadableStream?p(x("cancel")):E(this,e):p(ee("cancel"))}read(){if(!Q(this))return p(ee("read"));if(void 0===this._ownerReadableStream)return p(x("read from"));let e,t;const a=d(((a,n)=>{e=a,t=n}));return X(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),a}releaseLock(){if(!Q(this))throw ee("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");A(this)}}}function Q(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof K}function X(e,t){const a=e._ownerReadableStream;a._disturbed=!0,"closed"===a._state?t._closeSteps():"errored"===a._state?t._errorSteps(a._storedError):a._readableStreamController[D](t)}function ee(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(K.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(K.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});const te=Object.getPrototypeOf(Object.getPrototypeOf((async function*(){})).prototype);class ae{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?g(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const t=()=>this._returnSteps(e);return this._ongoingPromise?g(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;if(void 0===e._ownerReadableStream)return p(x("iterate"));let t,a;const n=d(((e,n)=>{t=e,a=n}));return X(e,{_chunkSteps:e=>{this._ongoingPromise=void 0,y((()=>t({value:e,done:!1})))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,A(e),t({value:void 0,done:!0})},_errorSteps:t=>{this._ongoingPromise=void 0,this._isFinished=!0,A(e),a(t)}}),n}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const t=this._reader;if(void 0===t._ownerReadableStream)return p(x("finish iterating"));if(!this._preventCancel){const a=E(t,e);return A(t),g(a,(()=>({value:e,done:!0})))}return A(t),u({value:e,done:!0})}}const ne={next(){return oe(this)?this._asyncIteratorImpl.next():p(re("next"))},return(e){return oe(this)?this._asyncIteratorImpl.return(e):p(re("return"))}};function oe(e){if(!o(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof ae}catch(e){return!1}}function re(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}void 0!==te&&Object.setPrototypeOf(ne,te);const ie=Number.isNaN||function(e){return e!=e};function se(e){return e.slice()}function ce(e,t,a,n,o){new Uint8Array(e).set(new Uint8Array(a,n,o),t)}function le(e,t,a){if(e.slice)return e.slice(t,a);const n=a-t,o=new ArrayBuffer(n);return ce(o,0,e,t,n),o}function de(e){const t=le(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function ue(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function pe(e,t,a){if("number"!=typeof(n=a)||ie(n)||n<0||a===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var n;e._queue.push({value:t,size:a}),e._queueTotalSize+=a}function me(e){e._queue=new S,e._queueTotalSize=0}class he{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!ge(this))throw ze("view");return this._view}respond(e){if(!ge(this))throw ze("respond");if(L(e,1,"respond"),e=V(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,Ue(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!ge(this))throw ze("respondWithNewView");if(L(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");e.buffer,Be(this._associatedReadableByteStreamController,e)}}Object.defineProperties(he.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(he.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class _e{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!fe(this))throw Le("byobRequest");return De(this)}get desiredSize(){if(!fe(this))throw Le("desiredSize");return Ge(this)}close(){if(!fe(this))throw Le("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);Ce(this)}enqueue(e){if(!fe(this))throw Le("enqueue");if(L(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);Ne(this,e)}error(e=void 0){if(!fe(this))throw Le("error");Re(this,e)}[R](e){ye(this),me(this);const t=this._cancelAlgorithm(e);return Oe(this),t}[D](e){const t=this._controlledReadableByteStream;if(this._queueTotalSize>0){const t=this._queue.shift();this._queueTotalSize-=t.byteLength,Ae(this);const a=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return void e._chunkSteps(a)}const a=this._autoAllocateChunkSize;if(void 0!==a){let t;try{t=new ArrayBuffer(a)}catch(t){return void e._errorSteps(t)}const n={buffer:t,bufferByteLength:a,byteOffset:0,byteLength:a,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(n)}Y(t,e),be(this)}}function fe(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof _e}function ge(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof he}function be(e){const t=function(e){const t=e._controlledReadableByteStream;if("readable"!==t._state)return!1;if(e._closeRequested)return!1;if(!e._started)return!1;if(J(t)&&Z(t)>0)return!0;if(Ve(t)&&je(t)>0)return!0;return Ge(e)>0}(e);t&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,h(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,be(e))}),(t=>{Re(e,t)}))))}function ye(e){xe(e),e._pendingPullIntos=new S}function ve(e,t){let a=!1;"closed"===e._state&&(a=!0);const n=we(t);"default"===t.readerType?H(e,n,a):function(e,t,a){const n=e._reader._readIntoRequests.shift();a?n._closeSteps(t):n._chunkSteps(t)}(e,n,a)}function we(e){const t=e.bytesFilled,a=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/a)}function Se(e,t,a,n){e._queue.push({buffer:t,byteOffset:a,byteLength:n}),e._queueTotalSize+=n}function ke(e,t){const a=t.elementSize,n=t.bytesFilled-t.bytesFilled%a,o=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),r=t.bytesFilled+o,i=r-r%a;let s=o,c=!1;i>n&&(s=i-t.bytesFilled,c=!0);const l=e._queue;for(;s>0;){const a=l.peek(),n=Math.min(s,a.byteLength),o=t.byteOffset+t.bytesFilled;ce(t.buffer,o,a.buffer,a.byteOffset,n),a.byteLength===n?l.shift():(a.byteOffset+=n,a.byteLength-=n),e._queueTotalSize-=n,Ee(0,n,t),s-=n}return c}function Ee(e,t,a){a.bytesFilled+=t}function Ae(e){0===e._queueTotalSize&&e._closeRequested?(Oe(e),wa(e._controlledReadableByteStream)):be(e)}function xe(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Ie(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const t=e._pendingPullIntos.peek();ke(e,t)&&(Pe(e),ve(e._controlledReadableByteStream,t))}}function Te(e,t){const a=e._pendingPullIntos.peek();xe(e),"closed"===e._controlledReadableByteStream._state?function(e,t){const a=e._controlledReadableByteStream;if(Ve(a))for(;je(a)>0;)ve(a,Pe(e))}(e):function(e,t,a){if(Ee(0,t,a),a.bytesFilled<a.elementSize)return;Pe(e);const n=a.bytesFilled%a.elementSize;if(n>0){const t=a.byteOffset+a.bytesFilled,o=le(a.buffer,t-n,t);Se(e,o,0,o.byteLength)}a.bytesFilled-=n,ve(e._controlledReadableByteStream,a),Ie(e)}(e,t,a),be(e)}function Pe(e){return e._pendingPullIntos.shift()}function Oe(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Ce(e){const t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Re(e,t),t}Oe(e),wa(t)}}function Ne(e,t){const a=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==a._state)return;const n=t.buffer,o=t.byteOffset,r=t.byteLength,i=n;if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();t.buffer,t.buffer=t.buffer}xe(e),J(a)?0===Z(a)?Se(e,i,o,r):(e._pendingPullIntos.length>0&&Pe(e),H(a,new Uint8Array(i,o,r),!1)):Ve(a)?(Se(e,i,o,r),Ie(e)):Se(e,i,o,r),be(e)}function Re(e,t){const a=e._controlledReadableByteStream;"readable"===a._state&&(ye(e),me(e),Oe(e),Sa(a,t))}function De(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek(),a=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(he.prototype);!function(e,t,a){e._associatedReadableByteStreamController=t,e._view=a}(n,e,a),e._byobRequest=n}return e._byobRequest}function Ge(e){const t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Ue(e,t){const a=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(a.bytesFilled+t>a.byteLength)throw new RangeError("bytesWritten out of range")}a.buffer=a.buffer,Te(e,t)}function Be(e,t){const a=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(a.byteOffset+a.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(a.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(a.bytesFilled+t.byteLength>a.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const n=t.byteLength;a.buffer=t.buffer,Te(e,n)}function Me(e,t,a,n,o,r,i){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,me(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=r,t._pullAlgorithm=n,t._cancelAlgorithm=o,t._autoAllocateChunkSize=i,t._pendingPullIntos=new S,e._readableStreamController=t,h(u(a()),(()=>{t._started=!0,be(t)}),(e=>{Re(t,e)}))}function ze(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Le(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Fe(e){return new We(e)}function $e(e,t){e._reader._readIntoRequests.push(t)}function je(e){return e._reader._readIntoRequests.length}function Ve(e){const t=e._reader;return void 0!==t&&!!qe(t)}Object.defineProperties(_e.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(_e.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class We{constructor(e){if(L(e,1,"ReadableStreamBYOBReader"),W(e,"First parameter"),ya(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!fe(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");k(this,e),this._readIntoRequests=new S}get closed(){return qe(this)?this._closedPromise:p(He("closed"))}cancel(e=void 0){return qe(this)?void 0===this._ownerReadableStream?p(x("cancel")):E(this,e):p(He("cancel"))}read(e){if(!qe(this))return p(He("read"));if(!ArrayBuffer.isView(e))return p(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return p(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return p(new TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,void 0===this._ownerReadableStream)return p(x("read from"));let t,a;const n=d(((e,n)=>{t=e,a=n}));return Ye(this,e,{_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:e=>t({value:e,done:!0}),_errorSteps:e=>a(e)}),n}releaseLock(){if(!qe(this))throw He("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");A(this)}}}function qe(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof We}function Ye(e,t,a){const n=e._ownerReadableStream;n._disturbed=!0,"errored"===n._state?a._errorSteps(n._storedError):function(e,t,a){const n=e._controlledReadableByteStream;let o=1;t.constructor!==DataView&&(o=t.constructor.BYTES_PER_ELEMENT);const r=t.constructor,i=t.buffer,s={buffer:i,bufferByteLength:i.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:o,viewConstructor:r,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(s),void $e(n,a);if("closed"!==n._state){if(e._queueTotalSize>0){if(ke(e,s)){const t=we(s);return Ae(e),void a._chunkSteps(t)}if(e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");return Re(e,t),void a._errorSteps(t)}}e._pendingPullIntos.push(s),$e(n,a),be(e)}else{const e=new r(s.buffer,s.byteOffset,0);a._closeSteps(e)}}(n._readableStreamController,t,a)}function He(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Ze(e,t){const{highWaterMark:a}=e;if(void 0===a)return t;if(ie(a)||a<0)throw new RangeError("Invalid highWaterMark");return a}function Je(e){const{size:t}=e;return t||(()=>1)}function Ke(e,t){B(e,t);const a=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===a?void 0:$(a),size:void 0===n?void 0:Qe(n,`${t} has member 'size' that`)}}function Qe(e,t){return M(e,t),t=>$(e(t))}function Xe(e,t,a){return M(e,a),a=>w(e,t,[a])}function et(e,t,a){return M(e,a),()=>w(e,t,[])}function tt(e,t,a){return M(e,a),a=>v(e,t,[a])}function at(e,t,a){return M(e,a),(a,n)=>w(e,t,[a,n])}function nt(e,t){if(!ct(e))throw new TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(We.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(We.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});const ot="function"==typeof AbortController;class rt{constructor(e={},t={}){void 0===e?e=null:z(e,"First parameter");const a=Ke(t,"Second parameter"),n=function(e,t){B(e,t);const a=null==e?void 0:e.abort,n=null==e?void 0:e.close,o=null==e?void 0:e.start,r=null==e?void 0:e.type,i=null==e?void 0:e.write;return{abort:void 0===a?void 0:Xe(a,e,`${t} has member 'abort' that`),close:void 0===n?void 0:et(n,e,`${t} has member 'close' that`),start:void 0===o?void 0:tt(o,e,`${t} has member 'start' that`),write:void 0===i?void 0:at(i,e,`${t} has member 'write' that`),type:r}}(e,"First parameter");if(st(this),void 0!==n.type)throw new RangeError("Invalid type is specified");const o=Je(a);!function(e,t,a,n){const o=Object.create(At.prototype);let r=()=>{},i=()=>u(void 0),s=()=>u(void 0),c=()=>u(void 0);void 0!==t.start&&(r=()=>t.start(o)),void 0!==t.write&&(i=e=>t.write(e,o)),void 0!==t.close&&(s=()=>t.close()),void 0!==t.abort&&(c=e=>t.abort(e)),It(e,o,r,i,s,c,a,n)}(this,n,Ze(a,1),o)}get locked(){if(!ct(this))throw Dt("locked");return lt(this)}abort(e=void 0){return ct(this)?lt(this)?p(new TypeError("Cannot abort a stream that already has a writer")):dt(this,e):p(Dt("abort"))}close(){return ct(this)?lt(this)?p(new TypeError("Cannot close a stream that already has a writer")):_t(this)?p(new TypeError("Cannot close an already-closing stream")):ut(this):p(Dt("close"))}getWriter(){if(!ct(this))throw Dt("getWriter");return it(this)}}function it(e){return new bt(e)}function st(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new S,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function ct(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof rt}function lt(e){return void 0!==e._writer}function dt(e,t){var a;if("closed"===e._state||"errored"===e._state)return u(void 0);e._writableStreamController._abortReason=t,null===(a=e._writableStreamController._abortController)||void 0===a||a.abort();const n=e._state;if("closed"===n||"errored"===n)return u(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let o=!1;"erroring"===n&&(o=!0,t=void 0);const r=d(((a,n)=>{e._pendingAbortRequest={_promise:void 0,_resolve:a,_reject:n,_reason:t,_wasAlreadyErroring:o}}));return e._pendingAbortRequest._promise=r,o||mt(e,t),r}function ut(e){const t=e._state;if("closed"===t||"errored"===t)return p(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const a=d(((t,a)=>{const n={_resolve:t,_reject:a};e._closeRequest=n})),n=e._writer;var o;return void 0!==n&&e._backpressure&&"writable"===t&&qt(n),pe(o=e._writableStreamController,Et,0),Ot(o),a}function pt(e,t){"writable"!==e._state?ht(e):mt(e,t)}function mt(e,t){const a=e._writableStreamController;e._state="erroring",e._storedError=t;const n=e._writer;void 0!==n&&wt(n,t),!function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&a._started&&ht(e)}function ht(e){e._state="errored",e._writableStreamController[N]();const t=e._storedError;if(e._writeRequests.forEach((e=>{e._reject(t)})),e._writeRequests=new S,void 0===e._pendingAbortRequest)return void ft(e);const a=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,a._wasAlreadyErroring)return a._reject(t),void ft(e);h(e._writableStreamController[C](a._reason),(()=>{a._resolve(),ft(e)}),(t=>{a._reject(t),ft(e)}))}function _t(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function ft(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;void 0!==t&&Lt(t,e._storedError)}function gt(e,t){const a=e._writer;void 0!==a&&t!==e._backpressure&&(t?function(e){$t(e)}(a):qt(a)),e._backpressure=t}Object.defineProperties(rt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(rt.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});class bt{constructor(e){if(L(e,1,"WritableStreamDefaultWriter"),nt(e,"First parameter"),lt(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const t=e._state;if("writable"===t)!_t(e)&&e._backpressure?$t(this):Vt(this),Mt(this);else if("erroring"===t)jt(this,e._storedError),Mt(this);else if("closed"===t)Vt(this),Mt(this),Ft(this);else{const t=e._storedError;jt(this,t),zt(this,t)}}get closed(){return yt(this)?this._closedPromise:p(Ut("closed"))}get desiredSize(){if(!yt(this))throw Ut("desiredSize");if(void 0===this._ownerWritableStream)throw Bt("desiredSize");return function(e){const t=e._ownerWritableStream,a=t._state;return"errored"===a||"erroring"===a?null:"closed"===a?0:Pt(t._writableStreamController)}(this)}get ready(){return yt(this)?this._readyPromise:p(Ut("ready"))}abort(e=void 0){return yt(this)?void 0===this._ownerWritableStream?p(Bt("abort")):function(e,t){return dt(e._ownerWritableStream,t)}(this,e):p(Ut("abort"))}close(){if(!yt(this))return p(Ut("close"));const e=this._ownerWritableStream;return void 0===e?p(Bt("close")):_t(e)?p(new TypeError("Cannot close an already-closing stream")):vt(this)}releaseLock(){if(!yt(this))throw Ut("releaseLock");void 0!==this._ownerWritableStream&&St(this)}write(e=void 0){return yt(this)?void 0===this._ownerWritableStream?p(Bt("write to")):kt(this,e):p(Ut("write"))}}function yt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof bt}function vt(e){return ut(e._ownerWritableStream)}function wt(e,t){"pending"===e._readyPromiseState?Wt(e,t):function(e,t){jt(e,t)}(e,t)}function St(e){const t=e._ownerWritableStream,a=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");wt(e,a),function(e,t){"pending"===e._closedPromiseState?Lt(e,t):function(e,t){zt(e,t)}(e,t)}(e,a),t._writer=void 0,e._ownerWritableStream=void 0}function kt(e,t){const a=e._ownerWritableStream,n=a._writableStreamController,o=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return Ct(e,t),1}}(n,t);if(a!==e._ownerWritableStream)return p(Bt("write to"));const r=a._state;if("errored"===r)return p(a._storedError);if(_t(a)||"closed"===r)return p(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===r)return p(a._storedError);const i=function(e){return d(((t,a)=>{const n={_resolve:t,_reject:a};e._writeRequests.push(n)}))}(a);return function(e,t,a){try{pe(e,t,a)}catch(t){return void Ct(e,t)}const n=e._controlledWritableStream;_t(n)||"writable"!==n._state||gt(n,Nt(e)),Ot(e)}(n,t,o),i}Object.defineProperties(bt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(bt.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const Et={};class At{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!xt(this))throw Gt("abortReason");return this._abortReason}get signal(){if(!xt(this))throw Gt("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e=void 0){if(!xt(this))throw Gt("error");"writable"===this._controlledWritableStream._state&&Rt(this,e)}[C](e){const t=this._abortAlgorithm(e);return Tt(this),t}[N](){me(this)}}function xt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof At}function It(e,t,a,n,o,r,i,s){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,me(t),t._abortReason=void 0,t._abortController=function(){if(ot)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=s,t._strategyHWM=i,t._writeAlgorithm=n,t._closeAlgorithm=o,t._abortAlgorithm=r;const c=Nt(t);gt(e,c),h(u(a()),(()=>{t._started=!0,Ot(t)}),(a=>{t._started=!0,pt(e,a)}))}function Tt(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Pt(e){return e._strategyHWM-e._queueTotalSize}function Ot(e){const t=e._controlledWritableStream;if(!e._started)return;if(void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void ht(t);if(0===e._queue.length)return;const a=e._queue.peek().value;a===Et?function(e){const t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),ue(e);const a=e._closeAlgorithm();Tt(e),h(a,(()=>{!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const t=e._writer;void 0!==t&&Ft(t)}(t)}),(e=>{!function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),pt(e,t)}(t,e)}))}(e):function(e,t){const a=e._controlledWritableStream;!function(e){e._inFlightWriteRequest=e._writeRequests.shift()}(a);h(e._writeAlgorithm(t),(()=>{!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(a);const t=a._state;if(ue(e),!_t(a)&&"writable"===t){const t=Nt(e);gt(a,t)}Ot(e)}),(t=>{"writable"===a._state&&Tt(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,pt(e,t)}(a,t)}))}(e,a)}function Ct(e,t){"writable"===e._controlledWritableStream._state&&Rt(e,t)}function Nt(e){return Pt(e)<=0}function Rt(e,t){const a=e._controlledWritableStream;Tt(e),mt(a,t)}function Dt(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Gt(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Ut(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Bt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Mt(e){e._closedPromise=d(((t,a)=>{e._closedPromise_resolve=t,e._closedPromise_reject=a,e._closedPromiseState="pending"}))}function zt(e,t){Mt(e),Lt(e,t)}function Lt(e,t){void 0!==e._closedPromise_reject&&(b(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Ft(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function $t(e){e._readyPromise=d(((t,a)=>{e._readyPromise_resolve=t,e._readyPromise_reject=a})),e._readyPromiseState="pending"}function jt(e,t){$t(e),Wt(e,t)}function Vt(e){$t(e),qt(e)}function Wt(e,t){void 0!==e._readyPromise_reject&&(b(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function qt(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(At.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(At.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const Yt="undefined"!=typeof DOMException?DOMException:void 0,Ht=function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}(Yt)?Yt:function(){const e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function Zt(e,t,n,o,r,i){const s=q(e),c=it(t);e._disturbed=!0;let l=!1,g=u(void 0);return d(((y,v)=>{let w;if(void 0!==i){if(w=()=>{const a=new Ht("Aborted","AbortError"),n=[];o||n.push((()=>"writable"===t._state?dt(t,a):u(void 0))),r||n.push((()=>"readable"===e._state?va(e,a):u(void 0))),T((()=>Promise.all(n.map((e=>e())))),!0,a)},i.aborted)return void w();i.addEventListener("abort",w)}var S,k,E;if(I(e,s._closedPromise,(e=>{o?P(!0,e):T((()=>dt(t,e)),!0,e)})),I(t,c._closedPromise,(t=>{r?P(!0,t):T((()=>va(e,t)),!0,t)})),S=e,k=s._closedPromise,E=()=>{n?P():T((()=>function(e){const t=e._ownerWritableStream,a=t._state;return _t(t)||"closed"===a?u(void 0):"errored"===a?p(t._storedError):vt(e)}(c)))},"closed"===S._state?E():_(k,E),_t(t)||"closed"===t._state){const t=new TypeError("the destination writable stream closed before all data could be piped to it");r?P(!0,t):T((()=>va(e,t)),!0,t)}function x(){const e=g;return m(g,(()=>e!==g?x():void 0))}function I(e,t,a){"errored"===e._state?a(e._storedError):f(t,a)}function T(e,a,n){function o(){h(e(),(()=>O(a,n)),(e=>O(!0,e)))}l||(l=!0,"writable"!==t._state||_t(t)?o():_(x(),o))}function P(e,a){l||(l=!0,"writable"!==t._state||_t(t)?O(e,a):_(x(),(()=>O(e,a))))}function O(e,t){St(c),A(s),void 0!==i&&i.removeEventListener("abort",w),e?v(t):y(void 0)}b(d(((e,t)=>{!function n(o){o?e():m(l?u(!0):m(c._readyPromise,(()=>d(((e,t)=>{X(s,{_chunkSteps:t=>{g=m(kt(c,t),void 0,a),e(!1)},_closeSteps:()=>e(!0),_errorSteps:t})})))),n,t)}(!1)})))}))}class Jt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Kt(this))throw sa("desiredSize");return oa(this)}close(){if(!Kt(this))throw sa("close");if(!ra(this))throw new TypeError("The stream is not in a state that permits close");ta(this)}enqueue(e=void 0){if(!Kt(this))throw sa("enqueue");if(!ra(this))throw new TypeError("The stream is not in a state that permits enqueue");return aa(this,e)}error(e=void 0){if(!Kt(this))throw sa("error");na(this,e)}[R](e){me(this);const t=this._cancelAlgorithm(e);return ea(this),t}[D](e){const t=this._controlledReadableStream;if(this._queue.length>0){const a=ue(this);this._closeRequested&&0===this._queue.length?(ea(this),wa(t)):Qt(this),e._chunkSteps(a)}else Y(t,e),Qt(this)}}function Kt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof Jt}function Qt(e){Xt(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,h(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Qt(e))}),(t=>{na(e,t)}))))}function Xt(e){const t=e._controlledReadableStream;return!!ra(e)&&!!e._started&&(!!(ya(t)&&Z(t)>0)||oa(e)>0)}function ea(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function ta(e){if(!ra(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(ea(e),wa(t))}function aa(e,t){if(!ra(e))return;const a=e._controlledReadableStream;if(ya(a)&&Z(a)>0)H(a,t,!1);else{let a;try{a=e._strategySizeAlgorithm(t)}catch(t){throw na(e,t),t}try{pe(e,t,a)}catch(t){throw na(e,t),t}}Qt(e)}function na(e,t){const a=e._controlledReadableStream;"readable"===a._state&&(me(e),ea(e),Sa(a,t))}function oa(e){const t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function ra(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function ia(e,t,a,n,o,r,i){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,me(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=i,t._strategyHWM=r,t._pullAlgorithm=n,t._cancelAlgorithm=o,e._readableStreamController=t,h(u(a()),(()=>{t._started=!0,Qt(t)}),(e=>{na(t,e)}))}function sa(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function ca(e,t,a){return M(e,a),a=>w(e,t,[a])}function la(e,t,a){return M(e,a),a=>w(e,t,[a])}function da(e,t,a){return M(e,a),a=>v(e,t,[a])}function ua(e,t){if("bytes"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function pa(e,t){if("byob"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function ma(e,t){B(e,t);const a=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,o=null==e?void 0:e.preventClose,r=null==e?void 0:e.signal;return void 0!==r&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw new TypeError(`${t} is not an AbortSignal.`)}(r,`${t} has member 'signal' that`),{preventAbort:Boolean(a),preventCancel:Boolean(n),preventClose:Boolean(o),signal:r}}Object.defineProperties(Jt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Jt.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class ha{constructor(e={},t={}){void 0===e?e=null:z(e,"First parameter");const a=Ke(t,"Second parameter"),n=function(e,t){B(e,t);const a=e,n=null==a?void 0:a.autoAllocateChunkSize,o=null==a?void 0:a.cancel,r=null==a?void 0:a.pull,i=null==a?void 0:a.start,s=null==a?void 0:a.type;return{autoAllocateChunkSize:void 0===n?void 0:V(n,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===o?void 0:ca(o,a,`${t} has member 'cancel' that`),pull:void 0===r?void 0:la(r,a,`${t} has member 'pull' that`),start:void 0===i?void 0:da(i,a,`${t} has member 'start' that`),type:void 0===s?void 0:ua(s,`${t} has member 'type' that`)}}(e,"First parameter");if(ga(this),"bytes"===n.type){if(void 0!==a.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,a){const n=Object.create(_e.prototype);let o=()=>{},r=()=>u(void 0),i=()=>u(void 0);void 0!==t.start&&(o=()=>t.start(n)),void 0!==t.pull&&(r=()=>t.pull(n)),void 0!==t.cancel&&(i=e=>t.cancel(e));const s=t.autoAllocateChunkSize;if(0===s)throw new TypeError("autoAllocateChunkSize must be greater than 0");Me(e,n,o,r,i,a,s)}(this,n,Ze(a,0))}else{const e=Je(a);!function(e,t,a,n){const o=Object.create(Jt.prototype);let r=()=>{},i=()=>u(void 0),s=()=>u(void 0);void 0!==t.start&&(r=()=>t.start(o)),void 0!==t.pull&&(i=()=>t.pull(o)),void 0!==t.cancel&&(s=e=>t.cancel(e)),ia(e,o,r,i,s,a,n)}(this,n,Ze(a,1),e)}}get locked(){if(!ba(this))throw ka("locked");return ya(this)}cancel(e=void 0){return ba(this)?ya(this)?p(new TypeError("Cannot cancel a stream that already has a reader")):va(this,e):p(ka("cancel"))}getReader(e=void 0){if(!ba(this))throw ka("getReader");return void 0===function(e,t){B(e,t);const a=null==e?void 0:e.mode;return{mode:void 0===a?void 0:pa(a,`${t} has member 'mode' that`)}}(e,"First parameter").mode?q(this):Fe(this)}pipeThrough(e,t={}){if(!ba(this))throw ka("pipeThrough");L(e,1,"pipeThrough");const a=function(e,t){B(e,t);const a=null==e?void 0:e.readable;F(a,"readable","ReadableWritablePair"),W(a,`${t} has member 'readable' that`);const n=null==e?void 0:e.writable;return F(n,"writable","ReadableWritablePair"),nt(n,`${t} has member 'writable' that`),{readable:a,writable:n}}(e,"First parameter"),n=ma(t,"Second parameter");if(ya(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(lt(a.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return b(Zt(this,a.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),a.readable}pipeTo(e,t={}){if(!ba(this))return p(ka("pipeTo"));if(void 0===e)return p("Parameter 1 is required in 'pipeTo'.");if(!ct(e))return p(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let a;try{a=ma(t,"Second parameter")}catch(e){return p(e)}return ya(this)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):lt(e)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Zt(this,e,a.preventClose,a.preventAbort,a.preventCancel,a.signal)}tee(){if(!ba(this))throw ka("tee");return se(fe((e=this)._readableStreamController)?function(e){let t,a,n,o,r,i=q(e),s=!1,c=!1,l=!1,p=!1,m=!1;const h=d((e=>{r=e}));function _(e){f(e._closedPromise,(t=>{e===i&&(Re(n._readableStreamController,t),Re(o._readableStreamController,t),p&&m||r(void 0))}))}function g(){qe(i)&&(A(i),i=q(e),_(i)),X(i,{_chunkSteps:t=>{y((()=>{c=!1,l=!1;const a=t;let i=t;if(!p&&!m)try{i=de(t)}catch(t){return Re(n._readableStreamController,t),Re(o._readableStreamController,t),void r(va(e,t))}p||Ne(n._readableStreamController,a),m||Ne(o._readableStreamController,i),s=!1,c?v():l&&w()}))},_closeSteps:()=>{s=!1,p||Ce(n._readableStreamController),m||Ce(o._readableStreamController),n._readableStreamController._pendingPullIntos.length>0&&Ue(n._readableStreamController,0),o._readableStreamController._pendingPullIntos.length>0&&Ue(o._readableStreamController,0),p&&m||r(void 0)},_errorSteps:()=>{s=!1}})}function b(t,a){Q(i)&&(A(i),i=Fe(e),_(i));const d=a?o:n,u=a?n:o;Ye(i,t,{_chunkSteps:t=>{y((()=>{c=!1,l=!1;const n=a?m:p;if(a?p:m)n||Be(d._readableStreamController,t);else{let a;try{a=de(t)}catch(t){return Re(d._readableStreamController,t),Re(u._readableStreamController,t),void r(va(e,t))}n||Be(d._readableStreamController,t),Ne(u._readableStreamController,a)}s=!1,c?v():l&&w()}))},_closeSteps:e=>{s=!1;const t=a?m:p,n=a?p:m;t||Ce(d._readableStreamController),n||Ce(u._readableStreamController),void 0!==e&&(t||Be(d._readableStreamController,e),!n&&u._readableStreamController._pendingPullIntos.length>0&&Ue(u._readableStreamController,0)),t&&n||r(void 0)},_errorSteps:()=>{s=!1}})}function v(){if(s)return c=!0,u(void 0);s=!0;const e=De(n._readableStreamController);return null===e?g():b(e._view,!1),u(void 0)}function w(){if(s)return l=!0,u(void 0);s=!0;const e=De(o._readableStreamController);return null===e?g():b(e._view,!0),u(void 0)}function S(){}return n=fa(S,v,(function(n){if(p=!0,t=n,m){const n=se([t,a]),o=va(e,n);r(o)}return h})),o=fa(S,w,(function(n){if(m=!0,a=n,p){const n=se([t,a]),o=va(e,n);r(o)}return h})),_(i),[n,o]}(e):function(e,t){const a=q(e);let n,o,r,i,s,c=!1,l=!1,p=!1,m=!1;const h=d((e=>{s=e}));function _(){return c?(l=!0,u(void 0)):(c=!0,X(a,{_chunkSteps:e=>{y((()=>{l=!1;const t=e,a=e;p||aa(r._readableStreamController,t),m||aa(i._readableStreamController,a),c=!1,l&&_()}))},_closeSteps:()=>{c=!1,p||ta(r._readableStreamController),m||ta(i._readableStreamController),p&&m||s(void 0)},_errorSteps:()=>{c=!1}}),u(void 0))}function g(){}return r=_a(g,_,(function(t){if(p=!0,n=t,m){const t=se([n,o]),a=va(e,t);s(a)}return h})),i=_a(g,_,(function(t){if(m=!0,o=t,p){const t=se([n,o]),a=va(e,t);s(a)}return h})),f(a._closedPromise,(e=>{na(r._readableStreamController,e),na(i._readableStreamController,e),p&&m||s(void 0)})),[r,i]}(e));var e}values(e=void 0){if(!ba(this))throw ka("values");return function(e,t){const a=q(e),n=new ae(a,t),o=Object.create(ne);return o._asyncIteratorImpl=n,o}(this,function(e,t){B(e,"First parameter");const a=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(a)}}(e).preventCancel)}}function _a(e,t,a,n=1,o=(()=>1)){const r=Object.create(ha.prototype);return ga(r),ia(r,Object.create(Jt.prototype),e,t,a,n,o),r}function fa(e,t,a){const n=Object.create(ha.prototype);return ga(n),Me(n,Object.create(_e.prototype),e,t,a,0,void 0),n}function ga(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function ba(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof ha}function ya(e){return void 0!==e._reader}function va(e,t){if(e._disturbed=!0,"closed"===e._state)return u(void 0);if("errored"===e._state)return p(e._storedError);wa(e);const n=e._reader;return void 0!==n&&qe(n)&&(n._readIntoRequests.forEach((e=>{e._closeSteps(void 0)})),n._readIntoRequests=new S),g(e._readableStreamController[R](t),a)}function wa(e){e._state="closed";const t=e._reader;void 0!==t&&(O(t),Q(t)&&(t._readRequests.forEach((e=>{e._closeSteps()})),t._readRequests=new S))}function Sa(e,t){e._state="errored",e._storedError=t;const a=e._reader;void 0!==a&&(P(a,t),Q(a)?(a._readRequests.forEach((e=>{e._errorSteps(t)})),a._readRequests=new S):(a._readIntoRequests.forEach((e=>{e._errorSteps(t)})),a._readIntoRequests=new S))}function ka(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Ea(e,t){B(e,t);const a=null==e?void 0:e.highWaterMark;return F(a,"highWaterMark","QueuingStrategyInit"),{highWaterMark:$(a)}}Object.defineProperties(ha.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(ha.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof t.asyncIterator&&Object.defineProperty(ha.prototype,t.asyncIterator,{value:ha.prototype.values,writable:!0,configurable:!0});const Aa=e=>e.byteLength;try{Object.defineProperty(Aa,"name",{value:"size",configurable:!0})}catch(e){}class xa{constructor(e){L(e,1,"ByteLengthQueuingStrategy"),e=Ea(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Ta(this))throw Ia("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Ta(this))throw Ia("size");return Aa}}function Ia(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Ta(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof xa}Object.defineProperties(xa.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(xa.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const Pa=()=>1;try{Object.defineProperty(Pa,"name",{value:"size",configurable:!0})}catch(e){}class Oa{constructor(e){L(e,1,"CountQueuingStrategy"),e=Ea(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Na(this))throw Ca("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Na(this))throw Ca("size");return Pa}}function Ca(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Na(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof Oa}function Ra(e,t,a){return M(e,a),a=>w(e,t,[a])}function Da(e,t,a){return M(e,a),a=>v(e,t,[a])}function Ga(e,t,a){return M(e,a),(a,n)=>w(e,t,[a,n])}Object.defineProperties(Oa.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Oa.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class Ua{constructor(e={},t={},a={}){void 0===e&&(e=null);const n=Ke(t,"Second parameter"),o=Ke(a,"Third parameter"),r=function(e,t){B(e,t);const a=null==e?void 0:e.flush,n=null==e?void 0:e.readableType,o=null==e?void 0:e.start,r=null==e?void 0:e.transform,i=null==e?void 0:e.writableType;return{flush:void 0===a?void 0:Ra(a,e,`${t} has member 'flush' that`),readableType:n,start:void 0===o?void 0:Da(o,e,`${t} has member 'start' that`),transform:void 0===r?void 0:Ga(r,e,`${t} has member 'transform' that`),writableType:i}}(e,"First parameter");if(void 0!==r.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==r.writableType)throw new RangeError("Invalid writableType specified");const i=Ze(o,0),s=Je(o),c=Ze(n,1),l=Je(n);let m;!function(e,t,a,n,o,r){function i(){return t}e._writable=function(e,t,a,n,o=1,r=(()=>1)){const i=Object.create(rt.prototype);return st(i),It(i,Object.create(At.prototype),e,t,a,n,o,r),i}(i,(function(t){return function(e,t){const a=e._transformStreamController;return e._backpressure?g(e._backpressureChangePromise,(()=>{const n=e._writable;if("erroring"===n._state)throw n._storedError;return Wa(a,t)})):Wa(a,t)}(e,t)}),(function(){return function(e){const t=e._readable,a=e._transformStreamController,n=a._flushAlgorithm();return ja(a),g(n,(()=>{if("errored"===t._state)throw t._storedError;ta(t._readableStreamController)}),(a=>{throw Ma(e,a),t._storedError}))}(e)}),(function(t){return function(e,t){return Ma(e,t),u(void 0)}(e,t)}),a,n),e._readable=_a(i,(function(){return function(e){return La(e,!1),e._backpressureChangePromise}(e)}),(function(t){return za(e,t),u(void 0)}),o,r),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,La(e,!0),e._transformStreamController=void 0}(this,d((e=>{m=e})),c,l,i,s),function(e,t){const a=Object.create(Fa.prototype);let n=e=>{try{return Va(a,e),u(void 0)}catch(e){return p(e)}},o=()=>u(void 0);void 0!==t.transform&&(n=e=>t.transform(e,a)),void 0!==t.flush&&(o=()=>t.flush(a)),function(e,t,a,n){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=a,t._flushAlgorithm=n}(e,a,n,o)}(this,r),void 0!==r.start?m(r.start(this._transformStreamController)):m(void 0)}get readable(){if(!Ba(this))throw Ya("readable");return this._readable}get writable(){if(!Ba(this))throw Ya("writable");return this._writable}}function Ba(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof Ua}function Ma(e,t){na(e._readable._readableStreamController,t),za(e,t)}function za(e,t){ja(e._transformStreamController),Ct(e._writable._writableStreamController,t),e._backpressure&&La(e,!1)}function La(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=d((t=>{e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties(Ua.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Ua.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});class Fa{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!$a(this))throw qa("desiredSize");return oa(this._controlledTransformStream._readable._readableStreamController)}enqueue(e=void 0){if(!$a(this))throw qa("enqueue");Va(this,e)}error(e=void 0){if(!$a(this))throw qa("error");var t;t=e,Ma(this._controlledTransformStream,t)}terminate(){if(!$a(this))throw qa("terminate");!function(e){const t=e._controlledTransformStream;ta(t._readable._readableStreamController);za(t,new TypeError("TransformStream terminated"))}(this)}}function $a(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof Fa}function ja(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Va(e,t){const a=e._controlledTransformStream,n=a._readable._readableStreamController;if(!ra(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{aa(n,t)}catch(e){throw za(a,e),a._readable._storedError}const o=function(e){return!Xt(e)}(n);o!==a._backpressure&&La(a,!0)}function Wa(e,t){return g(e._transformAlgorithm(t),void 0,(t=>{throw Ma(e._controlledTransformStream,t),t}))}function qa(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Ya(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(Fa.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Fa.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=xa,e.CountQueuingStrategy=Oa,e.ReadableByteStreamController=_e,e.ReadableStream=ha,e.ReadableStreamBYOBReader=We,e.ReadableStreamBYOBRequest=he,e.ReadableStreamDefaultController=Jt,e.ReadableStreamDefaultReader=K,e.TransformStream=Ua,e.TransformStreamDefaultController=Fa,e.WritableStream=rt,e.WritableStreamDefaultController=At,e.WritableStreamDefaultWriter=bt,Object.defineProperty(e,"__esModule",{value:!0})},a(t)},977:(e,t,a)=>{"use strict";const{EMPTY_BUFFER:n}=a(1872),o=Buffer[Symbol.species];function r(e,t,a,n,o){for(let r=0;r<o;r++)a[n+r]=e[r]^t[3&r]}function i(e,t){for(let a=0;a<e.length;a++)e[a]^=t[3&a]}if(e.exports={concat:function(e,t){if(0===e.length)return n;if(1===e.length)return e[0];const a=Buffer.allocUnsafe(t);let r=0;for(let t=0;t<e.length;t++){const n=e[t];a.set(n,r),r+=n.length}return r<t?new o(a.buffer,a.byteOffset,r):a},mask:r,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:function e(t){if(e.readOnly=!0,Buffer.isBuffer(t))return t;let a;return t instanceof ArrayBuffer?a=new o(t):ArrayBuffer.isView(t)?a=new o(t.buffer,t.byteOffset,t.byteLength):(a=Buffer.from(t),e.readOnly=!1),a},unmask:i},!process.env.WS_NO_BUFFER_UTIL)try{const t=a(Object(function(){var e=new Error("Cannot find module 'bufferutil'");throw e.code="MODULE_NOT_FOUND",e}()));e.exports.mask=function(e,a,n,o,i){i<48?r(e,a,n,o,i):t.mask(e,a,n,o,i)},e.exports.unmask=function(e,a){e.length<32?i(e,a):t.unmask(e,a)}}catch(e){}},1872:e=>{"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},62:(e,t,a)=>{"use strict";const{kForOnEventAttribute:n,kListener:o}=a(1872),r=Symbol("kCode"),i=Symbol("kData"),s=Symbol("kError"),c=Symbol("kMessage"),l=Symbol("kReason"),d=Symbol("kTarget"),u=Symbol("kType"),p=Symbol("kWasClean");class m{constructor(e){this[d]=null,this[u]=e}get target(){return this[d]}get type(){return this[u]}}Object.defineProperty(m.prototype,"target",{enumerable:!0}),Object.defineProperty(m.prototype,"type",{enumerable:!0});class h extends m{constructor(e,t={}){super(e),this[r]=void 0===t.code?0:t.code,this[l]=void 0===t.reason?"":t.reason,this[p]=void 0!==t.wasClean&&t.wasClean}get code(){return this[r]}get reason(){return this[l]}get wasClean(){return this[p]}}Object.defineProperty(h.prototype,"code",{enumerable:!0}),Object.defineProperty(h.prototype,"reason",{enumerable:!0}),Object.defineProperty(h.prototype,"wasClean",{enumerable:!0});class _ extends m{constructor(e,t={}){super(e),this[s]=void 0===t.error?null:t.error,this[c]=void 0===t.message?"":t.message}get error(){return this[s]}get message(){return this[c]}}Object.defineProperty(_.prototype,"error",{enumerable:!0}),Object.defineProperty(_.prototype,"message",{enumerable:!0});class f extends m{constructor(e,t={}){super(e),this[i]=void 0===t.data?null:t.data}get data(){return this[i]}}Object.defineProperty(f.prototype,"data",{enumerable:!0});const g={addEventListener(e,t,a={}){for(const r of this.listeners(e))if(!a[n]&&r[o]===t&&!r[n])return;let r;if("message"===e)r=function(e,a){const n=new f("message",{data:a?e:e.toString()});n[d]=this,b(t,this,n)};else if("close"===e)r=function(e,a){const n=new h("close",{code:e,reason:a.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});n[d]=this,b(t,this,n)};else if("error"===e)r=function(e){const a=new _("error",{error:e,message:e.message});a[d]=this,b(t,this,a)};else{if("open"!==e)return;r=function(){const e=new m("open");e[d]=this,b(t,this,e)}}r[n]=!!a[n],r[o]=t,a.once?this.once(e,r):this.on(e,r)},removeEventListener(e,t){for(const a of this.listeners(e))if(a[o]===t&&!a[n]){this.removeListener(e,a);break}}};function b(e,t,a){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,a):e.call(t,a)}e.exports={CloseEvent:h,ErrorEvent:_,Event:m,EventTarget:g,MessageEvent:f}},1503:(e,t,a)=>{"use strict";const{tokenChars:n}=a(6746);function o(e,t,a){void 0===e[t]?e[t]=[a]:e[t].push(a)}e.exports={format:function(e){return Object.keys(e).map((t=>{let a=e[t];return Array.isArray(a)||(a=[a]),a.map((e=>[t].concat(Object.keys(e).map((t=>{let a=e[t];return Array.isArray(a)||(a=[a]),a.map((e=>!0===e?t:`${t}=${e}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")},parse:function(e){const t=Object.create(null);let a,r,i=Object.create(null),s=!1,c=!1,l=!1,d=-1,u=-1,p=-1,m=0;for(;m<e.length;m++)if(u=e.charCodeAt(m),void 0===a)if(-1===p&&1===n[u])-1===d&&(d=m);else if(0===m||32!==u&&9!==u){if(59!==u&&44!==u)throw new SyntaxError(`Unexpected character at index ${m}`);{if(-1===d)throw new SyntaxError(`Unexpected character at index ${m}`);-1===p&&(p=m);const n=e.slice(d,p);44===u?(o(t,n,i),i=Object.create(null)):a=n,d=p=-1}}else-1===p&&-1!==d&&(p=m);else if(void 0===r)if(-1===p&&1===n[u])-1===d&&(d=m);else if(32===u||9===u)-1===p&&-1!==d&&(p=m);else if(59===u||44===u){if(-1===d)throw new SyntaxError(`Unexpected character at index ${m}`);-1===p&&(p=m),o(i,e.slice(d,p),!0),44===u&&(o(t,a,i),i=Object.create(null),a=void 0),d=p=-1}else{if(61!==u||-1===d||-1!==p)throw new SyntaxError(`Unexpected character at index ${m}`);r=e.slice(d,m),d=p=-1}else if(c){if(1!==n[u])throw new SyntaxError(`Unexpected character at index ${m}`);-1===d?d=m:s||(s=!0),c=!1}else if(l)if(1===n[u])-1===d&&(d=m);else if(34===u&&-1!==d)l=!1,p=m;else{if(92!==u)throw new SyntaxError(`Unexpected character at index ${m}`);c=!0}else if(34===u&&61===e.charCodeAt(m-1))l=!0;else if(-1===p&&1===n[u])-1===d&&(d=m);else if(-1===d||32!==u&&9!==u){if(59!==u&&44!==u)throw new SyntaxError(`Unexpected character at index ${m}`);{if(-1===d)throw new SyntaxError(`Unexpected character at index ${m}`);-1===p&&(p=m);let n=e.slice(d,p);s&&(n=n.replace(/\\/g,""),s=!1),o(i,r,n),44===u&&(o(t,a,i),i=Object.create(null),a=void 0),r=void 0,d=p=-1}}else-1===p&&(p=m);if(-1===d||l||32===u||9===u)throw new SyntaxError("Unexpected end of input");-1===p&&(p=m);const h=e.slice(d,p);return void 0===a?o(t,h,i):(void 0===r?o(i,h,!0):o(i,r,s?h.replace(/\\/g,""):h),o(t,a,i)),t}}},305:e=>{"use strict";const t=Symbol("kDone"),a=Symbol("kRun");e.exports=class{constructor(e){this[t]=()=>{this.pending--,this[a]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[a]()}[a](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[t])}}}},5196:(e,t,a)=>{"use strict";const n=a(9796),o=a(977),r=a(305),{kStatusCode:i}=a(1872),s=Buffer[Symbol.species],c=Buffer.from([0,0,255,255]),l=Symbol("permessage-deflate"),d=Symbol("total-length"),u=Symbol("callback"),p=Symbol("buffers"),m=Symbol("error");let h;function _(e){this[p].push(e),this[d]+=e.length}function f(e){this[d]+=e.length,this[l]._maxPayload<1||this[d]<=this[l]._maxPayload?this[p].push(e):(this[m]=new RangeError("Max payload size exceeded"),this[m].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[m][i]=1009,this.removeListener("data",f),this.reset())}function g(e){this[l]._inflate=null,e[i]=1007,this[u](e)}e.exports=class{constructor(e,t,a){if(this._maxPayload=0|a,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!h){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;h=new r(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[u];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,a=e.find((e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits)));if(!a)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(a.server_no_context_takeover=!0),t.clientNoContextTakeover&&(a.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(a.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?a.client_max_window_bits=t.clientMaxWindowBits:!0!==a.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete a.client_max_window_bits,a}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach((e=>{Object.keys(e).forEach((t=>{let a=e[t];if(a.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(a=a[0],"client_max_window_bits"===t){if(!0!==a){const e=+a;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${a}`);a=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${a}`)}else if("server_max_window_bits"===t){const e=+a;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${a}`);a=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==a)throw new TypeError(`Invalid value for parameter "${t}": ${a}`)}e[t]=a}))})),e}decompress(e,t,a){h.add((n=>{this._decompress(e,t,((e,t)=>{n(),a(e,t)}))}))}compress(e,t,a){h.add((n=>{this._compress(e,t,((e,t)=>{n(),a(e,t)}))}))}_decompress(e,t,a){const r=this._isServer?"client":"server";if(!this._inflate){const e=`${r}_max_window_bits`,t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=n.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[l]=this,this._inflate[d]=0,this._inflate[p]=[],this._inflate.on("error",g),this._inflate.on("data",f)}this._inflate[u]=a,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush((()=>{const e=this._inflate[m];if(e)return this._inflate.close(),this._inflate=null,void a(e);const n=o.concat(this._inflate[p],this._inflate[d]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[d]=0,this._inflate[p]=[],t&&this.params[`${r}_no_context_takeover`]&&this._inflate.reset()),a(null,n)}))}_compress(e,t,a){const r=this._isServer?"server":"client";if(!this._deflate){const e=`${r}_max_window_bits`,t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=n.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[d]=0,this._deflate[p]=[],this._deflate.on("data",_)}this._deflate[u]=a,this._deflate.write(e),this._deflate.flush(n.Z_SYNC_FLUSH,(()=>{if(!this._deflate)return;let e=o.concat(this._deflate[p],this._deflate[d]);t&&(e=new s(e.buffer,e.byteOffset,e.length-4)),this._deflate[u]=null,this._deflate[d]=0,this._deflate[p]=[],t&&this.params[`${r}_no_context_takeover`]&&this._deflate.reset(),a(null,e)}))}}},2957:(e,t,a)=>{"use strict";const{Writable:n}=a(2781),o=a(5196),{BINARY_TYPES:r,EMPTY_BUFFER:i,kStatusCode:s,kWebSocket:c}=a(1872),{concat:l,toArrayBuffer:d,unmask:u}=a(977),{isValidStatusCode:p,isValidUTF8:m}=a(6746),h=Buffer[Symbol.species];function _(e,t,a,n,o){const r=new e(a?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(r,_),r.code=o,r[s]=n,r}e.exports=class extends n{constructor(e={}){super(),this._binaryType=e.binaryType||r[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[c]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,a){if(8===this._opcode&&0==this._state)return a();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(a)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=new h(t.buffer,t.byteOffset+e,t.length-e),new h(t.buffer,t.byteOffset,e)}const t=Buffer.allocUnsafe(e);do{const a=this._buffers[0],n=t.length-e;e>=a.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(a.buffer,a.byteOffset,e),n),this._buffers[0]=new h(a.buffer,a.byteOffset+e,a.length-e)),e-=a.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do{switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,_(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");const t=64==(64&e[0]);if(t&&!this._extensions[o.extensionName])return this._loop=!1,_(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,_(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,_(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,_(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,_(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin)return this._loop=!1,_(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(t)return this._loop=!1,_(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength)return this._loop=!1,_(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),this._isServer){if(!this._masked)return this._loop=!1,_(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,_(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,_(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,_(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=i;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&0!=(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])&&u(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[o.extensionName].decompress(e,this._fin,((e,a)=>{if(e)return t(e);if(a.length){if(this._messageLength+=a.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(_(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(a)}const n=this.dataMessage();if(n)return t(n);this.startLoop(t)}))}dataMessage(){if(this._fin){const e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let a;a="nodebuffer"===this._binaryType?l(t,e):"arraybuffer"===this._binaryType?d(l(t,e)):t,this.emit("message",a,!0)}else{const a=l(t,e);if(!this._skipUTF8Validation&&!m(a))return this._loop=!1,_(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",a,!1)}}this._state=0}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,i),this.end();else{const t=e.readUInt16BE(0);if(!p(t))return _(RangeError,`invalid status code ${t}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");const a=new h(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!m(a))return _(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",t,a),this.end()}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=0}}},7330:(e,t,a)=>{"use strict";a(1808),a(4404);const{randomFillSync:n}=a(6113),o=a(5196),{EMPTY_BUFFER:r}=a(1872),{isValidStatusCode:i}=a(6746),{mask:s,toBuffer:c}=a(977),l=Symbol("kByteLength"),d=Buffer.alloc(4);class u{constructor(e,t,a){this._extensions=t||{},a&&(this._generateMask=a,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let a,o,r=!1,i=2,c=!1;t.mask&&(a=t.maskBuffer||d,t.generateMask?t.generateMask(a):n(a,0,4),c=0==(a[0]|a[1]|a[2]|a[3]),i=6),"string"==typeof e?o=t.mask&&!c||void 0===t[l]?(e=Buffer.from(e)).length:t[l]:(o=e.length,r=t.mask&&t.readOnly&&!c);let u=o;o>=65536?(i+=8,u=127):o>125&&(i+=2,u=126);const p=Buffer.allocUnsafe(r?o+i:i);return p[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(p[0]|=64),p[1]=u,126===u?p.writeUInt16BE(o,2):127===u&&(p[2]=p[3]=0,p.writeUIntBE(o,4,6)),t.mask?(p[1]|=128,p[i-4]=a[0],p[i-3]=a[1],p[i-2]=a[2],p[i-1]=a[3],c?[p,e]:r?(s(e,a,p,i,o),[p]):(s(e,a,e,0,o),[p,e])):[p,e]}close(e,t,a,n){let o;if(void 0===e)o=r;else{if("number"!=typeof e||!i(e))throw new TypeError("First argument must be a valid error code number");if(void 0!==t&&t.length){const a=Buffer.byteLength(t);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+a),o.writeUInt16BE(e,0),"string"==typeof t?o.write(t,2):o.set(t,2)}else o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0)}const s={[l]:o.length,fin:!0,generateMask:this._generateMask,mask:a,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,o,!1,s,n]):this.sendFrame(u.frame(o,s),n)}ping(e,t,a){let n,o;if("string"==typeof e?(n=Buffer.byteLength(e),o=!1):(n=(e=c(e)).length,o=c.readOnly),n>125)throw new RangeError("The data size must not be greater than 125 bytes");const r={[l]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,r,a]):this.sendFrame(u.frame(e,r),a)}pong(e,t,a){let n,o;if("string"==typeof e?(n=Buffer.byteLength(e),o=!1):(n=(e=c(e)).length,o=c.readOnly),n>125)throw new RangeError("The data size must not be greater than 125 bytes");const r={[l]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,r,a]):this.sendFrame(u.frame(e,r),a)}send(e,t,a){const n=this._extensions[o.extensionName];let r,i,s=t.binary?2:1,d=t.compress;if("string"==typeof e?(r=Buffer.byteLength(e),i=!1):(r=(e=c(e)).length,i=c.readOnly),this._firstFragment?(this._firstFragment=!1,d&&n&&n.params[n._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(d=r>=n._threshold),this._compress=d):(d=!1,s=0),t.fin&&(this._firstFragment=!0),n){const n={[l]:r,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:i,rsv1:d};this._deflating?this.enqueue([this.dispatch,e,this._compress,n,a]):this.dispatch(e,this._compress,n,a)}else this.sendFrame(u.frame(e,{[l]:r,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:i,rsv1:!1}),a)}dispatch(e,t,a,n){if(!t)return void this.sendFrame(u.frame(e,a),n);const r=this._extensions[o.extensionName];this._bufferedBytes+=a[l],this._deflating=!0,r.compress(e,a.fin,((e,t)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");"function"==typeof n&&n(e);for(let t=0;t<this._queue.length;t++){const a=this._queue[t],n=a[a.length-1];"function"==typeof n&&n(e)}}else this._bufferedBytes-=a[l],this._deflating=!1,a.readOnly=!1,this.sendFrame(u.frame(t,a),n),this.dequeue()}))}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[3][l],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][l],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=u},404:(e,t,a)=>{"use strict";const{Duplex:n}=a(2781);function o(e){e.emit("close")}function r(){!this.destroyed&&this._writableState.finished&&this.destroy()}function i(e){this.removeListener("error",i),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let a=!0;const s=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",(function(t,a){const n=!a&&s._readableState.objectMode?t.toString():t;s.push(n)||e.pause()})),e.once("error",(function(e){s.destroyed||(a=!1,s.destroy(e))})),e.once("close",(function(){s.destroyed||s.push(null)})),s._destroy=function(t,n){if(e.readyState===e.CLOSED)return n(t),void process.nextTick(o,s);let r=!1;e.once("error",(function(e){r=!0,n(e)})),e.once("close",(function(){r||n(t),process.nextTick(o,s)})),a&&e.terminate()},s._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(t(),s._readableState.endEmitted&&s.destroy()):(e._socket.once("finish",(function(){t()})),e.close())):e.once("open",(function(){s._final(t)}))},s._read=function(){e.isPaused&&e.resume()},s._write=function(t,a,n){e.readyState!==e.CONNECTING?e.send(t,n):e.once("open",(function(){s._write(t,a,n)}))},s.on("end",r),s.on("error",i),s}},640:(e,t,a)=>{"use strict";const{tokenChars:n}=a(6746);e.exports={parse:function(e){const t=new Set;let a=-1,o=-1,r=0;for(;r<e.length;r++){const i=e.charCodeAt(r);if(-1===o&&1===n[i])-1===a&&(a=r);else if(0===r||32!==i&&9!==i){if(44!==i)throw new SyntaxError(`Unexpected character at index ${r}`);{if(-1===a)throw new SyntaxError(`Unexpected character at index ${r}`);-1===o&&(o=r);const n=e.slice(a,o);if(t.has(n))throw new SyntaxError(`The "${n}" subprotocol is duplicated`);t.add(n),a=o=-1}}else-1===o&&-1!==a&&(o=r)}if(-1===a||-1!==o)throw new SyntaxError("Unexpected end of input");const i=e.slice(a,r);if(t.has(i))throw new SyntaxError(`The "${i}" subprotocol is duplicated`);return t.add(i),t}}},6746:(e,t,a)=>{"use strict";const{isUtf8:n}=a(8709);function o(e){const t=e.length;let a=0;for(;a<t;)if(0==(128&e[a]))a++;else if(192==(224&e[a])){if(a+1===t||128!=(192&e[a+1])||192==(254&e[a]))return!1;a+=2}else if(224==(240&e[a])){if(a+2>=t||128!=(192&e[a+1])||128!=(192&e[a+2])||224===e[a]&&128==(224&e[a+1])||237===e[a]&&160==(224&e[a+1]))return!1;a+=3}else{if(240!=(248&e[a]))return!1;if(a+3>=t||128!=(192&e[a+1])||128!=(192&e[a+2])||128!=(192&e[a+3])||240===e[a]&&128==(240&e[a+1])||244===e[a]&&e[a+1]>143||e[a]>244)return!1;a+=4}return!0}if(e.exports={isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:o,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},n)e.exports.isValidUTF8=function(e){return e.length<24?o(e):n(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{const t=a(Object(function(){var e=new Error("Cannot find module 'utf-8-validate'");throw e.code="MODULE_NOT_FOUND",e}()));e.exports.isValidUTF8=function(e){return e.length<32?o(e):t(e)}}catch(e){}},9284:(e,t,a)=>{"use strict";const n=a(2361),o=a(3685),{createHash:r}=(a(5687),a(1808),a(4404),a(6113)),i=a(1503),s=a(5196),c=a(640),l=a(8762),{GUID:d,kWebSocket:u}=a(1872),p=/^[+/0-9A-Za-z]{22}==$/;function m(e){e._state=2,e.emit("close")}function h(){this.destroy()}function _(e,t,a,n){a=a||o.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(a),...n},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${o.STATUS_CODES[t]}\r\n`+Object.keys(n).map((e=>`${e}: ${n[e]}`)).join("\r\n")+"\r\n\r\n"+a)}function f(e,t,a,n,o){if(e.listenerCount("wsClientError")){const n=new Error(o);Error.captureStackTrace(n,f),e.emit("wsClientError",n,a,t)}else _(a,n,o)}e.exports=class extends n{constructor(e,t){if(super(),null==(e={maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:l,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=o.createServer(((e,t)=>{const a=o.STATUS_CODES[426];t.writeHead(426,{"Content-Length":a.length,"Content-Type":"text/plain"}),t.end(a)})),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){const e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(const a of Object.keys(t))e.on(a,t[a]);return function(){for(const a of Object.keys(t))e.removeListener(a,t[a])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,a,n)=>{this.handleUpgrade(t,a,n,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state)return e&&this.once("close",(()=>{e(new Error("The server is not running"))})),void process.nextTick(m,this);if(e&&this.once("close",e),1!==this._state)if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(m,this);else{const e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close((()=>{m(this)}))}}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,a,n){t.on("error",h);const o=e.headers["sec-websocket-key"],r=+e.headers["sec-websocket-version"];if("GET"!==e.method)return void f(this,e,t,405,"Invalid HTTP method");if("websocket"!==e.headers.upgrade.toLowerCase())return void f(this,e,t,400,"Invalid Upgrade header");if(!o||!p.test(o))return void f(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");if(8!==r&&13!==r)return void f(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");if(!this.shouldHandle(e))return void _(t,400);const l=e.headers["sec-websocket-protocol"];let d=new Set;if(void 0!==l)try{d=c.parse(l)}catch(a){return void f(this,e,t,400,"Invalid Sec-WebSocket-Protocol header")}const u=e.headers["sec-websocket-extensions"],m={};if(this.options.perMessageDeflate&&void 0!==u){const a=new s(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const e=i.parse(u);e[s.extensionName]&&(a.accept(e[s.extensionName]),m[s.extensionName]=a)}catch(a){return void f(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header")}}if(this.options.verifyClient){const i={origin:e.headers[8===r?"sec-websocket-origin":"origin"],secure:!(!e.socket.authorized&&!e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(i,((r,i,s,c)=>{if(!r)return _(t,i||401,s,c);this.completeUpgrade(m,o,d,e,t,a,n)}));if(!this.options.verifyClient(i))return _(t,401)}this.completeUpgrade(m,o,d,e,t,a,n)}completeUpgrade(e,t,a,n,o,c,l){if(!o.readable||!o.writable)return o.destroy();if(o[u])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return _(o,503);const p=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${r("sha1").update(t+d).digest("base64")}`],f=new this.options.WebSocket(null);if(a.size){const e=this.options.handleProtocols?this.options.handleProtocols(a,n):a.values().next().value;e&&(p.push(`Sec-WebSocket-Protocol: ${e}`),f._protocol=e)}if(e[s.extensionName]){const t=e[s.extensionName].params,a=i.format({[s.extensionName]:[t]});p.push(`Sec-WebSocket-Extensions: ${a}`),f._extensions=e}this.emit("headers",p,n),o.write(p.concat("\r\n").join("\r\n")),o.removeListener("error",h),f.setSocket(o,c,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(f),f.on("close",(()=>{this.clients.delete(f),this._shouldEmitClose&&!this.clients.size&&process.nextTick(m,this)}))),l(f,n)}}},8762:(e,t,a)=>{"use strict";const n=a(2361),o=a(5687),r=a(3685),i=a(1808),s=a(4404),{randomBytes:c,createHash:l}=a(6113),{Readable:d}=a(2781),{URL:u}=a(7310),p=a(5196),m=a(2957),h=a(7330),{BINARY_TYPES:_,EMPTY_BUFFER:f,GUID:g,kForOnEventAttribute:b,kListener:y,kStatusCode:v,kWebSocket:w,NOOP:S}=a(1872),{EventTarget:{addEventListener:k,removeEventListener:E}}=a(62),{format:A,parse:x}=a(1503),{toBuffer:I}=a(977),T=Symbol("kAborted"),P=[8,13],O=["CONNECTING","OPEN","CLOSING","CLOSED"],C=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class N extends n{constructor(e,t,a){super(),this._binaryType=_[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=f,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=N.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(a=t,t=[]):t=[t]),R(this,e,t,a)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){_.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,a){const n=new m({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:a.maxPayload,skipUTF8Validation:a.skipUTF8Validation});this._sender=new h(e,this._extensions,a.generateMask),this._receiver=n,this._socket=e,n[w]=this,e[w]=this,n.on("conclude",z),n.on("drain",L),n.on("error",F),n.on("message",j),n.on("ping",V),n.on("pong",W),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",Y),e.on("data",H),e.on("end",Z),e.on("error",J),this._readyState=N.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this._readyState=N.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[p.extensionName]&&this._extensions[p.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=N.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==N.CLOSED)if(this.readyState!==N.CONNECTING)this.readyState!==N.CLOSING?(this._readyState=N.CLOSING,this._sender.close(e,t,!this._isServer,(e=>{e||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())})),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();else{const e="WebSocket was closed before the connection was established";B(this,this._req,e)}}pause(){this.readyState!==N.CONNECTING&&this.readyState!==N.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,a){if(this.readyState===N.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(a=e,e=t=void 0):"function"==typeof t&&(a=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===N.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||f,t,a)):M(this,e,a)}pong(e,t,a){if(this.readyState===N.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(a=e,e=t=void 0):"function"==typeof t&&(a=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===N.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||f,t,a)):M(this,e,a)}resume(){this.readyState!==N.CONNECTING&&this.readyState!==N.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,a){if(this.readyState===N.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(a=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==N.OPEN)return void M(this,e,a);const n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[p.extensionName]||(n.compress=!1),this._sender.send(e||f,n,a)}terminate(){if(this.readyState!==N.CLOSED)if(this.readyState!==N.CONNECTING)this._socket&&(this._readyState=N.CLOSING,this._socket.destroy());else{const e="WebSocket was closed before the connection was established";B(this,this._req,e)}}}function R(e,t,a,n){const i={protocolVersion:P[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!P.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${P.join(", ")})`);let s;if(t instanceof u)s=t,e._url=t.href;else{try{s=new u(t)}catch(e){throw new SyntaxError(`Invalid URL: ${t}`)}e._url=t}const d="wss:"===s.protocol,m="ws+unix:"===s.protocol;let h;if("ws:"===s.protocol||d||m?m&&!s.pathname?h="The URL's pathname is empty":s.hash&&(h="The URL contains a fragment identifier"):h='The URL\'s protocol must be one of "ws:", "wss:", or "ws+unix:"',h){const t=new SyntaxError(h);if(0===e._redirects)throw t;return void D(e,t)}const _=d?443:80,f=c(16).toString("base64"),b=d?o.request:r.request,y=new Set;let v,w;if(i.createConnection=d?U:G,i.defaultPort=i.defaultPort||_,i.port=s.port||_,i.host=s.hostname.startsWith("[")?s.hostname.slice(1,-1):s.hostname,i.headers={...i.headers,"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":f,Connection:"Upgrade",Upgrade:"websocket"},i.path=s.pathname+s.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(v=new p(!0!==i.perMessageDeflate?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=A({[p.extensionName]:v.offer()})),a.length){for(const e of a){if("string"!=typeof e||!C.test(e)||y.has(e))throw new SyntaxError("An invalid or duplicated subprotocol was specified");y.add(e)}i.headers["Sec-WebSocket-Protocol"]=a.join(",")}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(s.username||s.password)&&(i.auth=`${s.username}:${s.password}`),m){const e=i.path.split(":");i.socketPath=e[0],i.path=e[1]}if(i.followRedirects){if(0===e._redirects){e._originalIpc=m,e._originalSecure=d,e._originalHostOrSocketPath=m?i.socketPath:s.host;const t=n&&n.headers;if(n={...n,headers:{}},t)for(const[e,a]of Object.entries(t))n.headers[e.toLowerCase()]=a}else if(0===e.listenerCount("redirect")){const t=m?!!e._originalIpc&&i.socketPath===e._originalHostOrSocketPath:!e._originalIpc&&s.host===e._originalHostOrSocketPath;(!t||e._originalSecure&&!d)&&(delete i.headers.authorization,delete i.headers.cookie,t||delete i.headers.host,i.auth=void 0)}i.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(i.auth).toString("base64")),w=e._req=b(i),e._redirects&&e.emit("redirect",e.url,w)}else w=e._req=b(i);i.timeout&&w.on("timeout",(()=>{B(e,w,"Opening handshake has timed out")})),w.on("error",(t=>{null===w||w[T]||(w=e._req=null,D(e,t))})),w.on("response",(o=>{const r=o.headers.location,s=o.statusCode;if(r&&i.followRedirects&&s>=300&&s<400){if(++e._redirects>i.maxRedirects)return void B(e,w,"Maximum redirects exceeded");let o;w.abort();try{o=new u(r,t)}catch(t){const a=new SyntaxError(`Invalid URL: ${r}`);return void D(e,a)}R(e,o,a,n)}else e.emit("unexpected-response",w,o)||B(e,w,`Unexpected server response: ${o.statusCode}`)})),w.on("upgrade",((t,a,n)=>{if(e.emit("upgrade",t),e.readyState!==N.CONNECTING)return;if(w=e._req=null,"websocket"!==t.headers.upgrade.toLowerCase())return void B(e,a,"Invalid Upgrade header");const o=l("sha1").update(f+g).digest("base64");if(t.headers["sec-websocket-accept"]!==o)return void B(e,a,"Invalid Sec-WebSocket-Accept header");const r=t.headers["sec-websocket-protocol"];let s;if(void 0!==r?y.size?y.has(r)||(s="Server sent an invalid subprotocol"):s="Server sent a subprotocol but none was requested":y.size&&(s="Server sent no subprotocol"),s)return void B(e,a,s);r&&(e._protocol=r);const c=t.headers["sec-websocket-extensions"];if(void 0!==c){if(!v)return void B(e,a,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");let t;try{t=x(c)}catch(t){return void B(e,a,"Invalid Sec-WebSocket-Extensions header")}const n=Object.keys(t);if(1!==n.length||n[0]!==p.extensionName)return void B(e,a,"Server indicated an extension that was not requested");try{v.accept(t[p.extensionName])}catch(t){return void B(e,a,"Invalid Sec-WebSocket-Extensions header")}e._extensions[p.extensionName]=v}e.setSocket(a,n,{generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation})})),i.finishRequest?i.finishRequest(w,e):w.end()}function D(e,t){e._readyState=N.CLOSING,e.emit("error",t),e.emitClose()}function G(e){return e.path=e.socketPath,i.connect(e)}function U(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=i.isIP(e.host)?"":e.host),s.connect(e)}function B(e,t,a){e._readyState=N.CLOSING;const n=new Error(a);Error.captureStackTrace(n,B),t.setHeader?(t[T]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(D,e,n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function M(e,t,a){if(t){const a=I(t).length;e._socket?e._sender._bufferedBytes+=a:e._bufferedAmount+=a}if(a){const t=new Error(`WebSocket is not open: readyState ${e.readyState} (${O[e.readyState]})`);process.nextTick(a,t)}}function z(e,t){const a=this[w];a._closeFrameReceived=!0,a._closeMessage=t,a._closeCode=e,void 0!==a._socket[w]&&(a._socket.removeListener("data",H),process.nextTick(q,a._socket),1005===e?a.close():a.close(e,t))}function L(){const e=this[w];e.isPaused||e._socket.resume()}function F(e){const t=this[w];void 0!==t._socket[w]&&(t._socket.removeListener("data",H),process.nextTick(q,t._socket),t.close(e[v])),t.emit("error",e)}function $(){this[w].emitClose()}function j(e,t){this[w].emit("message",e,t)}function V(e){const t=this[w];t.pong(e,!t._isServer,S),t.emit("ping",e)}function W(e){this[w].emit("pong",e)}function q(e){e.resume()}function Y(){const e=this[w];let t;this.removeListener("close",Y),this.removeListener("data",H),this.removeListener("end",Z),e._readyState=N.CLOSING,this._readableState.endEmitted||e._closeFrameReceived||e._receiver._writableState.errorEmitted||null===(t=e._socket.read())||e._receiver.write(t),e._receiver.end(),this[w]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",$),e._receiver.on("finish",$))}function H(e){this[w]._receiver.write(e)||this.pause()}function Z(){const e=this[w];e._readyState=N.CLOSING,e._receiver.end(),this.end()}function J(){const e=this[w];this.removeListener("error",J),this.on("error",S),e&&(e._readyState=N.CLOSING,this.destroy())}Object.defineProperty(N,"CONNECTING",{enumerable:!0,value:O.indexOf("CONNECTING")}),Object.defineProperty(N.prototype,"CONNECTING",{enumerable:!0,value:O.indexOf("CONNECTING")}),Object.defineProperty(N,"OPEN",{enumerable:!0,value:O.indexOf("OPEN")}),Object.defineProperty(N.prototype,"OPEN",{enumerable:!0,value:O.indexOf("OPEN")}),Object.defineProperty(N,"CLOSING",{enumerable:!0,value:O.indexOf("CLOSING")}),Object.defineProperty(N.prototype,"CLOSING",{enumerable:!0,value:O.indexOf("CLOSING")}),Object.defineProperty(N,"CLOSED",{enumerable:!0,value:O.indexOf("CLOSED")}),Object.defineProperty(N.prototype,"CLOSED",{enumerable:!0,value:O.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach((e=>{Object.defineProperty(N.prototype,e,{enumerable:!0})})),["open","error","close","message"].forEach((e=>{Object.defineProperty(N.prototype,`on${e}`,{enumerable:!0,get(){for(const t of this.listeners(e))if(t[b])return t[y];return null},set(t){for(const t of this.listeners(e))if(t[b]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[b]:!0})}})})),N.prototype.addEventListener=k,N.prototype.removeEventListener=E,e.exports=N},9491:e=>{"use strict";e.exports=require("assert")},8709:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},1891:e=>{"use strict";e.exports=require("dgram")},2361:e=>{"use strict";e.exports=require("events")},3292:e=>{"use strict";e.exports=require("fs/promises")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1405:e=>{"use strict";e.exports=require("inspector")},1808:e=>{"use strict";e.exports=require("net")},7742:e=>{"use strict";e.exports=require("node:process")},2477:e=>{"use strict";e.exports=require("node:stream/web")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},1267:e=>{"use strict";e.exports=require("worker_threads")},9796:e=>{"use strict";e.exports=require("zlib")},2764:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7359:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runEntrypoint=void 0;const n=a(7582),o=a(9913),r=n.__importDefault(a(3292)),i=a(2068),s=a(6304);a(5605);const c=a(8221),l=n.__importDefault(a(1017));let d,u=!1;t.runEntrypoint=function(e,t){Promise.resolve().then((async()=>{if(u)throw new Error("runEntrypoint can only be called once");u=!0;const a=process.env.MODULE_MANIFEST;if(!a)throw new Error("Module initialise is missing MODULE_MANIFEST");const n=await r.default.readFile(a),p=JSON.parse(n.toString());if(p.runtime?.api!==o.HostApiNodeJsIpc)throw new Error("Module manifest 'api' mismatch");if(!p.runtime.apiVersion)throw new Error("Module manifest 'apiVersion' missing");let m=p.runtime.apiVersion;if("0.0.0"===m)try{const e=await r.default.readFile(l.default.join(__dirname,"../package.json")),t=JSON.parse(e.toString());"@companion-module/base"===t.name&&(m=t.version)}catch(e){throw new Error("Failed to determine module api version")}if(!process.send)throw new Error("Module is not being run with ipc");console.log(`Starting up module class: ${e.name}`);const h=process.env.CONNECTION_ID;if("string"!=typeof h||!h)throw new Error("Module initialise is missing CONNECTION_ID");const _=process.env.VERIFICATION_TOKEN;if("string"!=typeof _||!_)throw new Error("Module initialise is missing VERIFICATION_TOKEN");const f=process.env.SENTRY_DSN,g=process.env.SENTRY_USERID,b=process.env.SENTRY_COMPANION_VERSION;f&&g&&"https://"==f.substring(0,8)?(console.log("Sentry enabled"),(0,s.init)({dsn:f,release:`${p.name}@${p.version}`,beforeSend:e=>(e.exception&&console.log("sentry","error",e.exception),e)}),(0,s.configureScope)((e=>{e.setUser({id:g}),e.setTag("companion",b)}))):console.log("Sentry disabled");const y=new c.IpcWrapper({},(e=>{process.send(e)}),5e3);process.once("message",(e=>{y.receivedMessage(e)})),d=new e((0,i.literal)({id:h,upgradeScripts:t,_isInstanceBaseProps:!0})),y.sendWithCb("register",{apiVersion:m,connectionId:h,verificationToken:_}).then((()=>{console.log("Module-host accepted registration")}),(e=>{console.error("Module registration failed",e),process.exit(11)}))})).catch((e=>{console.error("Failed to startup module:"),console.error(e.stack||e.message),process.exit(1)}))}},1972:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UDPHelper=t.TelnetHelper=t.TCPHelper=void 0;var n=a(9159);Object.defineProperty(t,"TCPHelper",{enumerable:!0,get:function(){return n.TCPHelper}});var o=a(6226);Object.defineProperty(t,"TelnetHelper",{enumerable:!0,get:function(){return o.TelnetHelper}});var r=a(8473);Object.defineProperty(t,"UDPHelper",{enumerable:!0,get:function(){return r.UDPHelper}})},9159:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TCPHelper=void 0;const n=a(7582).__importDefault(a(1808)),o=a(6729),r=a(609);class i extends o.EventEmitter{#e;#t;_socket;#a;#n=!1;#o=!1;#r=!1;#i;#s;get isConnected(){return this.#n}get isConnecting(){return this.#o}get isDestroyed(){return this.#r}constructor(e,t,a){super(),this.#e=e,this.#t=t,this.#a={reconnect_interval:2e3,reconnect:!0,...a},this._socket=new n.default.Socket,this._socket.setKeepAlive(!0),this._socket.setNoDelay(!0),this._socket.on("error",(e=>{this.#o=!1,this.#n=!1,this.#a.reconnect&&this.#c(),this.#l(r.InstanceStatus.UnknownError,e.message),this.emit("error",e)})),this._socket.on("ready",(()=>{this.#n=!0,this.#o=!1,this.#l(r.InstanceStatus.Ok),this.emit("connect")})),this._socket.on("end",(()=>{this.#n=!1,this.#l(r.InstanceStatus.Disconnected),!this.#o&&this.#a.reconnect&&this.#c(),this.emit("end")})),this._socket.on("data",(e=>this.emit("data",e))),this._socket.on("drain",(()=>this.emit("drain"))),setImmediate((()=>this.connect())),setTimeout((()=>{this.#r||this.listenerCount("error")||console.error(`Danger: TCP client for ${this.#e}:${this.#t} is missing an error handler!`)}),5e3)}connect(){if(this.#r)throw new Error("Cannot connect destroyed socket");return!this.#o&&(this.#o=!0,this._socket.connect(this.#t,this.#e),!0)}async send(e){if(this.#r||this._socket.destroyed)throw new Error("Cannot write to destroyed socket");if(!e||!e.length)throw new Error("No message to send");if(!this.#n)return!1;try{return new Promise(((t,a)=>{this._socket.write(e,(e=>{e?a(e):t(!0)}))}))}catch(e){this.#n=!1;const t=e instanceof Error?e:new Error(`${e}`);throw this.#l(r.InstanceStatus.UnknownError,t.message),this.emit("error",t),t}}destroy(){this.#r=!0,void 0!==this.#s&&clearTimeout(this.#s),this._socket.removeAllListeners(),this.removeAllListeners(),this._socket.destroy()}#c(){void 0!==this.#s&&clearTimeout(this.#s),this.#s=setTimeout((()=>{this.#s=void 0,this.#l(r.InstanceStatus.Connecting),this.connect()}),this.#a.reconnect_interval)}#l(e,t){this.#i!=e&&(this.#i=e,this.emit("status_change",e,t))}}t.TCPHelper=i},6226:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelnetHelper=void 0;const n=a(7582).__importDefault(a(6729)),o=a(2781),r=a(9159);class i extends n.default{#d;#u;get isConnected(){return this.#d.isConnected}get isConnecting(){return this.#d.isConnecting}get isDestroyed(){return this.#d.isDestroyed}constructor(e,t,a){super(),this.#d=new r.TCPHelper(e,t,a),this.#u=new s,this.#d._socket.pipe(this.#u),this.#d.on("connect",(()=>this.emit("connect"))),this.#d.on("end",(()=>this.emit("end"))),this.#d.on("error",(e=>this.emit("error",e))),this.#d.on("status_change",((e,t)=>this.emit("status_change",e,t))),this.#u.on("iac",((e,t)=>this.emit("iac",e,t))),this.#u.on("sb",(e=>this.emit("sb",e))),this.#u.on("data",(e=>this.emit("data",e))),this.#u.on("drain",(()=>this.emit("drain"))),setTimeout((()=>{this.isDestroyed||this.listenerCount("error")||console.error(`Danger: Telnet client for ${e}:${t} is missing an error handler!`)}),5e3)}connect(){return this.#d.connect()}async send(e){return this.#d.send(e)}destroy(){this.#d.destroy(),this.#u.removeAllListeners(),this.#u.destroy()}}t.TelnetHelper=i;class s extends o.Transform{#p;#m;#h;constructor(e){super(e),this.#p=Buffer.alloc(0),this.#m=Buffer.alloc(0),this.#h=0}_transform(e,t,a){for(let t=0;t<e.length;++t)this.#_(e[t]);const n=this.#f();n.length&&this.push(n),a()}#_(e){if(0===this.#h){if(255===e)return void(this.#h=255);this.#p=Buffer.concat([this.#p,Buffer.from([e])])}else if(255===this.#h)switch(e){case 250:case 251:case 252:case 253:case 254:this.#h=e;break;default:this.#h=0}else{if(this.#h>=251&&this.#h<=254){let t;switch(this.#h){case 251:t="WILL";break;case 252:t="WONT";break;case 253:t="DO";break;case 254:t="DONT";break;default:return}return this.emit("iac",t,e),void(this.#h=0)}if(250===this.#h){if(240===e)return this.emit("sb",this.#m),this.#h=0,void(this.#m=Buffer.alloc(0));this.#m=Buffer.concat([this.#m,Buffer.from([e])])}}}#f(){const e=this.#p;return this.#p=Buffer.alloc(0),e}}},8473:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UDPHelper=void 0;const n=a(7582).__importDefault(a(1891)),o=a(6729),r=a(609);class i extends o.EventEmitter{#e;#t;#g;#a;#r=!1;#i;get isDestroyed(){return this.#r}constructor(e,t,a){super(),this.#e=e,this.#t=t,this.#a={...a},this.#g=n.default.createSocket("udp4");try{this.#g.bind(this.#a.bind_port||0,this.#a.bind_ip)}catch(e){throw new Error(`Unable to bind to ip/port: ${this.#a.bind_ip}:${this.#a.bind_port}`)}this.#a.broadcast&&this.#g.setBroadcast(!0),void 0!==this.#a.ttl&&this.#g.setTTL(this.#a.ttl),void 0!==this.#a.multicast_ttl&&this.#g.setMulticastTTL(this.#a.multicast_ttl),this.#g.on("error",(e=>{this.#l(r.InstanceStatus.UnknownError,e.message),this.emit("error",e)})),this.#g.on("listening",(()=>{this.#a.multicast_interface&&this.#g.setMulticastInterface(this.#a.multicast_interface),this.#l(r.InstanceStatus.Ok),this.emit("listening")})),this.#g.on("message",(e=>this.emit("data",e))),setTimeout((()=>{this.#r||this.listenerCount("error")||console.error(`Danger: UDP socket for ${this.#e}:${this.#t} is missing an error handler!`)}),5e3)}async send(e){if(this.#r)throw new Error("Cannot write to destroyed socket");if(!e||!e.length)throw new Error("No message to send");return new Promise(((t,a)=>{this.#g.send(e,this.#t,this.#e,(e=>{e?a(e):t()}))}))}destroy(){this.#r=!0,this.#g.removeAllListeners(),this.#g.close(),this.removeAllListeners()}#l(e,t){this.#i!=e&&(this.#i=e,this.emit("status_change",e,t))}}t.UDPHelper=i},8221:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IpcWrapper=void 0;const n=a(7582),o=a(4300),r=a(2068),i=n.__importDefault(a(2559));t.IpcWrapper=class{#b;#y;#v;#w={};constructor(e,t,a){this.#b=e,this.#y=t,this.#v=a}async sendWithCb(e,t,a,n=0){n<=0&&(n=this.#v);const r={timeout:void 0,resolve:()=>null,reject:()=>null},s=new Promise(((e,t)=>{r.resolve=e,r.reject=t})),c=(0,o.nanoid)();this.#w[c]=r,this.#y({direction:"call",name:String(e),payload:i.default.stringify(t),callbackId:c});const l=new Error("Call timed out");return r.timeout=setTimeout((()=>{r.reject(a?a():l),delete this.#w[c]}),n),s}sendWithNoCb(e,t){this.#y({direction:"call",name:String(e),payload:i.default.stringify(t),callbackId:void 0})}receivedMessage(e){const t=e;switch(e.direction){case"call":{const t=this.#b[e.name];if(!t)return void(e.callbackId&&this.#y({direction:"response",callbackId:e.callbackId,success:!1,payload:i.default.stringify({message:`Unknown command "${e.name}"`})}));t(e.payload?i.default.parse(e.payload):void 0).then((t=>{e.callbackId&&this.#y({direction:"response",callbackId:e.callbackId,success:!0,payload:i.default.stringify(t)})}),(t=>{e.callbackId&&this.#y({direction:"response",callbackId:e.callbackId,success:!1,payload:t instanceof Error?JSON.stringify(t,Object.getOwnPropertyNames(t)):i.default.stringify(t)})}));break}case"response":{if(!e.callbackId)return void console.error("Ipc: Response message has no callbackId");const t=this.#w[e.callbackId];if(delete this.#w[e.callbackId],!t)return;clearTimeout(t.timeout);const a=e.payload?i.default.parse(e.payload):void 0;if(e.success)t.resolve(a);else{let e=a;a&&"message"in a&&(e=new Error(a.message),a.stack&&(e.stack=a.stack)),t.reject(e)}break}default:(0,r.assertNever)(e),console.error(`Ipc: Message of unknown direction "${t.direction}"`)}}}},9913:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HostApiNodeJsIpc=void 0,t.HostApiNodeJsIpc="nodejs-ipc"},8049:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runEntrypoint=t.assertNever=t.splitRgb=t.combineRgb=t.literal=void 0;const n=a(7582);n.__exportStar(a(7517),t),n.__exportStar(a(4911),t),n.__exportStar(a(2764),t);var o=a(2068);Object.defineProperty(t,"literal",{enumerable:!0,get:function(){return o.literal}}),Object.defineProperty(t,"combineRgb",{enumerable:!0,get:function(){return o.combineRgb}}),Object.defineProperty(t,"splitRgb",{enumerable:!0,get:function(){return o.splitRgb}}),Object.defineProperty(t,"assertNever",{enumerable:!0,get:function(){return o.assertNever}}),n.__exportStar(a(1972),t);var r=a(7359);Object.defineProperty(t,"runEntrypoint",{enumerable:!0,get:function(){return r.runEntrypoint}})},4391:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionManager=void 0;const n=a(2557);function o(e){return{id:e.id,actionId:e.actionId,controlId:e.controlId,options:e.options}}t.ActionManager=class{#S;#k;#E;#A=new Map;#x=new Map;constructor(e,t,a){this.#S=e,this.#k=t,this.#E=a}async handleExecuteAction(e){const t=this.#A.get(e.action.actionId);if(!t)throw new Error(`Unknown action: ${e.action.actionId}`);const a={parseVariablesInString:async t=>(await this.#S({text:t,controlId:e.action.controlId,actionInstanceId:e.action.id,feedbackInstanceId:void 0})).text};await t.callback({id:e.action.id,actionId:e.action.actionId,controlId:e.action.controlId,options:e.action.options,surfaceId:e.surfaceId??e.deviceId,_deviceId:e.surfaceId??e.deviceId,_page:e.action.page,_bank:e.action.bank},a)}handleUpdateActions(e){for(const[t,a]of Object.entries(e)){const e=this.#x.get(t);if(e){const t=this.#A.get(e.actionId);if(t?.unsubscribe){const a={parseVariablesInString:async t=>(await this.#S({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.unsubscribe(o(e),a)).catch((t=>{this.#E("error",`Action unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}if(!a||a.disabled)this.#x.delete(t);else{this.#x.set(t,a);const e=this.#A.get(a.actionId);if(e?.subscribe){const t={parseVariablesInString:async e=>(await this.#S({text:e,controlId:a.controlId,actionInstanceId:a.id,feedbackInstanceId:void 0})).text};Promise.resolve(e.subscribe(o(a),t)).catch((e=>{this.#E("error",`Action subscribe failed: ${JSON.stringify(a)} - ${e?.message??e} ${e?.stack}`)}))}}}}async handleLearnAction(e){const t=this.#A.get(e.action.actionId);if(t&&t.learn){const a={parseVariablesInString:async t=>(await this.#S({text:t,controlId:e.action.controlId,actionInstanceId:e.action.id,feedbackInstanceId:void 0})).text};return{options:await t.learn({id:e.action.id,actionId:e.action.actionId,controlId:e.action.controlId,options:e.action.options,surfaceId:void 0,_deviceId:void 0,_page:e.action.page,_bank:e.action.bank},a)}}return{options:void 0}}setActionDefinitions(e){const t=[];this.#A.clear();for(const[a,o]of Object.entries(e))o&&(t.push({id:a,name:o.name,description:o.description,options:(0,n.serializeIsVisibleFn)(o.options),hasLearn:!!o.learn}),this.#A.set(a,o));this.#k({actions:t})}_getAllActions(){return Array.from(this.#x.values()).map((e=>({id:e.id,actionId:e.actionId,controlId:e.controlId,options:e.options})))}subscribeActions(e){let t=Array.from(this.#x.values());const a=new Set(e);a.size&&(t=t.filter((e=>a.has(e.actionId))));for(const e of t){const t=this.#A.get(e.actionId);if(t?.subscribe){const a={parseVariablesInString:async t=>(await this.#S({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.subscribe(o(e),a)).catch((t=>{this.#E("error",`Action subscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}unsubscribeActions(e){let t=Array.from(this.#x.values());const a=new Set(e);a.size&&(t=t.filter((e=>a.has(e.actionId))));for(const e of t){const t=this.#A.get(e.actionId);if(t&&t.unsubscribe){const a={parseVariablesInString:async t=>(await this.#S({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.unsubscribe(o(e),a)).catch((t=>{this.#E("error",`Action unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}}},2557:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInstanceBaseProps=t.serializeIsVisibleFn=void 0,t.serializeIsVisibleFn=function(e){return(e??[]).map((e=>"isVisible"in e&&"function"==typeof e.isVisible?{...e,isVisibleFn:e.isVisible.toString(),isVisible:void 0}:{...e,isVisibleFn:void 0}))},t.isInstanceBaseProps=function(e){const t=e;return"object"==typeof t&&"string"==typeof t.id&&!0===t._isInstanceBaseProps}},7550:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackManager=void 0;const n=a(7582),o=a(2557),r=n.__importDefault(a(3453));function i(e,t){return{type:e,id:t.id,feedbackId:t.feedbackId,controlId:t.controlId,options:t.options}}t.FeedbackManager=class{#S;#I;#T;#E;#P=new Map;#O=new Map;#C=new Map;#N=new Map;#R;get parseVariablesContext(){return this.#R}constructor(e,t,a,n){this.#S=e,this.#I=t,this.#T=a,this.#E=n}getDefinitionIds(){return Array.from(this.#P.keys())}getInstanceIds(){return Array.from(this.#O.keys())}handleUpdateFeedbacks(e){for(const[t,a]of Object.entries(e)){const e=this.#O.get(t);if(e){const t=this.#P.get(e.feedbackId);if(t?.unsubscribe){const a={parseVariablesInString:async t=>(await this.#S({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.unsubscribe(i(t.type,e),a)).catch((t=>{this.#E("error",`Feedback unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}if(!a||a.disabled)this.#O.delete(t);else{this.#O.set(t,{...a,referencedVariables:null});const e=this.#P.get(a.feedbackId);if(e?.subscribe){const t={parseVariablesInString:async e=>(await this.#S({text:e,controlId:a.controlId,actionInstanceId:void 0,feedbackInstanceId:a.id})).text};Promise.resolve(e.subscribe(i(e.type,a),t)).catch((e=>{this.#E("error",`Feedback subscribe failed: ${JSON.stringify(a)} - ${e?.message??e} ${e?.stack}`)}))}this.#D(t)}}}async handleLearnFeedback(e){const t=this.#P.get(e.feedback.feedbackId);if(t&&t.learn){const a={parseVariablesInString:async t=>(await this.#S({text:t,controlId:e.feedback.controlId,actionInstanceId:void 0,feedbackInstanceId:e.feedback.id})).text};return{options:await t.learn({id:e.feedback.id,feedbackId:e.feedback.feedbackId,controlId:e.feedback.controlId,options:e.feedback.options,type:t.type},a)}}return{options:void 0}}handleVariablesChanged(e){if(!e.variablesIds.length)return;const t=new Set(e.variablesIds);for(const t of this.#N.values())for(const a of e.variablesIds)t.changedVariables.add(a);const a=new Set;for(const e of this.#O.values())if(!this.#N.has(e.id)&&e.referencedVariables)for(const n of e.referencedVariables)if(t.has(n)){a.add(e.id);break}for(const e of a)setImmediate((()=>{this.#D(e)}))}#D(e){const t=this.#N.get(e);if(t)return void(t.needsRecheck=!0);const a=this.#O.get(e);if(!a)return;const n=a,o={needsRecheck:!1,changedVariables:new Set};this.#N.set(e,o),Promise.resolve().then((async()=>{const t=this.#P.get(n.feedbackId);let a;const o=new Set;if(t){this.#R=`Feedback ${n.feedbackId} (${e})`;const r={parseVariablesInString:async t=>{const a=await this.#S({text:t,controlId:n.controlId,actionInstanceId:void 0,feedbackInstanceId:e});if(a.variableIds&&a.variableIds.length)for(const e of a.variableIds)o.add(e);return a.text}};a="boolean"===t.type?t.callback({...i("boolean",n),type:"boolean",_rawBank:n.rawBank},r):t.callback({...i("advanced",n),type:"advanced",image:n.image,_page:n.page,_bank:n.bank,_rawBank:n.rawBank},r),this.#R=void 0}const r=await a;this.#C.set(e,{id:e,controlId:n.controlId,value:r}),this.#G(),n.referencedVariables=o.size>0?Array.from(o):null})).catch((e=>{console.error(`Feedback check failed: ${JSON.stringify(n)} - ${e?.message??e} ${e?.stack}`)})).finally((()=>{this.#R=void 0,this.#N.delete(e);let t=!1;if(n.referencedVariables)for(const e of n.referencedVariables)if(o.changedVariables.has(e)){t=!0;break}(t||o.needsRecheck)&&setImmediate((()=>{this.#D(e)}))}))}#G=(0,r.default)((()=>{const e=this.#C;this.#C=new Map,e.size>0&&this.#I({values:Array.from(e.values())})}),{wait:5,maxWait:25});setFeedbackDefinitions(e){const t=[];this.#P.clear();for(const[a,n]of Object.entries(e))n&&(t.push({id:a,name:n.name,description:n.description,options:(0,o.serializeIsVisibleFn)(n.options),type:n.type,defaultStyle:"defaultStyle"in n?n.defaultStyle:void 0,hasLearn:!!n.learn}),this.#P.set(a,n));this.#T({feedbacks:t})}checkFeedbacks(e){const t=new Set(e);for(const[e,a]of this.#O.entries())this.#P.get(a.feedbackId)&&(0===t.size||t.has(a.feedbackId))&&this.#D(e)}checkFeedbacksById(e){for(const t of e)this.#D(t)}_getAllFeedbacks(){return Array.from(this.#O.values()).map((e=>({id:e.id,feedbackId:e.feedbackId,controlId:e.controlId,options:e.options})))}subscribeFeedbacks(e){let t=Array.from(this.#O.values());const a=new Set(e);a.size&&(t=t.filter((e=>a.has(e.feedbackId))));for(const e of t){const t=this.#P.get(e.feedbackId);if(t?.subscribe){const a={parseVariablesInString:async t=>(await this.#S({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.subscribe(i(t.type,e),a)).catch((t=>{this.#E("error",`Feedback subscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}unsubscribeFeedbacks(e){let t=Array.from(this.#O.values());const a=new Set(e);a.size&&(t=t.filter((e=>a.has(e.feedbackId))));for(const e of t){const t=this.#P.get(e.feedbackId);if(t&&t.unsubscribe){const a={parseVariablesInString:async t=>(await this.#S({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.unsubscribe(i(t.type,e),a)).catch((t=>{this.#E("error",`Feedback unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}}},1806:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runThroughUpgradeScripts=void 0;const n=a(2068);function o(e){return JSON.parse(JSON.stringify(e))}t.runThroughUpgradeScripts=function(e,t,a,r,i,s){const c=new Map,l=e=>{let t=c.get(e);return t||(t={actions:[],feedbacks:[],config:!1},c.set(e,t)),t};for(const t of Object.values(e)){const e=t?.upgradeIndex??a;t&&"number"==typeof e&&l(e).actions.push(t.id)}for(const e of Object.values(t)){const t=e?.upgradeIndex??a;e&&"number"==typeof t&&l(t).feedbacks.push(e.id)}if(!s)for(let e=a??-1;e<r.length;e++)l(e).config=!0;const d={},u={};let p;if(c.size>0){const s=Array.from(c.keys()).sort(),l=Math.min(...s,a??-1)+1,m=[],h=[],_=r.length;for(let a=l;a<_;a++){const s=c.get(a-1);s&&(m.push(...s.actions),h.push(...s.feedbacks));const l=!!s?.config;if(!l&&0===m.length&&0===h.length)continue;const _=p??i,f=(0,r[a])({currentConfig:o(_)},{config:l?_:null,actions:m.map((t=>{const a=e[t];if(a)return(0,n.literal)({id:a.id,controlId:a.controlId,actionId:a.actionId,options:void 0!==a.options?o(a.options):{}})})).filter((e=>!!e)),feedbacks:h.map((e=>{const a=t[e];if(a)return(0,n.literal)({id:a.id,controlId:a.controlId,feedbackId:a.feedbackId,options:void 0!==a.options?o(a.options):{}})})).filter((e=>!!e))});l&&f.updatedConfig&&(p=f.updatedConfig);for(const t of f.updatedActions)if(t){const a=e[t.id];a&&(a.actionId=t.actionId,a.options=t.options,u[t.id]=a)}for(const e of f.updatedFeedbacks)if(e){const a=t[e.id];a&&(a.feedbackId=e.feedbackId,a.options=e.options,d[e.id]={...a,style:d[e.id]?.style??e.style})}}for(const[t,a]of Object.entries(e))u[t]||"number"!=typeof a?.upgradeIndex||(u[t]=a);for(const[e,a]of Object.entries(t))d[e]||"number"!=typeof a?.upgradeIndex||(d[e]=a)}return{updatedActions:u,updatedFeedbacks:d,updatedConfig:p}}},7517:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateManifest=void 0;const n=a(7582).__importDefault(a(4618));t.validateManifest=function(e){if(!(0,n.default)(e)){const e=n.default.errors;if(!e)throw new Error("Manifest failed validation with unknown reason");throw new Error(`Manifest validation failed: ${JSON.stringify(e)}`)}}},8322:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5203:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstanceBase=void 0;const n=a(7582),o=a(2068),r=n.__importDefault(a(5860)),i=a(2557),s=a(1806),c=a(7550),l=a(8221),d=a(4391);t.InstanceBase=class{#U;#B;id;#M=new r.default({concurrency:1});#z=!1;#L=!1;#F={};#$;#j;#V=new Map;#W=new Map;#a;#q;get instanceOptions(){return this.#a}get label(){return this.#q}constructor(e){if(!(0,i.isInstanceBaseProps)(e)||!e._isInstanceBaseProps)throw new Error("Module instance is being constructed incorrectly. Make sure you aren't trying to do this manually");this.#a={disableVariableValidation:!1},this.#U=new l.IpcWrapper({init:this._handleInit.bind(this),destroy:this._handleDestroy.bind(this),updateConfigAndLabel:this._handleConfigUpdateAndLabel.bind(this),updateConfig:async()=>{},executeAction:this._handleExecuteAction.bind(this),updateFeedbacks:this._handleUpdateFeedbacks.bind(this),updateActions:this._handleUpdateActions.bind(this),getConfigFields:this._handleGetConfigFields.bind(this),handleHttpRequest:this._handleHttpRequest.bind(this),learnAction:this._handleLearnAction.bind(this),learnFeedback:this._handleLearnFeedback.bind(this),startStopRecordActions:this._handleStartStopRecordActions.bind(this),variablesChanged:this._handleVariablesChanged.bind(this)},(e=>{process.send(e)}),5e3),process.on("message",(e=>{this.#U.receivedMessage(e)})),this.#$=new d.ActionManager((async e=>this.#U.sendWithCb("parseVariablesInString",e)),(e=>this.#U.sendWithNoCb("setActionDefinitions",e)),this.log.bind(this)),this.#j=new c.FeedbackManager((async e=>this.#U.sendWithCb("parseVariablesInString",e)),(e=>this.#U.sendWithNoCb("updateFeedbackValues",e)),(e=>this.#U.sendWithNoCb("setFeedbackDefinitions",e)),this.log.bind(this)),this.#B=e.upgradeScripts,this.id=e.id,this.#q=e.id,this.log("debug","Initializing")}async _handleInit(e){return this.#M.add((async()=>{if(this.#z)throw new Error("Already initialized");const t=e.actions,a=e.feedbacks;if(this.#F=e.config,this.#q=e.label,e.isFirstInit){const t={},a=this.getConfigFields();for(const e of a)"default"in e&&(t[e.id]=e.default);this.#F=t,this.saveConfig(this.#F),e.lastUpgradeIndex=this.#B.length-1}const{updatedActions:n,updatedFeedbacks:o,updatedConfig:r}=(0,s.runThroughUpgradeScripts)(t,a,e.lastUpgradeIndex,this.#B,this.#F,!1);this.#F=r??this.#F;const i=this.#U.sendWithCb("upgradedItems",{updatedActions:n,updatedFeedbacks:o});try{await this.init(this.#F,!!e.isFirstInit),this.#z=!0}catch(e){throw console.trace(`Init failed: ${e}`),e}finally{await i}return setImmediate((()=>{this._handleUpdateActions({actions:t},!0).catch((e=>{this.log("error",`Receive actions failed: ${e}`)})),this._handleUpdateFeedbacks({feedbacks:a},!0).catch((e=>{this.log("error",`Receive feedbacks failed: ${e}`)}))})),{hasHttpHandler:"function"==typeof this.handleHttpRequest,hasRecordActionsHandler:"function"==typeof this.handleStartStopRecordActions,newUpgradeIndex:this.#B.length-1,updatedConfig:this.#F}}))}async _handleDestroy(){await this.#M.add((async()=>{if(!this.#z)throw new Error("Not initialized");await this.destroy(),this.#z=!1}))}async _handleConfigUpdateAndLabel(e){await this.#M.add((async()=>{if(!this.#z)throw new Error("Not initialized");this.#q=e.label,this.#F=e.config,await this.configUpdated(this.#F)}))}async _handleExecuteAction(e){return this.#$.handleExecuteAction(e)}async _handleUpdateFeedbacks(e,t){if(!t){const t=(0,s.runThroughUpgradeScripts)({},e.feedbacks,null,this.#B,this.#F,!0);this.#U.sendWithCb("upgradedItems",{updatedActions:t.updatedActions,updatedFeedbacks:t.updatedFeedbacks}).catch((e=>{this.log("error",`Failed to save upgraded feedbacks: ${e}`)}))}this.#j.handleUpdateFeedbacks(e.feedbacks)}async _handleUpdateActions(e,t){if(!t){const t=(0,s.runThroughUpgradeScripts)(e.actions,{},null,this.#B,this.#F,!0);this.#U.sendWithCb("upgradedItems",{updatedActions:t.updatedActions,updatedFeedbacks:t.updatedFeedbacks}).catch((e=>{this.log("error",`Failed to save upgraded actions: ${e}`)}))}this.#$.handleUpdateActions(e.actions)}async _handleGetConfigFields(e){return{fields:(0,i.serializeIsVisibleFn)(this.getConfigFields())}}async _handleHttpRequest(e){if(!this.handleHttpRequest)throw new Error("handleHttpRequest is not supported!");return{response:await this.handleHttpRequest(e.request)}}async _handleLearnAction(e){return this.#$.handleLearnAction(e)}async _handleLearnFeedback(e){return this.#j.handleLearnFeedback(e)}async _handleStartStopRecordActions(e){if(e.recording){if(this.#L)return}else if(!this.#L)return;if(!this.handleStartStopRecordActions)throw this.#L=!1,new Error("Recording actions is not supported by this module!");this.#L=e.recording,this.handleStartStopRecordActions(this.#L)}async _handleVariablesChanged(e){this.#j.handleVariablesChanged(e)}saveConfig(e){this.#F=e,this.#U.sendWithNoCb("saveConfig",{config:e})}setActionDefinitions(e){this.#$.setActionDefinitions(e)}setFeedbackDefinitions(e){this.#j.setFeedbackDefinitions(e)}setPresetDefinitions(e){const t=[];for(const[a,n]of Object.entries(e))n&&t.push({...n,id:a});this.#U.sendWithNoCb("setPresetDefinitions",{presets:t})}setVariableDefinitions(e){const t=[];this.#V.clear();for(const a of e)t.push({id:a.variableId,name:a.name}),this.#V.set(a.variableId,a),this.#W.has(a.variableId)||this.#W.set(a.variableId,"");if(!this.#a.disableVariableValidation){const e=new Set(this.#V.keys());for(const t of this.#W.keys())e.has(t)||this.#W.delete(t)}this.#U.sendWithNoCb("setVariableDefinitions",{variables:t})}setVariableValues(e){const t=[];for(const[a,n]of Object.entries(e))this.#a.disableVariableValidation?(void 0===n?this.#W.delete(a):this.#W.set(a,n),t.push({id:a,value:n})):this.#V.has(a)?(this.#W.set(a,n??""),t.push({id:a,value:n??""})):t.push({id:a,value:void 0});this.#U.sendWithNoCb("setVariableValues",{newValues:t})}getVariableValue(e){return this.#W.get(e)}async parseVariablesInString(e){const t=this.#j.parseVariablesContext;return t&&this.log("debug",`parseVariablesInString called while in: ${t}. You should use the parseVariablesInString provided to the callback instead`),(await this.#U.sendWithCb("parseVariablesInString",{text:e,controlId:void 0,actionInstanceId:void 0,feedbackInstanceId:void 0})).text}checkFeedbacks(...e){this.#j.checkFeedbacks(e)}checkFeedbacksById(...e){this.#j.checkFeedbacksById(e)}_getAllActions(){return this.#$._getAllActions()}subscribeActions(...e){this.#$.subscribeActions(e)}unsubscribeActions(...e){this.#$.unsubscribeActions(e)}_getAllFeedbacks(){return this.#j._getAllFeedbacks()}subscribeFeedbacks(...e){this.#j.subscribeFeedbacks(e)}unsubscribeFeedbacks(...e){this.#j.unsubscribeFeedbacks(e)}recordAction(e,t){if(!this.#L)throw new Error("Not currently recording actions");this.#U.sendWithNoCb("recordAction",{uniquenessId:t??null,actionId:e.actionId,options:e.options})}setCustomVariableValue(e,t){this.#U.sendWithNoCb("setCustomVariable",{customVariableId:e,value:t})}oscSend(e,t,a,n){this.#U.sendWithNoCb("send-osc",(0,o.literal)({host:e,port:t,path:a,args:n}))}updateStatus(e,t){this.#U.sendWithNoCb("set-status",(0,o.literal)({status:e,message:t??null}))}log(e,t){this.#U.sendWithNoCb("log-message",(0,o.literal)({level:e,message:t}))}}},9051:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},609:(e,t)=>{"use strict";var a,n;Object.defineProperty(t,"__esModule",{value:!0}),t.Regex=t.InstanceStatus=void 0,(n=t.InstanceStatus||(t.InstanceStatus={})).Ok="ok",n.Connecting="connecting",n.Disconnected="disconnected",n.ConnectionFailure="connection_failure",n.BadConfig="bad_config",n.UnknownError="unknown_error",n.UnknownWarning="unknown_warning",(a=t.Regex||(t.Regex={})).IP="/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/",a.HOSTNAME="/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$/",a.BOOLEAN="/^(true|false|0|1)$/i",a.PORT="/^([1-9]|[1-8][0-9]|9[0-9]|[1-8][0-9]{2}|9[0-8][0-9]|99[0-9]|[1-8][0-9]{3}|9[0-8][0-9]{2}|99[0-8][0-9]|999[0-9]|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-4])$/",a.PERCENT="/^(100|[0-9]|[0-9][0-9])$/",a.FLOAT="/^([0-9]*\\.)?[0-9]+$/",a.SIGNED_FLOAT="/^[+-]?([0-9]*\\.)?[0-9]+$/",a.FLOAT_OR_INT="/^([0-9]+)(\\.[0-9]+)?$/",a.NUMBER="/^\\d+$/",a.SIGNED_NUMBER="/^[+-]?\\d+$/",a.SOMETHING="/^.+$/",a.TIMECODE="/^(0*[0-9]|1[0-9]|2[0-4]):(0*[0-9]|[1-5][0-9]|60):(0*[0-9]|[1-5][0-9]|60):(0*[0-9]|[12][0-9]|30)$/"},4334:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2490:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4911:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(7582);n.__exportStar(a(8322),t),n.__exportStar(a(5203),t),n.__exportStar(a(9051),t),n.__exportStar(a(609),t),n.__exportStar(a(4334),t),n.__exportStar(a(2490),t),n.__exportStar(a(3646),t),n.__exportStar(a(3558),t),n.__exportStar(a(4788),t),n.__exportStar(a(521),t),n.__exportStar(a(6870),t)},3646:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4788:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},521:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreateConvertToBooleanFeedbackUpgradeScript=t.EmptyUpgradeScript=void 0,t.EmptyUpgradeScript=()=>({updatedConfig:null,updatedActions:[],updatedFeedbacks:[]}),t.CreateConvertToBooleanFeedbackUpgradeScript=function(e){return(t,a)=>{const n=[];for(const t of a.feedbacks){let a=e[t.feedbackId];if(!0===a&&(a={bg:"bgcolor",bgcolor:"bgcolor",fg:"color",color:"color",png64:"png64",png:"png64"}),a){t.style||(t.style={});for(const[e,o]of Object.entries(a))void 0!==t.options[e]&&(t.style[o]=t.options[e],delete t.options[e],n.push(t))}}return{updatedConfig:null,updatedActions:[],updatedFeedbacks:n}}}},6870:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2068:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitRgb=t.combineRgb=t.assertNever=t.literal=void 0,t.literal=function(e){return e},t.assertNever=function(e){},t.combineRgb=function(e,t,a){return(255&e)<<16|(255&t)<<8|255&a},t.splitRgb=function(e){return{r:(16711680&e)>>16,g:(65280&e)>>8,b:255&e}}},4618:(e,t,a)=>{"use strict";e.exports=r,e.exports.default=r;const n={$schema:"http://json-schema.org/draft-07/schema#",type:"object",title:"ModuleManifest",properties:{id:{type:"string",description:"Unique identifier for the module"},name:{type:"string",description:"Name of the module"},shortname:{type:"string"},description:{type:"string",description:"Description of the module "},version:{type:"string",description:"Current version of the module"},license:{type:"string",description:"SPDX identifier for license of the module"},repository:{type:"string",description:"URL to the source repository"},bugs:{type:"string",description:"URL to bug tracker"},maintainers:{type:"array",description:"List of active maintiners",uniqueItems:!0,items:{type:"object",title:"ModuleManifestMaintainer",properties:{name:{type:"string"},email:{type:"string"},github:{type:"string"}},required:["name"]}},legacyIds:{type:"array",description:"If the module had a different unique identifier previously, then specify it here",uniqueItems:!0,items:{type:"string"}},runtime:{type:"object",title:"ModuleManifestRuntime",description:"Information on how to execute the module",properties:{type:{type:"string",description:"Type of the module. Must be: node18"},api:{type:"string",description:"Which host-api does it use. In the future alternate options will be allowed",enum:["nodejs-ipc"]},apiVersion:{type:"string",description:"The version of the host-api used"},entrypoint:{type:"string",description:"Entrypoint to pass to the runtime. eg index.js"}},required:["type","api","apiVersion","entrypoint"]},manufacturer:{type:"string"},products:{type:"array",uniqueItems:!0,items:{type:"string"}},keywords:{type:"array",uniqueItems:!0,items:{type:"string"}}},required:["id","name","shortname","description","version","license","repository","bugs","maintainers","legacyIds","runtime","manufacturer","products","keywords"]},o=a(7056).Z;function r(e,{instancePath:t="",parentData:a,parentDataProperty:i,rootData:s=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return r.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let a;if(void 0===e.id&&(a="id")||void 0===e.name&&(a="name")||void 0===e.shortname&&(a="shortname")||void 0===e.description&&(a="description")||void 0===e.version&&(a="version")||void 0===e.license&&(a="license")||void 0===e.repository&&(a="repository")||void 0===e.bugs&&(a="bugs")||void 0===e.maintainers&&(a="maintainers")||void 0===e.legacyIds&&(a="legacyIds")||void 0===e.runtime&&(a="runtime")||void 0===e.manufacturer&&(a="manufacturer")||void 0===e.products&&(a="products")||void 0===e.keywords&&(a="keywords"))return r.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:a},message:"must have required property '"+a+"'"}],!1;if(void 0!==e.id){const a=0;if("string"!=typeof e.id)return r.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=0===a}else c=!0;if(c){if(void 0!==e.name){const a=0;if("string"!=typeof e.name)return r.errors=[{instancePath:t+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;c=0===a}else c=!0;if(c){if(void 0!==e.shortname){const a=0;if("string"!=typeof e.shortname)return r.errors=[{instancePath:t+"/shortname",schemaPath:"#/properties/shortname/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;c=0===a}else c=!0;if(c){if(void 0!==e.description){const a=0;if("string"!=typeof e.description)return r.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;c=0===a}else c=!0;if(c){if(void 0!==e.version){const a=0;if("string"!=typeof e.version)return r.errors=[{instancePath:t+"/version",schemaPath:"#/properties/version/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;c=0===a}else c=!0;if(c){if(void 0!==e.license){const a=0;if("string"!=typeof e.license)return r.errors=[{instancePath:t+"/license",schemaPath:"#/properties/license/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;c=0===a}else c=!0;if(c){if(void 0!==e.repository){const a=0;if("string"!=typeof e.repository)return r.errors=[{instancePath:t+"/repository",schemaPath:"#/properties/repository/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;c=0===a}else c=!0;if(c){if(void 0!==e.bugs){const a=0;if("string"!=typeof e.bugs)return r.errors=[{instancePath:t+"/bugs",schemaPath:"#/properties/bugs/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;c=0===a}else c=!0;if(c){if(void 0!==e.maintainers){let a=e.maintainers;const n=0;if(0===n){if(!Array.isArray(a))return r.errors=[{instancePath:t+"/maintainers",schemaPath:"#/properties/maintainers/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var l=!0;const e=a.length;for(let n=0;n<e;n++){let e=a[n];const o=0;if(0===o){if(!e||"object"!=typeof e||Array.isArray(e))return r.errors=[{instancePath:t+"/maintainers/"+n,schemaPath:"#/properties/maintainers/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let a;if(void 0===e.name&&(a="name"))return r.errors=[{instancePath:t+"/maintainers/"+n,schemaPath:"#/properties/maintainers/items/required",keyword:"required",params:{missingProperty:a},message:"must have required property '"+a+"'"}],!1;if(void 0!==e.name){const a=0;if("string"!=typeof e.name)return r.errors=[{instancePath:t+"/maintainers/"+n+"/name",schemaPath:"#/properties/maintainers/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=0===a}else d=!0;if(d){if(void 0!==e.email){const a=0;if("string"!=typeof e.email)return r.errors=[{instancePath:t+"/maintainers/"+n+"/email",schemaPath:"#/properties/maintainers/items/properties/email/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;d=0===a}else d=!0;if(d)if(void 0!==e.github){const a=0;if("string"!=typeof e.github)return r.errors=[{instancePath:t+"/maintainers/"+n+"/github",schemaPath:"#/properties/maintainers/items/properties/github/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;d=0===a}else d=!0}}}if(!(l=0===o))break}if(l){let e,n=a.length;if(n>1)for(;n--;)for(e=n;e--;)if(o(a[n],a[e]))return r.errors=[{instancePath:t+"/maintainers",schemaPath:"#/properties/maintainers/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1}}}c=0===n}else c=!0;if(c){if(void 0!==e.legacyIds){let a=e.legacyIds;const n=0;if(0===n){if(!Array.isArray(a))return r.errors=[{instancePath:t+"/legacyIds",schemaPath:"#/properties/legacyIds/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var u=!0;const e=a.length;for(let n=0;n<e;n++){const e=0;if("string"!=typeof a[n])return r.errors=[{instancePath:t+"/legacyIds/"+n,schemaPath:"#/properties/legacyIds/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(u=0===e))break}if(u){let e,n=a.length;if(n>1){const o={};for(;n--;){let i=a[n];if("string"==typeof i){if("number"==typeof o[i])return e=o[i],r.errors=[{instancePath:t+"/legacyIds",schemaPath:"#/properties/legacyIds/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1;o[i]=n}}}}}}c=0===n}else c=!0;if(c){if(void 0!==e.runtime){let a=e.runtime;const o=0;if(0===o){if(!a||"object"!=typeof a||Array.isArray(a))return r.errors=[{instancePath:t+"/runtime",schemaPath:"#/properties/runtime/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===a.type&&(e="type")||void 0===a.api&&(e="api")||void 0===a.apiVersion&&(e="apiVersion")||void 0===a.entrypoint&&(e="entrypoint"))return r.errors=[{instancePath:t+"/runtime",schemaPath:"#/properties/runtime/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;if(void 0!==a.type){const e=0;if("string"!=typeof a.type)return r.errors=[{instancePath:t+"/runtime/type",schemaPath:"#/properties/runtime/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=0===e}else p=!0;if(p){if(void 0!==a.api){let e=a.api;const o=0;if("string"!=typeof e)return r.errors=[{instancePath:t+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("nodejs-ipc"!==e)return r.errors=[{instancePath:t+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/enum",keyword:"enum",params:{allowedValues:n.properties.runtime.properties.api.enum},message:"must be equal to one of the allowed values"}],!1;p=0===o}else p=!0;if(p){if(void 0!==a.apiVersion){const e=0;if("string"!=typeof a.apiVersion)return r.errors=[{instancePath:t+"/runtime/apiVersion",schemaPath:"#/properties/runtime/properties/apiVersion/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=0===e}else p=!0;if(p)if(void 0!==a.entrypoint){const e=0;if("string"!=typeof a.entrypoint)return r.errors=[{instancePath:t+"/runtime/entrypoint",schemaPath:"#/properties/runtime/properties/entrypoint/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=0===e}else p=!0}}}}c=0===o}else c=!0;if(c){if(void 0!==e.manufacturer){const a=0;if("string"!=typeof e.manufacturer)return r.errors=[{instancePath:t+"/manufacturer",schemaPath:"#/properties/manufacturer/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;c=0===a}else c=!0;if(c){if(void 0!==e.products){let a=e.products;const n=0;if(0===n){if(!Array.isArray(a))return r.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var m=!0;const e=a.length;for(let n=0;n<e;n++){const e=0;if("string"!=typeof a[n])return r.errors=[{instancePath:t+"/products/"+n,schemaPath:"#/properties/products/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(m=0===e))break}if(m){let e,n=a.length;if(n>1){const o={};for(;n--;){let i=a[n];if("string"==typeof i){if("number"==typeof o[i])return e=o[i],r.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1;o[i]=n}}}}}}c=0===n}else c=!0;if(c)if(void 0!==e.keywords){let a=e.keywords;const n=0;if(0===n){if(!Array.isArray(a))return r.errors=[{instancePath:t+"/keywords",schemaPath:"#/properties/keywords/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var h=!0;const e=a.length;for(let n=0;n<e;n++){const e=0;if("string"!=typeof a[n])return r.errors=[{instancePath:t+"/keywords/"+n,schemaPath:"#/properties/keywords/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(h=0===e))break}if(h){let e,n=a.length;if(n>1){const o={};for(;n--;){let i=a[n];if("string"==typeof i){if("number"==typeof o[i])return e=o[i],r.errors=[{instancePath:t+"/keywords",schemaPath:"#/properties/keywords/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1;o[i]=n}}}}}}c=0===n}else c=!0}}}}}}}}}}}}}return r.errors=null,!0}},3453:(e,t,a)=>{"use strict";const n=a(4341);e.exports=(e,t={})=>{if("function"!=typeof e)throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:a=0,maxWait:o=0,before:r=!1,after:i=!0}=t;if(!r&&!i)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let s,c,l;const d=function(...t){const n=this,d=r&&!s;return clearTimeout(s),s=setTimeout((()=>{s=void 0,c&&(clearTimeout(c),c=void 0),i&&(l=e.apply(n,t))}),a),o>0&&!c&&i&&(c=setTimeout((()=>{c=void 0,s&&(clearTimeout(s),s=void 0),l=e.apply(n,t)}),o)),d&&(l=e.apply(n,t)),l};return n(d,e),d.cancel=()=>{s&&(clearTimeout(s),s=void 0),c&&(clearTimeout(c),c=void 0)},d}},7135:(e,t,a)=>{if(!globalThis.ReadableStream)try{const e=a(7742),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,a(2477)),e.emitWarning=t}catch(a){throw e.emitWarning=t,a}}catch(e){Object.assign(globalThis,a(2660))}try{const{Blob:e}=a(8709);e&&!e.prototype.stream&&(e.prototype.stream=function(e){let t=0;const a=this;return new ReadableStream({type:"bytes",async pull(e){const n=a.slice(t,Math.min(a.size,t+65536)),o=await n.arrayBuffer();t+=o.byteLength,e.enqueue(new Uint8Array(o)),t===a.size&&e.close()}})})}catch(e){}},4300:(e,t,a)=>{let n,o,r=a(6113),{urlAlphabet:i}=a(3792),s=e=>{!n||n.length<e?(n=Buffer.allocUnsafe(128*e),r.randomFillSync(n),o=0):o+e>n.length&&(r.randomFillSync(n),o=0),o+=e},c=e=>(s(e-=0),n.subarray(o-e,o)),l=(e,t,a)=>{let n=(2<<31-Math.clz32(e.length-1|1))-1,o=Math.ceil(1.6*n*t/e.length);return(r=t)=>{let i="";for(;;){let t=a(o),s=o;for(;s--;)if(i+=e[t[s]&n]||"",i.length===r)return i}}};e.exports={nanoid:(e=21)=>{s(e-=0);let t="";for(let a=o-e;a<o;a++)t+=i[63&n[a]];return t},customAlphabet:(e,t=21)=>l(e,t,c),customRandom:l,urlAlphabet:i,random:c}},3792:e=>{e.exports={urlAlphabet:"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"}},1260:(e,t,a)=>{"use strict";var n=a(8049);const o=(...e)=>e.reduce(((e,t)=>({...e,...t})));function r(e,t){let a=Buffer.from(e,"binary").toString("hex"),n=parseInt(a,16)+parseInt(t,16);return String.fromCharCode(n.toString())}function i(e,t,a,n){let o=[],r=n/e;for(let n=e;n>=t;n-=a){let e=n<0?(r*n>>>0).toString(16).slice(4):("0000"+Math.round(r*n).toString(16)).slice(-4);o.push({id:e,label:n+String.fromCharCode(176)})}return o}function s(e,t,a,n){let o=[],r=n/(e-1);for(let n=e;n>=t;n-=a){let e=("0000"+Math.round(r*(n-1)).toString(16)).slice(-4);o.push({id:e,label:n+"X"})}return o}function c(e,t){if(Array.isArray(e))return t?(t=~~parseInt("f"==t[0]?"FFFF"+t:t,16),e.reduce(((e,a)=>{let n=~~parseInt("f"==e.id[0]?"FFFF"+e.id:e.id,16),o=~~parseInt("f"==a.id[0]?"FFFF"+a.id:a.id,16);return Math.abs(o-t)<Math.abs(n-t)?a:e})).label):"0"+String.fromCharCode(176)}function l(e){return r("\0",e[0])+r("\0",e[1])+r("\0",e[2])+r("\0",e[3])}function d(e,t){let a=e[1].name,n=t[1].name;return a<n?-1:a>n?1:0}function u(e,t){let a=e[1].label,n=t[1].label;return a<n?-1:a>n?1:0}function p(e,t,a){const n=[];let o=Object.entries(e).filter((e=>(e[1].camera.includes(a)||e[1].camera.includes("All"))&&e[1].firmware.includes(t)&&e[1]?.variableId));return o.sort(d),o.forEach((e=>n.push({name:e[1].name,variableId:e[1].variableId}))),n}function m(e,t,a){const n=[];let r=Object.entries(e).filter((e=>(e[1].camera.includes(a)||e[1].camera.includes("All"))&&e[1].firmware.includes(t)&&e[1]?.action));return r.sort(d),r.forEach((e=>n.push({[e[0]]:o({name:e[1].name},h(e[1].action,t,a))}))),o(...n)}function h(e,t,a){let n=e.filter((e=>e.camera.includes("common"))),r=e.filter((e=>(e.camera.includes(a)||e.camera.includes("All"))&&(e.firmware?.includes(t)??!0)));return o(n[0]?.action,r[0]?.action)}function _(e,t,a){let n=Object.entries(e);return Object.fromEntries(n.filter((e=>(e[1].camera.includes(t)||e[1].camera.includes("All"))&&e[1].firmware.includes(a))))}function f(e,t){return t.filter((t=>t.id!==e&&"Toggle"!==t.id))[0].id}let g=[];for(let e=28;e<=65;e++)g.push({id:e+"00",label:e+"00k"});const b={CAMERAS:[{id:"Auto",label:"Auto Detect"},{id:"P100",label:"P100"},{id:"P110",label:"P110"},{id:"P120",label:"P120"},{id:"PF120",label:"PF120"},{id:"P200A2A3",label:"P200 A2_A3",other:["P200A2_A3"]},{id:"P200A4A5",label:"P200 A4_A5",other:["P200A4_A5"]},{id:"A200GEN1",label:"A200 GEN1"},{id:"A200GEN2",label:"A200 GEN2"},{id:"A300GEN1",label:"A300 GEN1"},{id:"A300GEN2",label:"A300 GEN2"},{id:"P240",label:"P240"},{id:"P400",label:"P400",other:["EYES P400","EYESP400"]},{id:"P4K",label:"P4K",other:["EYES P4K","EYESP4K"]}],ON_OFF:[{id:"On",label:"On"},{id:"Off",label:"Off"}],STANDBY:[{id:"on",label:"Cam On"},{id:"standby",label:"Standby"}],L_M_H:[{id:"LOW",label:"Low"},{id:"MEDIUM",label:"Medium"},{id:"HIGH",label:"High"}],L_Mid_H:[{id:"LOW",label:"Low"},{id:"MID",label:"Mid"},{id:"HIGH",label:"High"}],OFF_L_M_H:[{id:"OFF",label:"Off"},{id:"LOW",label:"Low"},{id:"MEDIUM",label:"Medium"},{id:"HIGH",label:"High"}],UP_DOWN_VALUE:[{id:"up",label:"Up"},{id:"down",label:"Down"},{id:"value",label:"Value"}],UP_DOWN_RESET_VALUE:[{id:"up",label:"Up"},{id:"down",label:"Down"},{id:"reset",label:"Reset"},{id:"value",label:"Value"}],OFF_1_to_5:[{id:"0",label:"Off"},{id:"1",label:"1"},{id:"2",label:"2"},{id:"3",label:"3"},{id:"4",label:"4"},{id:"5",label:"5"}],OFF_1_to_6:[{id:"0",label:"Off"},{id:"1",label:"1"},{id:"2",label:"2"},{id:"3",label:"3"},{id:"4",label:"4"},{id:"5",label:"5"},{id:"6",label:"6"}],IRIS_1:[{id:"0",label:"CLOSED"},{id:"1",label:"F14.0"},{id:"2",label:"F11.0"},{id:"3",label:"F9.6"},{id:"4",label:"F8.0"},{id:"5",label:"F6.8"},{id:"6",label:"F5.6"},{id:"7",label:"F4.8"},{id:"8",label:"F4.0"},{id:"9",label:"F3.4"},{id:"10",label:"F2.8"},{id:"11",label:"F2.4"},{id:"12",label:"F2.0"},{id:"13",label:"F1.8"}],IRIS_2:[{id:"4",label:"CLOSED"},{id:"5",label:"F14.0"},{id:"6",label:"F11.0"},{id:"7",label:"F9.6"},{id:"8",label:"F8.0"},{id:"9",label:"F6.8"},{id:"10",label:"F5.6"},{id:"11",label:"F4.8"},{id:"12",label:"F4.0"},{id:"13",label:"F3.4"},{id:"14",label:"F2.8"},{id:"15",label:"F2.4"},{id:"16",label:"F2.0"},{id:"17",label:"F1.6"}],IRIS_3:[{id:"0",label:"CLOSED"},{id:"5",label:"F11.0"},{id:"6",label:"F10.0"},{id:"7",label:"F9.6"},{id:"8",label:"F8.7"},{id:"9",label:"F8.0"},{id:"10",label:"F7.3"},{id:"11",label:"F6.8"},{id:"12",label:"F6.2"},{id:"13",label:"F5.6"},{id:"14",label:"F5.2"},{id:"15",label:"F4.8"},{id:"16",label:"F4.4"},{id:"17",label:"F4.0"},{id:"18",label:"F3.7"},{id:"19",label:"F3.4"},{id:"20",label:"F3.1"},{id:"21",label:"F2.8"}],IRIS_4:[{id:"5",label:"F11.0"},{id:"6",label:"F10.0"},{id:"7",label:"F9.6"},{id:"8",label:"F8.7"},{id:"9",label:"F8.0"},{id:"10",label:"F7.3"},{id:"11",label:"F6.8"},{id:"12",label:"F6.2"},{id:"13",label:"F5.6"},{id:"14",label:"F5.2"},{id:"15",label:"F4.8"},{id:"16",label:"F4.4"},{id:"17",label:"F4.0"},{id:"18",label:"F3.7"},{id:"19",label:"F3.4"},{id:"20",label:"F3.1"},{id:"21",label:"F2.8"}],GAIN_1:[{id:"0",label:"0 dB"},{id:"1",label:"2 dB"},{id:"2",label:"4 dB"},{id:"3",label:"6 dB"},{id:"4",label:"8 dB"},{id:"5",label:"10 dB"},{id:"6",label:"12 dB"},{id:"7",label:"14 dB"},{id:"8",label:"16 dB"},{id:"9",label:"18 dB"},{id:"10",label:"20 dB"},{id:"11",label:"22 dB"},{id:"12",label:"24 dB"},{id:"13",label:"26 dB"},{id:"14",label:"28 dB"},{id:"15",label:"30 dB"}],GAIN_2:[{id:"1",label:"0 dB"},{id:"2",label:"3.6 dB"},{id:"3",label:"7.1 dB"},{id:"4",label:"10.7 dB"},{id:"5",label:"14.3 dB"},{id:"6",label:"17.8 dB"},{id:"7",label:"21.4  dB"},{id:"8",label:"25 dB"},{id:"9",label:"28.6 dB"},{id:"10",label:"32.1 dB"},{id:"11",label:"35.7 dB"},{id:"12",label:"39.3 dB"},{id:"13",label:"42.8 dB"},{id:"14",label:"46.4 dB"},{id:"15",label:"50 dB"}],GAIN_3:[{id:"1",label:"0 dB"},{id:"2",label:"3 dB"},{id:"3",label:"6 dB"},{id:"4",label:"9 dB"},{id:"5",label:"12 dB"},{id:"6",label:"15 dB"},{id:"7",label:"18 dB"},{id:"8",label:"21 dB"},{id:"9",label:"24 dB"},{id:"10",label:"27 dB"},{id:"11",label:"30 dB"},{id:"12",label:"33 dB"},{id:"13",label:"36 dB"}],SHUTTER_60:[{id:"0",label:"1/1"},{id:"1",label:"1/2"},{id:"2",label:"1/4"},{id:"3",label:"1/8"},{id:"4",label:"1/15"},{id:"5",label:"1/30"},{id:"6",label:"1/60"},{id:"7",label:"1/90"},{id:"8",label:"1/100"},{id:"9",label:"1/125"},{id:"10",label:"1/180"},{id:"11",label:"1/250"},{id:"12",label:"1/350"},{id:"13",label:"1/500"},{id:"14",label:"1/725"},{id:"15",label:"1/1000"},{id:"16",label:"1/1500"},{id:"17",label:"1/2000"},{id:"18",label:"1/3000"},{id:"19",label:"1/4000"},{id:"20",label:"1/6000"},{id:"21",label:"1/10000"}],SLOW_SHUTTER_60:[{id:"6",label:"1/1"},{id:"5",label:"1/2"},{id:"4",label:"1/4"},{id:"3",label:"1/8"},{id:"2",label:"1/15"},{id:"1",label:"1/30"}],SHUTTER_50:[{id:"0",label:"1/1"},{id:"1",label:"1/2"},{id:"2",label:"1/3"},{id:"3",label:"1/6"},{id:"4",label:"1/12"},{id:"5",label:"1/25"},{id:"6",label:"1/50"},{id:"7",label:"1/75"},{id:"8",label:"1/100"},{id:"9",label:"1/120"},{id:"10",label:"1/150"},{id:"11",label:"1/215"},{id:"12",label:"1/300"},{id:"13",label:"1/425"},{id:"14",label:"1/600"},{id:"15",label:"1/1000"},{id:"16",label:"1/1250"},{id:"17",label:"1/1750"},{id:"18",label:"1/2500"},{id:"19",label:"1/3500"},{id:"20",label:"1/6000"},{id:"21",label:"1/10000"}],SLOW_SHUTTER_50:[{id:"6",label:"1/1"},{id:"5",label:"1/2"},{id:"4",label:"1/3"},{id:"3",label:"1/6"},{id:"2",label:"1/12"},{id:"1",label:"1/25"}],SHUTTER_4K_60:[{id:"6",label:"1/1"},{id:"7",label:"2/3"},{id:"8",label:"1/2"},{id:"9",label:"1/3"},{id:"10",label:"1/4"},{id:"11",label:"1/6"},{id:"12",label:"1/8"},{id:"13",label:"1/10"},{id:"14",label:"1/15"},{id:"15",label:"1/20"},{id:"16",label:"1/30"},{id:"17",label:"1/50"},{id:"18",label:"1/60"},{id:"19",label:"1/90"},{id:"20",label:"1/100"},{id:"21",label:"1/125"},{id:"22",label:"1/180"},{id:"23",label:"1/250"},{id:"24",label:"1/350"},{id:"25",label:"1/500"},{id:"26",label:"1/725"},{id:"27",label:"1/1000"},{id:"28",label:"1/1500"},{id:"29",label:"1/2000"},{id:"30",label:"1/3000"},{id:"31",label:"1/4000"},{id:"32",label:"1/6000"},{id:"33",label:"1/10000"}],SLOW_SHUTTER_4K_60:[{id:"6",label:"1/1"},{id:"7",label:"2/3"},{id:"8",label:"1/2"},{id:"9",label:"1/3"},{id:"10",label:"1/4"},{id:"11",label:"1/6"},{id:"12",label:"1/8"},{id:"13",label:"1/10"},{id:"14",label:"1/15"},{id:"15",label:"1/20"},{id:"16",label:"1/30"},{id:"17",label:"1/50"}],SHUTTER_4K_50:[{id:"6",label:"1/1"},{id:"7",label:"2/3"},{id:"8",label:"1/2"},{id:"9",label:"1/3"},{id:"10",label:"1/4"},{id:"11",label:"1/6"},{id:"12",label:"1/8"},{id:"13",label:"1/12"},{id:"14",label:"1/15"},{id:"15",label:"1/20"},{id:"16",label:"1/25"},{id:"17",label:"1/30"},{id:"18",label:"1/50"},{id:"19",label:"1/60"},{id:"20",label:"1/100"},{id:"21",label:"1/120"},{id:"22",label:"1/150"},{id:"23",label:"1/215"},{id:"24",label:"1/300"},{id:"25",label:"1/425"},{id:"26",label:"1/600"},{id:"27",label:"1/1000"},{id:"28",label:"1/1250"},{id:"29",label:"1/1750"},{id:"30",label:"1/2500"},{id:"31",label:"1/3500"},{id:"32",label:"1/6000"},{id:"33",label:"1/10000"}],SLOW_SHUTTER_4K_50:[{id:"6",label:"1/1"},{id:"7",label:"2/3"},{id:"8",label:"1/2"},{id:"9",label:"1/3"},{id:"10",label:"1/4"},{id:"11",label:"1/6"},{id:"12",label:"1/8"},{id:"13",label:"1/12"},{id:"14",label:"1/15"},{id:"15",label:"1/20"},{id:"16",label:"1/25"},{id:"17",label:"1/30"}],SHUTTER_4K_24:[{id:"6",label:"1/1"},{id:"7",label:"2/3"},{id:"8",label:"1/2"},{id:"9",label:"1/3"},{id:"10",label:"1/4"},{id:"11",label:"1/6"},{id:"12",label:"1/8"},{id:"13",label:"1/12"},{id:"14",label:"1/20"},{id:"15",label:"1/24"},{id:"16",label:"1/25"},{id:"17",label:"1/40"},{id:"18",label:"1/48"},{id:"19",label:"1/50"},{id:"20",label:"1/60"},{id:"21",label:"1/96"},{id:"22",label:"1/100"},{id:"23",label:"1/120"},{id:"24",label:"1/144"},{id:"25",label:"1/192"},{id:"26",label:"1/200"},{id:"27",label:"1/288"},{id:"28",label:"1/400"},{id:"29",label:"1/576"},{id:"30",label:"1/1200"},{id:"31",label:"1/2400"},{id:"32",label:"1/4800"},{id:"33",label:"1/10000"}],SLOW_SHUTTER_4K_24:[{id:"6",label:"1/1"},{id:"7",label:"2/3"},{id:"8",label:"1/2"},{id:"9",label:"1/3"},{id:"10",label:"1/4"},{id:"11",label:"1/6"},{id:"12",label:"1/8"},{id:"13",label:"1/12"},{id:"14",label:"1/20"},{id:"15",label:"1/24"},{id:"16",label:"1/25"},{id:"17",label:"1/40"}],SPEED_CHANGES:[{id:"up",label:"Speed Up"},{id:"down",label:"Speed Down"},{id:"value",label:"Speed Value"}],SPEED_TYPE:[{id:"standard",label:"Standard"},{id:"advanced",label:"Super Fine"}],PTZ_DIRECTION:[{id:"left",label:"Left"},{id:"right",label:"Right"},{id:"up",label:"Up"},{id:"down",label:"Down"},{id:"up_left",label:"Up Left"},{id:"up_right",label:"Up Right"},{id:"down_left",label:"Down Left"},{id:"down_right",label:"Down Right"},{id:"stop",label:"P/T Stop"},{id:"home",label:"P/T Home"},{id:"direct",label:"Direct"}],PTZ_ZOOM:[{id:"in",label:"Zoom In"},{id:"out",label:"Zoom Out"},{id:"direct",label:"Zoom Direct"},{id:"stop",label:"Zoom Stop"}],POS_PAN_P100:i(175,-175,5,2266),POS_PAN_P200:i(175,-175,5,1659),POS_TILT:i(90,-30,5,1181),POS_ZOOM_10:s(10,1,1,16384),POS_ZOOM_12:s(12,1,1,16384),POS_ZOOM_20:s(20,1,1,16384),POS_ZOOM_30:s(30,1,1,16384),PRESET_MODE:[{id:"Camera",label:"Camera"},{id:"Birddog",label:"PTZ Only"}],AUTO_FOCUS:[{id:"Auto",label:"Auto Focus"},{id:"Manual",label:"Manual"}],FOCUS_CONTROL:[{id:"near",label:"Focus Near"},{id:"far",label:"Focus Far"},{id:"stop",label:"Focus Stop"},{id:"trigger",label:"Focus One Push Auto"}],ANALOG_AUDIO_OUTPUT:[{id:"DecodeComms",label:"Comms"},{id:"DecodeLoop",label:"Loop"}],VIDEO_OUTPUT:[{id:"NormalMode",label:"Normal"},{id:"LowLatency",label:"Low Latency"}],ENCODE_TXPM:[{id:"Multicast",label:"Multicast"},{id:"TCP",label:"TCP"},{id:"Multi-TCP",label:"Multi-TCP"},{id:"UDP",label:"UDP"},{id:"RUDP",label:"RUDP"}],ENCODE_NDI_AUDIO:[{id:"NDIAudioAnalog",label:"Analog"},{id:"NDIAudioMute",label:"Mute"}],ENCODE_BANDWIDTH_MODE:[{id:"Manual",label:"Manual"},{id:"NDIManaged",label:"NDI Managed"}],ENCODE_NDIGroup:[{id:"NDIGroupEn",label:"Enabled"},{id:"NDIGroupDis",label:"Disabled"}],TALLY_MODE:[{id:"TallyOn",label:"Tally On"},{id:"TallyOff",label:"Tally Off"}],SCREEN_SAVER_MODE:[{id:"BirdDogSS",label:"BirdDog"},{id:"BlackSS",label:"Black"},{id:"CaptureSS",label:"Capture"}],NDI_DIS_SVR:[{id:"NDIDisServEn",label:"On"},{id:"NDIDisServDis",label:"Off"}],EXP_MODE_1:[{id:"FULL-AUTO",label:"FULL-AUTO"},{id:"MANUAL",label:"MANUAL"},{id:"SHUTTER-PRI",label:"SHUTTER-PRI"},{id:"IRIS-PRI",label:"IRIS-PRI"},{id:"BRIGHT",label:"BRIGHT"}],EXP_MODE_2:[{id:"FULL-AUTO",label:"FULL-AUTO"},{id:"MANUAL",label:"MANUAL"},{id:"SHUTTER-PRI",label:"SHUTTER-PRI"},{id:"IRIS-PRI",label:"IRIS-PRI"}],EXP_MODE_3:[{id:"FULL-AUTO",label:"FULL-AUTO"},{id:"MANUAL",label:"MANUAL"},{id:"SHUTTER-PRI",label:"SHUTTER-PRI"},{id:"IRIS-PRI",label:"IRIS-PRI"},{id:"BRIGHT",label:"BRIGHT"},{id:"GAIN-PRI",label:"GAIN-PRI"}],WB_MODE_1:[{id:"AUTO",label:"Auto"},{id:"INDOOR",label:"Indoor"},{id:"OUTDOOR",label:"Outdoor"},{id:"ONEPUSH",label:"One Push Mode"},{id:"ATW",label:"ATW"},{id:"MANUAL1",label:"Manual 1"},{id:"MANUAL2",label:"Manual 2"}],WB_MODE_1b:[{id:"AUTO",label:"Auto"},{id:"INDOOR",label:"Indoor"},{id:"OUTDOOR",label:"Outdoor"},{id:"ONEPUSH",label:"One Push Mode"},{id:"ATW",label:"ATW"},{id:"USER",label:"User"},{id:"MANUAL2",label:"Manual 2"}],WB_MODE_2:[{id:"AUTO",label:"Auto"},{id:"INDOOR",label:"Indoor"},{id:"OUTDOOR",label:"Outdoor"},{id:"OUTDOOR-AUTO",label:"Outdoor Auto"},{id:"ONEPUSH",label:"One Push Mode"},{id:"ATW",label:"ATW"},{id:"MANUAL1",label:"Manual"},{id:"SLV-AUTO",label:"Sodium Lamp Auto"},{id:"SLV",label:"Sodium Lamp"},{id:"SLV-OUTDOOR-AUTO",label:"Sodium Lamp Outdoor Auto"}],WB_SELECT:[{id:"FL LIGHT",label:"FL LIGHT"},{id:"STD",label:"STD"},{id:"OFF",label:"OFF"},{id:"HIGH SAT",label:"HIGH SAT"}],COLOR_TEMP:g,PICTURE_EFFECT:[{id:"BW",label:"B&W"},{id:"Off",label:"Off"}],IR_CUT_FILTER_1:[{id:"Auto",label:"Auto"},{id:"On",label:"On"},{id:"Off",label:"Off"}],IR_CUT_FILTER_2:[{id:"On",label:"On"},{id:"Off",label:"Off"}],IR_CUT_FILTER_3:[{id:"NoiseReduction",label:"Noise Reduction"}],BRIGHTNESS_COMP:[{id:"VERY DARK",label:"Very Dark"},{id:"DARK",label:"Dark"},{id:"STANDARD",label:"Standard"},{id:"BRIGHT",label:"Bright"}],BANDWIDTH_4K:[{id:"DEFAULT",label:"Default"},{id:"LOW",label:"Low"},{id:"MIDDLE",label:"Middle"},{id:"HIGH",label:"High"},{id:"WIDE",label:"Wide"}],BW_BALANCE_4K:[{id:"TYPE1",label:"Type 1"},{id:"TYPE2",label:"Type 2"},{id:"TYPE3",label:"Type 3"},{id:"TYPE4",label:"Type 4"},{id:"TYPE5",label:"Type 5"}],GAMMA_SETTINGS:[{id:"PATTERN",label:"Pattern"},{id:"STANDARD",label:"Standard"},{id:"STRAIGHT",label:"Straight"}],SCOPE_MODE:[{id:"Histogram",label:"Histogram"},{id:"Waveform",label:"Waveform"},{id:"RGBParade",label:"RGB Parade"},{id:"Vectorscope",label:"Vectorscope"}],SCOPE_POSITION:[{id:"TopLeft",label:"Top Left"},{id:"TopRight",label:"Top Right"},{id:"BottomLeft",label:"Bottom Left"},{id:"BottomRight",label:"Bottom Right"}],SCOPE_SIZE:[{id:"Off",label:"Small"},{id:"On",label:"Large"}]},y={about:{camera:["All"],firmware:["4","5"]},analogaudiosetup:{camera:["All"],firmware:["4","5"]},devicesettings:{camera:["All"],firmware:["5"]},videooutputinterface:{camera:["P240","P400","P4K"],firmware:["4","5"]},encodesetup:{camera:["All"],firmware:["4","5"]},encodetransport:{camera:["All"],firmware:["4","5"]},NDIDisServer:{camera:["All"],firmware:["4","5"]},birddogptzsetup:{camera:["All"],firmware:["4","5"]},recallPost:{camera:["All"],firmware:["4","5"]},savePost:{camera:["All"],firmware:["4","5"]},pt_pos:{camera:["P100","P110","P120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"]},birddogexpsetup:{camera:["All"],firmware:["4","5"]},birddogwbsetup:{camera:["All"],firmware:["4","5"]},birddogpicsetup:{camera:["All"],firmware:["4","5"]},birddogcmsetup:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"]},birddogadvancesetup:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"]},birddogexternalsetup:{camera:["A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"]},birddogdetsetup:{camera:["P240","P400","P4K"],firmware:["4","5"]},birddoggammasetup:{camera:["P240","P400","P4K"],firmware:["4","5"]},birddogscope:{camera:["All"],firmware:["5"]}},v={firmware:{camera:["All"],firmware:["4","5"],store_state:!0,variableId:"firmware",name:"General - Firmware"},firmware_version:{camera:["All"],firmware:["5"],api_endpoint:["about"],api_variable:["FirmwareVersion"],store_state:!0},mcu_version:{camera:["All"],firmware:["5"],api_endpoint:["about"],api_variable:["MCUVersion"],store_state:!0},format:{camera:["All"],firmware:["5"],api_endpoint:["about"],api_variable:["Format"],store_state:!0},framerate:{camera:["All"],firmware:["4","5"],store_state:!0},hostname:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["about"],api_variable:["HostName"],variableId:"hostname",name:"General - Name"},ipaddress:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["about"],api_variable:["IPAddress"],variableId:"ipaddress",name:"General - IP Address"},gateway:{camera:["All"],firmware:["5"],api_endpoint:["about"],api_variable:["GateWay"],store_state:!0},model:{camera:["All"],firmware:["4","5"],store_state:!0,variableId:"model",name:"General - Model"},netmask:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["about"],api_variable:["NetworkMask"],variableId:"netmask",name:"General - Network Mask"},network_config:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["about"],api_variable:["NetworkConfigMethod"],variableId:"network_config",name:"General - Network Config Method"},serial_number:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["about"],api_variable:["SerialNumber"],variableId:"serial_number",name:"General - Serial Number"},status:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["about"],api_variable:["Status"],variableId:"status",name:"General - Status"},freeze:{camera:["All"],firmware:["4"],store_state:!0,variableId:"freeze",name:"VISCA - Freeze",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"On"}}]},standby:{camera:["All"],firmware:["4","5"],store_state:!0,variableId:"standby",name:"VISCA - Standby",action:[{camera:["common"],action:{choices:b.STANDBY,default:"on"}}]},analogAudioInGain:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["analogaudiosetup"],api_variable:["AnalogAudioInGain"],variableId:"audio_in_gain",name:"Analog Audio - Audio In Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-50,max:50,default:0}}}]},analogAudioOutGain:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["analogaudiosetup"],api_variable:["AnalogAudioOutGain"],variableId:"audio_out_gain",name:"Analog Audio - Audio Out Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-50,max:50,default:0}}}]},analogAudioOutput:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["analogaudiosetup"],api_variable:["AnalogAudiooutputselect"],variableId:"audio_output",name:"Analog Audio - Audio Output",action:[{camera:["common"],action:{choices:b.ANALOG_AUDIO_OUTPUT,default:"DecodeComms"}}]},oled:{camera:["P110","P120"],firmware:["5"],store_state:!0,api_endpoint:["devicesettings"],api_variable:["Oled"],variableId:"oled",name:"Device Settings - OLED"},video_output:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["videooutputinterface"],api_variable:["videooutput"],variableId:"video_output",name:"Video Output - Video Mode",action:[{camera:["common"],action:{choices:b.VIDEO_OUTPUT,default:"NormalMode"}}]},bandwidth_mode:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["BandwidthMode"],variableId:"bandwidth_mode",name:"Encode Setup - Bandwidth Mode",action:[{camera:["common"],action:{choices:b.ENCODE_BANDWIDTH_MODE,default:"NDIManaged"}}]},bandwidth_select:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["BandwidthSelect"],variableId:"bandwidth_select",name:"Encode Setup - Bandwidth Select",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:80,max:180,default:80}}}]},capture_screensaver:{camera:["All"],firmware:["5"],name:"Encode - Capture Screensaver",action:[{camera:["common"],action:!0}]},color_bitdepth:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["ColorBitDepth"],variableId:"color_bitdepth",name:"Encode Setup - Color Bit Depth"},genlock:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["GenLock"]},loopTally:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["LoopTally"]},ndiAudio:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["NDIAudio"],variableId:"ndi_audio",name:"Encode Setup - NDI Audio",action:[{camera:["common"],action:{choices:b.ENCODE_NDI_AUDIO,default:"NDIAudioMute"}}]},ndiGroupEnable:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["NDIGroup"],variableId:"ndi_group",name:"Encode Setup - NDI Group",action:[{camera:["common"],action:{choices:b.ENCODE_NDIGroup,default:"NDIGroupDis"}}]},ndi_group_name:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["NDIGroupName"],variableId:"ndi_group_name",name:"Encode Setup - NDI Group Name"},screensaver_mode:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["ScreenSaverMode"],variableId:"screensaver_mode",name:"Encode Setup - Screensaver Mode",action:[{camera:["common"],action:{choices:b.SCREEN_SAVER_MODE,default:"BirdDogSS"}}]},stream_name:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["StreamName"],variableId:"stream_name",name:"Encode Setup - Stream Name"},stream_to_network:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["StreamToNetwork"],variableId:"stream_to_network",name:"Encode Setup - Stream to Network",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"On"}}]},tally_mode:{camera:["P110","P120","PF120","P200A2A3","P200A4A5","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["TallyMode"],variableId:"tally_mode",name:"Encode Setup - Tally Mode",action:[{camera:["common"],action:{choices:b.TALLY_MODE,default:"TallyOn"}}]},video_csc:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["VideoCSC"],variableId:"video_csc",name:"Encode Setup - Video CSC"},video_format:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["VideoFormat"],variableId:"video_format",name:"Encode Setup - Video Format"},video_sample_rate:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["VideoSampleRate"],variableId:"video_sample_rate",name:"Encode Setup - Video Sample Rate"},transmit_method:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["encodetransport"],api_variable:["txpm","Txpm"],variableId:"transmit_method",name:"Encode Transport - Transmit Method",action:[{camera:["common"],action:{choices:b.ENCODE_TXPM,default:"RUDP"}}]},transmit_netprefix:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["encodetransport"],api_variable:["txnetprefix","Txnetprefix"],variableId:"transmit_netprefix",name:"Encode Transport - Transmit Net Prefix"},transmit_netmask:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["encodetransport"],api_variable:["txnetmask","Txnetmask"],variableId:"transmit_netmask",name:"Encode Transport - Transmit Netmask"},transmit_ttl:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["encodetransport"],api_variable:["txmcttl","Txmcttl"],variableId:"transmit_ttl",name:"Encode Transport - Transmit TTL"},ndi_discovery_server:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["NDIDisServer"],api_variable:["NDIDisServ"],variableId:"ndi_discovery_server",name:"NDI Discovery - Server",action:[{camera:["common"],action:{choices:b.NDI_DIS_SVR,default:"NDIDisServDis"}}]},ndi_discovery_server_ip:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["NDIDisServer"],api_variable:["NDIDisServIP"],variableId:"ndi_discovery_server_ip",name:"NDI Discovery - Server IP"},freed:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogptzsetup"],api_variable:["Freed"],variableId:"freed",name:"PTZ - FreeD"},freed_ip_address:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogptzsetup"],api_variable:["FreedIpAddr"],variableId:"freed_ip_address",name:"PTZ - FreeD IP Address"},freed_port:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogptzsetup"],api_variable:["FreedPort"],variableId:"freed_port",name:"PTZ - FreeD Port"},pt:{camera:["P100","P110","P120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!1,name:"PTZ - Pan/Tilt",action:[{camera:["common"],action:{choices:b.PTZ_DIRECTION,default:"up",posPanDefault:"0000",posTiltChoices:b.POS_TILT,posTiltDefault:"0000"}},{camera:["P100","P110","P120"],action:{posPanChoices:b.POS_PAN_P100}},{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],action:{posPanChoices:b.POS_PAN_P200}}]},pan_position:{camera:["P100","P110","P120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,variableId:"pan_position",name:"PTZ - Pan Position"},pan_position_int:{camera:["P100","P110","P120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,variableId:"pan_position_int",name:"PTZ - Pan Position (Integer)"},panSpeed:{camera:["P100","P110","P120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogptzsetup"],api_variable:["PanSpeed"],variableId:"pan_speed",name:"PTZ - Pan Speed",action:[{camera:["common"],action:{choices:b.SPEED_CHANGES,default:"up",range:{min:0,max:21,default:11}}}]},preset:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogptzsetup"],api_variable:["Preset"],variableId:"preset",name:"PTZ - Preset",action:[{camera:["common"],action:{choices:b.PRESET_MODE,default:"Birddog"}}]},preset_speed:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogptzsetup"],api_variable:["PresetSpeed"],variableId:"preset_speed",name:"PTZ - Preset Speed",action:[{camera:["common"],action:{choices:b.SPEED_CHANGES,default:"up",range:{min:0,max:21,default:11}}}]},recallPset:{camera:["All"],firmware:["4","5"],store_state:!1,name:"PTZ - Recall Preset",action:[{camera:["common"],action:{range:{min:1,max:64,default:1}}}]},savePset:{camera:["All"],firmware:["4","5"],store_state:!1,name:"PTZ - Save Preset",action:[{camera:["common"],action:{range:{min:1,max:64,default:1}}}]},tilt_position:{camera:["P100","P110","P120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,variableId:"tilt_position",name:"PTZ - Tilt Position"},tilt_position_int:{camera:["P100","P110","P120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,variableId:"tilt_position_int",name:"PTZ - Tilt Position (Integer)"},tiltSpeed:{camera:["P100","P110","P120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogptzsetup"],api_variable:["TiltSpeed"],variableId:"tilt_speed",name:"PTZ - Tilt Speed",action:[{camera:["common"],action:{choices:b.SPEED_CHANGES,default:"up",range:{min:0,max:18,default:9}}}]},zoom:{camera:["All"],firmware:["4","5"],store_state:!1,name:"PTZ - Zoom",action:[{camera:["common"],action:{choices:b.PTZ_ZOOM,default:"in",posZoomDefault:"0000"}},{camera:["P4K"],action:{posZoomChoices:b.POS_ZOOM_12}},{camera:["P100","P110"],action:{posZoomChoices:b.POS_ZOOM_10}},{camera:["PF120","P120","P240","P400"],action:{posZoomChoices:b.POS_ZOOM_20}},{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],action:{posZoomChoices:b.POS_ZOOM_30}}]},zoom_position:{camera:["All"],firmware:["4","5"],store_state:!0,variableId:"zoom_position",name:"PTZ - Zoom Position"},zoom_position_int:{camera:["All"],firmware:["4","5"],store_state:!0,variableId:"zoom_position_int",name:"PTZ - Zoom Position (Integer)"},zoomSpeed:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogptzsetup"],api_variable:["ZoomSpeed"],variableId:"zoom_speed",name:"PTZ - Zoom Speed",action:[{camera:["common"],action:{choices:b.SPEED_CHANGES,default:"up",range:{min:0,max:7,default:4}}}]},onScreenMenu:{camera:["All"],firmware:["5"],store_state:!1,name:"PTZ - Toggle OSD Menu",action:[{camera:["common"],action:{}}]},speedControl:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogptzsetup"],api_variable:["SpeedControl"],variableId:"speed_control",name:"PTZ - Speed Control",action:[{camera:["common"],action:{choices:b.SPEED_TYPE,default:"standard"}}]},focus:{camera:["All"],firmware:["4","5"],store_state:!1,name:"Focus - Focus Action",action:[{camera:["common"],action:{choices:b.FOCUS_CONTROL,default:"near"}}]},focusM:{camera:["All"],firmware:["4","5"],store_state:!0,variableId:"focus_mode",name:"Focus - Focus Mode",action:[{camera:["common"],action:{choices:b.AUTO_FOCUS,default:"Auto"}}]},ae_response:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["AeResponse"],variableId:"ae_response",name:"Exposure - Ae Response",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:1,max:48,default:1}}}]},backlight:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["BackLight"],variableId:"backlight",name:"Exposure - Backlight",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"On"}}]},bright_level:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["BrightLevel"],variableId:"bright_level",name:"Exposure - Bright Level",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up"}},{camera:["P100","P110","P120","PF120"],action:{range:{min:0,max:27,default:14}}},{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],action:{range:{min:0,max:31,default:16}}},{camera:["P240","P400"],action:{range:{min:0,max:41,default:21}}},{camera:["P4K"],action:{range:{min:5,max:37,default:21}}}]},expComp:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["ExpCompEn"],variableId:"exposure_comp",name:"Exposure - Exposure Compensation",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},expCompLvl:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["ExpCompLvl"],variableId:"exposure_comp_level",name:"Exposure - Exposure Compensation Level",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up"}},{camera:["P100","P110","P120","PF120"],action:{range:{min:-7,max:7,default:0}}},{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],action:{range:{min:-128,max:127,default:0}}}]},exposure_mode:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["ExpMode"],variableId:"exposure_mode",name:"Exposure - Exposure Mode",action:[{camera:["common"],action:{default:"FULL-AUTO"}},{camera:["P100","P110","P120","PF120","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],action:{choices:b.EXP_MODE_1}},{camera:["P200A2A3"],action:{choices:b.EXP_MODE_2}},{camera:["P240","P400","P4K"],action:{choices:b.EXP_MODE_3}}]},gain:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["GainLevel"],variableId:"gain",name:"Exposure - Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up"}},{camera:["P100","P110","P120","PF120"],action:{value:{choices:b.GAIN_1,default:0}}},{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],action:{value:{choices:b.GAIN_2,default:1}}},{camera:["P240","P400","P4K"],action:{value:{choices:b.GAIN_3,default:1}}}]},gain_limit:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["GainLimit"],variableId:"gain_limit",name:"Exposure - Gain Limit",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up"}},{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],action:{range:{min:4,max:15,default:15}}},{camera:["P240","P400","P4K"],action:{range:{min:4,max:13,default:13}}}]},gain_point:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["GainPoint"],variableId:"gain_point",name:"Exposure - Gain Point",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"On"}}]},gain_point_position:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["GainPointPosition"],variableId:"gain_point_position",name:"Exposure - Gain Point Position "},high_sensitivity:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["HighSensitivity"],variableId:"high_sensitivity",name:"Exposure - High Sensitivity",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"On"}}]},iris:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["IrisLevel"],variableId:"iris",name:"Exposure - Iris",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up"}},{camera:["P100","P110","P120","PF120"],action:{value:{choices:b.IRIS_1,default:8,range:{closed:0,min:1,max:13}}}},{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],action:{value:{choices:b.IRIS_2,default:12,range:{closed:0,min:5,max:17}}}},{camera:["P240","P400"],action:{value:{choices:b.IRIS_3,default:17,range:{closed:0,min:5,max:21}}}},{camera:["P4K"],action:{value:{choices:b.IRIS_4,default:1,range:{closed:5,min:6,max:21}}}}]},shutter_control_overwrite:{camera:["P100","P110","P120","PF120"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["ShutterControlOverwrite"],variableId:"shutter_control_overwrite",name:"Exposure - Shutter Control Overwrite",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"On"}}]},shutter_max_speed:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["ShutterMaxSpeed"],variableId:"shutter_max_speed",name:"Exposure - Shutter Max Speed",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:20,max:33,default:20}}}]},shutter_min_speed:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["ShutterMinSpeed"],variableId:"shutter_min_speed",name:"Exposure - Shutter Min Speed",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:16,max:33,default:16}}}]},shutter_speed:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["ShutterSpeed"],variableId:"shutter_speed",name:"Exposure - Shutter Speed",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up"}},{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],action:{shutter_50:b.SHUTTER_50,shutter_60:b.SHUTTER_60,shutter_default:6,range:{min:0,max:21}}},{camera:["P100","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],action:{shutter_24:b.SHUTTER_4K_24,shutter_50:b.SHUTTER_4K_50,shutter_60:b.SHUTTER_4K_60,shutter_default:18,range:{min:6,max:33}}}]},shutter_speed_overwrite:{camera:["P100","P110","P120","PF120"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["ShutterSpeedOverwrite"],variableId:"shutter_speed_overwrite",name:"Exposure - Shutter Speed Overwrite",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:30,max:110,default:60}}}]},shutter_table:{camera:["All"],firmware:["4","5"],store_state:!0},slow_shutter_en:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["SlowShutterEn"],variableId:"slow_shutter_en",name:"Exposure - Slow Shutter Enable",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},slow_shutter_limit:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["SlowShutterLimit"],variableId:"slow_shutter_limit",name:"Exposure - Slow Shutter Limit",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up"}},{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],action:{shutter_50:b.SLOW_SHUTTER_50,shutter_60:b.SLOW_SHUTTER_60,range:{min:1,max:6,default:3}}},{camera:["P240","P400","P4K"],action:{shutter_24:b.SLOW_SHUTTER_4K_24,shutter_50:b.SLOW_SHUTTER_4K_50,shutter_60:b.SLOW_SHUTTER_4K_60,range:{min:6,max:17,default:12}}}]},spotlight:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["Spotlight"],variableId:"spotlight",name:"Exposure - Spotlight",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},bg:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["BG"],variableId:"bg",name:"White Balance - BG",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-99,max:99,default:0}}}]},blue_gain:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["BlueGain"],variableId:"blue_gain",name:"White Balance - Blue Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:255,default:128}}}]},br:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["BR"],variableId:"br",name:"White Balance - BR",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-99,max:99,default:0}}}]},color_temp:{camera:["P100","P110","P120","PF120"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["ColorTemp"],variableId:"color_temp",name:"White Balance - Color Temp",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",value:{choices:b.COLOR_TEMP,default:"4200"},range:{min:28,max:65,default:42}}}]},gb:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["GB"],variableId:"gb",name:"White Balance - GB",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-99,max:99,default:0}}}]},gr:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["GR"],variableId:"gr",name:"White Balance - GR",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-99,max:99,default:0}}}]},level:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["Level"],variableId:"level",name:"White Balance - Level",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:14,default:7}}}]},matrix:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["Matrix"],variableId:"matrix",name:"White Balance - Matrix",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},offset:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["Offset"],variableId:"offset",name:"White Balance - Offset",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:14,default:7}}}]},phase:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["Phase"],variableId:"phase",name:"White Balance - Phase",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:14,default:7}}}]},rb:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["RB"],variableId:"rb",name:"White Balance - RB",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-99,max:99,default:0}}}]},red_gain:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["RedGain"],variableId:"red_gain",name:"White Balance - Red Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:255,default:128}}}]},rg:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["RG"],variableId:"rg",name:"White Balance - RG",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-99,max:99,default:0}}}]},select:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["Select"],variableId:"select",name:"White Balance - Select",action:[{camera:["common"],action:{choices:b.WB_SELECT,default:"OFF"}}]},speed:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["Speed"],variableId:"speed",name:"White Balance - Speed",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:1,max:5,default:3}}}]},wbOnePush:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["OnePushTrigger"],name:"White Balance - One Push Trigger",action:[{camera:["common"],action:!0}]},wb_mode:{camera:["All"],firmware:["4"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["WbMode"],variableId:"wb_mode",name:"White Balance - White Balance Mode",action:[{camera:["common"],action:{default:"AUTO"}},{camera:["P100","P110","P120","PF120"],action:{choices:b.WB_MODE_1}},{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],action:{choices:b.WB_MODE_2}}]},wb_mode:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["WbMode"],variableId:"wb_mode",name:"White Balance - White Balance Mode",action:[{camera:["common"],action:{default:"AUTO"}},{camera:["P100","P110","P120","PF120"],action:{choices:b.WB_MODE_1b}},{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],action:{choices:b.WB_MODE_2}}]},backlight_com:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["BackLightCom"],variableId:"backlight_com",name:"Picture Setup - Backlight Compensation",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},chroma_suppress:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["ChromeSuppress"],variableId:"chroma_suppress",name:"Picture Setup - Chroma Suppress",action:[{camera:["common"],action:{choices:b.OFF_L_M_H,default:"OFF"}}]},contrast:{camera:["P100","P110","P120","PF120"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["Contrast"],variableId:"contrast",name:"Picture Setup - Contrast",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:15,default:8}}}]},gamma:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["Gamma"],variableId:"gamma",name:"Picture Setup - Gamma",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:4,default:2}}}]},highlight_comp:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["HighlightComp"],variableId:"highlight_comp",name:"Picture Setup - Highlight Compensation",action:[{camera:["common"],action:{choices:b.OFF_L_M_H,default:"OFF"}}]},highlight_comp_mask:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["HighlightCompMask"],variableId:"highlight_comp_mask",name:"Picture Setup - Highlight Compensation Mask",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:15,default:1}}}]},hue:{camera:["P100","P110","P120","PF120"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["Hue"],variableId:"hue",name:"Picture Setup - Hue",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:15,default:8}}}]},ir_cutfilter:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["IRCutFilter"],variableId:"ir_cutfilter",name:"Picture Setup - IR Cut Filter",action:[{camera:["P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],action:{choices:b.IR_CUT_FILTER_1,default:"Auto"}},{camera:["P240","P400","P4K"],action:{choices:b.IR_CUT_FILTER_2,default:"On"}},{camera:["P200A2A3"],action:{choices:b.IR_CUT_FILTER_3,default:"NoiseReduction"}}]},low_latency:{camera:["P200A4A5"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["LowLatency"],variableId:"low_latency",name:"Picture Setup - Low Latency",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},nd_filter:{camera:["P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["NDFilter"],variableId:"nd_filter",name:"Picture Setup - ND Filter",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:3,default:2}}}]},noise_reduction:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["NoiseReduction"],variableId:"noise_reduction",name:"Picture Setup - Noise Reduction",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",value:{choices:b.OFF_1_to_5,default:"0"},range:{min:0,max:5}}}]},picFlip:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["Flip"],variableId:"flip",name:"Picture Setup - Flip",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"On"}}]},picMirror:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["Mirror"],variableId:"mirror",name:"Picture Setup - Mirror",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"On"}}]},pictureEffect:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["Effect"],variableId:"bw_effect",name:"Picture Setup - BW Effect",action:[{camera:["common"],action:{choices:b.PICTURE_EFFECT,default:"BW"}}]},saturation:{camera:["P100","P110","P120","PF120"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["Color"],variableId:"saturation",name:"Picture Setup - Saturation",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:15,default:8}}}]},sharpness:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["Sharpness"],variableId:"sharpness",name:"Picture Setup - Sharpness",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up"}},{camera:["P100","P110","P120","PF120"],action:{range:{min:0,max:15,default:8}}},{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],action:{range:{min:-128,max:127,default:0}}}]},stabilizer:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["Stabilizer"],variableId:"stabilizer",name:"Picture Setup - Stabilizer",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},threed_nr:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["ThreeDNR"],variableId:"threed_nr",name:"Picture Setup - 3D Noise Reduction",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",value:{choices:b.OFF_1_to_5,default:"0"},range:{min:0,max:5}}}]},twod_nr:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["TWODNR"],variableId:"twod_nr",name:"Picture Setup - 2D Noise Reduction",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",value:{choices:b.OFF_1_to_5,default:"0"},range:{min:0,max:5}}}]},wide_dynamic_range:{camera:["P100","P110","P120","PF120"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["WideDynamicRange"],variableId:"wide_dynamic_range",name:"Picture Setup - Wide Dynamic Range",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",value:{choices:b.OFF_1_to_6,default:"0"},range:{min:0,max:6}}}]},cm_blue_gain:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_blu_gain","BlueGain"],variableId:"cm_blue_gain",name:"Color Matrix - Blue Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},cm_blue_hue:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_blu_hue","BlueHue"],variableId:"cm_blue_hue",name:"Color Matrix - Blue Hue",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},cm_color_gain:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["ColourGain"],variableId:"cm_color_gain",name:"Color Matrix - Color Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:255,default:128}}}]},cm_cyan_gain:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_cya_gain","CyanGain"],variableId:"cm_cyan_gain",name:"Color Matrix - Cyan Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},cm_cyan_hue:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_cya_hue","CyanHue"],variableId:"cm_cyan_hue",name:"Color Matrix - Cyan Hue",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},cm_green_gain:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_gre_gain","GreenGain"],variableId:"cm_green_gain",name:"Color Matrix - Green Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},cm_green_hue:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_gre_hue","GreenHue"],variableId:"cm_green_hue",name:"Color Matrix - Green Hue",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},cm_hue_phase:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["HuePhase"],variableId:"cm_hue_phase",name:"Color Matrix - Hue Phase",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:255,default:128}}}]},cm_mag_gain:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_mag_gain","MagGain"],variableId:"cm_mag_gain",name:"Color Matrix - Magenta Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},cm_mag_hue:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_mag_hue","MagHue"],variableId:"cm_mag_hue",name:"Color Matrix - Magenta Hue",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},cm_red_gain:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_red_gain","RedGain"],variableId:"cm_red_gain",name:"Color Matrix - Red Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},cm_red_hue:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_red_hue","RedHue"],variableId:"cm_red_hue",name:"Color Matrix - Red Hue",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},cm_yellow_gain:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_yel_gain","YellowGain"],variableId:"cm_yellow_gain",name:"Color Matrix - Yellow Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},cm_yellow_hue:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_yel_hue","YellowHue"],variableId:"cm_yellow_hue",name:"Color Matrix - Yellow Hue",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},brightness:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogadvancesetup"],api_variable:["Brightness"],variableId:"brightness",name:"Advanced Setup - Brightness",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:6,default:3}}}]},brightness_comp:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogadvancesetup"],api_variable:["BrightnessComp"],variableId:"brightness_comp",name:"Advanced Setup - Brightness Comp",action:[{camera:["common"],action:{choices:b.BRIGHTNESS_COMP,default:"STANDARD"}}]},comp_level:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogadvancesetup"],api_variable:["CompLevel"],variableId:"comp_level",name:"Advanced Setup - Comp Level",action:[{camera:["common"],action:{choices:b.L_Mid_H,default:"LOW"}}]},gamma_offset:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogadvancesetup"],api_variable:["GammaOffset"],variableId:"gamma_offset",name:"Advanced Setup - Gamma Offset",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-16,max:64,default:40}}}]},high_resolution:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogadvancesetup"],api_variable:["HighResolution"],variableId:"high_resolution",name:"Advanced Setup - High Resolution",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},video_enhancement:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogadvancesetup"],api_variable:["VideoEnhancement"],variableId:"video_enhancement",name:"Advanced Setup - Video Enhancement",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},aux:{camera:["A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexternalsetup"],api_variable:["Aux"],variableId:"aux",name:"External Setup - Aux",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},rain_wiper:{camera:["A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexternalsetup"],api_variable:["RainWiper"],variableId:"rain_wiper",name:"External Setup - Rain Wiper",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},v12vout:{camera:["A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexternalsetup"],api_variable:["V12vOut"],variableId:"v12vout",name:"External Setup - 12v Out",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},bandwidth:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogdetsetup"],api_variable:["Bandwidth"],variableId:"bandwidth",name:"Detail Setup - Bandwidth",action:[{camera:["common"],action:{choices:b.BANDWIDTH_4K,default:"DEFAULT"}}]},bw_balance:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogdetsetup"],api_variable:["BwBalance"],variableId:"bw_balance",name:"Detail Setup - BW Balance",action:[{camera:["common"],action:{choices:b.BW_BALANCE_4K,default:"TYPE1"}}]},crispening:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogdetsetup"],api_variable:["Crispening"],variableId:"crispening",name:"Detail Setup - Crispening",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:7,default:4}}}]},detail:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogdetsetup"],api_variable:["Detail"],variableId:"detail",name:"Detail Setup - Detail",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},highlight_detail:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogdetsetup"],api_variable:["HighLightDetail"],variableId:"highlight_detail",name:"Detail Setup - Highlight Detail",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:4,default:0}}}]},hv_balance:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogdetsetup"],api_variable:["HvBalance"],variableId:"hv_balance",name:"Detail Setup - Hv Balance",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-2,max:2,default:0}}}]},limit:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogdetsetup"],api_variable:["Limit"],variableId:"limit",name:"Detail Setup - Limit",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:7,default:4}}}]},super_low:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogdetsetup"],api_variable:["SuperLow"],variableId:"super_low",name:"Detail Setup - Super Low",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:7,default:4}}}]},black_gamma_level:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddoggammasetup"],api_variable:["BlackGammaLevel"],variableId:"black_gamma_level",name:"Gamma Setup - Black Gamma Level",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:14,default:7}}}]},black_level:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddoggammasetup"],api_variable:["BlackLevel"],variableId:"black_level",name:"Gamma Setup - Black Level",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:96,default:48}}}]},black_level_range:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddoggammasetup"],api_variable:["BlackLevelRange"],variableId:"black_level_range",name:"Gamma Setup - Black Level Range",action:[{camera:["common"],action:{choices:b.L_Mid_H,default:"LOW"}}]},effect:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddoggammasetup"],api_variable:["Effect"],variableId:"effect",name:"Gamma Setup - Effect",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-3,max:3,default:0}}}]},level:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddoggammasetup"],api_variable:["Level"],variableId:"level",name:"Gamma Setup - Level",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:14,default:0}}}]},offset:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddoggammasetup"],api_variable:["Offset"],variableId:"offset",name:"Gamma Setup - Offset",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-64,max:64,default:0}}}]},pattern:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddoggammasetup"],api_variable:["Pattern"],variableId:"pattern",name:"Gamma Setup - Pattern",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:512,default:256}}}]},pattern_fine:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddoggammasetup"],api_variable:["PatternFine"],variableId:"pattern_fine",name:"Gamma Setup - Pattern Fine",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:9,default:5}}}]},settings:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddoggammasetup"],api_variable:["Settings"],variableId:"settings",name:"Gamma Setup - Settings",action:[{camera:["common"],action:{choices:b.GAMMA_SETTINGS,default:"PATTERN"}}]},visibility_enhancer:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddoggammasetup"],api_variable:["VisibilityEnhancer"],variableId:"visibility_enhancer",name:"Gamma Setup - Visibilty Enhancer",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},scope_gamma_gain:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogscope"],api_variable:["GammaGain"],variableId:"scope_gamma_gain",name:"Scope - Gamma Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:7,default:4}}}]},scope_mode:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogscope"],api_variable:["Mode"],variableId:"scope_mode",name:"Scope - Mode",action:[{camera:["common"],action:{choices:b.SCOPE_MODE,default:"Histogram"}}]},scope_position:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogscope"],api_variable:["Position"],variableId:"scope_position",name:"Scope - Position",action:[{camera:["common"],action:{choices:b.SCOPE_POSITION,default:"TopLeft"}}]},scope_preview:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogscope"],api_variable:["PreviewEnable"],variableId:"scope_preview",name:"Scope - Preview",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},scope_program:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogscope"],api_variable:["ProgramEnable"],variableId:"scope_program",name:"Scope - Program",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},scope_size:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogscope"],api_variable:["DoubleSizeEnable"],variableId:"scope_size",name:"Scope - Size",action:[{camera:["common"],action:{choices:b.SCOPE_SIZE,default:"Off"}}]},scope_transparency:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogscope"],api_variable:["TransparencyEnable"],variableId:"scope_transparency",name:"Scope - Transparency",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},avbr:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["avbr"],variableId:"avbr",name:"Dashboard - Average Bitrate"},aud_ch:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["aud_ch"],variableId:"aud_ch",name:"Dashboard - Audio Channels"},aud_sr:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["aud_sr"],variableId:"aud_sr",name:"Dashboard - Audio Sample Rate"},aud_stat:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["aud_stat"],variableId:"aud_stat",name:"Dashboard - Audio Status"},dashboard_vid_status:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["dashboard_vid_status"],variableId:"dashboard_vid_status",name:"Dashboard - Status"},dev_mode:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["dev_mode"],variableId:"dev_mode",name:"Dashboard - Device Mode"},gen_status:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["gen_status"],variableId:"gen_status",name:"Dashboard - Genlock Status"},mcu_ver:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["mcu_ver"],variableId:"mcu_ver",name:"Dashboard - MCU Version"},net_band_perc:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["net_band_perc"],variableId:"net_band_perc",name:"Dashboard - Network Bandwidth"},net_mode:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["net_mode"],variableId:"net_mode",name:"Dashboard - Network Mode"},net_speed:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["net_speed"],variableId:"net_speed",name:"Dashboard - Network Speed"},src_stat:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["src_stat"],variableId:"src_stat",name:"Dashboard - Source Status"},sys_info_perc:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["sys_info_perc"],variableId:"sys_info_perc",name:"Dashboard - CPU Usage"},vid_fmt:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["vid_fmt"],variableId:"vid_fmt",name:"Dashboard - Video Format"},vid_fr:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["vid_fr"],variableId:"vid_fr",name:"Dashboard - Video Frame Rate"},vid_res:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["vid_res"],variableId:"vid_res",name:"Dashboard - Video Resolution"},vid_sra:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["vid_sra"],variableId:"vid_sra",name:"Dashboard - Video Sample Rate"},vid_str_name:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["vid_str_name"],variableId:"vid_str_name",name:"Dashboard - NDI Video Stream Name"},custom:{camera:["All"],firmware:["4","5"],name:"Custom Visca Command",action:[{camera:["common"],action:!0}]}},w="",S="",k="\t",E="ÿ",A="8",x="b",I="";function T(){let e,t,a="",n={},o=m(v,this.camera.firmware.major,this.camera.model);o||(this.log("error",`Unrecognized camera model: ${this.camera.model}`),this.status(this.STATUS_ERROR),void 0!==this.poll_interval&&clearInterval(this.poll_interval));let r={};o?.standby&&(r.standby={name:o.standby.name,options:[{type:"dropdown",label:"On/Standby",id:"val",choices:o.standby.choices,default:o.standby.default}],callback:e=>{switch(e.options.val){case"on":a="\0ÿ";break;case"standby":a="\0ÿ"}this.sendVISCACommand(a)}}),o?.freeze&&(r.freeze={name:o.freeze.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.freeze.choices,{id:"Toggle",label:"Toggle"}],default:o.freeze.default}],callback:e=>{switch(e.options.val){case"On":a="bÿ";break;case"Off":a="bÿ";break;case"Toggle":a="bÿ"}this.sendVISCACommand(a)}}),o?.analogAudioInGain&&(r.analogAudioInGain={name:o.analogAudioInGain.name,options:[{type:"dropdown",label:"Action",id:"val",choices:o.analogAudioInGain.choices,default:o.analogAudioInGain.default},{type:"number",label:"Analog Audio In Gain (dB) ("+o.analogAudioInGain.range.min+" to "+o.analogAudioInGain.range.max+")",id:"value",default:o.analogAudioInGain.range.default,min:o.analogAudioInGain.range.min,max:o.analogAudioInGain.range.max,range:!0,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.analogAudioInGain?this.camera.analogAudioInGain:o.analogAudioInGain.range.default,a.options.val){case"up":e=t<o.analogAudioInGain.range.max+50?++t:o.analogAudioInGain.range.max;break;case"down":e=t>o.analogAudioInGain.range.min+50?--t:o.analogAudioInGain.range.min;break;case"value":e=a.options.value+50}n={AnalogAudioInGain:String(e)},this.sendCommand("analogaudiosetup","POST",n)}}),o?.analogAudioOutGain&&(r.analogAudioOutGain={name:o.analogAudioOutGain.name,options:[{type:"dropdown",label:"Action",id:"val",choices:o.analogAudioOutGain.choices,default:o.analogAudioOutGain.default},{type:"number",label:"Analog Audio Out Gain (dB) ("+o.analogAudioOutGain.range.min+" to "+o.analogAudioOutGain.range.max+")",id:"value",default:o.analogAudioOutGain.range.default,min:o.analogAudioOutGain.range.min,max:o.analogAudioOutGain.range.max,range:!0,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.analogAudioOutGain?this.camera.analogAudioOutGain:o.analogAudioOutGain.range.default,a.options.val){case"up":e=t<o.analogAudioOutGain.range.max+50?++t:o.analogAudioOutGain.range.max;break;case"down":e=t>o.analogAudioOutGain.range.min+50?--t:o.analogAudioOutGain.range.min;break;case"value":e=a.options.value+50}n={AnalogAudioOutGain:String(e)},this.sendCommand("analogaudiosetup","POST",n)}}),o?.analogAudioOutput&&(r.analogAudioOutput={name:o.analogAudioOutput.name,options:[{type:"dropdown",label:"Mode",id:"val",choices:[...o.analogAudioOutput.choices,{id:"Toggle",label:"Toggle"}],default:o.analogAudioOutput.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.analogAudioOutput,o.analogAudioOutput.choices)),n={AnalogAudiooutputselect:String(t)},this.sendCommand("analogaudiosetup","POST",n)}}),o?.video_output&&(r.video_output={name:o.video_output.name,options:[{type:"dropdown",label:"Mode",id:"val",choices:[...o.video_output.choices,{id:"Toggle",label:"Toggle"}],default:o.video_output.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.video_output,o.video_output.choices)),n={videooutput:String(t)},this.sendCommand("videooutputinterface","POST",n)}}),o?.bandwidth_mode&&(r.bandwidth_mode={name:o.bandwidth_mode.name,options:[{type:"dropdown",label:"Manual / NDI Managed",id:"val",choices:o.bandwidth_mode.choices,default:o.bandwidth_mode.default},{type:"number",label:"Bandwidth Select ("+o.bandwidth_select.range.min+" to "+o.bandwidth_select.range.max+")",id:"bandwidth",default:o.bandwidth_select.range.default,min:o.bandwidth_select.range.min,max:o.bandwidth_select.range.max,isVisible:e=>"Manual"===e.val}],callback:e=>{switch(e.options.val){case"NDIManaged":n={BandwidthMode:String(e.options.val)};break;case"Manual":n={BandwidthMode:String(e.options.val),BandwidthSelect:String(e.options.bandwidth)}}this.sendCommand("encodesetup","POST",n)}}),o?.ndiAudio&&(r.ndiAudio={name:o.ndiAudio.name,options:[{type:"dropdown",label:"Analog / Mute",id:"val",choices:[...o.ndiAudio.choices,{id:"Toggle",label:"Toggle"}],default:o.ndiAudio.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.ndiAudio,o.ndiAudio.choices)),n={NDIAudio:String(t)},this.sendCommand("encodesetup","POST",n)}}),o?.ndiGroupEnable&&(r.ndiGroupEnable={name:o.ndiGroupEnable.name,options:[{type:"dropdown",label:"NDI Group Enable",id:"val",choices:[...o.ndiGroupEnable.choices,{id:"Toggle",label:"Toggle"}],default:o.ndiGroupEnable.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.ndiGroupEnable,o.ndiGroupEnable.choices)),n={NDIGroup:String(t)},this.sendCommand("encodesetup","POST",n)}}),o?.screensaver_mode&&(r.screensaver_mode={name:o.screensaver_mode.name,options:[{type:"dropdown",label:"ScreenSaver Mode",id:"val",choices:o.screensaver_mode.choices,default:o.screensaver_mode.default}],callback:e=>{n={ScreenSaverMode:String(e.options.val)},this.sendCommand("encodesetup","POST",n)}}),o?.stream_to_network&&(r.stream_to_network={name:o.stream_to_network.name,options:[{type:"dropdown",label:"On/Off",id:"val",choices:[...o.stream_to_network.choices,{id:"Toggle",label:"Toggle"}],default:o.stream_to_network.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.stream_to_network,o.stream_to_network.choices)),n={StreamToNetwork:String(t)},this.sendCommand("encodesetup","POST",n)}}),o?.tally_mode&&(r.tally_mode={name:o.tally_mode.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.tally_mode.choices,{id:"Toggle",label:"Toggle"}],default:o.tally_mode.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.tally_mode,o.tally_mode.choices)),n={TallyMode:String(t)},this.sendCommand("encodesetup","POST",n)}}),o?.transmit_method&&(r.transmit_method={name:o.transmit_method.name,options:[{type:"dropdown",label:"Method",id:"val",choices:o.transmit_method.choices,default:o.transmit_method.default}],callback:e=>{n="4"===this.camera.firmware.major?{txpm:String(e.options.val)}:{Txpm:String(e.options.val)},this.sendCommand("encodeTransport","POST",n)}}),o?.capture_screensaver&&(r.capture_screensaver={name:o.capture_screensaver.name,options:[],callback:e=>{this.sendCommand("capture?ChNum=1&status=Encode","GET")}}),o?.ndi_discovery_server&&(r.ndi_discovery_server={name:o.ndi_discovery_server.name,options:[{type:"dropdown",label:"Enabled / Disabled",id:"val",choices:[...o.ndi_discovery_server.choices,{id:"Toggle",label:"Toggle"}],default:o.ndi_discovery_server.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.ndi_discovery_server,o.ndi_discovery_server.choices)),n={NDIDisServ:String(t)},this.sendCommand("NDIDisServer","POST",n)}});let i=!this.camera.speedControl||"standard"===this.camera.speedControl,s=i?21:255,c=i?11:255,l=i?18:255,d=i?9:255;return o?.pt&&(r.pt={name:o.pt.name,options:[{type:"dropdown",label:"Direction",id:"val",choices:o.pt.choices,default:o.pt.default},{type:"dropdown",label:"Pan Position",id:"posPan",choices:o.pt.posPanChoices,default:o.pt.posPanDefault,isVisible:e=>"direct"===e.val},{type:"dropdown",label:"Tilt Position",id:"posTilt",choices:o.pt.posTiltChoices,default:o.pt.posTiltDefault,isVisible:e=>"direct"===e.val},{type:"checkbox",label:"Speed Override",id:"override",default:!1,isVisible:e=>"direct"!==e.val},{type:"number",label:`Pan Speed (0 to ${s})`,id:"value",default:c,min:0,max:s,range:!0,isVisible:e=>!0===e.override||"direct"===e.val},{type:"number",label:`Tilt Speed (0 to ${l})`,id:"value",default:d,min:0,max:l,range:!0,isVisible:e=>!0===e.override||"direct"===e.val}],callback:e=>{let t=this.camera?.panSpeed?this.camera.panSpeed:o.panSpeed.range.default,n=this.camera?.tiltSpeed?this.camera.tiltSpeed:o.tiltSpeed.range.default;switch(t=!0===e.options.override?e.options.panSpeed:t,n=!0===e.options.override?e.options.tiltSpeed:n,e.options.val){case"left":a=S+I+String.fromCharCode(t)+String.fromCharCode(n)+""+E;break;case"right":a=S+I+String.fromCharCode(t)+String.fromCharCode(n)+""+E;break;case"up":a=S+I+String.fromCharCode(t)+String.fromCharCode(n)+""+E;break;case"down":a=S+I+String.fromCharCode(t)+String.fromCharCode(n)+""+E;break;case"up_left":a=S+I+String.fromCharCode(t)+String.fromCharCode(n)+""+E;break;case"up_right":a=S+I+String.fromCharCode(t)+String.fromCharCode(n)+""+E;break;case"down_left":a=S+I+String.fromCharCode(t)+String.fromCharCode(n)+""+E;break;case"down_right":a=S+I+String.fromCharCode(t)+String.fromCharCode(n)+""+E;break;case"stop":a=S+I+String.fromCharCode(t)+String.fromCharCode(n)+""+E;break;case"home":a="ÿ";break;case"direct":a=S+""+String.fromCharCode(e.options.panSpeed)+String.fromCharCode(e.options.tiltSpeed)+this.strToPQRS(e.options.posPan)+this.strToPQRS(e.options.posTilt)+E}this.sendVISCACommand(a)}}),o?.panSpeed&&(r.panSpeed={name:o.panSpeed.name,options:[{type:"dropdown",label:"Action",id:"type",choices:o.panSpeed.choices,default:o.panSpeed.default},{type:"number",label:`Speed (0 to ${s})`,id:"value",default:c,min:0,max:s,range:!0,isVisible:e=>"value"===e.type}],callback:a=>{switch(t=this.camera?.panSpeed?this.camera.panSpeed:o.panSpeed.range.default,a.options.type){case"up":e=t<s?++t:s;break;case"down":e=t>0?--t:0;break;case"value":e=a.options.value}n={PanSpeed:String(e)},this.sendCommand("birddogptzsetup","POST",n)}}),o?.preset&&(r.preset={name:o.preset.name,options:[{type:"dropdown",label:"Preset Mode",id:"val",choices:o.preset.choices,default:o.preset.default}],callback:e=>{n={Preset:String(e.options.val)},this.sendCommand("birddogptzsetup","POST",n)}}),o?.preset_speed&&(r.preset_speed={name:o.preset_speed.name,options:[{type:"dropdown",label:"Action",id:"type",choices:o.preset_speed.choices,default:o.preset_speed.default},{type:"number",label:"Speed ("+o.preset_speed.range.min+" to "+o.preset_speed.range.max+")",id:"value",default:o.preset_speed.range.default,min:o.preset_speed.range.min,max:o.preset_speed.range.max,isVisible:e=>"value"===e.type}],callback:a=>{switch(t=this.camera?.preset_speed?this.camera.preset_speed:o.preset_speed.default,a.options.type){case"up":e=t<o.preset_speed.range.max?++t:o.preset_speed.range.max;break;case"down":e=t>o.preset_speed.range.min?--t:o.preset_speed.range.min;break;case"value":e=a.options.value}n={PresetSpeed:String(e)},this.sendCommand("birddogptzsetup","POST",n)}}),o?.recallPset&&(r.recallPset={name:o.recallPset.name,options:[{type:"number",label:"Preset Number ("+o.savePset.range.min+" to "+o.savePset.range.max+")",id:"val",default:o.savePset.range.default,min:o.savePset.range.min,max:o.savePset.range.max}],callback:e=>{n={Preset:String("Preset-"+e.options.val)},this.sendCommand("recall","POST",n)}}),o?.savePset&&(r.savePset={name:o.savePset.name,options:[{type:"number",label:"Preset Number ("+o.savePset.range.min+" to "+o.savePset.range.max+")",id:"val",default:o.savePset.range.default,min:o.savePset.range.min,max:o.savePset.range.max}],callback:e=>{n={Preset:String("Preset-"+e.options.val)},this.sendCommand("save","POST",n)}}),o?.tiltSpeed&&(r.tiltSpeed={name:o.tiltSpeed.name,options:[{type:"dropdown",label:"Action",id:"type",choices:o.tiltSpeed.choices,default:o.tiltSpeed.default},{type:"number",label:`Speed (0 to ${l})`,id:"value",default:d,min:0,max:l,range:!0,isVisible:e=>"value"===e.type}],callback:a=>{switch(t=this.camera?.tiltSpeed?this.camera.tiltSpeed:o.tiltSpeed.range.default,a.options.type){case"up":e=t<l?++t:l;break;case"down":e=t>0?--t:0;break;case"value":e=a.options.value}n={TiltSpeed:String(e)},this.sendCommand("birddogptzsetup","POST",n)}}),o?.zoom&&(r.zoom={name:o.zoom.name,options:[{type:"dropdown",label:"Direction",id:"val",choices:b.PTZ_ZOOM,default:"in"},{type:"dropdown",label:"Zoom Position",id:"posZoom",choices:o.zoom.posZoomChoices,default:o.zoom.posZoomDefault,isVisible:e=>"direct"===e.val},{type:"checkbox",label:"Speed Overide",id:"override",default:!1,isVisible:e=>"direct"!==e.val},{type:"number",label:"Speed ("+o.zoomSpeed.range.min+" to "+o.zoomSpeed.range.max+")",id:"speed",default:o.zoomSpeed.range.default,min:o.zoomSpeed.range.min,max:o.zoomSpeed.range.max,isVisible:e=>!0===e.override}],callback:e=>{let t=this.camera?.zoomSpeed?this.camera.zoomSpeed:o.zoomSpeed.range.default;switch(t=!0===e.options.override?e.options.speed:t,e.options.val){case"in":a=w+""+this.addStringToBinary(" ",t)+E;break;case"out":a=w+""+this.addStringToBinary("0",t)+E;break;case"direct":a=w+"G"+this.strToPQRS(e.options.posZoom)+E;break;case"stop":a="\0ÿ"}this.sendVISCACommand(a)}}),o?.zoomSpeed&&(r.zoomSpeed={name:o.zoomSpeed.name,options:[{type:"dropdown",label:"Action",id:"type",choices:o.zoomSpeed.choices,default:o.zoomSpeed.default},{type:"number",label:"Speed ("+o.zoomSpeed.range.min+" to "+o.zoomSpeed.range.max+")",id:"value",default:o.zoomSpeed.range.default,min:o.zoomSpeed.range.min,max:o.zoomSpeed.range.max,isVisible:e=>"value"===e.type}],callback:a=>{switch(t=this.camera?.zoomSpeed?this.camera.zoomSpeed:o.zoomSpeed.range.default,a.options.type){case"up":e=t<o.zoomSpeed.range.max?++t:o.zoomSpeed.range.max;break;case"down":e=t>o.zoomSpeed.range.min?--t:o.zoomSpeed.range.min;break;case"value":e=a.options.value}n={ZoomSpeed:String(e)},this.sendCommand("birddogptzsetup","POST",n)}}),o?.onScreenMenu&&(r.onScreenMenu={name:o.onScreenMenu.name,options:[],callback:e=>{n={Menu:String("On/Off")},this.sendCommand("birddogptz","POST",n)}}),o?.speedControl&&(r.speedControl={name:o.speedControl.name,options:[{type:"dropdown",label:"Speed Mode",id:"value",choices:o.speedControl.choices,default:o.speedControl.default}],callback:t=>{e=t.options.value,n={SpeedControl:e},this.sendCommand("birddogptzsetup","POST",n)}}),o?.focus&&(r.focus={name:o.focus.name,options:[{type:"dropdown",label:"Direction",id:"val",choices:o.focus.choices,default:o.focus.default}],callback:e=>{switch(e.options.val){case"near":a="\bÿ";break;case"far":a="\bÿ";break;case"stop":a="\b\0ÿ";break;case"trigger":a="ÿ"}this.sendVISCACommand(a)}}),o?.focusM&&(r.focusM={name:o.focusM.name,options:[{type:"dropdown",label:"Mode",id:"val",choices:[...o.focusM.choices,{id:"Toggle",label:"Toggle"}],default:o.focusM.default}],callback:e=>{switch(e.options.val){case"Auto":a="8ÿ";break;case"Manual":a="8ÿ";break;case"Toggle":a="8ÿ"}this.sendVISCACommand(a)}}),o?.ae_response&&(r.ae_response={name:o.ae_response.name,options:[{type:"dropdown",label:"Ae Response",id:"val",hoices:o.ae_response.choices,default:o.ae_response.default},{type:"number",label:"Ae Response ("+o.ae_response.range.min+" to "+o.ae_response.range.max+")",id:"value",default:o.ae_response.range.default,min:o.ae_response.range.min,max:o.ae_response.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.ae_response?this.camera.ae_response:o.ae_response.range.default,a.options.val){case"up":e=t<o.ae_response.range.max?++t:o.ae_response.range.max;break;case"down":e=t>o.ae_response.range.min?--t:o.ae_response.range.min;break;case"value":e=a.options.value}n={AeResponse:String(e)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.backlight&&(r.backlight={name:o.backlight.name,options:[{type:"dropdown",label:"On / Off",id:"mode",choices:[...o.backlight.choices,{id:"Toggle",label:"Toggle"}],default:o.backlight.default}],callback:e=>{let t=e.options.mode;"Toggle"==t&&(t=f(this.camera.backlight,o.backlight.choices)),n={Backlight:String(t)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.bright_level&&(r.bright_level={name:o.bright_level.name,options:[{type:"dropdown",label:"Bright Level",id:"val",choices:o.bright_level.choices,default:o.bright_level.default},{type:"number",label:"Level ("+o.bright_level.range.min+" to "+o.bright_level.range.max+")",id:"value",default:o.bright_level.range.default,min:o.bright_level.range.min,max:o.bright_level.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.bright_level?this.camera.bright_level:o.bright_level.range.default,a.options.val){case"up":e=t<o.bright_level.range.max?++t:o.bright_level.range.max;break;case"down":e=t>o.bright_level.range.min?--t:o.bright_level.range.min;break;case"value":e=a.options.value}n={BrightLevel:String(e)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.expComp&&(r.expComp={name:o.expComp.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:o.expComp.choices,default:o.expComp.default},{type:"number",label:"Exposure Compensation Level ("+o.expCompLvl.range.min+" to "+o.expCompLvl.range.max+")",id:"level",default:o.expCompLvl.range.default,min:o.expCompLvl.range.min,max:o.expCompLvl.range.max,isVisible:e=>"On"===e.val}],callback:e=>{switch(e.options.val){case"Off":n={ExpCompEn:String(e.options.val)};break;case"On":let t="P100"===this.camera.model||"PF120"===this.camera.model?String(e.options.level+7):String(e.options.level);n={ExpCompEn:String(e.options.val),ExpCompLvl:String(t)}}this.sendCommand("birddogexpsetup","POST",n)}}),o?.exposure_mode&&(r.expM={name:o.exposure_mode.name,options:[{type:"dropdown",label:"Mode",id:"val",choices:o.exposure_mode.choices,default:o.exposure_mode.default}],callback:e=>{n={ExpMode:String(e.options.val)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.gain&&(r.gain={name:o.gain.name,options:[{type:"dropdown",label:"Gain",id:"val",choices:o.gain.choices,default:o.gain.default},{type:"dropdown",label:"Value",id:"value",choices:o.gain.value.choices,default:o.gain.value.default,isVisible:e=>"value"===e.val}],callback:t=>{let a=this.camera?.gain?this.camera.gain:o.gain.default,r=this.camera?.gain_limit?this.camera.gain_limit:o.gain.value.choices[o.gain.value.choices.length-1].id;switch(t.options.val){case"up":e=parseInt(a)<parseInt(r)?++a:r;break;case"down":e=a>o.gain.value.choices[0]?.id?--a:o.gain.value.choices[0].id;break;case"value":e=parseFloat(t.options.value)<=r?t.options.value:r}n={GainLevel:String(e)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.gain_limit&&(r.gainLimit={name:o.gain_limit.name,options:[{type:"dropdown",label:"Gain Limit",id:"val",choices:o.gain_limit.choices,default:o.gain_limit.default},{type:"dropdown",label:"Value",id:"value",choices:o.gain.value.choices.slice(o.gain_limit.range.min-1,o.gain_limit.range.max+1),default:o.gain_limit.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.gain_limit?this.camera.gain_limit:o.gain_limit.range.default,a.options.val){case"up":e=t<o.gain_limit.range.max?++t:o.gain_limit.range.max;break;case"down":e=t>o.gain_limit.range.min?--t:o.gain_limit.range.min;break;case"value":e=a.options.value}n={GainLimit:String(e)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.gain_point&&(r.gainPoint={name:o.gain_point.name,options:[{type:"dropdown",label:"Gain Point",id:"val",choices:[...o.gain_point.choices,{id:"Toggle",label:"Toggle"}],default:o.gain_point.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.gain_point,o.gain_point.choices)),n={GainPoint:String(t)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.gain_point_position&&(r.gainPointPosition={name:o.gain_point_position.name,options:[{type:"dropdown",label:"Gain Point",id:"val",choices:o.gain_point_position.choices,default:o.gain_point_position.default},{type:"dropdown",label:"Value",id:"value",choices:o.gain.value.choices.slice(0,parseInt(this.camera.expsetup?.GainLimit?this.camera.expsetup?.GainLimit:o.gain.value.default,10)+1),default:o.gain.value.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.gain_point_position?this.camera.gain_point_position:o.gain.default,a.options.val){case"up":e=t<this.camera.gain_limit?++t:this.camera.gain_limit;break;case"down":e=t>o.gain.value.choices[0].id?--t:o.gain.value.choices[0].id;break;case"value":e=a.options.value}n={GainPointPosition:String(e)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.high_sensitivity&&(r.highSensitivity={name:o.high_sensitivity.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.high_sensitivity.choices,{id:"Toggle",label:"Toggle"}],default:o.high_sensitivity.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.high_sensitivity,o.high_sensitivity.choices)),n={HighSensitivity:String(t)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.iris&&(r.iris={name:o.iris.name,options:[{type:"dropdown",label:"Iris",id:"val",choices:o.iris.choices,default:o.iris.default},{type:"dropdown",label:"Value",id:"value",choices:o.iris.value.choices,default:o.iris.value.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.iris?this.camera.iris:o.iris.default,a.options.val){case"up":e=t===o.iris.value.range.closed?o.iris.value.range.min:t<o.iris.value.range.max?++t:o.iris.value.range.max;break;case"down":e=t===o.iris.value.range.min?o.iris.value.range.closed:t>o.iris.value.range.min?--t:o.iris.value.range.closed;break;case"value":e=a.options.value}n={IrisLevel:String(e)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.shutter_control_overwrite&&(r.shutter_control_overwrite={name:o.shutter_control_overwrite.name,options:[{type:"dropdown",label:"On/Off",id:"val",choices:[...o.shutter_control_overwrite.choices,{id:"Toggle",label:"Toggle"}],default:o.shutter_control_overwrite.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.shutter_control_overwrite,o.shutter_control_overwrite.choices)),n={ShutterControlOverwrite:String(t)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.shutter_max_speed&&(r.shutter_max_speed={name:o.shutter_max_speed.name,options:[{type:"dropdown",label:"Shutter Max Speed",id:"val",choices:o.shutter_max_speed.choices,default:o.shutter_max_speed.default},{type:"dropdown",label:"Value",id:"value",choices:o.shut?.["shutter_"+[this.camera.shutter_table]].slice(o.shutter_max_speed.range.min,o.shutter_max_speed.range.max+1),default:o.shutter_max_speed.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.shutter_max_speed?this.camera.shutter_max_speed:o.shutter_max_speed.range.default,a.options.val){case"up":e=t<o.shutter_max_speed.range.max?++t:o.shutter_max_speed.range.max;break;case"down":e=t>o.shutter_max_speed.range.min?--t:o.shutter_max_speed.range.min;break;case"value":e=a.options.value}n={ShutterMaxSpeed:String(e)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.shutter_min_speed&&(r.shutter_min_speed={name:o.shutter_min_speed.name,options:[{type:"dropdown",label:"Shutter Min Speed",id:"val",choices:o.shutter_min_speed.choices,default:o.shutter_min_speed.default},{type:"dropdown",label:"Value",id:"value",choices:o.shut?.["shutter_"+[this.camera.shutter_table]].slice(o.shutter_min_speed.range.min,parseInt(this.camera.expsetup?.ShutterMaxSpeed,10)+1),default:o.shutter_min_speed.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.shutter_min_speed?this.camera.shutter_min_speed:o.shutter_min_speed.range.default,a.options.val){case"up":e=t<this.camera.expsetup.ShutterMaxSpeed?++t:this.camera.expsetup.ShutterMaxSpeed;break;case"down":e=t>o.shutter_min_speed.range.min?--t:o.shutter_min_speed.range.min;break;case"value":e=a.options.value}n={ShutterMinSpeed:String(e)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.shutter_speed&&(r.shut={name:o.shutter_speed.name,options:[{type:"dropdown",label:"Shutter",id:"val",choices:o.shutter_speed.choices,default:o.shutter_speed.default},{type:"dropdown",label:"Value",id:"value",choices:o.shutter_speed?.["shutter_"+[this.camera.shutter_table]],default:o.shutter_speed.shutter_default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.shutter_speed?this.camera.shutter_speed:o.shutter_speed.shutter_default,a.options.val){case"up":e=t<o.shutter_speed.range.max?++t:o.shutter_speed.range.max;break;case"down":e=t>o.shutter_speed.range.min?--t:o.shutter_speed.range.min;break;case"value":e=a.options.value}n={ShutterSpeed:String(e)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.shutter_speed_overwrite&&(r.shutter_speed_overwrite={name:o.shutter_speed_overwrite.name,options:[{type:"dropdown",label:"Shutter Speed Overwrite",id:"val",choices:o.shutter_speed.choices,default:o.shutter_speed.default},{type:"number",label:"Hz ("+o.shutter_speed_overwrite.range.min+" to "+o.shutter_speed_overwrite.range.max+")",id:"value",default:o.shutter_speed_overwrite.range.default,min:o.shutter_speed_overwrite.range.min,max:o.shutter_speed_overwrite.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.shutter_speed_overwrite?this.camera.shutter_speed_overwrite:o.shutter_speed_overwrite.shutter_default,a.options.val){case"up":e=t<o.shutter_speed_overwrite.range.max?++t:o.shutter_speed_overwrite.range.max;break;case"down":e=t>o.shutter_speed_overwrite.range.min?--t:o.shutter_speed_overwrite.range.min;break;case"value":e=a.options.value}n={ShutterSpeedOverwrite:String(e)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.slow_shutter_en&&(r.slow_shutter_en={name:o.slow_shutter_en.name,options:[{type:"dropdown",label:"On/Off",id:"val",choices:[...o.slow_shutter_en.choices,{id:"Toggle",label:"Toggle"}],default:o.slow_shutter_en.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.slow_shutter_en,o.slow_shutter_en.choices)),n={SlowShutterEn:String(t)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.slow_shutter_limit&&(r.slow_shutter_limit={name:o.slow_shutter_limit.name,options:[{type:"dropdown",label:"Slow Shutter Limit",id:"val",choices:o.shutter_speed.choices,default:o.shutter_speed.default},{type:"dropdown",label:"Value",id:"value",choices:o.slow_shutter_limit?.["shutter_"+[this.camera.shutter_table]],default:o.slow_shutter_limit.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.slow_shutter_limit?this.camera.slow_shutter_limit:o.slow_shutter_limit.range.default,a.options.val){case"up":e=t<o.slow_shutter_limit.range.max?++t:o.slow_shutter_limit.range.max;break;case"down":e=t>o.slow_shutter_limit.range.min?--t:o.slow_shutter_limit.range.min;break;case"value":e=a.options.value}n={SlowShutterLimit:String(e)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.spotlight&&(r.spotlight={name:o.spotlight.name,options:[{type:"dropdown",label:"On/Off",id:"val",choices:[...o.spotlight.choices,{id:"Toggle",label:"Toggle"}],default:o.spotlight.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.spotlight,o.spotlight.choices)),n={Spotlight:String(t)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.bg&&(r.bg={name:o.bg.name,options:[{type:"dropdown",label:"BG",id:"val",choices:o.bg.choices,default:o.bg.default},{type:"number",label:"Value ("+o.bg.range.min+" to "+o.bg.range.max+")",id:"value",default:o.bg.range.default,min:o.bg.range.min,max:o.bg.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.bg?this.camera.bg:o.bg.range.default,a.options.val){case"up":e=t<o.bg.range.max?++t:o.bg.range.max;break;case"down":e=t>o.bg.range.min?--t:o.bg.range.min;break;case"value":e=a.options.value}n={BG:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.br&&(r.br={name:o.br.name,options:[{type:"dropdown",label:"BR",id:"val",choices:o.br.choices,default:o.br.default},{type:"number",label:"Value ("+o.br.range.min+" to "+o.br.range.max+")",id:"value",default:o.br.range.default,min:o.br.range.min,max:o.br.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.br?this.camera.br:o.br.range.default,a.options.val){case"up":e=t<o.br.range.max?++t:o.br.range.max;break;case"down":e=t>o.br.range.min?--t:o.br.range.min;break;case"value":e=a.options.value}n={BR:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.blue_gain&&(r.blue_gain={name:o.blue_gain.name,options:[{type:"dropdown",label:"Blue Gain",id:"val",choices:o.blue_gain.choices,default:o.blue_gain.default},{type:"number",label:"Value ("+o.blue_gain.range.min+" to "+o.blue_gain.range.max+")",id:"value",default:o.blue_gain.range.default,min:o.blue_gain.range.min,max:o.blue_gain.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.blue_gain?this.camera.blue_gain:o.blue_gain.range.default,a.options.val){case"up":e=t<o.blue_gain.range.max?++t:o.blue_gain.range.max;break;case"down":e=t>o.blue_gain.range.min?--t:o.blue_gain.range.min;break;case"value":e=a.options.value}n={BlueGain:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.color_temp&&(r.color_temp={name:o.color_temp.name,options:[{type:"dropdown",label:"Color Temperature (k)",id:"val",choices:o.color_temp.choices,default:o.color_temp.default},{type:"dropdown",label:"Value",id:"value",choices:o.color_temp.value.choices,default:o.color_temp.value.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.color_temp?this.camera.color_temp.slice(0,2):o.color_temp.range.default,a.options.val){case"up":e=t<o.color_temp.range.max?++t:o.color_temp.range.max,e+="00";break;case"down":e=t>o.color_temp.range.min?--t:o.color_temp.range.min,e+="00";break;case"value":e=a.options.value}n={ColorTemp:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.gb&&(r.gb={name:o.gb.name,options:[{type:"dropdown",label:"GB",id:"val",choices:o.gb.choices,default:o.gb.default},{type:"number",label:"Value ("+o.gb.range.min+" to "+o.gb.range.max+")",id:"value",default:o.gb.range.default,min:o.gb.range.min,max:o.gr.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.gb?this.camera.gb:o.gb.range.default,a.options.val){case"up":e=t<o.gb.range.max?++t:o.gb.range.max;break;case"down":e=t>o.gb.range.min?--t:o.gb.range.min;break;case"value":e=a.options.value}n={GB:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.gr&&(r.gr={name:o.gr.name,options:[{type:"dropdown",label:"GR",id:"val",choices:o.gr.choices,default:o.gr.default},{type:"number",label:"Value ("+o.gr.range.min+" to "+o.gr.range.max+")",id:"value",default:o.gr.range.default,min:o.gr.range.min,max:o.gr.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.gr?this.camera.gr:o.gr.range.default,a.options.val){case"up":e=t<o.gr.range.max?++t:o.gr.range.max;break;case"down":e=t>o.gr.range.min?--t:o.gr.range.min;break;case"value":e=a.options.value}n={GR:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.level&&(r.level={name:o.level.name,options:[{type:"dropdown",label:"Level",id:"val",choices:o.level.choices,default:o.level.default},{type:"number",label:"Level ("+o.level.range.min+" to "+o.level.range.max+")",id:"value",default:o.level.range.default,min:o.level.range.min,max:o.level.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.level?this.camera.level:o.level.range.default,a.options.val){case"up":e=t<o.level.range.max?++t:o.level.range.max;break;case"down":e=t>o.level.range.min?--t:o.level.range.min;break;case"value":e=a.options.value}n={Level:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.matrix&&(r.matrix={name:o.matrix.name,options:[{type:"dropdown",label:"On/Off",id:"val",choices:[...o.matrix.choices,{id:"Toggle",label:"Toggle"}],default:o.matrix.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.matrix,o.matrix.choices)),n={Matrix:String(t)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.offset&&(r.offset={name:o.offset.name,options:[{type:"dropdown",label:"Offset",id:"val",choices:o.level.choices,default:o.level.default},{type:"number",label:"Value ("+o.offset.range.min+" to "+o.offset.range.max+")",id:"value",default:o.offset.range.default,min:o.offset.range.min,max:o.offset.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.offset?this.camera.offset:o.offset.range.default,a.options.val){case"up":e=t<o.offset.range.max?++t:o.offset.range.max;break;case"down":e=t>o.offset.range.min?--t:o.offset.range.min;break;case"value":e=a.options.value}n={Offset:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.phase&&(r.phase={name:o.phase.name,options:[{type:"dropdown",label:"Phase",id:"val",choices:o.level.choices,default:o.level.default},{type:"number",label:"Value ("+o.phase.range.min+" to "+o.phase.range.max+")",id:"value",default:o.phase.range.default,min:o.phase.range.min,max:o.phase.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.phase?this.camera.phase:o.phase.range.default,a.options.val){case"up":e=t<o.phase.range.max?++t:o.phase.range.max;break;case"down":e=t>o.phase.range.min?--t:o.phase.range.min;break;case"value":e=a.options.value}n={Phase:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.rb&&(r.rb={name:o.rb.name,options:[{type:"dropdown",label:"RB",id:"val",choices:o.level.choices,default:o.level.default},{type:"number",label:"Value ("+o.rb.range.min+" to "+o.rb.range.max+")",id:"value",default:o.rb.range.default,min:o.rb.range.min,max:o.rb.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.rb?this.camera.rb:o.rb.range.default,a.options.val){case"up":e=t<o.rb.range.max?++t:o.rb.range.max;break;case"down":e=t>o.rb.range.min?--t:o.rb.range.min;break;case"value":e=a.options.value}n={RB:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.rg&&(r.rg={name:o.rg.name,options:[{type:"dropdown",label:"RG",id:"val",choices:o.level.choices,default:o.level.default},{type:"number",label:"Value ("+o.rg.range.min+" to "+o.rg.range.max+")",id:"value",default:o.rg.range.default,min:o.rg.range.min,max:o.rg.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.rg?this.camera.rg:o.rg.range.default,a.options.val){case"up":e=t<o.rg.range.max?++t:o.rg.range.max;break;case"down":e=t>o.rg.range.min?--t:o.rg.range.min;break;case"value":e=a.options.value}n={RG:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.red_gain&&(r.red_gain={name:o.red_gain.name,options:[{type:"dropdown",label:"Red Gain",id:"val",choices:o.red_gain.choices,default:o.red_gain.default},{type:"number",label:"Value ("+o.red_gain.range.min+" to "+o.red_gain.range.max+")",id:"value",default:o.red_gain.range.default,min:o.red_gain.range.min,max:o.red_gain.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.red_gain?this.camera.red_gain:o.red_gain.range.default,a.options.val){case"up":e=t<o.red_gain.range.max?++t:o.red_gain.range.max;break;case"down":e=t>o.red_gain.range.min?--t:o.red_gain.range.min;break;case"value":e=a.options.value}n={RedGain:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.select&&(r.select={name:o.select.name,options:[{type:"dropdown",label:"On/Off",id:"val",choices:o.select.choices,default:o.select.default}],callback:e=>{n={Select:String(e.options.val)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.speed&&(r.speed={name:o.speed.name,options:[{type:"dropdown",label:"Speed",id:"val",choices:o.level.choices,default:o.level.default},{type:"number",label:"Value ("+o.speed.range.min+" to "+o.speed.range.max+")",id:"value",default:o.speed.range.default,min:o.speed.range.min,max:o.speed.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.speed?this.camera.speed:o.speed.range.default,a.options.val){case"up":e=t<o.speed.range.max?++t:o.speed.range.max;break;case"down":e=t>o.speed.range.min?--t:o.speed.range.min;break;case"value":e=a.options.value}n={Speed:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.wb_mode&&(r.wb_mode={name:o.wb_mode.name,options:[{type:"dropdown",label:"Mode",id:"val",choices:o.wb_mode.choices,default:o.wb_mode.default}],callback:e=>{n={WbMode:String(e.options.val)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.wbOnePush&&(r.wbOnePush={name:o.wbOnePush.name,options:[],description:"Camera must be in One Push mode in order to use this action",callback:e=>{a="ÿ",this.sendVISCACommand(a)}}),o?.backlight_com&&(r.backlight_com={name:o.backlight_com.name,options:[{type:"dropdown",label:"On/Off",id:"val",choices:[...o.backlight_com.choices,{id:"Toggle",label:"Toggle"}],default:o.backlight_com.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.backlight_com,o.backlight_com.choices)),n={BackLightCom:String(t)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.chroma_suppress&&(r.chroma_suppress={name:o.chroma_suppress.name,options:[{type:"dropdown",label:"Mode",id:"val",choices:o.chroma_suppress.choices,default:o.chroma_suppress.default}],callback:e=>{n={ChromeSuppress:String(e.options.val)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.saturation&&(r.saturation={name:o.saturation.name,options:[{type:"dropdown",label:"Saturation",id:"val",choices:o.saturation.choices,default:o.saturation.default},{type:"number",label:"Value ("+o.saturation.range.min+" to "+o.saturation.range.max+")",id:"value",min:o.saturation.range.min,max:o.saturation.range.max,default:o.saturation.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.saturation?this.camera.saturation:o.saturation.range.default,a.options.val){case"up":e=t<o.saturation.range.max?++t:o.saturation.range.max;break;case"down":e=t>o.saturation.range.min?--t:o.saturation.range.min;break;case"value":e=a.options.value}n={Color:String(e)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.contrast&&(r.contrast={name:o.contrast.name,options:[{type:"dropdown",label:"Contrast",id:"val",choices:o.contrast.choices,default:o.contrast.default},{type:"number",label:"Value ("+o.contrast.range.min+" to "+o.contrast.range.max+")",id:"value",min:o.contrast.range.min,max:o.contrast.range.max,default:o.contrast.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.contrast?this.camera.contrast:o.contrast.range.default,a.options.val){case"up":e=t<o.contrast.range.max?++t:o.contrast.range.max;break;case"down":e=t>o.contrast.range.min?--t:o.contrast.range.min;break;case"value":e=a.options.value}n={Contrast:String(e)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.pictureEffect&&(r.pictureEffect={name:o.pictureEffect.name,options:[{type:"dropdown",label:"Effect",id:"val",choices:[...o.pictureEffect.choices,{id:"Toggle",label:"Toggle"}],default:o.pictureEffect.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.pictureEffect,o.pictureEffect.choices)),n={Effect:String(t)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.picFlip&&(r.picFlip={name:o.picFlip.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.picFlip.choices,{id:"Toggle",label:"Toggle"}],default:o.picFlip.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.picFlip,o.picFlip.choices)),n={Flip:String(t)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.gamma&&(r.gamma={name:o.gamma.name,options:[{type:"dropdown",label:"Gamma",id:"val",choices:o.gamma.choices,default:o.gamma.default},{type:"number",label:"Value ("+o.gamma.range.min+" to "+o.gamma.range.max+")",id:"value",min:o.gamma.range.min,max:o.gamma.range.max,default:o.gamma.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.gamma?this.camera.gamma:o.gamma.range.default,a.options.val){case"up":e=t<o.gamma.range.max?++t:o.gamma.range.max;break;case"down":e=t>o.gamma.range.min?--t:o.gamma.range.min;break;case"value":e=a.options.value}n={Gamma:String(e)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.highlight_comp&&(r.highlight_comp={name:o.highlight_comp.name,options:[{type:"dropdown",label:"Highlight Compensation",id:"val",choices:o.highlight_comp.choices,default:o.highlight_comp.default}],callback:e=>{n={HighlightComp:String(e.options.val)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.highlight_comp_mask&&(r.highlight_comp_mask={name:o.highlight_comp_mask.name,options:[{type:"dropdown",label:"Highlight Compensation Mask",id:"val",choices:o.highlight_comp_mask.choices,default:o.highlight_comp_mask.default},{type:"number",label:"Value ("+o.highlight_comp_mask.range.min+" to "+o.highlight_comp_mask.range.max+")",id:"value",min:o.highlight_comp_mask.range.min,max:o.highlight_comp_mask.range.max,default:o.highlight_comp_mask.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.highlight_comp_mask?this.camera.highlight_comp_mask:o.highlight_comp_mask.range.default,a.options.val){case"up":e=t<o.highlight_comp_mask.range.max?++t:o.highlight_comp_mask.range.max;break;case"down":e=t>o.highlight_comp_mask.range.min?--t:o.highlight_comp_mask.range.min;break;case"value":e=a.options.value}n={HighlightCompMask:String(e)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.hue&&(r.hue={name:o.hue.name,options:[{type:"dropdown",label:"Hue",id:"val",choices:o.hue.choices,default:o.hue.default},{type:"number",label:"Value ("+o.hue.range.min+" to "+o.hue.range.max+")",id:"value",min:o.hue.range.min,max:o.hue.range.max,default:o.hue.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.hue?this.camera.hue:o.hue.range.default,a.options.val){case"up":e=t<o.hue.range.max?++t:o.hue.range.max;break;case"down":e=t>o.hue.range.min?--t:o.hue.range.min;break;case"value":e=a.options.value}n={Hue:String(e)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.ir_cutfilter&&(r.ir_cutfilter={name:o.ir_cutfilter.name,options:[{type:"dropdown",label:"Mode",id:"val",choices:o.ir_cutfilter.choices,default:o.ir_cutfilter.default}],callback:e=>{n={IRCutFilter:String(e.options.val)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.low_latency&&(r.low_latency={name:o.low_latency.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.low_latency.choices,{id:"Toggle",label:"Toggle"}],default:o.low_latency.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.low_latency,o.low_latency.choices)),n={LowLatency:String(t)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.picMirror&&(r.picMirror={name:o.picMirror.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.picMirror.choices,{id:"Toggle",label:"Toggle"}],default:o.picMirror.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.picMirror,o.picMirror.choices)),n={Mirror:String(t)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.nd_filter&&(r.nd_filter={name:o.nd_filter.name,options:[{type:"dropdown",label:"ND Filter",id:"val",choices:o.nd_filter.choices,default:o.nd_filter.default},{type:"number",label:"Value ("+o.nd_filter.range.min+" to "+o.nd_filter.range.max+")",id:"value",min:o.nd_filter.range.min,max:o.nd_filter.range.max,default:o.nd_filter.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.nd_filter?this.camera.nd_filter:o.nd_filter.range.default,a.options.val){case"up":e=t<o.nd_filter.range.max?++t:o.nd_filter.range.max;break;case"down":e=t>o.nd_filter.range.min?--t:o.nd_filter.range.min;break;case"value":e=a.options.value}n={NDFilter:String(e)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.noise_reduction&&(r.noise_reduction={name:o.noise_reduction.name,options:[{type:"dropdown",label:"Noise Reduction",id:"val",choices:o.noise_reduction.choices,default:o.noise_reduction.default},{type:"dropdown",label:"Value",id:"value",choices:o.noise_reduction.value.choices,default:o.noise_reduction.value.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.noise_reduction?this.camera.noise_reduction:o.noise_reduction.value.default,a.options.val){case"up":e=t<o.noise_reduction.range.max?++t:o.noise_reduction.range.max;break;case"down":e=t>o.noise_reduction.range.min?--t:o.noise_reduction.range.min;break;case"value":e=a.options.value}n={NoiseReduction:String(e)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.sharpness&&(r.sharpness={name:o.sharpness.name,options:[{type:"dropdown",label:"Sharpness",id:"val",choices:o.sharpness.choices,default:o.sharpness.default},{type:"number",label:"Value ("+o.sharpness.range.min+" to "+o.sharpness.range.max+")",id:"value",min:o.sharpness.range.min,max:o.sharpness.range.max,default:o.sharpness.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.sharpness?this.camera.sharpness:o.sharpness.range.default,a.options.val){case"up":e=t<o.sharpness.range.max?++t:o.sharpness.range.max;break;case"down":e=t>o.sharpness.range.min?--t:o.sharpness.range.min;break;case"value":e=a.options.value}n={Sharpness:String(e)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.stabilizer&&(r.stabilizer={name:o.stabilizer.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.stabilizer.choices,{id:"Toggle",label:"Toggle"}],default:o.stabilizer.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.stabilizer,o.stabilizer.choices)),n={Stabilizer:String(t)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.threed_nr&&(r.threed_nr={name:o.threed_nr.name,options:[{type:"dropdown",label:"3D NR",id:"val",choices:o.threed_nr.choices,default:o.threed_nr.default},{type:"dropdown",label:"Value",id:"val",choices:o.threed_nr.value.choices,default:o.threed_nr.value.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.threed_nr?this.camera.threed_nr:o.threed_nr.value.default,a.options.val){case"up":e=t<o.threed_nr.range.max?++t:o.threed_nr.range.max;break;case"down":e=t>o.threed_nr.range.min?--t:o.threed_nr.range.min;break;case"value":e=a.options.value}n={ThreeDNR:String(e)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.twod_nr&&(r.twod_nr={name:o.twod_nr.name,options:[{type:"dropdown",label:"2D NR",id:"val",choices:o.twod_nr.choices,default:o.twod_nr.default},{type:"dropdown",label:"Value",id:"val",choices:o.twod_nr.value.choices,default:o.twod_nr.value.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.twod_nr?this.camera.twod_nr:o.twod_nr.value.default,a.options.val){case"up":e=t<o.twod_nr.range.max?++t:o.twod_nr.range.max;break;case"down":e=t>o.twod_nr.range.min?--t:o.twod_nr.range.min;break;case"value":e=a.options.value}n={TWODNR:String(e)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.wide_dynamic_range&&(r.wide_dynamic_range={name:o.wide_dynamic_range.name,options:[{type:"dropdown",label:"Wide Dynamic Range",id:"val",choices:o.wide_dynamic_range.choices,default:o.wide_dynamic_range.default},{type:"dropdown",label:"Value",id:"value",choices:o.wide_dynamic_range.value.choices,default:o.wide_dynamic_range.value.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.wide_dynamic_range?this.camera.wide_dynamic_range:o.wide_dynamic_range.value.default,a.options.val){case"up":e=t<o.wide_dynamic_range.range.max?++t:o.wide_dynamic_range.range.max;break;case"down":e=t>o.wide_dynamic_range.range.min?--t:o.wide_dynamic_range.range.min;break;case"value":e=a.options.value}n={WideDynamicRange:String(e)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.cm_blue_gain&&(r.cm_blue_gain={name:o.cm_blue_gain.name,options:[{type:"dropdown",label:"Blue Gain",id:"val",choices:o.cm_blue_gain.choices,default:o.cm_blue_gain.default},{type:"number",label:"Value ("+o.cm_blue_gain.range.min+" to "+o.cm_blue_gain.range.max+")",id:"value",min:o.cm_blue_gain.range.min,max:o.cm_blue_gain.range.max,default:o.cm_blue_gain.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_blue_gain?this.camera.cm_blue_gain:o.cm_blue_gain.range.default,a.options.val){case"up":e=t<o.cm_blue_gain.range.max?++t:o.cm_blue_gain.range.max;break;case"down":e=t>o.cm_blue_gain.range.min?--t:o.cm_blue_gain.range.min;break;case"value":e=a.options.value}n={BlueGain:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_blue_hue&&(r.cm_blue_hue={name:o.cm_blue_hue.name,options:[{type:"dropdown",label:"Blue Hue",id:"val",choices:o.cm_blue_hue.choices,default:o.cm_blue_hue.default},{type:"number",label:"Value ("+o.cm_blue_hue.range.min+" to "+o.cm_blue_hue.range.max+")",id:"value",min:o.cm_blue_hue.range.min,max:o.cm_blue_hue.range.max,default:o.cm_blue_hue.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_blue_hue?this.camera.cm_blue_hue:o.cm_blue_hue.range.default,a.options.val){case"up":e=t<o.cm_blue_hue.range.max?++t:o.cm_blue_hue.range.max;break;case"down":e=t>o.cm_blue_hue.range.min?--t:o.cm_blue_hue.range.min;break;case"value":e=a.options.value}n={BlueHue:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_color_gain&&(r.cm_color_gain={name:o.cm_color_gain.name,options:[{type:"dropdown",label:"Color Gain",id:"val",choices:o.cm_color_gain.choices,default:o.cm_color_gain.default},{type:"number",label:"Value ("+o.cm_color_gain.range.min+" to "+o.cm_color_gain.range.max+")",id:"value",min:o.cm_color_gain.range.min,max:o.cm_color_gain.range.max,default:o.cm_color_gain.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_color_gain?this.camera.cm_color_gain:o.cm_color_gain.range.default,a.options.val){case"up":e=t<o.cm_color_gain.range.max?++t:o.cm_color_gain.range.max;break;case"down":e=t>o.cm_color_gain.range.min?--t:o.cm_color_gain.range.min;break;case"value":e=a.options.value}n={ColourGain:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_cyan_gain&&(r.cm_cyan_gain={name:o.cm_cyan_gain.name,options:[{type:"dropdown",label:"Cyan Gain",id:"val",choices:o.cm_cyan_gain.choices,default:o.cm_cyan_gain.default},{type:"number",label:"Value ("+o.cm_cyan_gain.range.min+" to "+o.cm_cyan_gain.range.max+")",id:"value",min:o.cm_cyan_gain.range.min,max:o.cm_cyan_gain.range.max,default:o.cm_cyan_gain.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_cyan_gain?this.camera.cm_cyan_gain:o.cm_cyan_gain.range.default,a.options.val){case"up":e=t<o.cm_cyan_gain.range.max?++t:o.cm_cyan_gain.range.max;break;case"down":e=t>o.cm_cyan_gain.range.min?--t:o.cm_cyan_gain.range.min;break;case"value":e=a.options.value}n={CyanGain:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_cyan_hue&&(r.cm_cyan_hue={name:o.cm_cyan_hue.name,options:[{type:"dropdown",label:"Cyan Hue",id:"val",choices:o.cm_cyan_hue.choices,default:o.cm_cyan_hue.default},{type:"number",label:"Value ("+o.cm_cyan_hue.range.min+" to "+o.cm_cyan_hue.range.max+")",id:"value",min:o.cm_cyan_hue.range.min,max:o.cm_cyan_hue.range.max,default:o.cm_cyan_hue.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_cyan_hue?this.camera.cm_cyan_hue:o.cm_cyan_hue.range.default,a.options.val){case"up":e=t<o.cm_cyan_hue.range.max?++t:o.cm_cyan_hue.range.max;break;case"down":e=t>o.cm_cyan_hue.range.min?--t:o.cm_cyan_hue.range.min;break;case"value":e=a.options.value}n={CyanHue:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_green_gain&&(r.cm_green_gain={name:o.cm_green_gain.name,options:[{type:"dropdown",label:"Green Gain",id:"val",choices:o.cm_green_gain.choices,default:o.cm_green_gain.default},{type:"number",label:"Value ("+o.cm_green_gain.range.min+" to "+o.cm_green_gain.range.max+")",id:"value",min:o.cm_green_gain.range.min,max:o.cm_green_gain.range.max,default:o.cm_green_gain.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_green_gain?this.camera.cm_green_gain:o.cm_green_gain.range.default,a.options.val){case"up":e=t<o.cm_green_gain.range.max?++t:o.cm_green_gain.range.max;break;case"down":e=t>o.cm_green_gain.range.min?--t:o.cm_green_gain.range.min;break;case"value":e=a.options.value}n={GreenGain:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_green_hue&&(r.cm_green_hue={name:o.cm_green_hue.name,options:[{type:"dropdown",label:"Green Hue",id:"val",choices:o.cm_green_hue.choices,default:o.cm_green_hue.default},{type:"number",label:"Value ("+o.cm_green_hue.range.min+" to "+o.cm_green_hue.range.max+")",id:"value",min:o.cm_green_hue.range.min,max:o.cm_green_hue.range.max,default:o.cm_green_hue.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_green_hue?this.camera.cm_green_hue:o.cm_green_hue.range.default,a.options.val){case"up":e=t<o.cm_green_hue.range.max?++t:o.cm_green_hue.range.max;break;case"down":e=t>o.cm_green_hue.range.min?--t:o.cm_green_hue.range.min;break;case"value":e=a.options.value}n={GreenHue:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_hue_phase&&(r.cm_hue_phase={name:o.cm_hue_phase.name,options:[{type:"dropdown",label:"Hue Phase",id:"val",choices:o.cm_hue_phase.choices,default:o.cm_hue_phase.default},{type:"number",label:"Value ("+o.cm_hue_phase.range.min+" to "+o.cm_hue_phase.range.max+")",id:"value",min:o.cm_hue_phase.range.min,max:o.cm_hue_phase.range.max,default:o.cm_hue_phase.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_hue_phase?this.camera.cm_hue_phase:o.cm_hue_phase.range.default,a.options.val){case"up":e=t<o.cm_hue_phase.range.max?++t:o.cm_hue_phase.range.max;break;case"down":e=t>o.cm_hue_phase.range.min?--t:o.cm_hue_phase.range.min;break;case"value":e=a.options.value}n={HuePhase:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_mag_gain&&(r.cm_mag_gain={name:o.cm_mag_gain.name,options:[{type:"dropdown",label:"Magenta Gain",id:"val",choices:o.cm_mag_gain.choices,default:o.cm_mag_gain.default},{type:"number",label:"Value ("+o.cm_mag_gain.range.min+" to "+o.cm_mag_gain.range.max+")",id:"value",min:o.cm_mag_gain.range.min,max:o.cm_mag_gain.range.max,default:o.cm_mag_gain.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_mag_gain?this.camera.cm_mag_gain:o.cm_mag_gain.range.default,a.options.val){case"up":e=t<o.cm_mag_gain.range.max?++t:o.cm_mag_gain.range.max;break;case"down":e=t>o.cm_mag_gain.range.min?--t:o.cm_mag_gain.range.min;break;case"value":e=a.options.value}n={MagGain:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_mag_hue&&(r.cm_mag_hue={name:o.cm_mag_hue.name,options:[{type:"dropdown",label:"Magenta Hue",id:"val",choices:o.cm_mag_hue.choices,default:o.cm_mag_hue.default},{type:"number",label:"Value ("+o.cm_mag_hue.range.min+" to "+o.cm_mag_hue.range.max+")",id:"value",min:o.cm_mag_hue.range.min,max:o.cm_mag_hue.range.max,default:o.cm_mag_hue.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_mag_hue?this.camera.cm_mag_hue:o.cm_mag_hue.range.default,a.options.val){case"up":e=t<o.cm_mag_hue.range.max?++t:o.cm_mag_hue.range.max;break;case"down":e=t>o.cm_mag_hue.range.min?--t:o.cm_mag_hue.range.min;break;case"value":e=a.options.value}n={MagHue:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_red_gain&&(r.cm_red_gain={name:o.cm_red_gain.name,options:[{type:"dropdown",label:"Red Gain",id:"val",choices:o.cm_red_gain.choices,default:o.cm_red_gain.default},{type:"number",label:"Value ("+o.cm_red_gain.range.min+" to "+o.cm_red_gain.range.max+")",id:"value",min:o.cm_red_gain.range.min,max:o.cm_red_gain.range.max,default:o.cm_red_gain.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_red_gain?this.camera.cm_red_gain:o.cm_red_gain.range.default,a.options.val){case"up":e=t<o.cm_red_gain.range.max?++t:o.cm_red_gain.range.max;break;case"down":e=t>o.cm_red_gain.range.min?--t:o.cm_red_gain.range.min;break;case"value":e=a.options.value}n={RedGain:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_red_hue&&(r.cm_red_hue={name:o.cm_red_hue.name,options:[{type:"dropdown",label:"Red Hue",id:"val",choices:o.cm_red_hue.choices,default:o.cm_red_hue.default},{type:"number",label:"Value ("+o.cm_red_hue.range.min+" to "+o.cm_red_hue.range.max+")",id:"value",min:o.cm_red_hue.range.min,max:o.cm_red_hue.range.max,default:o.cm_red_hue.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_red_hue?this.camera.cm_red_hue:o.cm_red_hue.range.default,a.options.val){case"up":e=t<o.cm_red_hue.range.max?++t:ODEL_ACTIONS.cm_red_hue.range.max;break;case"down":e=t>o.cm_red_hue.range.min?--t:ODEL_ACTIONS.cm_red_hue.range.min;break;case"value":e=a.options.value}n={RedHue:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_yellow_gain&&(r.cm_yellow_gain={name:o.cm_yellow_gain.name,options:[{type:"dropdown",label:"Yellow Gain",id:"val",choices:o.cm_yellow_gain.choices,default:o.cm_yellow_gain.default},{type:"number",label:"Value ("+o.cm_yellow_gain.range.min+" to "+o.cm_yellow_gain.range.max+")",id:"value",min:o.cm_yellow_gain.range.min,max:o.cm_yellow_gain.range.max,default:o.cm_yellow_gain.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_yellow_gain?this.camera.cm_yellow_gain:o.cm_yellow_gain.range.default,a.options.val){case"up":e=t<o.cm_yellow_gain.range.max?++t:o.cm_yellow_gain.range.max;break;case"down":e=t>o.cm_yellow_gain.range.min?--t:o.cm_yellow_gain.range.min;break;case"value":e=a.options.value}n={YellowGain:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_yellow_hue&&(r.cm_yellow_hue={name:o.cm_yellow_hue.name,options:[{type:"dropdown",label:"Yellow Hue",id:"val",choices:o.cm_yellow_hue.choices,default:o.cm_yellow_hue.default},{type:"number",label:"Value ("+o.cm_yellow_hue.range.min+" to "+o.cm_yellow_hue.range.max+")",id:"value",min:o.cm_yellow_hue.range.min,max:o.cm_yellow_hue.range.max,default:o.cm_yellow_hue.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_yellow_hue?this.camera.cm_yellow_hue:o.cm_yellow_hue.range.default,a.options.val){case"up":e=t<o.cm_yellow_hue.range.max?++t:o.cm_yellow_hue.range.max;break;case"down":e=t>o.cm_yellow_hue.range.min?--t:o.cm_yellow_hue.range.min;break;case"value":e=a.options.value}n={YellowHue:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.brightness&&(r.brightness={name:o.brightness.name,options:[{type:"dropdown",label:"Brightness",id:"val",choices:o.brightness.choices,default:o.brightness.default},{type:"number",label:"Value ("+o.brightness.range.min+" to "+o.brightness.range.max+")",id:"value",min:o.brightness.range.min,max:o.brightness.range.max,default:o.brightness.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.brightness?this.camera.brightness:o.brightness.range.default,a.options.val){case"up":e=t<o.brightness.range.max?++t:o.brightness.range.max;break;case"down":e=t>o.brightness.range.min?--t:o.brightness.range.min;break;case"value":e=a.options.value}n={Brightness:String(e)},this.sendCommand("birddogadvancesetup","POST",n)}}),o?.brightness_comp&&(r.brightness_comp={name:o.brightness_comp.name,options:[{type:"dropdown",label:"Mode",id:"val",choices:o.brightness_comp.choices,default:o.brightness_comp.default}],callback:e=>{n={BrightnessComp:String(e.options.val)},this.sendCommand("birddogadvancesetup","POST",n)}}),o?.comp_level&&(r.comp_level={name:o.comp_level.name,options:[{type:"dropdown",label:"Level",id:"val",choices:o.comp_level.choices,default:o.comp_level.default}],callback:e=>{n={CompLevel:String(e.options.val)},this.sendCommand("birddogadvancesetup","POST",n)}}),o?.gamma_offset&&(r.gamma_offset={name:o.gamma_offset.name,options:[{type:"dropdown",label:"Gamma Offset",id:"val",choices:o.gamma_offset.choices,default:o.gamma_offset.default},{type:"number",label:"Value ("+o.gamma_offset.range.min+" to "+o.gamma_offset.range.max+")",id:"value",min:o.gamma_offset.range.min,max:o.gamma_offset.range.max,default:o.gamma_offset.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.gamma_offset?this.camera.gamma_offset:o.gamma_offset.range.default,a.options.val){case"up":e=t<o.gamma_offset.range.max?++t:o.gamma_offset.range.max;break;case"down":e=t>o.gamma_offset.range.min?--t:o.gamma_offset.range.min;break;case"value":e=a.options.value}n={GammaOffset:String(e)},this.sendCommand("birddogadvancesetup","POST",n)}}),o?.high_resolution&&(r.high_resolution={name:o.high_resolution.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.high_resolution.choices,{id:"Toggle",label:"Toggle"}],default:o.high_resolution.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.high_resolution,o.high_resolution.choices)),n={HighResolution:String(t)},this.sendCommand("birddogadvancesetup","POST",n)}}),o?.video_enhancement&&(r.video_enhancement={name:o.video_enhancement.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.video_enhancement.choices,{id:"Toggle",label:"Toggle"}],default:o.video_enhancement.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.video_enhancement,o.video_enhancement.choices)),n={VideoEnhancement:String(t)},this.sendCommand("birddogadvancesetup","POST",n)}}),o?.aux&&(r.aux={name:o.aux.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.aux.choices,{id:"Toggle",label:"Toggle"}],default:o.aux.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.aux,o.aux.choices)),n={Aux:String(t)},this.sendCommand("birddogexternalsetup","POST",n)}}),o?.rain_wiper&&(r.rain_wiper={name:o.rain_wiper.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.rain_wiper.choices,{id:"Toggle",label:"Toggle"}],default:o.rain_wiper.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.rain_wiper,o.rain_wiper.choices)),n={RainWiper:String(t)},this.sendCommand("birddogexternalsetup","POST",n)}}),o?.v12vout&&(r.v12vout={name:o.v12vout.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.v12vout.choices,{id:"Toggle",label:"Toggle"}],default:o.v12vout.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.v12vout,o.v12vout.choices)),n={V12vOut:String(t)},this.sendCommand("birddogexternalsetup","POST",n)}}),o?.bandwidth&&(r.bandwidth={name:o.bandwidth.name,options:[{type:"dropdown",label:"Mode",id:"val",choices:o.bandwidth.choices,default:o.bandwidth.default}],callback:e=>{n={Bandwidth:String(e.options.val)},this.sendCommand("birddogdetsetup","POST",n)}}),o?.bw_balance&&(r.bw_balance={name:o.bw_balance.name,options:[{type:"dropdown",label:"Mode",id:"val",choices:o.bw_balance.choices,default:o.bw_balance.default}],callback:e=>{n={BwBandwidth:String(e.options.val)},this.sendCommand("birddogdetsetup","POST",n)}}),o?.crispening&&(r.crispening={name:o.crispening.name,options:[{type:"dropdown",label:"Crispening",id:"val",choices:o.crispening.choices,default:o.crispening.default},{type:"number",label:"Value ("+o.crispening.range.min+" to "+o.crispening.range.max+")",id:"value",min:o.crispening.range.min,max:o.crispening.range.max,default:o.crispening.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.crispening?this.camera.crispening:o.crispening.range.default,a.options.val){case"up":e=t<o.crispening.range.max?++t:o.crispening.range.max;break;case"down":e=t>o.crispening.range.min?--t:o.crispening.range.min;break;case"value":e=a.options.value}n={Crispening:String(e)},this.sendCommand("birddogdetsetup","POST",n)}}),o?.detail&&(r.detail={name:o.detail.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.detail.choices,{id:"Toggle",label:"Toggle"}],default:o.detail.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.detail,o.detail.choices)),n={Detail:String(t)},this.sendCommand("birddogdetsetup","POST",n)}}),o?.highlight_detail&&(r.highlight_detail={name:o.highlight_detail.name,options:[{type:"dropdown",label:"Highlight Detail",id:"val",choices:o.highlight_detail.choices,default:o.highlight_detail.default},{type:"number",label:"Value ("+o.highlight_detail.range.min+" to "+o.highlight_detail.range.max+")",id:"value",min:o.highlight_detail.range.min,max:o.highlight_detail.range.max,default:o.highlight_detail.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.highlight_detail?this.camera.highlight_detail:o.highlight_detail.range.default,a.options.val){case"up":e=t<o.highlight_detail.range.max?++t:o.highlight_detail.range.max;break;case"down":e=t>o.highlight_detail.range.min?--t:o.highlight_detail.range.min;break;case"value":e=a.options.value}n={HighlightDetail:String(e)},this.sendCommand("birddogdetsetup","POST",n)}}),o?.hv_balance&&(r.hv_balance={name:o.hv_balance.name,options:[{type:"dropdown",label:"Hv Balance",id:"val",choices:o.hv_balance.choices,default:o.hv_balance.default},{type:"number",label:"Value ("+o.hv_balance.range.min+" to "+o.hv_balance.range.max+")",id:"value",min:o.hv_balance.range.min,max:o.hv_balance.range.max,default:o.hv_balance.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.hv_balance?this.camera.hv_balance:o.hv_balance.range.default,a.options.val){case"up":e=t<o.hv_balance.range.max?++t:o.hv_balance.range.max;break;case"down":e=t>o.hv_balance.range.min?--t:o.hv_balance.range.min;break;case"value":e=a.options.value}n={HvBalance:String(e)},this.sendCommand("birddogdetsetup","POST",n)}}),o?.limit&&(r.limit={name:o.limit.name,options:[{type:"dropdown",label:"Limit",id:"val",choices:o.limit.choices,default:o.limit.default},{type:"number",label:"Value ("+o.limit.range.min+" to "+o.limit.range.max+")",id:"value",min:o.limit.range.min,max:o.limit.range.max,default:o.limit.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.limit?this.camera.limit:o.limit.range.default,a.options.val){case"up":e=t<o.limit.range.max?++t:o.limit.range.max;break;case"down":e=t>o.limit.range.min?--t:o.limit.range.min;break;case"value":e=a.options.value}n={Limit:String(e)},this.sendCommand("birddogdetsetup","POST",n)}}),o?.super_low&&(r.super_low={name:o.super_low.name,options:[{type:"dropdown",label:"Super Low",id:"val",choices:o.super_low.choices,default:o.super_low.default},{type:"number",label:"Value ("+o.super_low.range.min+" to "+o.super_low.range.max+")",id:"value",min:o.super_low.range.min,max:o.super_low.range.max,default:o.super_low.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.super_low?this.camera.super_low:o.super_low.range.default,a.options.val){case"up":e=t<o.super_low.range.max?++sucurrentValueper_low:o.super_low.range.max;break;case"down":e=t>o.super_low.range.min?--t:o.super_low.range.min;break;case"value":e=a.options.value}n={SuperLow:String(e)},this.sendCommand("birddogdetsetup","POST",n)}}),o?.black_gamma_level&&(r.black_gamma_level={name:o.black_gamma_level.name,options:[{type:"dropdown",label:"Black Gamma Level",id:"val",choices:o.black_gamma_level.choices,default:o.black_gamma_level.default},{type:"number",label:"Value ("+o.black_gamma_level.range.min+" to "+o.black_gamma_level.range.max+")",id:"value",min:o.black_gamma_level.range.min,max:o.black_gamma_level.range.max,default:o.black_gamma_level.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.black_gamma_level?this.camera.black_gamma_level:o.black_gamma_level.range.default,a.options.val){case"up":e=t<o.black_gamma_level.range.max?++t:o.black_gamma_level.range.max;break;case"down":e=t>o.black_gamma_level.range.max?--t:o.black_gamma_level.range.min;break;case"value":e=a.options.value}n={BlackGammaLevel:String(e)},this.sendCommand("birddoggammasetup","POST",n)}}),o?.black_level&&(r.black_level={name:o.black_level.name,options:[{type:"dropdown",label:"Black Level",id:"val",choices:o.black_level.choices,default:o.black_level.default},{type:"number",label:"Value ("+o.black_level.range.min+" to "+o.black_level.range.max+")",id:"value",min:o.black_level.range.min,max:o.black_level.range.max,default:o.black_level.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.black_level?this.camera.black_level:o.black_level.range.default,a.options.val){case"up":e=t<o.black_level.range.max?++t:o.black_level.range.max;break;case"down":e=t>o.black_level.range.max?--t:o.black_level.range.min;break;case"value":e=a.options.value}n={BlackLevel:String(e)},this.sendCommand("birddoggammasetup","POST",n)}}),o?.black_level_range&&(r.black_level_range={name:o.black_level_range.name,options:[{type:"dropdown",label:"Black Level Range",id:"val",choices:o.black_level_range.choices,default:o.black_level_range.default}],callback:e=>{n={BlackLevelRange:String(e.options.val)},this.sendCommand("birddoggammasetup","POST",n)}}),o?.effect&&(r.effect={name:o.effect.name,options:[{type:"dropdown",label:"Effect",id:"val",choices:o.effect.choices,default:o.effect.default},{type:"number",label:"Value ("+o.effect.range.min+" to "+o.effect.range.max+")",id:"value",min:o.effect.range.min,max:o.effect.range.max,default:o.effect.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.effect?this.camera.effect:o.effect.range.default,a.options.val){case"up":e=t<o.effect.range.max?++t:o.effect.range.max;break;case"down":e=t>o.effect.range.max?--t:o.effect.range.min;break;case"value":e=a.options.value}n={Effect:String(e)},this.sendCommand("birddoggammasetup","POST",n)}}),o?.level&&(r.level={name:o.level.name,options:[{type:"dropdown",label:"Level",id:"val",choices:o.level.choices,default:o.level.default},{type:"number",label:"Value ("+o.level.range.min+" to "+o.level.range.max+")",id:"value",min:o.level.range.min,max:o.level.range.max,default:o.level.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.level?this.camera.level:o.level.range.default,a.options.val){case"up":e=t<o.level.range.max?++t:o.level.range.max;break;case"down":e=t>o.level.range.max?--t:o.level.range.min;break;case"value":e=a.options.value}n={Level:String(e)},this.sendCommand("birddoggammasetup","POST",n)}}),o?.offset&&(r.offset={name:o.offset.name,options:[{type:"dropdown",label:"Offset",id:"val",choices:o.offset.choices,default:o.offset.default},{type:"number",label:"Value ("+o.offset.range.min+" to "+o.offset.range.max+")",id:"value",min:o.offset.range.min,max:o.offset.range.max,default:o.offset.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.offset?this.camera.offset:o.offset.range.default,a.options.val){case"up":e=t<o.offset.range.max?++t:o.offset.range.max;break;case"down":e=t>o.offset.range.max?--t:o.offset.range.min;break;case"value":e=a.options.value}n={Offset:String(e)},this.sendCommand("birddoggammasetup","POST",n)}}),o?.pattern&&(r.pattern={name:o.pattern.name,options:[{type:"dropdown",label:"Pattern",id:"val",choices:o.pattern.choices,default:o.pattern.default},{type:"number",label:"Value ("+o.pattern.range.min+" to "+o.pattern.range.max+")",id:"value",min:o.pattern.range.min,max:o.pattern.range.max,default:o.pattern.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.pattern?this.camera.pattern:o.pattern.range.default,a.options.val){case"up":e=t<o.pattern.range.max?++t:o.pattern.range.max;break;case"down":e=t>o.pattern.range.max?--t:o.pattern.range.min;break;case"value":e=a.options.value}n={Pattern:String(e)},this.sendCommand("birddoggammasetup","POST",n)}}),o?.pattern_fine&&(r.pattern_fine={name:o.pattern_fine.name,options:[{type:"dropdown",label:"Pattern Fine",id:"val",choices:o.pattern_fine.choices,default:o.pattern_fine.default},{type:"number",label:"Value ("+o.pattern_fine.range.min+" to "+o.pattern_fine.range.max+")",id:"value",min:o.pattern_fine.range.min,max:o.pattern_fine.range.max,default:o.pattern_fine.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.pattern_fine?this.camera.pattern_fine:o.pattern_fine.range.default,a.options.val){case"up":e=t<o.pattern_fine.range.max?++t:o.pattern_fine.range.max;break;case"down":e=t>o.pattern_fine.range.max?--t:o.pattern_fine.range.min;break;case"value":e=a.options.value}n={PatternFine:String(e)},this.sendCommand("birddoggammasetup","POST",n)}}),o?.settings&&(r.settings={name:o.settings.name,options:[{type:"dropdown",label:"Settings",id:"val",choices:o.settings.choices,default:o.settings.default}],callback:e=>{n={Settings:String(e.options.val)},this.sendCommand("birddoggammasetup","POST",n)}}),o?.visibility_enhancer&&(r.visibility_enhancer={name:o.visibility_enhancer.name,options:[{type:"dropdown",label:"Settings",id:"val",choices:[...o.visibility_enhancer.choices,{id:"Toggle",label:"Toggle"}],default:o.visibility_enhancer.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.visibility_enhancer,o.visibility_enhancer.choices)),n={VisibilityEnhancer:String(t)},this.sendCommand("birddoggammasetup","POST",n)}}),o?.scope_gamma_gain&&(r.scope_gamma_gain={name:o.scope_gamma_gain.name,options:[{type:"dropdown",label:"Gamma Gain",id:"val",choices:o.scope_gamma_gain.choices,default:o.scope_gamma_gain.default},{type:"number",label:"Value ("+o.scope_gamma_gain.range.min+" to "+o.scope_gamma_gain.range.max+")",id:"value",min:o.scope_gamma_gain.range.min,max:o.scope_gamma_gain.range.max,default:o.scope_gamma_gain.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.scope_gamma_gain?this.camera.scope_gamma_gain:o.scope_gamma_gain.range.default,a.options.val){case"up":e=t<o.scope_gamma_gain.range.max?++t:o.scope_gamma_gain.range.max;break;case"down":e=t>o.scope_gamma_gain.range.min?--t:o.scope_gamma_gain.range.min;break;case"value":e=a.options.value}n={GammaGain:String(e)},this.sendCommand("birddogscope","POST",n)}}),o?.scope_mode&&(r.scope_mode={name:o.scope_mode.name,options:[{type:"dropdown",label:"Mode",id:"val",choices:o.scope_mode.choices,default:o.scope_mode.default}],callback:e=>{n={Mode:String(e.options.val)},this.sendCommand("birddogscope","POST",n)}}),o?.scope_position&&(r.scope_position={name:o.scope_position.name,options:[{type:"dropdown",label:"Position",id:"val",choices:o.scope_position.choices,default:o.scope_position.default}],callback:e=>{n={Position:String(e.options.val)},this.sendCommand("birddogscope","POST",n)}}),o?.scope_preview&&(r.scope_preview={name:o.scope_preview.name,options:[{type:"dropdown",label:"On/Off",id:"val",choices:[...o.scope_preview.choices,{id:"Toggle",label:"Toggle"}],default:o.scope_preview.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.scope_preview,o.scope_preview.choices)),n={PreviewEnable:String(t)},this.sendCommand("birddogscope","POST",n)}}),o?.scope_program&&(r.scope_program={name:o.scope_program.name,options:[{type:"dropdown",label:"On/Off",id:"val",choices:[...o.scope_program.choices,{id:"Toggle",label:"Toggle"}],default:o.scope_program.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.scope_program,o.scope_program.choices)),n={ProgramEnable:String(t)},this.sendCommand("birddogscope","POST",n)}}),o?.scope_size&&(r.scope_size={name:o.scope_size.name,options:[{type:"dropdown",label:"Small/Large",id:"val",choices:[...o.scope_size.choices,{id:"Toggle",label:"Toggle"}],default:o.scope_size.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.scope_size,o.scope_size.choices)),n={DoubleSizeEnable:String(t)},this.sendCommand("birddogscope","POST",n)}}),o?.scope_transparency&&(r.scope_transparency={name:o.scope_transparency.name,options:[{type:"dropdown",label:"On/Off",id:"val",choices:[...o.scope_transparency.choices,{id:"Toggle",label:"Toggle"}],default:o.scope_transparency.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.scope_transparency,o.scope_transparency.choices)),n={TransparencyEnable:String(t)},this.sendCommand("birddogscope","POST",n)}}),r.custom={name:o.custom.name,options:[{type:"textinput",label:"Custom command, must start with 8",id:"custom",regex:"/^8[0-9a-fA-F]\\s*([0-9a-fA-F]\\s*)+$/",width:6}],callback:e=>{let t=e.options.custom.replace(/\s+/g,""),n=Buffer.from(t,"hex");a=n.toString("binary"),128==(240&n[0])?this.sendVISCACommand(a):this.log("error",'Error, command "'+e.options.custom+'" does not start with 8')}},o?.defog&&(r.defog={name:"VISCA - Defog",options:[{type:"dropdown",label:"On / Off",id:"val",choices:[{id:"0",label:"Off"},{id:"1",label:"low"},{id:"2",label:"mid"},{id:"3",label:"high"}],default:"0"}],callback:e=>{switch(e.options.val){case"0":case"3":a=w+"7ÿ";break;case"1":a=w+"7ÿ";break;case"2":a=w+"7ÿ"}this.sendVISCACommand(a)}}),o?.hrMode&&(r.hrMode={name:"VISCA - High Resolution Mode",options:[{type:"dropdown",label:"On / Off",id:"val",choices:b.ON_OFF,default:"On"}],callback:e=>{switch(e.options.val){case"On":a=w+"Rÿ";break;case"Off":a=w+"Rÿ"}this.sendVISCACommand(a)}}),Object.fromEntries(Object.entries(r).sort(u))}function P(){const e=(0,n.combineRgb)(255,255,255),t=(0,n.combineRgb)(0,0,0),a=((0,n.combineRgb)(255,0,0),(0,n.combineRgb)(0,255,0));(0,n.combineRgb)(255,102,0);let o=m(v,this.camera.firmware.major,this.camera.model),r=p(v,this.camera.firmware.major,this.camera.model),i={};if(r.some((e=>"firmware"===e.name))&&(i.firmware={type:"button",category:"General Camera",name:"Firmware",options:{},style:{text:"FW\\n$(birddog-ptz:firmware)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),r.some((e=>"model"===e.name))&&(i.model={type:"button",category:"General Camera",name:"Model",options:{},style:{text:"Model\\n$(birddog-ptz:model)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),r.some((e=>"hostname"===e.name))&&(i.hostname={type:"button",category:"General Camera",name:"Hostname",options:{},style:{text:"Hostname\\n$(birddog-ptz:hostname)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),r.some((e=>"ipaddress"===e.name))&&(i.ipaddress={type:"button",category:"General Camera",name:"IP Address",options:{},style:{text:"IP Address\\n$(birddog-ptz:ipaddress)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),r.some((e=>"netmask"===e.name))&&(i.netmask={type:"button",category:"General Camera",name:"Netmask",options:{},style:{text:"Netmask\\n$(birddog-ptz:netmask)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),r.some((e=>"network_config"===e.name))&&(i.network_config={type:"button",category:"General Camera",name:"Network Config",options:{},style:{text:"Network Config\\n$(birddog-ptz:network_config)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),r.some((e=>"serial_number"===e.name))&&(i.serial_number={type:"button",category:"General Camera",name:"Serial Number",options:{},style:{text:"SN\\n$(birddog-ptz:serial_number)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),r.some((e=>"status"===e.name))&&(i.status={type:"button",category:"General Camera",name:"Status",options:{},style:{text:"Status\\n$(birddog-ptz:status)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),o?.standby&&(i.standby={type:"button",category:"VISCA Actions",name:"Standby",options:{},style:{text:"Cam Standby",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"standby",options:{val:"standby"}}],up:[]}],feedbacks:[{feedbackId:"standby_status",options:{val:"standby"},style:{color:t,bgcolor:a}}]},i.camOn={type:"button",category:"VISCA Actions",name:"Cam On",options:{},style:{text:"Cam On",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"standby",options:{val:"on"}}],up:[]}],feedbacks:[{feedbackId:"standby_status",options:{val:"on"},style:{color:t,bgcolor:a}}]}),o?.freeze&&(i.freeze={type:"button",category:"VISCA Actions",name:"Freeze",options:{},style:{text:"Freeze\\n$(birddog-ptz:freeze)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"freeze",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"freeze_status",options:{val:o.freeze.default},style:{color:t,bgcolor:a}}]}),o?.analogAudioInGain&&(i.analogAudioInGainUp={type:"button",category:"Analog Audio",name:"Analog Audio In Gain Up",options:{},style:{text:"⯅\\nAudio In\\nGain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"analogAudioInGain",options:{val:"up"}}],up:[]}],feedbacks:[]},i.analogAudioInGainDown={type:"button",category:"Analog Audio",name:"Analog Audio In Gain Down",options:{},style:{text:"$(birddog-ptz:audio_in_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"analogAudioInGain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.analogAudioOutGain&&(i.analogAudioOutGainUp={type:"button",category:"Analog Audio",name:"Analog Audio Out Gain Up",options:{},style:{text:"⯅\\nAudio Out\\nGain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"analogAudioOutGain",options:{val:"up"}}],up:[]}],feedbacks:[]},i.analogAudioOutGainDown={type:"button",category:"Analog Audio",name:"Analog Audio Out Gain Down",options:{},style:{text:"$(birddog-ptz:audio_out_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"analogAudioOutGain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.analogAudioOutput&&(i.analogAudioOutput={type:"button",category:"Analog Audio",name:"Analog Audio Output",options:{},style:{text:"Audio Output\\n$(birddog-ptz:audio_output)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"analogAudioOutput",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"analogAudioOutput",options:{val:o.analogAudioOutput.default},style:{color:t,bgcolor:a}}]}),r.some((e=>"oled"===e.name))&&(i.oled={type:"button",category:"Device Settings",name:"OLED",options:{},style:{text:"OLED\\n$(birddog-ptz:oled)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),o?.video_output&&(i.video_output={type:"button",category:"Video Output",name:"Video Output",options:{},style:{text:"Video Output\\n\\n$(birddog-ptz:video_output)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"video_output",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"video_output",options:{val:o.video_output.default},style:{color:t,bgcolor:a}}]}),o?.bandwidth_mode&&(i.bandwidth_mode={type:"button",category:"Encode Setup",name:"Bandwidth Mode",options:{},style:{text:"BW Mode\\n$(birddog-ptz:bandwidth_mode)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"bandwidth_mode",options:{val:o.bandwidth_mode.default}}],up:[]}],feedbacks:[{feedbackId:"bandwidth_mode",options:{val:o.bandwidth_mode.default},style:{color:t,bgcolor:a}}]}),r.some((e=>"bandwidth_select"===e.name))&&(i.bandwidth_select={type:"button",category:"Encode Setup",name:"BW Select",options:{},style:{text:"NDI BW\\n$(birddog-ptz:bandwidth_select)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),r.some((e=>"color_bitdepth"===e.name))&&(i.color_bitdepth={type:"button",category:"Encode Setup",name:"Color Bitdepth",options:{},style:{text:"Color Bitdepth\\n$(birddog-ptz:color_bitdepth)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),o?.ndiAudio&&(i.ndiAudio={type:"button",category:"Encode Setup",name:"NDI Audio",options:{},style:{text:"NDI Audio\\n$(birddog-ptz:ndi_audio)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"ndiAudio",options:{val:o.ndiAudio.default}}],up:[]}],feedbacks:[{feedbackId:"ndiAudio",options:{val:o.ndiAudio.default},style:{color:t,bgcolor:a}}]}),o?.ndiGroupEnable&&(i.ndiGroupEnable={type:"button",category:"Encode Setup",name:"NDI Group",options:{},style:{text:"NDI Group\\n$(birddog-ptz:ndi_group)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"ndiGroupEnable",options:{val:o.ndiGroupEnable.default}}],up:[]}],feedbacks:[{feedbackId:"ndiGroupEnable",options:{val:o.ndiGroupEnable.default},style:{color:t,bgcolor:a}}]}),r.some((e=>"ndi_group_name"===e.name))&&(i.ndi_group_name={type:"button",category:"Encode Setup",name:"NDI Group Name",options:{},style:{text:"NDI Group Name\\n$(birddog-ptz:ndi_group_name)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),o?.screensaver_mode&&(i.screensaver_mode={type:"button",category:"Encode Setup",name:"Screensaver Mode ",options:{},style:{text:"SS Mode\\n$(birddog-ptz:screensaver_mode)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"screensaver_mode",options:{val:o.screensaver_mode.default}}],up:[]}],feedbacks:[{feedbackId:"screensaver_mode",options:{val:o.screensaver_mode.default},style:{color:t,bgcolor:a}}]}),r.some((e=>"stream_name"===e.name))&&(i.stream_name={type:"button",category:"Encode Setup",name:"Stream Name",options:{},style:{text:"Stream Name\\n$(birddog-ptz:stream_name)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),o?.stream_to_network&&(i.stream_to_network={type:"button",category:"Encode Setup",name:"Stream to Network ",options:{},style:{text:"Stream to Network\\n$(birddog-ptz:stream_to_network)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"stream_to_network",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"stream_to_network",options:{val:o.stream_to_network.default},style:{color:t,bgcolor:a}}]}),o?.tally_mode&&(i.tally_mode={type:"button",category:"Encode Setup",name:"Tally Mode",options:{},style:{text:"Tally Mode\\n$(birddog-ptz:tally_mode)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"tally_mode",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"tally_mode",options:{val:o.tally_mode.default},style:{color:t,bgcolor:a}}]}),r.some((e=>"video_csc"===e.name))&&(i.video_csc={type:"button",category:"Encode Setup",name:"Video CSC",options:{},style:{text:"VideoCSC\\n$(birddog-ptz:video_csc)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),r.some((e=>"video_format"===e.name))&&(i.video_format={type:"button",category:"Encode Setup",name:"Video Format",options:{},style:{text:"Video Format\\n$(birddog-ptz:video_format)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),r.some((e=>"video_sample_rate"===e.name))&&(i.video_sample_rate={type:"button",category:"Encode Setup",name:"Video Sample Rate",options:{},style:{text:"Video Sample Rate\\n$(birddog-ptz:video_sample_rate)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),o?.transmit_method&&(i.transmit_method={type:"button",category:"Encode Transport",name:"Transmit Method",options:{},style:{text:"TX Method\\n$(birddog-ptz:transmit_method)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"transmit_method",options:{val:o.transmit_method.default}}],up:[]}],feedbacks:[{feedbackId:"transmit_method",options:{val:o.transmit_method.default},style:{color:t,bgcolor:a}}]}),r.some((e=>"transmit_netprefix"===e.name))&&(i.transmit_netprefix={type:"button",category:"Encode Transport",name:"Multicast Net Prefix",options:{},style:{text:"Multicast\\nNet Prefix\\n$(birddog-ptz:transmit_netprefix)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),r.some((e=>"transmit_netmask"===e.name))&&(i.transmit_netmask={type:"button",category:"Encode Transport",name:"Multicast Netmask",options:{},style:{text:"Multicast\\nNetmask\\n$(birddog-ptz:transmit_netmask)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),r.some((e=>"transmit_ttl"===e.name))&&(i.transmit_ttl={type:"button",category:"Encode Transport",name:"Multicast TTL",options:{},style:{text:"Multicast\\nTTL\\n$(birddog-ptz:transmit_ttl)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),o?.capture_screensaver&&(i.capture_screensaver={type:"button",category:"Encode Transport",name:"Capture Screensaver",options:{},style:{text:"Capture Screensaver",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"capture_screensaver"}],up:[]}],feedbacks:[]}),o?.ndi_discovery_server&&(i.ndi_discovery_server={type:"button",category:"NDI Discovery",name:"NDI Discovery Server",options:{},style:{text:"NDI Discovery\\nServer\\n$(birddog-ptz:ndi_discovery_server)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"ndi_discovery_server",options:{val:o.ndi_discovery_server.default}}],up:[]}],feedbacks:[{feedbackId:"ndi_discovery_server",options:{val:o.ndi_discovery_server.default},style:{color:t,bgcolor:a}}]}),r.some((e=>"ndi_discovery_server_ip"===e.name))&&(i.ndi_discovery_server_ip={type:"button",category:"NDI Discovery",name:"NDI Discovery Server IP",options:{},style:{text:"NDI Discovery\\nServer IP\\n$(birddog-ptz:ndi_discovery_server_ip)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),r.some((e=>"freed"===e.name))&&(i.freed={type:"button",category:"FreeD",name:"FreeD",options:{},style:{text:"FreeD\\n$(birddog-ptz:freed)",size:"auto",color:e,bgcolor:t}}),r.some((e=>"freed_ip_address"===e.name))&&(i.freed_ip_address={type:"button",category:"FreeD",name:"FreeD IP Address",options:{},style:{text:"FreeD\\nIP Address\\n$(birddog-ptz:freed_ip_address)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),r.some((e=>"freed_port"===e.name))&&(i.freed_port={type:"button",category:"FreeD",name:"FreeD Port",options:{},style:{text:"FreeD\\nPort\\n$(birddog-ptz:freed_port)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),o?.pt&&(i.ptUp={type:"button",category:"Camera Control",name:"UP",options:{},style:{text:"",png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6AQMAAAApyY3OAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAAABlBMVEUAAAD///+l2Z/dAAAAAXRSTlMAQObYZgAAAIFJREFUKM+90EEKgzAQRmFDFy49ghcp5FquVPBighcRegHBjWDJ68D8U6F7m00+EnhkUlW3ru6rdyCV0INQzSg1zFLLKmU2aeCQQMEEJXIQORRsTLNyKJhNm3IoaPBg4mQorp2Mh1+00kKN307o/bZrpt5O/FlPU/c75X91/fPd6wPRD1eHyHEL4wAAAABJRU5ErkJggg==",pngalignment:"center:center",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pt",options:{val:"up",posPan:"0000",posTilt:"0000",override:!1,panSpeed:9,tiltSpeed:9}}],up:[{actionId:"pt",options:{val:"stop"}}]}],feedbacks:[]},i.ptDown={type:"button",category:"Camera Control",name:"DOWN",options:{},style:{text:"",png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6AQMAAAApyY3OAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAAABlBMVEUAAAD///+l2Z/dAAAAAXRSTlMAQObYZgAAAIlJREFUKM/F0DEOwyAMBVAjDxk5Qo7CtdiClIv1KJF6gUpZIhXxY2zTDJ2benoS8LFN9MsKbYjxF2XRS1UZ4bCeGFztFmNqphURpidm146kpwFvLDYJpPQtLSLNoySyP2bRpoqih2oSFW8K3lYAxmJGXA88XMnjeuDmih7XA8vXvNeeqX6U6aY6AacbWAQNWOPUAAAAAElFTkSuQmCC",pngalignment:"center:center",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pt",options:{val:"down",posPan:"0000",posTilt:"0000",override:!1,panSpeed:9,tiltSpeed:9}}],up:[{actionId:"pt",options:{val:"stop"}}]}],feedbacks:[]},i.ptLeft={type:"button",category:"Camera Control",name:"LEFT",options:{},style:{text:"",png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6AQMAAAApyY3OAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAAABlBMVEUAAAD///+l2Z/dAAAAAXRSTlMAQObYZgAAAHpJREFUKM+1kTEOgCAQBM9Q2JjwA/mJPA2fxlN4giWF8TRBBhMpbKSaZie3i8gPb4Y8FNZKGm8YIAONkNWacIruQLejy+gyug1dQhfRqZa0v6gYA6QfqSWapZnto1B6XdUuFaVHoJunr2MD21nIdJYUEhLYfoGmP777BKKIXC0eYSD5AAAAAElFTkSuQmCC",pngalignment:"center:center",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pt",options:{val:"left",posPan:"0000",posTilt:"0000",override:!1,panSpeed:9,tiltSpeed:9}}],up:[{actionId:"pt",options:{val:"stop"}}]}],feedbacks:[]},i.ptRight={type:"button",category:"Camera Control",name:"RIGHT",options:{},style:{text:"",png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6AQMAAAApyY3OAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAAABlBMVEUAAAD///+l2Z/dAAAAAXRSTlMAQObYZgAAAHhJREFUKM+10LERgCAMQFE4CktHcBRWcRMYzVEcwdKCI+od+fGksVCq3/AuiXOfvZnaNXzRClVrEKtMLdSqP2RTRQAFMAFGwAlw7MAk0sAzGnhVoerLKg/F5Pv4NoFNZZNGpk9sxJYeLsDdL5T7S8IFOM/R3OZ+fQeQZV9pMy+bVgAAAABJRU5ErkJggg==",pngalignment:"center:center",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pt",options:{val:"right",posPan:"0000",posTilt:"0000",override:!1,panSpeed:9,tiltSpeed:9}}],up:[{actionId:"pt",options:{val:"stop"}}]}],feedbacks:[]},i.ptUpRight={type:"button",category:"Camera Control",name:"UP RIGHT",options:{},style:{text:"",png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAMAAAAk2e+/AAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAABhlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+X02G5AAAAgXRSTlMAAte32QZhZx7d+TywDTf8/d5VstYPOxULNvKmSY8TFBrxyeGCluJeELQ5uw7ULND4BedlKuv2P/vDA8UgCk30WO41s8+5X8dABAz6QhHVaR156JpPnihSfTJDNOMBm4bzSICqr23NsRjcGRbtjTCS2lzsOmyu9+WLKb2fTL8+RPDhqO4yAAABfElEQVRYw+3WZW/CUBQG4AO0FBsOwwcMm7sLc3d3d3e388/HGGs7lpD0tsm+9P3S5CT3SdPec+8BkCNHzv9FAVAAEABYdQDkA7jo9GNUIDMBzstb5vr0/Gx8Z35zOjI36R2xbu+619eWa2xCoK0FClF5h1cWxDHEwilEOyLlQc8hokoAlMRcESBh7siQlJBWKkijNaHuPrWBED9iYiDQ7Pv1D4Z4/DXyFo2JgeAghQEkEgAvT6IgNo/PIUmgd62oj80mqEIpINoXRkmg2j2UBDIWVXKLTSXEUIOF/xbV5aRQsJvvUOoqMqjZZ+c7FcX8ThYCtTbxHV0fkEGDA73D3Dpzi/6rWEYAdSn579PZ/t3IBJChkef0dLRlHXdkJ6TSmSnmiYPq1LQIiGHX9BvZYinJ7/+R6q1czUG0j9KSOTxDc6UhshZhMIQrS78mncwZtzErrNcYL6V2Zd0tJ6i7QFtAYPcvHv25W6J+/Y3BrRA/x6WGuGN5mpUjhyyfsGtrpKE95HoAAAAASUVORK5CYII=",pngalignment:"center:center",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pt",options:{val:"up_right",posPan:"0000",posTilt:"0000",override:!1,panSpeed:9,tiltSpeed:9}}],up:[{actionId:"pt",options:{val:"stop"}}]}],feedbacks:[]},i.ptUpLeft={type:"button",category:"Camera Control",name:"UP LEFT",options:{},style:{text:"",png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAMAAAAk2e+/AAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAABLFBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9PVkEkAAAAY3RSTlMAAQ/6Uc0OEAvHTzL7TcudsMHvdwnfUwMcG8UGiIfTrIkg9QI+/ZTDe460km73LNovCo1vQUuR4Lwk45/OK+3UERTkekziZlSK8QQnoOsFaaXmLqOylvPZLYDRZTUWUpiTDfAuEmiSAAABUklEQVRYw+3WZ2+DMBAG4EtTygrQ7NHsJt1777333vv+/38o6gIMSo0dqf3AK1lIZ/mRjPEJgCBBgvxtQr8WqDKbCiWUG1AnYXU7C7UJqKQSR5oKQwqIPphsYW24nEPjJCYXilf9F+G+qeTmThTP5w8X8gK9NLqOGMGPhD8fdXtBkGihlmlsmF5aqK2xg9FmQe3/DupuEhTpoT41z/V1HVHfxWRRo/6ORBfyjILx9mRo+2MDlS3ggF5q4uP9qzmVNjfOA+EDdDLcWA8IW6FJEJPkCbFI3hCDZEFVPsmC7mQuyYJ0iUuyIAG4JDvEJTkgHskJcUgExC6RECmxQ4REDa24ILsU6wL/rfYHskmX9C87Pfi9aA5cUmnRx/kffDmncSCkat7X342KSzOIuesNR1WSl7GU8Xfbbs9Gyoo0TvRp6Tie8d2TOsyx51UMEiQIS94B13oTqqYgGGoAAAAASUVORK5CYII=",pngalignment:"center:center",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pt",options:{val:"up_left",posPan:"0000",posTilt:"0000",override:!1,panSpeed:9,tiltSpeed:9}}],up:[{actionId:"pt",options:{val:"stop"}}]}],feedbacks:[]},i.ptDownLeft={type:"button",category:"Camera Control",name:"DOWN LEFT",options:{},style:{text:"",png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAMAAAAk2e+/AAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAABg1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8aT76cAAAAgHRSTlMAafwJfflezc+3WA7Z5Rk6PAvpBNE73kJT89QxZ48czNIv9A1DnI3qKQUaymjT4a7HdVuGf85LR20CVHr+tLBlA0GvYSTYZEnbAcazNPX4yB4GrAgnmL6Bcj4qIVKIe8kdVadIEe27B90bOG/3Er1rYJq1wibyh+4Q5CMzRllMXDo5euMAAAGfSURBVFjD7dblUwJBGAbw5aSlBJRGQERBkLC7u7u7u7veP90jDnaEcdhjP+k9X5h9Zu43O7PLe4eQECH/KGsIaUooOEcLK75LpehH628idSrE+nMANfyQ3MY2BRm0C6mM462tUwJAJtVyUB1WmsoSFZEk46D6TBcYS3UKPpCYawxD5VxHImVD/RHIxMQbGintkGQcppkcOkuutQPYfkDfmjck556ZTSydve2YY5UWk0Mww672VPh+XFqCU8tA+whtL+KOpa+bF3Rh8B4ymDNaSnSzG9IPIpsL34/HTPZfS58auMPYuYNMWcQXOsD3U9ZDOkZkkCvqwSIqUI2WfEDmgiQxRANiIp8GKtDLO6/Znw19oOdXhKoROtEUBr1F5Y9f4dt1XygqKgh6YqcHwMQkQBWICr1H6czTgrpoQde0IGnekJEWNEwLMv/GPDDB/M/fDioVeLYA5GqoYt+xNRY4toJkCiBUG7vTEVxJu2Z549RbqXQuba7uVDZWO66mgw6d7kYaEPvvCb+REIp/srGzLP4aa0n8zKFkKUSIkD+Qb9QrYMvxAbaBAAAAAElFTkSuQmCC",pngalignment:"center:center",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pt",options:{val:"down_left",posPan:"0000",posTilt:"0000",override:!1,panSpeed:9,tiltSpeed:9}}],up:[{actionId:"pt",options:{val:"stop"}}]}],feedbacks:[]},i.ptDownRight={type:"button",category:"Camera Control",name:"DOWN RIGHT",options:{},style:{text:"",png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAMAAAAk2e+/AAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAABXFBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9jYfXuAAAAc3RSTlMAQ98Ox1j9gAtRNTqBPfgu9p/MTQ+G1Qfx7Y0VBYyJgjkGd3ysU+Zz1IQvMM20PgwBp8Mi4TSUiDvlPxylsaF2WfcjJh0S+wLzQLmY4l/ovX3ra1rPLAOSKa4RUEvgcZwbFHqPzodGbX7qPMvCtsEq1laguT+HEwAAAVlJREFUWMPt1sduwkAQgOGxDfFCIITe0nvvvZHee++992TeX4pJQIC9hPWaQ6T41x6skfY7WGPJAGZm/6qgZjIH4AMgOp2Lq32batTkdW/trPt9+qC70DVmSKS2BXF7A1fX9DDnN2FUSpe8y5hID3SZuJMmrcwmoSFm5vD0BDWSNTnCUmZoD1PZtJCDGfIgRUpBMjPkR4rEAwUtFIkHAkKRuCCaxAdRJE5IK/FCGumWF1JLEW5ILfFD2ST9UBaJA6JLPBCQ57xAJcp5NQbtSgBReJSsH8QI5No8ODo+u397ecL3T35IGhcRA4jig8E9qmjAX2OGnAV5ggrxr0ELOaByVmg6B1TGvEYyTvxcKUaMv/ii7xN/VAZYY2dfSHkkPOYY7Kpf7OmLzLfGPIFGd6izWrRUjdYt9Xfo+ULsLpgRKqGtGyadAEIUmnuhXSAwMAXD5j+omZlZRl+X30CWTm2dHwAAAABJRU5ErkJggg==",pngalignment:"center:center",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pt",options:{val:"down_right",posPan:"0000",posTilt:"0000",override:!1,panSpeed:9,tiltSpeed:9}}],up:[{actionId:"pt",options:{val:"stop"}}]}],feedbacks:[]},i.ptHome={type:"button",category:"Camera Control",name:"Home",options:{},style:{text:"HOME",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pt",options:{val:"home",posPan:"0000",posTilt:"0000",override:!1,panSpeed:9,tiltSpeed:9}}],up:[]}],feedbacks:[]}),o?.panSpeed&&(i.panSpeedUp={type:"button",category:"Camera Control",name:"Pan Speed Up",options:{},style:{text:"⯅\\nPan Speed",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"panSpeed",options:{type:"up"}}],up:[]}],feedbacks:[]},i.panSpeedDown={type:"button",category:"Camera Control",name:"Pan Speed Down",options:{},style:{text:"$(birddog-ptz:pan_speed)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"panSpeed",options:{type:"down"}}],up:[]}],feedbacks:[]}),o?.preset&&(i.presetMode={type:"button",category:"Preset",name:"Preset Mode",options:{},style:{text:"Preset $(birddog-ptz:preset)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"preset",options:{val:o.preset.default}}],up:[]}],feedbacks:[]}),o?.preset_speed&&(i.preset_speedUp={type:"button",category:"Preset",name:"Preset Speed Up",options:{},style:{text:"⯅\\nPreset Speed",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"preset_speed",options:{type:"up"}}],up:[]}],feedbacks:[]},i.preset_speedDown={type:"button",category:"Preset",name:"Preset Speed Down",options:{},style:{text:"$(birddog-ptz:preset_speed)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"preset_speed",options:{type:"down"}}],up:[]}],feedbacks:[]}),o?.recallPset){let a;for(a=1;a<10;a++)i[`recallPset_${a}`]={type:"button",category:"Preset",label:"Recall Preset "+parseInt(a),style:{text:"Recall\\nPreset\\n"+parseInt(a),size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"recallPset",options:{val:parseInt(a)}}],up:[]}],feedbacks:[]}}if(o?.savePset){let a;for(a=1;a<10;a++)i[`savePset${a}`]={type:"button",category:"Preset",label:"Save Preset "+parseInt(a),style:{text:"Save\\nPreset\\n"+parseInt(a),size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"savePset",options:{val:parseInt(a)}}],up:[]}],feedbacks:[]}}return o?.tiltSpeed&&(i.tiltSpeedUp={type:"button",category:"Camera Control",name:"Tilt Speed Up",options:{},style:{text:"⯅\\nTilt Speed",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"tiltSpeed",options:{type:"up"}}],up:[]}],feedbacks:[]},i.tiltSpeedDown={type:"button",category:"Camera Control",name:"Tilt Speed Down",options:{},style:{text:"$(birddog-ptz:tilt_speed)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"tiltSpeed",options:{type:"down"}}],up:[]}],feedbacks:[]}),o?.zoom&&(i.zoomIn={type:"button",category:"Camera Control",name:"Zoom In",options:{},style:{text:"Tele",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"zoom",options:{val:"in"}}],up:[{actionId:"zoom",options:{val:"stop"}}]}],feedbacks:[]},i.zoomOut={type:"button",category:"Camera Control",name:"Zoom Out",options:{},style:{text:"Wide",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"zoom",options:{val:"out"}}],up:[{actionId:"zoom",options:{val:"stop"}}]}],feedbacks:[]}),o?.zoomSpeed&&(i.zoomSpeedUp={type:"button",category:"Camera Control",name:"Zoom Speed Up",options:{},style:{text:"⯅\\nZoom Speed",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"zoomSpeed",options:{type:"up"}}],up:[]}],feedbacks:[]},i.zoomSpeedDown={type:"button",category:"Camera Control",name:"Zoom Speed Down",options:{},style:{text:"$(birddog-ptz:zoom_speed)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"zoomSpeed",options:{type:"down"}}],up:[]}],feedbacks:[]}),o?.onScreenMenu&&(i.onScreenMenu={type:"button",category:"Camera Control",name:"On Screen Menu",options:{},style:{text:"Menu ON/OFF",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"onScreenMenu"}],up:[]}],feedbacks:[]}),o?.focus&&(i.focusIn={type:"button",category:"Camera Control",name:"Focus In",options:{},style:{text:"Focus\\nIn",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"focus",options:{val:"near"}}],up:[{actionId:"focus",options:{val:"stop"}}]}],feedbacks:[]},i.focusFar={type:"button",category:"Camera Control",name:"Focus Far",options:{},style:{text:"Focus\\nOut",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"focus",options:{val:"far"}}],up:[{actionId:"focus",options:{val:"stop"}}]}],feedbacks:[]},i.focusMode={type:"button",category:"Camera Control",name:"Focus Mode",options:{},style:{text:"Focus Mode\\n$(birddog-ptz:focus_mode)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"focusM",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"focusMode",options:{val:o.focusM.default},style:{color:t,bgcolor:a}}]},i.focusOnePush={type:"button",category:"Camera Control",name:"One Push Auto Focus",options:{},style:{text:"O.P.\\nAF",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"focus",options:{val:"trigger"}}],up:[]}],feedbacks:[]}),o?.ae_response&&(i.ae_response={type:"button",category:"Exposure",name:"Ae Response",options:{},style:{text:"Ae Response\\n$(birddog-ptz:ae_response)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"ae_response",options:{val:o.ae_response.default}}],up:[]}],feedbacks:[{feedbackId:"ae_response",options:{val:o.ae_response.default},style:{color:t,bgcolor:a}}]}),o?.backlight&&(i.backlight={type:"button",category:"Exposure",name:"Backlight",options:{},style:{text:"Backlight\\n$(birddog-ptz:backlight)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"backlight",options:{mode:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"backlight",options:{mode:o.backlight.default},style:{color:t,bgcolor:a}}]}),o?.bright_level&&(i.bright_level={type:"button",category:"Exposure",name:"Bright Level",options:{},style:{text:"Bright Level\\n$(birddog-ptz:bright_level)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"bright_level",options:{val:o.bright_level.default}}],up:[]}],feedbacks:[{feedbackId:"bright_level",options:{val:o.bright_level.default},style:{color:t,bgcolor:a}}]}),o?.expComp&&(i.expComp={type:"button",category:"Exposure",name:"Exposure Compensation",options:{},style:{text:"Exposure Compensation\\n$(birddog-ptz:exposure_comp)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"expComp",options:{val:o.expComp.default}}],up:[]}],feedbacks:[{feedbackId:"exposureoCmpEn",options:{val:o.expComp.default},style:{color:t,bgcolor:a}}]}),r.some((e=>"exposure_comp_level"===e.name))&&(i.exposure_comp_level={type:"button",category:"Exposure",name:"Exposure Compensation Level",options:{},style:{text:"Exposure\\nCompensation\\nLevel\\n$(birddog-ptz:exposure_comp_level)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),o?.exposure_mode&&(i.exposure_mode={type:"button",category:"Exposure",name:"Exposure Mode",options:{},style:{text:"Exposure\\nMode\\n$(birddog-ptz:exposure_mode)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"expM",options:{val:o.exposure_mode.default}}],up:[]}],feedbacks:[{feedbackId:"exposureMode",options:{mode:o.exposure_mode.default},style:{color:t,bgcolor:a}}]}),o?.gain&&(i.gainUp={type:"button",category:"Exposure",name:"Gain Up",options:{},style:{text:"⯅\\nGain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gain",options:{val:"up"}}],up:[]}],feedbacks:[]},i.gainDown={type:"button",category:"Exposure",name:"Gain Down",options:{},style:{text:"$(birddog-ptz:gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.gain_limit&&(i.gain_limitUp={type:"button",category:"Exposure",name:"Gain Limit Up",options:{},style:{text:"⯅\\nGain Limit",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gainLimit",options:{val:"up"}}],up:[]}],feedbacks:[]},i.gain_limitDown={type:"button",category:"Exposure",name:"Gain Limit Down",options:{},style:{text:"$(birddog-ptz:gain_limit)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gainLimit",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.gain_point&&(i.gain_point={type:"button",category:"Exposure",name:"Gain Point",options:{},style:{text:"Gain point\\n$(birddog-ptz:gain_point)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gainPoint",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"gain_point",options:{val:o.gain_point.default},style:{color:t,bgcolor:a}}]}),o?.gain_point_position&&(i.gain_point_positionUp={type:"button",category:"Exposure",name:"Gain Point Position Up",options:{},style:{text:"⯅\\nGain Point\\nPosition",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gainPointPosition",options:{val:"up"}}],up:[]}],feedbacks:[]},i.gain_point_positionDown={type:"button",category:"Exposure",name:"Gain Point Position Down",options:{},style:{text:"$(birddog-ptz:gain_point_position)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gainPointPosition",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.high_sensitivity&&(i.high_sensitivity={type:"button",category:"Exposure",name:"High Sensitivity",options:{},style:{text:"High Sensitivity\\n$(birddog-ptz:high_sensitivity)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"highSensitivity",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"highSensitivity",options:{val:o.high_sensitivity.default},style:{color:t,bgcolor:a}}]}),o?.iris&&(i.irisUp={type:"button",category:"Exposure",name:"Iris Up",options:{},style:{text:"⯅\\nIris",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"iris",options:{val:"up"}}],up:[]}],feedbacks:[]},i.irisDown={type:"button",category:"Exposure",name:"Iris Down",options:{},style:{text:"$(birddog-ptz:iris)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"iris",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.shutter_control_overwrite&&(i.shutter_control_overwrite={type:"button",category:"Exposure",name:"Shutter Control Overwrite",options:{},style:{text:"Shutter Control\\nOverwrite\\n$(birddog-ptz:shutter_control_overwrite)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"shutter_control_overwrite",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"shutter_control_overwrite",options:{val:o.shutter_control_overwrite.default},style:{color:t,bgcolor:a}}]}),o?.shutter_max_speed&&(i.shutter_max_speedUp={type:"button",category:"Exposure",name:"Shutter Max Speed Up",options:{},style:{text:"⯅\\nShutter\\nMax Speed",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"shutter_max_speed",options:{val:"up"}}],up:[]}],feedbacks:[]},i.shutter_max_speedDown={type:"button",category:"Exposure",name:"Shutter Max Speed Down",options:{},style:{text:"$(birddog-ptz:shutter_max_speed)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"shutter_max_speed",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.shutter_min_speed&&(i.shutter_min_speedUp={type:"button",category:"Exposure",name:"Shutter Min Speed Up",options:{},style:{text:"⯅\\nShutter\\nMin Speed",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"shutter_min_speed",options:{val:"up"}}],up:[]}],feedbacks:[]},i.shutter_min_speedDown={type:"button",category:"Exposure",name:"Shutter Min Speed Down",options:{},style:{text:"$(birddog-ptz:shutter_min_speed)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"shutter_min_speed",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.shutter_speed&&(i.shutter_speedUp={type:"button",category:"Exposure",name:"Shutter Up",options:{},style:{text:"⯅\\nShutter",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"shut",options:{val:"up"}}],up:[]}],feedbacks:[]},i.shutter_speedDown={type:"button",category:"Exposure",name:"Shutter Down",options:{},style:{text:"$(birddog-ptz:shutter_speed)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"shut",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.shutter_speed_overwrite&&(i.shutter_speed_overwriteUp={type:"button",category:"Exposure",name:"Shutter Speed Overwrite Up",options:{},style:{text:"⯅\\nShutter Speed\\nOverwrite",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"shutter_speed_overwrite",options:{val:"up"}}],up:[]}],feedbacks:[]},i.shutter_speed_overwriteDown={type:"button",category:"Exposure",name:"Shutter Speed Overwrite Down",options:{},style:{text:"$(birddog-ptz:shutter_speed_overwrite)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"shutter_speed_overwrite",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.slow_shutter_en&&(i.slow_shutter_en={type:"button",category:"Exposure",name:"Slow Shutter Enable",options:{},style:{text:"Slow Shutter\\nEnable\\n$(birddog-ptz:slow_shutter_en)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"slow_shutter_en",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"slow_shutter_en",options:{val:o.slow_shutter_en.default},style:{color:t,bgcolor:a}}]}),o?.slow_shutter_limit&&(i.slow_shutter_limitUp={type:"button",category:"Exposure",name:"Slow Shutter Limit Up",options:{},style:{text:"⯅\\nSlow Shutter\\nLimit",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"slow_shutter_limit",options:{val:"up"}}],up:[]}],feedbacks:[]},i.slow_shutter_limitDown={type:"button",category:"Exposure",name:"Slow Shutter Limit Down",options:{},style:{text:"$(birddog-ptz:slow_shutter_limit)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"slow_shutter_limit",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.spotlight&&(i.spotlight={type:"button",category:"Exposure",name:"Spotlight",options:{},style:{text:"Spotlight\\n$(birddog-ptz:spotlight)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"spotlight",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"spotlight",options:{val:o.spotlight.default},style:{color:t,bgcolor:a}}]}),o?.bg&&(i.bgUp={type:"button",category:"White Balance",name:"BG Up",options:{},style:{text:"⯅\\nBG",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"bg",options:{val:"up"}}],up:[]}],feedbacks:[]},i.bgDown={type:"button",category:"White Balance",name:"BG Down",options:{},style:{text:"$(birddog-ptz:bg)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"bg",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.br&&(i.brUp={type:"button",category:"White Balance",name:"BR Up",options:{},style:{text:"⯅\\nBR",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"br",options:{val:"up"}}],up:[]}],feedbacks:[]},i.brDown={type:"button",category:"White Balance",name:"BR Down",options:{},style:{text:"$(birddog-ptz:br)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"br",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.blue_gain&&(i.blue_gainUp={type:"button",category:"White Balance",name:"Blue Gain Up",options:{},style:{text:"⯅\\nBlue Gain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"blue_gain",options:{val:"up"}}],up:[]}],feedbacks:[]},i.blue_gainDown={type:"button",category:"White Balance",name:"Blue Gain Down",options:{},style:{text:"$(birddog-ptz:blue_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"blue_gain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.color_temp&&(i.color_tempUp={type:"button",category:"White Balance",name:"Color Temp Up",options:{},style:{text:"⯅\\nColor Temp",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"color_temp",options:{val:"up"}}],up:[]}],feedbacks:[]},i.color_tempDown={type:"button",category:"White Balance",name:"Color Temp Down",options:{},style:{text:"$(birddog-ptz:color_temp)K\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"color_temp",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.gb&&(i.gbUp={type:"button",category:"White Balance",name:"GB Up",options:{},style:{text:"⯅\\nGB",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gb",options:{val:"up"}}],up:[]}],feedbacks:[]},i.gbDown={type:"button",category:"White Balance",name:"GB Down",options:{},style:{text:"$(birddog-ptz:gb)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gb",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.gr&&(i.grUp={type:"button",category:"White Balance",name:"GR Up",options:{},style:{text:"⯅\\nGR",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gr",options:{val:"up"}}],up:[]}],feedbacks:[]},i.grDown={type:"button",category:"White Balance",name:"GR Down",options:{},style:{text:"$(birddog-ptz:gr)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gr",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.level&&(i.levelUp={type:"button",category:"White Balance",name:"Level Up",options:{},style:{text:"⯅\\nLevel",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"level",options:{val:"up"}}],up:[]}],feedbacks:[]},i.levelDown={type:"button",category:"White Balance",name:"Level Down",options:{},style:{text:"$(birddog-ptz:level)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"level",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.matrix&&(i.matrix={type:"button",category:"White Balance",name:"Matrix",options:{},style:{text:"Matrix\\n$(birddog-ptz:matrix)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"matrix",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"matrix",options:{val:o.matrix.default},style:{color:t,bgcolor:a}}]}),o?.offset&&(i.offsetUp={type:"button",category:"White Balance",name:"Offset Up",options:{},style:{text:"⯅\\nOffset",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"offset",options:{val:"up"}}],up:[]}],feedbacks:[]},i.offsetDown={type:"button",category:"White Balance",name:"Offset Down",options:{},style:{text:"$(birddog-ptz:offset)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"offset",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.phase&&(i.phaseUp={type:"button",category:"White Balance",name:"Phase Up",options:{},style:{text:"⯅\\nPhase",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"phase",options:{val:"up"}}],up:[]}],feedbacks:[]},i.phaseDown={type:"button",category:"White Balance",name:"Phase Down",options:{},style:{text:"$(birddog-ptz:phase)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"phase",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.rb&&(i.rbUp={type:"button",category:"White Balance",name:"RB Up",options:{},style:{text:"⯅\\nRB",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"rb",options:{val:"up"}}],up:[]}],feedbacks:[]},i.rbDown={type:"button",category:"White Balance",name:"RB Down",options:{},style:{text:"$(birddog-ptz:rb)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"rb",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.rg&&(i.rgUp={type:"button",category:"White Balance",name:"RG Up",options:{},style:{text:"⯅\\nRG",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"rg",options:{val:"up"}}],up:[]}],feedbacks:[]},i.rgDown={type:"button",category:"White Balance",name:"RG Down",options:{},style:{text:"$(birddog-ptz:rg)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"rg",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.red_gain&&(i.red_gainUp={type:"button",category:"White Balance",name:"Red Gain Up",options:{},style:{text:"⯅\\nRed Gain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"red_gain",options:{val:"up"}}],up:[]}],feedbacks:[]},i.red_gainDown={type:"button",category:"White Balance",name:"Red Gain Down",options:{},style:{text:"$(birddog-ptz:red_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"red_gain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.select&&(i.select={type:"button",category:"White Balance",name:"Select",options:{},style:{text:"Select\\n$(birddog-ptz:select)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"select",options:{val:o.select.default}}],up:[]}],feedbacks:[{feedbackId:"select",options:{val:o.select.default},style:{color:t,bgcolor:a}}]}),o?.speed&&(i.speedUp={type:"button",category:"White Balance",name:"Speed Up",options:{},style:{text:"⯅\\nSpeed",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"speed",options:{val:"up"}}],up:[]}],feedbacks:[]},i.speedDown={type:"button",category:"White Balance",name:"Speed Down",options:{},style:{text:"$(birddog-ptz:speed)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"speed",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.wb_mode&&(i.wb_mode={type:"button",category:"White Balance",name:"White Balance Mode",options:{},style:{text:"WB Mode\\n$(birddog-ptz:wb_mode)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"wb_mode",options:{val:o.wb_mode.default}}],up:[]}],feedbacks:[{feedbackId:"wb_mode",options:{mode:o.wb_mode.default},style:{color:t,bgcolor:a}}]}),o?.wbOnePush&&(i.wbOnePush={type:"button",category:"White Balance",name:"WB One Push",options:{},style:{text:"WB\\nONE PUSH",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"wbOnePush"}],up:[]}],feedbacks:[]}),o?.backlight_com&&(i.backlight_com={type:"button",category:"Picture",name:"Backlight Compensation",options:{},style:{text:"Backlight\\nComp\\n$(birddog-ptz:backlight_com)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"backlight_com",options:{val:o.backlight_com.default}}],up:[]}],feedbacks:[{feedbackId:"backlight_com",options:{val:o.backlight_com.default},style:{color:t,bgcolor:a}}]}),o?.chroma_suppress&&(i.chroma_suppress={type:"button",category:"Picture",name:"Backlight Compensation",options:{},style:{text:"Chroma\\nSuppress\\n$(birddog-ptz:chroma_suppress)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"chroma_suppress",options:{val:o.chroma_suppress.default}}],up:[]}],feedbacks:[{feedbackId:"chroma_suppress",options:{val:o.chroma_suppress.default},style:{color:t,bgcolor:a}}]}),o?.saturation&&(i.saturationUp={type:"button",category:"Picture",name:"Saturation Up",options:{},style:{text:"⯅\\nSaturation",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"saturation",options:{val:"up"}}],up:[]}],feedbacks:[]},i.saturationDown={type:"button",category:"Picture",name:"Saturation Down",options:{},style:{text:"$(birddog-ptz:saturation)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"saturation",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.contrast&&(i.contrastUp={type:"button",category:"Picture",name:"Contrast Up",options:{},style:{text:"⯅\\nContrast",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"contrast",options:{val:"up"}}],up:[]}],feedbacks:[]},i.contrastDown={type:"button",category:"Picture",name:"Contrast Down",options:{},style:{text:"$(birddog-ptz:contrast)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"contrast",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.pictureEffect&&(i.pictureEffect={type:"button",category:"Picture",name:"Effect",options:{},style:{text:"Effect\\n$(birddog-ptz:bw_effect)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pictureEffect",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"pictureEffect",options:{val:o.pictureEffect.default},style:{color:t,bgcolor:a}}]}),o?.picFlip&&(i.picFlip={type:"button",category:"Picture",name:"Flip",options:{},style:{text:"Flip\\n$(birddog-ptz:flip)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"picFlip",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"picFlip",options:{val:o.picFlip.default},style:{color:t,bgcolor:a}}]}),o?.gamma&&(i.gammaUp={type:"button",category:"Picture",name:"Gamma Up",options:{},style:{text:"⯅\\nGamma",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gamma",options:{val:"up"}}],up:[]}],feedbacks:[]},i.gammaDown={type:"button",category:"Picture",name:"Gamma Down",options:{},style:{text:"$(birddog-ptz:gamma)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gamma",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.highlight_comp&&(i.highlight_comp={type:"button",category:"Picture",name:"Highlight Compensation",options:{},style:{text:"Highlight Comp.\\n$(birddog-ptz:highlight_comp)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"highlight_comp",options:{val:o.highlight_comp.default}}],up:[]}],feedbacks:[{feedbackId:"highlight_comp",options:{val:o.highlight_comp.default},style:{color:t,bgcolor:a}}]}),o?.highlight_comp_mask&&(i.highlight_comp_maskUp={type:"button",category:"Picture",name:"Highlight Comp. Mask Up",options:{},style:{text:"⯅\\nHigh Comp\\n Mask",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"highlight_comp_mask",options:{val:"up"}}],up:[]}],feedbacks:[]},i.highlight_comp_maskDown={type:"button",category:"Picture",name:"Highlight Comp. Mask Down",options:{},style:{text:"$(birddog-ptz:highlight_comp_mask)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"highlight_comp_mask",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.hue&&(i.hueUp={type:"button",category:"Picture",name:"Hue Up",options:{},style:{text:"⯅\\nHue",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"hue",options:{val:"up"}}],up:[]}],feedbacks:[]},i.hueDown={type:"button",category:"Picture",name:"Hue Down",options:{},style:{text:"$(birddog-ptz:hue)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"hue",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.ir_cutfilter&&(i.ir_cutfilter={type:"button",category:"Picture",name:"IR Cutfilter",options:{},style:{text:"IR Cut Filter\\n$(birddog-ptz:ir_cutfilter)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"ir_cutfilter",options:{val:o.ir_cutfilter.default}}],up:[]}],feedbacks:[{feedbackId:"ir_cutfilter",options:{val:o.ir_cutfilter.default},style:{color:t,bgcolor:a}}]}),o?.low_latency&&(i.low_latency={type:"button",category:"Picture",name:"Low Latency",options:{},style:{text:"Low Latency\\n$(birddog-ptz:low_latency)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"low_latency",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"low_latency",options:{val:o.low_latency.default},style:{color:t,bgcolor:a}}]}),o?.picMirror&&(i.picMirror={type:"button",category:"Picture",name:"Mirror",options:{},style:{text:"Mirror\\n$(birddog-ptz:mirror)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"picMirror",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"picMirror",options:{val:o.picMirror.default},style:{color:t,bgcolor:a}}]}),o?.nd_filter&&(i.nd_filterUp={type:"button",category:"Picture",name:"ND Filter Up",options:{},style:{text:"⯅\\nND Filter",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"nd_filter",options:{val:"up"}}],up:[]}],feedbacks:[]},i.nd_filterDown={type:"button",category:"Picture",name:"ND Filter Down",options:{},style:{text:"$(birddog-ptz:nd_filter)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"nd_filter",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.noise_reduction&&(i.noise_reductionUp={type:"button",category:"Picture",name:"Noise Reduction Up",options:{},style:{text:"⯅\\nNR",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"noise_reduction",options:{val:"up"}}],up:[]}],feedbacks:[]},i.noise_reductionDown={type:"button",category:"Picture",name:"Noise Reduction Down",options:{},style:{text:"$(birddog-ptz:noise_reduction)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"noise_reduction",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.sharpness&&(i.sharpnessUp={type:"button",category:"Picture",name:"Sharpness Up",options:{},style:{text:"⯅\\nSharpness",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"sharpness",options:{val:"up"}}],up:[]}],feedbacks:[]},i.sharpnessDown={type:"button",category:"Picture",name:"Sharpness Down",options:{},style:{text:"$(birddog-ptz:sharpness)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"sharpness",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.stabilizer&&(i.stabilizer={type:"button",category:"Picture",name:"Stabilizer",options:{},style:{text:"Mirror\\n$(birddog-ptz:stabilizer)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"stabilizer",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"stabilizer",options:{val:o.stabilizer.default},style:{color:t,bgcolor:a}}]}),o?.threed_nr&&(i.threed_nrUp={type:"button",category:"Picture",name:"3D Noise Reduction Up",options:{},style:{text:"⯅\\n3D NR",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"threed_nr",options:{val:"up"}}],up:[]}],feedbacks:[]},i.threed_nrDown={type:"button",category:"Picture",name:"3D Noise Reduction Down",options:{},style:{text:"$(birddog-ptz:threed_nr)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"threed_nr",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.twod_nr&&(i.twod_nrUp={type:"button",category:"Picture",name:"2D Noise Reduction Up",options:{},style:{text:"⯅\\n2D NR",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"twod_nr",options:{val:"up"}}],up:[]}],feedbacks:[]},i.twod_nrDown={type:"button",category:"Picture",name:"2D Noise Reduction Down",options:{},style:{text:"$(birddog-ptz:twod_nr)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"twod_nr",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.wide_dynamic_range&&(i.wide_dynamic_rangeUp={type:"button",category:"Picture",name:"Wide Dynamics Range Up",options:{},style:{text:"⯅\\nWDR",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"wide_dynamic_range",options:{val:"up"}}],up:[]}],feedbacks:[]},i.wide_dynamic_rangeDown={type:"button",category:"Picture",name:"Wide Dynamics Range Down",options:{},style:{text:"$(birddog-ptz:wide_dynamic_range)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"wide_dynamic_range",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_blue_gain&&(i.cm_blue_gainUp={type:"button",category:"Color Matrix",name:"Blue Gain Up",options:{},style:{text:"⯅\\nBlue Gain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_blue_gain",options:{val:"up"}}],up:[]}],feedbacks:[]},i.cm_blue_gainDown={type:"button",category:"Color Matrix",name:"Blue Gain Down",options:{},style:{text:"$(birddog-ptz:cm_blue_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_blue_gain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_blue_hue&&(i.cm_blue_hueUp={type:"button",category:"Color Matrix",name:"Blue Hue Up",options:{},style:{text:"⯅\\nBlue Hue",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_blue_hue",options:{val:"up"}}],up:[]}],feedbacks:[]},i.cm_blue_hueDown={type:"button",category:"Color Matrix",name:"Blue Hue Down",options:{},style:{text:"$(birddog-ptz:cm_blue_hue)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_blue_hue",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_color_gain&&(i.cm_color_gainUp={type:"button",category:"Color Matrix",name:"Color Gain Up",options:{},style:{text:"⯅\\nColor Gain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_color_gain",options:{val:"up"}}],up:[]}],feedbacks:[]},i.cm_color_gainDown={type:"button",category:"Color Matrix",name:"Color Gain Down",options:{},style:{text:"$(birddog-ptz:cm_color_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_color_gain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_cyan_gain&&(i.cm_cyan_gainUp={type:"button",category:"Color Matrix",name:"Cyan Gain Up",options:{},style:{text:"⯅\\nCyan Gain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_cyan_gain",options:{val:"up"}}],up:[]}],feedbacks:[]},i.cm_cyan_gainDown={type:"button",category:"Color Matrix",name:"Cyan Gain Down",options:{},style:{text:"$(birddog-ptz:cm_cyan_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_cyan_gain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_cyan_hue&&(i.cm_cyan_hueUp={type:"button",category:"Color Matrix",name:"Cyan Hue Up",options:{},style:{text:"⯅\\nCyan Hue",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_cyan_hue",options:{val:"up"}}],up:[]}],feedbacks:[]},i.cm_cyan_hueDown={type:"button",category:"Color Matrix",name:"Cyan Hue Down",options:{},style:{text:"$(birddog-ptz:cm_cyan_hue)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_cyan_hue",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_green_gain&&(i.cm_green_gainUp={type:"button",category:"Color Matrix",name:"Green Gain Up",options:{},style:{text:"⯅\\nGreen Gain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_green_gain",options:{val:"up"}}],up:[]}],feedbacks:[]},i.cm_green_gainDown={type:"button",category:"Color Matrix",name:"Green Gain Down",options:{},style:{text:"$(birddog-ptz:cm_green_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_green_gain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_green_hue&&(i.cm_green_hueUp={type:"button",category:"Color Matrix",name:"Green Hue Up",options:{},style:{text:"⯅\\nGreen Hue",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_green_hue",options:{val:"up"}}],up:[]}],feedbacks:[]},i.cm_green_hueDown={type:"button",category:"Color Matrix",name:"Green Hue Down",options:{},style:{text:"$(birddog-ptz:cm_green_hue)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_green_hue",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_hue_phase&&(i.cm_hue_phaseUp={type:"button",category:"Color Matrix",name:"Hue Phase Up",options:{},style:{text:"⯅\\nHue Phase",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_hue_phase",options:{val:"up"}}],up:[]}],feedbacks:[]},i.cm_hue_phaseDown={type:"button",category:"Color Matrix",name:"Hue Phase Down",options:{},style:{text:"$(birddog-ptz:cm_hue_phase)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_hue_phase",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_mag_gain&&(i.cm_mag_gainUp={type:"button",category:"Color Matrix",name:"Magenta Gain Up",options:{},style:{text:"⯅\\nMagenta Gain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_mag_gain",options:{val:"up"}}],up:[]}],feedbacks:[]},i.cm_mag_gainDown={type:"button",category:"Color Matrix",name:"Magenta Gain Down",options:{},style:{text:"$(birddog-ptz:cm_mag_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_mag_gain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_mag_hue&&(i.cm_mag_hueUp={type:"button",category:"Color Matrix",name:"Magenta Hue Up",options:{},style:{text:"⯅\\nMagenta Hue",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_mag_hue",options:{val:"up"}}],up:[]}],feedbacks:[]},i.cm_mag_hueDown={type:"button",category:"Color Matrix",name:"Magenta Hue Down",options:{},style:{text:"$(birddog-ptz:cm_mag_hue)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_mag_hue",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_red_gain&&(i.cm_red_gainUp={type:"button",category:"Color Matrix",name:"Red Gain Up",options:{},style:{text:"⯅\\nRed Gain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_red_gain",options:{val:"up"}}],up:[]}],feedbacks:[]},i.cm_red_gainDown={type:"button",category:"Color Matrix",name:"Red Gain Down",options:{},style:{text:"$(birddog-ptz:cm_red_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_red_gain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_red_hue&&(i.cm_red_hueUp={type:"button",category:"Color Matrix",name:"Red Hue Up",options:{},style:{text:"⯅\\nRed Hue",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_red_hue",options:{val:"up"}}],up:[]}],feedbacks:[]},i.cm_red_hueDown={type:"button",category:"Color Matrix",name:"Red Hue Down",options:{},style:{text:"$(birddog-ptz:cm_red_hue)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_red_hue",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_yellow_gain&&(i.cm_yellow_gainUp={type:"button",category:"Color Matrix",name:"Yellow Gain Up",options:{},style:{text:"⯅\\nYellow Gain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_yellow_gain",options:{val:"up"}}],up:[]}],feedbacks:[]},i.cm_yellow_gainDown={type:"button",category:"Color Matrix",name:"Yellow Gain Down",options:{},style:{text:"$(birddog-ptz:cm_yellow_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_yellow_gain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_yellow_hue&&(i.cm_yellow_hueUp={type:"button",category:"Color Matrix",name:"Yellow Hue Up",options:{},style:{text:"⯅\\nYellow Hue",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_yellow_hue",options:{val:"up"}}],up:[]}],feedbacks:[]},i.cm_yellow_hueDown={type:"button",category:"Color Matrix",name:"Yellow Hue Down",options:{},style:{text:"$(birddog-ptz:cm_yellow_hue)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_yellow_hue",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.brightness&&(i.brightnessUp={type:"button",category:"Advanced Setup",name:"Brightness Up",options:{},style:{text:"⯅\\nBrightness",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"brightness",options:{val:"up"}}],up:[]}],feedbacks:[]},i.brightnessDown={type:"button",category:"Advanced Setup",name:"Brightness Down",options:{},style:{text:"$(birddog-ptz:brightness)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"brightness",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.brightness_comp&&(i.brightness_comp={type:"button",category:"Advanced Setup",name:"Brightness Compensation",options:{},style:{text:"Brightness\\nCompensation\\n$(birddog-ptz:brightness_comp)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"brightness_comp",options:{val:o.brightness_comp.default}}],up:[]}],feedbacks:[{feedbackId:"brightness_comp",options:{val:o.brightness_comp.default},style:{color:t,bgcolor:a}}]}),o?.comp_level&&(i.comp_level={type:"button",category:"Advanced Setup",name:"Compensation Level",options:{},style:{text:"Compensation\\nLevel\\n$(birddog-ptz:comp_level)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"comp_level",options:{val:o.comp_level.default}}],up:[]}],feedbacks:[{feedbackId:"comp_level",options:{val:o.comp_level.default},style:{color:t,bgcolor:a}}]}),o?.gamma_offset&&(i.gamma_offsetUp={type:"button",category:"Advanced Setup",name:"Gamma Offset Up",options:{},style:{text:"⯅\\nGamma\\nOffset",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gamma_offset",options:{val:"up"}}],up:[]}],feedbacks:[]},i.gamma_offsetDown={type:"button",category:"Advanced Setup",name:"Gamma Offset Down",options:{},style:{text:"$(birddog-ptz:gamma_offset)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gamma_offset",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.high_resolution&&(i.high_resolution={type:"button",category:"Advanced Setup",name:"High Resolution",options:{},style:{text:"High\\nResolution\\n$(birddog-ptz:high_resolution)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"high_resolution",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"high_resolution",options:{val:o.high_resolution.default},style:{color:t,bgcolor:a}}]}),o?.video_enhancement&&(i.video_enhancement={type:"button",category:"Advanced Setup",name:"Video Enhancement",options:{},style:{text:"Video\\nEnhancement\\n$(birddog-ptz:video_enhancement)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"video_enhancement",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"video_enhancement",options:{val:o.video_enhancement.default},style:{color:t,bgcolor:a}}]}),o?.aux&&(i.aux={type:"button",category:"External Setup",name:"Aux",options:{},style:{text:"Aux\\n$(birddog-ptz:aux)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"aux",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"aux",options:{val:o.aux.default},style:{color:t,bgcolor:a}}]}),o?.rain_wiper&&(i.rain_wiper={type:"button",category:"External Setup",name:"Rain Wiper",options:{},style:{text:"Rain Wiper\\n$(birddog-ptz:rain_wiper)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"rain_wiper",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"rain_wiper",options:{val:o.rain_wiper.default},style:{color:t,bgcolor:a}}]}),o?.v12vout&&(i.v12vout={type:"button",category:"External Setup",name:"12v Out",options:{},style:{text:"12v Out\\n$(birddog-ptz:v12vout)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"v12vout",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"v12vout",options:{val:o.v12vout.default},style:{color:t,bgcolor:a}}]}),o?.bandwidth&&(i.bandwidth={type:"button",category:"Detail Setup",name:"Bandwidth",options:{},style:{text:"Bandwidth\\n$(birddog-ptz:bandwidth)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"bandwidth",options:{val:o.bandwidth.default}}],up:[]}],feedbacks:[{feedbackId:"bandwidth",options:{val:o.bandwidth.default},style:{color:t,bgcolor:a}}]}),o?.bw_balance&&(i.bw_balance={type:"button",category:"Detail Setup",name:"BW Balance",options:{},style:{text:"BW Balance\\n$(birddog-ptz:bw_balance)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"bw_balance",options:{val:o.bw_balance.default}}],up:[]}],feedbacks:[{feedbackId:"bw_balance",options:{val:o.bw_balance.default},style:{color:t,bgcolor:a}}]}),o?.crispening&&(i.crispeningUp={type:"button",category:"Detail Setup",name:"Crispening Up",options:{},style:{text:"⯅\\nCrispening",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"crispening",options:{val:"up"}}],up:[]}],feedbacks:[]},i.crispeningDown={type:"button",category:"Advanced Setup",name:"Crispening Down",options:{},style:{text:"$(birddog-ptz:crispening)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"crispening",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.detail&&(i.detail={type:"button",category:"Detail Setup",name:"Detail",options:{},style:{text:"Detail\\n$(birddog-ptz:detail)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"detail",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"detail",options:{val:o.detail.default},style:{color:t,bgcolor:a}}]}),o?.highlight_detail&&(i.highlight_detailUp={type:"button",category:"Detail Setup",name:"Highlight Detail Up",options:{},style:{text:"⯅\\nHighlight\\nDetail",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"highlight_detail",options:{val:"up"}}],up:[]}],feedbacks:[]},i.highlight_detailDown={type:"button",category:"Advanced Setup",name:"Highlight Detail Down",options:{},style:{text:"$(birddog-ptz:highlight_detail)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"highlight_detail",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.hv_balance&&(i.hv_balanceUp={type:"button",category:"Detail Setup",name:"Hv Balance Up",options:{},style:{text:"⯅\\nHv Balance",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"hv_balance",options:{val:"up"}}],up:[]}],feedbacks:[]},i.hv_balanceDown={type:"button",category:"Advanced Setup",name:"Hv Balance Down",options:{},style:{text:"$(birddog-ptz:hv_balance)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"hv_balance",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.limit&&(i.limitUp={type:"button",category:"Detail Setup",name:"Limit Up",options:{},style:{text:"⯅\\nLimit",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"limit",options:{val:"up"}}],up:[]}],feedbacks:[]},i.limitDown={type:"button",category:"Advanced Setup",name:"Limit Down",options:{},style:{text:"$(birddog-ptz:limit)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"limit",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.super_low&&(i.super_lowUp={type:"button",category:"Detail Setup",name:"Super Low Up",options:{},style:{text:"⯅\\nSuper Low",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"super_low",options:{val:"up"}}],up:[]}],feedbacks:[]},i.super_lowDown={type:"button",category:"Advanced Setup",name:"Super Low Down",options:{},style:{text:"$(birddog-ptz:super_low)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"super_low",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.black_gamma_level&&(i.black_gamma_levelUp={type:"button",category:"Gamma Setup",name:"Black Gamma Level Up",options:{},style:{text:"⯅\\nBlack Gamma\\nLevel",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"black_gamma_level",options:{val:"up"}}],up:[]}],feedbacks:[]},i.black_gamma_levelDown={type:"button",category:"Gamma Setup",name:"Black Gamma Level Down",options:{},style:{text:"$(birddog-ptz:black_gamma_level)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"black_gamma_level",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.black_level&&(i.black_levelUp={type:"button",category:"Gamma Setup",name:"Black Level Up",options:{},style:{text:"⯅\\nBlack\\nLevel",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"black_level",options:{val:"up"}}],up:[]}],feedbacks:[]},i.black_levelDown={type:"button",category:"Gamma Setup",name:"Black Level Down",options:{},style:{text:"$(birddog-ptz:black_level)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"black_level",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.black_level_range&&(i.black_level_range={type:"button",category:"Gamma Setup",name:"Black Level Range",options:{},style:{text:"Black Level\\nRange\\n$(birddog-ptz:black_level_range)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"black_level_range",options:{val:o.black_level_range.default}}],up:[]}],feedbacks:[{feedbackId:"black_level_range",options:{val:o.black_level_range.default},style:{color:t,bgcolor:a}}]}),o?.effect&&(i.effectUp={type:"button",category:"Gamma Setup",name:"Effect Up",options:{},style:{text:"⯅\\nEffect",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"effect",options:{val:"up"}}],up:[]}],feedbacks:[]},i.effectDown={type:"button",category:"Gamma Setup",name:"Effect Down",options:{},style:{text:"$(birddog-ptz:effect)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"effect",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.offset&&(i.offsetUp={type:"button",category:"Gamma Setup",name:"Offset Up",options:{},style:{text:"⯅\\nOffset",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"offset",options:{val:"up"}}],up:[]}],feedbacks:[]},i.offsetDown={type:"button",category:"Gamma Setup",name:"Offset Down",options:{},style:{text:"$(birddog-ptz:offset)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"offset",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.pattern&&(i.patternUp={type:"button",category:"Gamma Setup",name:"Pattern Up",options:{},style:{text:"⯅\\nPattern",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pattern",options:{val:"up"}}],up:[]}],feedbacks:[]},i.patternDown={type:"button",category:"Gamma Setup",name:"Pattern Down",options:{},style:{text:"$(birddog-ptz:pattern)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pattern",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.pattern_fine&&(i.pattern_fineUp={type:"button",category:"Gamma Setup",name:"Pattern Fine Up",options:{},style:{text:"⯅\\nPattern\\nFine",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pattern_fine",options:{val:"up"}}],up:[]}],feedbacks:[]},i.pattern_fineDown={type:"button",category:"Gamma Setup",name:"Pattern Fine Down",options:{},style:{text:"$(birddog-ptz:pattern_fine)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pattern_fine",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.settings&&(i.settings={type:"button",category:"Gamma Setup",name:"Settings",options:{},style:{text:"Settings\\n$(birddog-ptz:settings)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"settings",options:{val:o.settings.default}}],up:[]}],feedbacks:[{feedbackId:"settings",options:{value:o.settings.default},style:{color:t,bgcolor:a}}]}),o?.visibility_enhancer&&(i.visibility_enhancer={type:"button",category:"Gamma Setup",name:"Visibility Enhancer",options:{},style:{text:"Visibility\\nEnhancer\\n$(birddog-ptz:visibility_enhancer)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"visibility_enhancer",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"visibility_enhancer",options:{value:o.visibility_enhancer.default},style:{color:t,bgcolor:a}}]}),o?.scope_gamma_gain&&(i.scope_gamma_gainUp={type:"button",category:"Scopes",name:"Gamma Gain Up",options:{},style:{text:"⯅\\nGamma\\nGain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"scope_gamma_gain",options:{val:"up"}}],up:[]}],feedbacks:[]},i.scope_gamma_gainDown={type:"button",category:"Scopes",name:"Gamma Gain Down",options:{},style:{text:"$(birddog-ptz:scope_gamma_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"scope_gamma_gain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.scope_mode&&(i.scope_mode={type:"button",category:"Scopes",name:"Mode",options:{},style:{text:"Mode\\n$(birddog-ptz:scope_mode)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"scope_mode",options:{val:o.scope_mode.default}}],up:[]}],feedbacks:[{feedbackId:"scope_mode",options:{value:o.scope_mode.default},style:{color:t,bgcolor:a}}]}),o?.scope_position&&(i.scope_position={type:"button",category:"Scopes",name:"Position",options:{},style:{text:"Position\\n$(birddog-ptz:scope_position)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"scope_position",options:{val:o.scope_position.default}}],up:[]}],feedbacks:[{feedbackId:"scope_position",options:{val:o.scope_position.default},style:{color:t,bgcolor:a}}]}),o?.scope_preview&&(i.scope_preview={type:"button",category:"Scopes",name:"Preview Enable",options:{},style:{text:"Preview\\nEnable\\n$(birddog-ptz:scope_preview)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"scope_preview",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"scope_preview",options:{value:"On"},style:{color:t,bgcolor:a}}]}),o?.scope_program&&(i.scope_program={type:"button",category:"Scopes",name:"Program Enable",options:{},style:{text:"Program\\nEnable\\n$(birddog-ptz:scope_program)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"scope_program",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"scope_program",options:{value:"On"},style:{color:t,bgcolor:a}}]}),o?.scope_size&&(i.scope_size={type:"button",category:"Scopes",name:"Size",options:{},style:{text:"Size\\n$(birddog-ptz:scope_size)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"scope_size",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"scope_size",options:{value:o.scope_size.default},style:{color:t,bgcolor:a}}]}),o?.scope_transparency&&(i.scope_transparency={type:"button",category:"Scopes",name:"Transparency Enable",options:{},style:{text:"Transparency\\nEnable\\n$(birddog-ptz:scope_transparency)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"scope_transparency",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"scope_transparency",options:{value:"On"},style:{color:t,bgcolor:a}}]}),"5"==this.camera.firmware.major&&(i.averageBitrate={type:"button",category:"Dashboard",name:"Average Bitrate",options:{},style:{text:"Average\\nBitrate\\n$(birddog-ptz:avbr)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},i.audioChannels={type:"button",category:"Dashboard",name:"Audio Channels",options:{},style:{text:"Audio Ch\\n$(birddog-ptz:aud_ch)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},i.audioSampleRate={type:"button",category:"Dashboard",name:"Audio Sample Rate",options:{},style:{text:"Audio\\nSample Rate\\n$(birddog-ptz:aud_sr)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},i.audioStatus={type:"button",category:"Dashboard",name:"Audio Status",options:{},style:{text:"Audio\\nStatus\\n$(birddog-ptz:aud_stat)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},i.dashboardStatus={type:"button",category:"Dashboard",name:"Status",options:{},style:{text:"Status\\n$(birddog-ptz:dashboard_vid_status)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},i.deviceMode={type:"button",category:"Dashboard",name:"Device Mode",options:{},style:{text:"Device Mode\\n$(birddog-ptz:dev_mode)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},i.genlockStatus={type:"button",category:"Dashboard",name:"Genlock Status",options:{},style:{text:"Genlock Status\\n$(birddog-ptz:gen_status)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},i.mcuVersion={type:"button",category:"Dashboard",name:"MCU Version",options:{},style:{text:"MCU Version\\n$(birddog-ptz:mcu_ver)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},i.networkBandwidth={type:"button",category:"Dashboard",name:"Network Bandwidth",options:{},style:{text:"Network\\nBandwidth\\n$(birddog-ptz:net_band_perc)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},i.networkMode={type:"button",category:"Dashboard",name:"Network Mode",options:{},style:{text:"Network\\nMode\\n$(birddog-ptz:net_mode)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},i.networkSpeed={type:"button",category:"Dashboard",name:"Network Speed",options:{},style:{text:"Network\\nSpeed\\n$(birddog-ptz:net_speed)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},i.sourceStatus={type:"button",category:"Dashboard",name:"Source Status",options:{},style:{text:"Source\\nStatus\\n$(birddog-ptz:src_stat)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},i.cpuUsage={type:"button",category:"Dashboard",name:"CPU Usage",options:{},style:{text:"CPU Usage\\n$(birddog-ptz:sys_info_perc)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},i.videoFormat={type:"button",category:"Dashboard",name:"Video Format",options:{},style:{text:"Video\\nFormat\\n$(birddog-ptz:vid_fmt)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},i.videoFrameRate={type:"button",category:"Dashboard",name:"Video Frame Rate",options:{},style:{text:"Video\\nFrame Rate\\n$(birddog-ptz:vid_fr)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},i.videoResolution={type:"button",category:"Dashboard",name:"Video Resolution",options:{},style:{text:"Video\\nResolution\\n$(birddog-ptz:vid_res)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},i.videoSampleRate={type:"button",category:"Dashboard",name:"Video Sample rate",options:{},style:{text:"Video\\nSample Rate\\n$(birddog-ptz:vid_sra)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},i.videoStreamName={type:"button",category:"Dashboard",name:"Video Stream Name",options:{},style:{text:"Video\\nStream Name\\n$(birddog-ptz:vid_str_name)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},i.irisShutterColorTempGain={type:"button",category:"Dashboard",name:"IRIS/Shutter/ColorTemp/Gain",options:{},style:{text:"$(birddog-ptz:iris) $(birddog-ptz:shutter_speed)\\n$(birddog-ptz:color_temp)K\\n$(birddog-ptz:gain)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},i.cpuBitrate={type:"button",category:"Dashboard",name:"CPU / BR",options:{},style:{text:"CPU | BR\\n$(birddog-ptz:sys_info_perc)\\n$(birddog-ptz:avbr)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),i}function O(){this.setVariableDefinitions(p(v,this.camera.firmware.major,this.camera.model))}function C(){let e=p(v,this.camera.firmware.major,this.camera.model),t=m(v,this.camera.firmware.major,this.camera.model),a={};if(e.some((e=>"firmware"===e.variableId))&&(a.firmware=this.camera.firmware.major+"."+this.camera.firmware.minor),e.some((e=>"model"===e.variableId))&&(a.model=this.camera.model),e.some((e=>"hostname"===e.variableId))&&(a.hostname=this.camera.hostname),e.some((e=>"ipaddress"===e.variableId))&&(a.ipaddress=this.camera.ipaddress),e.some((e=>"netmask"===e.variableId))&&(a.netmask=this.camera.netmask),e.some((e=>"network_config"===e.variableId))&&(a.network_config=this.camera.network_config),e.some((e=>"serial_number"===e.variableId))&&(a.serial_number=this.camera.serial_number),e.some((e=>"status"===e.variableId))&&(a.status=this.camera.status),e.some((e=>"standby"===e.variableId))&&(a.standby=t.standby.choices.find((e=>e.id==this.camera.standby))?.label),e.some((e=>"freeze"===e.variableId))&&(a.freeze=this.camera.freeze),e.some((e=>"audio_in_gain"===e.variableId))&&(a.audio_in_gain=this.camera.analogAudioInGain-50+"dB"),e.some((e=>"audio_out_gain"===e.variableId))&&(a.audio_out_gain=this.camera.analogAudioOutGain-50+"dB"),e.some((e=>"audio_output"===e.variableId))&&(a.audio_output=t.analogAudioOutput.choices.find((e=>e.id==this.camera.analogAudioOutput))?.label),e.some((e=>"oled"===e.variableId))&&(a.oled=this.camera.oled),e.some((e=>"video_output"===e.variableId))&&(a.video_output=this.camera.video_output),e.some((e=>"bandwidth_mode"===e.variableId))&&(a.bandwidth_mode=t.bandwidth_mode.choices.find((e=>e.id==this.camera.bandwidth_mode))?.label),e.some((e=>"bandwidth_select"===e.variableId))&&(a.bandwidth_select=this.camera.bandwidth_select),e.some((e=>"color_bitdepth"===e.variableId))&&(a.color_bitdepth=this.camera.color_bitdepth),e.some((e=>"ndi_audio"===e.variableId))&&(a.ndi_audio=t.ndiAudio.choices.find((e=>e.id==this.camera.ndiAudio))?.label),e.some((e=>"ndi_group"===e.variableId))&&(a.ndi_group=t.ndiGroupEnable.choices.find((e=>e.id==this.camera.ndiGroupEnable))?.label),e.some((e=>"ndi_group_name"===e.variableId))&&(a.ndi_group_name=this.camera.ndi_group_name),e.some((e=>"screensaver_mode"===e.variableId))&&(a.screensaver_mode=t.screensaver_mode.choices.find((e=>e.id==this.camera.screensaver_mode))?.label),e.some((e=>"stream_name"===e.variableId))&&(a.stream_name=this.camera.stream_name),e.some((e=>"stream_to_network"===e.variableId))&&(a.stream_to_network=this.camera.stream_to_network),e.some((e=>"tally_mode"===e.variableId))&&(a.tally_mode=this.camera.tally_mode),e.some((e=>"video_csc"===e.variableId))&&(a.video_csc=this.camera.video_csc),e.some((e=>"video_format"===e.variableId))&&(a.video_format=this.camera.video_format),e.some((e=>"video_sample_rate"===e.variableId))&&(a.video_sample_rate=this.camera.video_sample_rate),e.some((e=>"transmit_method"===e.variableId))&&(a.transmit_method=this.camera.transmit_method),e.some((e=>"transmit_netprefix"===e.variableId))&&(a.transmit_netprefix=this.camera.transmit_netprefix),e.some((e=>"transmit_netmask"===e.variableId))&&(a.transmit_netmask=this.camera.transmit_netmask),e.some((e=>"transmit_ttl"===e.variableId))&&(a.transmit_ttl=this.camera.transmit_ttl),e.some((e=>"ndi_discovery_server"===e.variableId))&&(a.ndi_discovery_server=t.ndi_discovery_server.choices.find((e=>e.id==this.camera.ndi_discovery_server))?.label),e.some((e=>"ndi_discovery_server_ip"===e.variableId))&&(a.ndi_discovery_server_ip=this.camera.ndi_discovery_server_ip),e.some((e=>"freed"===e.variableId))&&(a.freed=this.camera.freed),e.some((e=>"freed_ip_address"===e.variableId))&&(a.freed_ip_address=this.camera.freed_ip_address),e.some((e=>"freed_port"===e.variableId))&&(a.freed_port=this.camera.freed_port),e.some((e=>"pan_speed"===e.variableId))&&(a.pan_speed=this.camera.panSpeed),e.some((e=>"preset"===e.variableId))&&(a.preset=t.preset.choices.find((e=>e.id==this.camera.preset))?.label),e.some((e=>"preset_speed"===e.variableId))&&(a.preset_speed=this.camera.preset_speed),e.some((e=>"tilt_speed"===e.variableId))&&(a.tilt_speed=this.camera.tiltSpeed),e.some((e=>"zoom_speed"===e.variableId))&&(a.zoom_speed=this.camera.zoomSpeed),e.some((e=>"zoom_position"===e.variableId))){let e=c(t.zoom.posZoomChoices,this.camera.zoom_position);a.zoom_position=e,a.zoom_position_int=e.replace(/['X']/gi,"")}if(e.some((e=>"pan_position"===e.variableId))){let e=c(t.pt.posPanChoices,this.camera.pan_position);a.pan_position=e,a.pan_position_int=e.replace(/['°']/gi,"")}if(e.some((e=>"tilt_position"===e.variableId))){let e=c(t.pt.posTiltChoices,this.camera.tilt_position);a.tilt_position=e,a.tilt_position_int=e.replace(/['°']/gi,"")}if(e.some((e=>"speed_control"===e.variableId))&&(a.speed_control=t.speedControl.choices.find((e=>e.id==this.camera.speedControl))?.label),e.some((e=>"focus_mode"===e.variableId))&&(a.focus_mode=this.camera.focusM),e.some((e=>"ae_response"===e.variableId))&&(a.ae_response=this.camera.ae_response),e.some((e=>"backlight"===e.variableId))&&(a.backlight=this.camera.backlight),e.some((e=>"bright_level"===e.variableId))&&(a.bright_level=this.camera.bright_level),e.some((e=>"exposure_comp"===e.variableId))&&(a.exposure_comp=this.camera.expComp),e.some((e=>"exposure_comp_level"===e.variableId))){let e="P100"===this.camera.model||"PF120"===this.camera.model?parseInt(this.camera.expCompLvl)-7:this.camera.expCompLvl;a.exposure_comp_level=e?.toString()}e.some((e=>"exposure_mode"===e.variableId))&&(a.exposure_mode=this.camera.exposure_mode),e.some((e=>"gain"===e.variableId))&&(a.gain=t.gain.value.choices.find((e=>e.id==this.camera.gain))?.label),e.some((e=>"gain_limit"===e.variableId))&&(a.gain_limit=t.gain.value.choices.find((e=>e.id==this.camera.gain_limit))?.label),e.some((e=>"gain_point"===e.variableId))&&(a.gain_point=this.camera.gain_point),e.some((e=>"gain_point_position"===e.variableId))&&(a.gain_point_position=this.camera.gain_point_position),e.some((e=>"high_sensitivity"===e.variableId))&&(a.high_sensitivity=this.camera.high_sensitivity),e.some((e=>"iris"===e.variableId))&&(a.iris=t.iris.value.choices.find((e=>e.id==this.camera.iris))?.label),e.some((e=>"shutter_control_overwrite"===e.variableId))&&(a.shutter_control_overwrite=this.camera.shutter_control_overwrite),e.some((e=>"shutter_max_speed"===e.variableId))&&(a.shutter_max_speed=this.camera.shutter_max_speed),e.some((e=>"shutter_min_speed"===e.variableId))&&(a.shutter_min_speed=this.camera.shutter_min_speed),e.some((e=>"shutter_speed"===e.variableId))&&(a.shutter_speed=t.shutter_speed?.["shutter_"+[this.camera.shutter_table]]?.find((e=>e.id==this.camera.shutter_speed))?.label),e.some((e=>"shutter_speed_overwrite"===e.variableId))&&(a.shutter_speed_overwrite=this.camera.shutter_speed_overwrite),e.some((e=>"slow_shutter_en"===e.variableId))&&(a.slow_shutter_en=this.camera.slow_shutter_en),e.some((e=>"slow_shutter_limit"===e.variableId))&&(a.slow_shutter_limit=t.slow_shutter_limit?.["shutter_"+[this.camera.shutter_table]]?.find((e=>e.id==this.camera.slow_shutter_limit))?.label),e.some((e=>"spotlight"===e.variableId))&&(a.spotlight=this.camera.spotlight),e.some((e=>"bg"===e.variableId))&&(a.bg=this.camera.bg),e.some((e=>"br"===e.variableId))&&(a.br=this.camera.br),e.some((e=>"blue_gain"===e.variableId))&&(a.blue_gain=this.camera.blue_gain),e.some((e=>"color_temp"===e.variableId))&&(a.color_temp=this.camera.color_temp),e.some((e=>"gb"===e.variableId))&&(a.gb=this.camera.gb),e.some((e=>"gr"===e.variableId))&&(a.gr=this.camera.gr),e.some((e=>"level"===e.variableId))&&(a.level=this.camera.level),e.some((e=>"matrix"===e.variableId))&&(a.matrix=this.camera.matrix),e.some((e=>"offset"===e.variableId))&&(a.offset=this.camera.offset),e.some((e=>"phase"===e.variableId))&&(a.phase=this.camera.phase),e.some((e=>"rb"===e.variableId))&&(a.rb=this.camera.rb),e.some((e=>"rg"===e.variableId))&&(a.rg=this.camera.rg),e.some((e=>"red_gain"===e.variableId))&&(a.red_gain=this.camera.red_gain),e.some((e=>"select"===e.variableId))&&(a.select=this.camera.select),e.some((e=>"speed"===e.variableId))&&(a.speed=this.camera.speed),e.some((e=>"wb_mode"===e.variableId))&&(a.wb_mode=this.camera.wb_mode),e.some((e=>"backlight_com"===e.variableId))&&(a.backlight_com=this.camera.backlight_com),e.some((e=>"chroma_suppress"===e.variableId))&&(a.chroma_suppress=this.camera.chroma_suppress),e.some((e=>"contrast"===e.variableId))&&(a.contrast=this.camera.contrast),e.some((e=>"bw_effect"===e.variableId))&&(a.bw_effect=this.camera.pictureEffect),e.some((e=>"flip"===e.variableId))&&(a.flip=this.camera.picFlip),e.some((e=>"gamma"===e.variableId))&&(a.gamma=this.camera.gamma),e.some((e=>"highlight_comp"===e.variableId))&&(a.highlight_comp=this.camera.highlight_comp),e.some((e=>"highlight_comp_mask"===e.variableId))&&(a.highlight_comp_mask=this.camera.highlight_comp_mask),e.some((e=>"hue"===e.variableId))&&(a.hue=this.camera.hue),e.some((e=>"ir_cutfilter"===e.variableId))&&(a.ir_cutfilter=this.camera.ir_cutfilter),e.some((e=>"low_latency"===e.variableId))&&(a.low_latency=this.camera.low_latency),e.some((e=>"mirror"===e.variableId))&&(a.mirror=this.camera.picMirror),e.some((e=>"nd_filter"===e.variableId))&&(a.nd_filter=this.camera.nd_filter),e.some((e=>"noise_reduction"===e.variableId))&&(a.noise_reduction=t.noise_reduction.value.choices.find((e=>e.id==this.camera.noise_reduction))?.label),e.some((e=>"saturation"===e.variableId))&&(a.saturation=this.camera.saturation),e.some((e=>"sharpness"===e.variableId))&&(a.sharpness=this.camera.sharpness),e.some((e=>"stabilizer"===e.variableId))&&(a.stabilizer=this.camera.stabilizer),e.some((e=>"threed_nr"===e.variableId))&&(a.threed_nr=this.camera.threed_nr),e.some((e=>"twod_nr"===e.variableId))&&(a.twod_nr=this.camera.twod_nr),e.some((e=>"wide_dynamic_range"===e.variableId))&&(a.wide_dynamic_range=t.wide_dynamic_range.value.choices.find((e=>e.id==this.camera.wide_dynamic_range))?.label),e.some((e=>"cm_blue_gain"===e.variableId))&&(a.cm_blue_gain=this.camera.cm_blue_gain),e.some((e=>"cm_blue_hue"===e.variableId))&&(a.cm_blue_hue=this.camera.cm_blue_hue),e.some((e=>"cm_color_gain"===e.variableId))&&(a.cm_color_gain=this.camera.cm_color_gain),e.some((e=>"cm_cyan_gain"===e.variableId))&&(a.cm_cyan_gain=this.camera.cm_cyan_gain),e.some((e=>"cm_cyan_hue"===e.variableId))&&(a.cm_cyan_hue=this.camera.cm_cyan_hue),e.some((e=>"cm_green_gain"===e.variableId))&&(a.cm_green_gain=this.camera.cm_green_gain),e.some((e=>"cm_green_hue"===e.variableId))&&(a.cm_green_hue=this.camera.cm_green_hue),e.some((e=>"cm_hue_phase"===e.variableId))&&(a.cm_hue_phase=this.camera.cm_hue_phase),e.some((e=>"cm_mag_gain"===e.variableId))&&(a.cm_mag_gain=this.camera.cm_mag_gain),e.some((e=>"cm_mag_hue"===e.variableId))&&(a.cm_mag_hue=this.camera.cm_mag_hue),e.some((e=>"cm_red_gain"===e.variableId))&&(a.cm_red_gain=this.camera.cm_red_gain),e.some((e=>"cm_red_hue"===e.variableId))&&(a.cm_red_hue=this.camera.cm_red_hue),e.some((e=>"cm_yellow_gain"===e.variableId))&&(a.cm_yellow_gain=this.camera.cm_yellow_gain),e.some((e=>"cm_yellow_hue"===e.variableId))&&(a.cm_yellow_hue=this.camera.cm_yellow_hue),e.some((e=>"brightness"===e.variableId))&&(a.brightness=this.camera.brightness),e.some((e=>"brightness_comp"===e.variableId))&&(a.brightness_comp=this.camera.brightness_comp),e.some((e=>"comp_level"===e.variableId))&&(a.comp_level=this.camera.comp_level),e.some((e=>"gamma_offset"===e.variableId))&&(a.gamma_offset=this.camera.gamma_offset),e.some((e=>"high_resolution"===e.variableId))&&(a.high_resolution=this.camera.high_resolution),e.some((e=>"video_enhancement"===e.variableId))&&(a.video_enhancement=this.camera.video_enhancement),e.some((e=>"aux"===e.variableId))&&(a.aux=this.camera.aux),e.some((e=>"rain_wiper"===e.variableId))&&(a.rain_wiper=this.camera.rain_wiper),e.some((e=>"v12vout"===e.variableId))&&(a.v12vout=this.camera.v12vout),e.some((e=>"bandwidth"===e.variableId))&&(a.bandwidth=this.camera.bandwidth),e.some((e=>"bw_balance"===e.variableId))&&(a.bw_balance=this.camera.bw_balance),e.some((e=>"crispening"===e.variableId))&&(a.crispening=this.camera.crispening),e.some((e=>"detail"===e.variableId))&&(a.detail=this.camera.detail),e.some((e=>"highlight_detail"===e.variableId))&&(a.highlight_detail=this.camera.highlight_detail),e.some((e=>"hv_balance"===e.variableId))&&(a.hv_balance=this.camera.hv_balance),e.some((e=>"limit"===e.variableId))&&(a.limit=this.camera.limit),e.some((e=>"super_low"===e.variableId))&&(a.super_low=this.camera.super_low),e.some((e=>"black_gamma_level"===e.variableId))&&(a.black_gamma_level=this.camera.black_gamma_level),e.some((e=>"black_level"===e.variableId))&&(a.black_level=this.camera.black_level),e.some((e=>"black_level_range"===e.variableId))&&(a.black_level_range=this.camera.black_level_range),e.some((e=>"effect"===e.variableId))&&(a.effect=this.camera.effect),e.some((e=>"level"===e.variableId))&&(a.level=this.camera.level),e.some((e=>"offset"===e.variableId))&&(a.offset=this.camera.offset),e.some((e=>"pattern"===e.variableId))&&(a.pattern=this.camera.pattern),e.some((e=>"pattern_fine"===e.variableId))&&(a.pattern_fine=this.camera.pattern_fine),e.some((e=>"settings"===e.variableId))&&(a.settings=this.camera.settings),e.some((e=>"visibility_enhancer"===e.variableId))&&(a.visibility_enhancer=this.camera.visibility_enhancer),e.some((e=>"scope_gamma_gain"===e.variableId))&&(a.scope_gamma_gain=this.camera.scope_gamma_gain),e.some((e=>"scope_mode"===e.variableId))&&(a.scope_mode=this.camera.scope_mode),e.some((e=>"scope_position"===e.variableId))&&(a.scope_position=this.camera.scope_position),e.some((e=>"scope_preview"===e.variableId))&&(a.scope_preview=this.camera.scope_preview),e.some((e=>"scope_program"===e.variableId))&&(a.scope_program=this.camera.scope_program),e.some((e=>"scope_size"===e.variableId))&&(a.scope_size=t.scope_size.choices.find((e=>e.id==this.camera.scope_size))?.label),e.some((e=>"scope_transparency"===e.variableId))&&(a.scope_transparency=this.camera.scope_transparency),e.some((e=>"avbr"===e.variableId))&&(a.avbr=this.camera.avbr),e.some((e=>"aud_ch"===e.variableId))&&(a.aud_ch=this.camera.aud_ch),e.some((e=>"aud_sr"===e.variableId))&&(a.aud_sr=this.camera.aud_sr),e.some((e=>"aud_stat"===e.variableId))&&(a.aud_stat=this.camera.aud_stat),e.some((e=>"dashboard_vid_status"===e.variableId))&&(a.dashboard_vid_status=this.camera.dashboard_vid_status),e.some((e=>"dev_mode"===e.variableId))&&(a.dev_mode=this.camera.dev_mode),e.some((e=>"gen_status"===e.variableId))&&(a.gen_status=this.camera.gen_status),e.some((e=>"mcu_ver"===e.variableId))&&(a.mcu_ver=this.camera.mcu_ver),e.some((e=>"net_band_perc"===e.variableId))&&(a.net_band_perc=this.camera.net_band_perc+"%"),e.some((e=>"net_mode"===e.variableId))&&(a.net_mode=this.camera.net_mode),e.some((e=>"net_speed"===e.variableId))&&(a.net_speed=this.camera.net_speed),e.some((e=>"src_stat"===e.variableId))&&(a.src_stat=this.camera.src_stat),e.some((e=>"sys_info_perc"===e.variableId))&&(a.sys_info_perc=this.camera.sys_info_perc+"%"),e.some((e=>"vid_fmt"===e.variableId))&&(a.vid_fmt=this.camera.vid_fmt),e.some((e=>"vid_fr"===e.variableId))&&(a.vid_fr=this.camera.vid_fr),e.some((e=>"vid_res"===e.variableId))&&(a.vid_res=this.camera.vid_res),e.some((e=>"vid_sra"===e.variableId))&&(a.vid_sra=this.camera.vid_sra),e.some((e=>"vid_str_name"===e.variableId))&&(a.vid_str_name=this.camera.vid_str_name),this.setVariableValues(a)}function N(){(0,n.combineRgb)(255,255,255);const e=(0,n.combineRgb)(0,0,0),t=((0,n.combineRgb)(255,0,0),(0,n.combineRgb)(0,255,0));(0,n.combineRgb)(255,102,0);let a=m(v,this.camera.firmware.major,this.camera.model);const o={};a?.standby&&(o.standby_status={type:"boolean",name:a.standby.name,description:"If the camera is in standby, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Standby",id:"val",choices:a.standby.choices,default:a.standby.default}],callback:e=>this.camera?.standby==e.options.val}),a?.freeze&&(o.freeze_status={type:"boolean",name:a.freeze.name,description:"If the camera matches the selected freeze status, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.freeze.choices,default:a.freeze.default}],callback:e=>this.camera?.freeze==e.options.val}),a?.analogAudioInGain&&(o.analogAudioInGain={type:"boolean",name:a.analogAudioInGain.name,description:"If the camera matches the selected Audio Out Gain, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Analog Audio In Gain (dB) ("+a.analogAudioInGain.range.min+" to "+a.analogAudioInGain.range.max+")",id:"val",default:a.analogAudioInGain.range.default,min:a.analogAudioInGain.range.min,max:a.analogAudioInGain.range.max}],callback:e=>this.camera?.analogAudioInGain==e.options.val}),a?.analogAudioOutGain&&(o.analogAudioOutGain={type:"boolean",name:a.analogAudioOutGain.name,description:"If the camera matches the selected Audio Out Gain, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Analog Audio Out Gain (dB) ("+a.analogAudioOutGain.range.min+" to "+a.analogAudioOutGain.range.max+")",id:"val",default:a.analogAudioOutGain.range.default,min:a.analogAudioOutGain.range.min,max:a.analogAudioOutGain.range.max}],callback:e=>this.camera?.analogAudioOutGain==e.options.val}),a?.analogAudioOutput&&(o.analogAudioOutput={type:"boolean",name:a.analogAudioOutput.name,description:"If the camera matches the selected audio ouptut selector, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Decode Comms / Decode Loop",id:"val",choices:a.analogAudioOutput.choices,default:a.analogAudioOutput.default}],callback:e=>this.camera?.analogAudioOutput==e.options.val}),a?.video_output&&(o.video_output={type:"boolean",name:a.video_output.name,description:"If the camera matches the selected Video Output mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Mode",id:"val",choices:a.video_output.choices,default:a.video_output.default}],callback:e=>this.camera?.video_output==e.options.val}),a?.bandwidth_mode&&(o.bandwidth_mode={type:"boolean",name:a.bandwidth_mode.name,description:"If the camera matches the selected encode bandwidth mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Manual / NDI Managed",id:"val",choices:a.bandwidth_mode.choices,default:a.bandwidth_mode.default}],callback:e=>this.camera?.bandwidth_mode==e.options.val}),a?.ndiAudio&&(o.ndiAudio={type:"boolean",name:a.ndiAudio.name,description:"If the camera matches the selected NDI Audio selector, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Analog / Mute",id:"val",choices:a.ndiAudio.choices,default:a.ndiAudio.default}],callback:e=>this.camera?.ndiAudio==e.options.val}),a?.ndiGroupEnable&&(o.ndiGroupEnable={type:"boolean",name:a.ndiGroupEnable.name,description:"If the camera matches the selected NDI Group Enable  selector, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"NDI Group Enable",id:"val",choices:a.ndiGroupEnable.choices,default:a.ndiGroupEnable.default}],callback:e=>this.camera?.ndiGroupEnable==e.options.val}),a?.screensaver_mode&&(o.screensaver_mode={type:"boolean",name:a.screensaver_mode.name,description:"If the camera matches the selected ScreenSaver Mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"ScreenSaver Mode",id:"val",choices:a.screensaver_mode.choices,default:a.screensaver_mode.default}],callback:e=>this.camera?.screensaver_mode==e.options.val}),a?.stream_to_network&&(o.stream_to_network={type:"boolean",name:a.stream_to_network.name,description:"If the camera matches the selected Stream to Network state, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Off",id:"val",choices:a.stream_to_network.choices,default:a.stream_to_network.default}],callback:e=>this.camera?.stream_to_network==e.options.val}),a?.tally_mode&&(o.tally_mode={type:"boolean",name:a.tally_mode.name,description:"If the camera tally matches the selected mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Mode",id:"mode",choices:a.tally_mode.choices,default:a.tally_mode.default}],callback:e=>this.camera?.tally_mode==e.options.mode}),a?.transmit_method&&(o.transmit_method={type:"boolean",name:a.transmit_method.name,description:"If the camera matches the selected transmit method, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Method",id:"val",choices:a.transmit_method.choices,default:a.transmit_method.default}],callback:e=>this.camera?.transmit_method==e.options.val}),a?.ndi_discovery_server&&(o.ndi_discovery_server={type:"boolean",name:a.ndi_discovery_server.name,description:"If the camera matches the selected NDI Discovery Server status, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Enabled / Disabled",id:"val",choices:a.ndi_discovery_server.choices,default:a.ndi_discovery_server.default}],callback:e=>this.camera?.ndi_discovery_server==e.options.val});let r=!this.camera.speedControl||"standard"===this.camera.speedControl,i=r?21:255,s=r?11:255,c=r?18:255,l=r?9:255;return a?.pt&&(o.posPan={type:"boolean",name:"PTZ - Pan Position",description:"If the camera matches the selected Pan Position, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Pan Position",id:"posPan",choices:a.pt.posPanChoices,default:a.pt.posPanDefault}],callback:e=>this.camera?.pan_position==e.options.posPan},o.posTilt={type:"boolean",name:"PTZ - Tilt Position",description:"If the camera matches the selected Tilt Position, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Tilt Position",id:"posTilt",choices:a.pt.posTiltChoices,default:a.pt.posTiltDefault}],callback:e=>this.camera?.tilt_position==e.options.posTilt}),a?.zoom&&(o.posZoom={type:"boolean",name:"PTZ - Zoom Position",description:"If the camera matches the selected Zoom Position, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Zoom Position",id:"posZoom",choices:a.zoom.posZoomChoices,default:a.zoom.posZoomDefault}],callback:e=>this.camera?.zoom_position==e.options.posZoom}),a?.panSpeed&&(o.panSpeed={type:"boolean",name:a.panSpeed.name,description:"If the camera matches the selected Pan Speed, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:`Speed (0 to ${i})`,id:"value",default:s,min:0,max:i,range:!0}],callback:e=>this.camera?.panSpeed==e.options.value}),a?.preset&&(o.preset={type:"boolean",name:a.preset.name,description:"If the camera matches the selected Preset Mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Preset Mode",id:"val",choices:a.preset.choices,default:a.preset.default}],callback:e=>this.camera?.preset==e.options.val}),a?.preset_speed&&(o.preset_speed={type:"boolean",name:a.preset_speed.name,description:"If the camera matches the selected Preset Speed, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Speed ("+a.preset_speed.range.min+" to "+a.preset_speed.range.max+")",id:"value",default:a.preset_speed.range.default,min:a.preset_speed.range.min,max:a.preset_speed.range.max}],callback:e=>this.camera?.preset_speed==e.options.value}),a?.tiltSpeed&&(o.tiltSpeed={type:"boolean",name:a.tiltSpeed.name,description:"If the camera matches the selected Tilt Speed, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:`Speed (0 to ${c})`,id:"value",default:l,min:0,max:c,range:!0}],callback:e=>this.camera?.tiltSpeed==e.options.value}),a?.zoomSpeed&&(o.zoomSpeed={type:"boolean",name:a.zoomSpeed.name,description:"If the camera matches the selected Zoom Speed, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Speed ("+a.zoomSpeed.range.min+" to "+a.zoomSpeed.range.max+")",id:"value",default:a.zoomSpeed.range.default,min:a.zoomSpeed.range.min,max:a.zoomSpeed.range.max}],callback:e=>this.camera?.zoomSpeed==e.options.value}),a?.speedControl&&(o.speedControl={type:"boolean",name:a.speedControl.name,description:"If the camera matches the selected speed mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Speed Mode",id:"val",choices:a.speedControl.choices,default:a.speedControl.default}],callback:e=>this.camera?.speedControl==e.options.val}),a?.focusM&&(o.focusMode={type:"boolean",name:a.focusM.name,description:"If the camera matches the selected focus mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Mode",id:"mode",choices:a.focusM.choices,default:a.focusM.default}],callback:e=>this.camera?.focusM==e.options.mode}),a?.ae_response&&(o.ae_response={type:"boolean",name:a.ae_response.name,description:"If the camera matches the selected Ae Response level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Ae Response ("+a.ae_response.range.min+" to "+a.ae_response.range.max+")",id:"level",default:a.ae_response.range.default,min:a.ae_response.range.min,max:a.ae_response.range.max}],callback:e=>this.camera?.ae_response==e.options.level}),a?.backlight&&(o.backlight={type:"boolean",name:a.backlight.name,description:"If the camera has Backlight on, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"mode",choices:a.backlight.choices,default:a.backlight.default}],callback:e=>this.camera?.backlight==e.options.mode}),a?.bright_level&&(o.bright_level={type:"boolean",name:a.bright_level.name,description:"If the camera matches the selected Bright Level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Level ("+a.bright_level.range.min+" to "+a.bright_level.range.max+")",id:"level",default:a.bright_level.range.default,min:a.bright_level.range.min,max:a.bright_level.range.max}],callback:e=>this.camera?.bright_level==e.options.level}),a?.expComp&&(o.exposureoCmpEn={type:"boolean",name:a.expComp.name,description:"If the camera matches the selected exposure compensation status, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"mode",choices:a.expComp.choices,default:a.expComp.default}],callback:e=>this.camera?.expComp==e.options.mode}),a?.expCompLvl&&(o.exposureCompLvl={type:"boolean",name:a.expCompLvl.name,description:"If the camera matches the selected exposure compensation level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Exposure Compensation Level ("+a.expCompLvl.range.min+" to "+a.expCompLvl.range.max+")",id:"level",default:a.expCompLvl.range.default,min:a.expCompLvl.range.min,max:a.expCompLvl.range.max}],callback:e=>this.camera?.expCompLvl==e.options.level}),a?.exposure_mode&&(o.exposureMode={type:"boolean",name:a.exposure_mode.name,description:"If the camera matches the selected exposure mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Mode",id:"mode",choices:a.exposure_mode.choices,default:a.exposure_mode.default}],callback:e=>this.camera?.exposure_mode==e.options.mode}),a?.gain&&(o.gain={type:"boolean",name:a.gain.name,description:"If the camera matches the selected gain, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Gain (dB)",id:"gain",choices:a.gain.choices,default:a.gain.default}],callback:e=>this.camera?.gain==e.options.gain}),a?.gain_limit&&(o.gain_limit={type:"boolean",name:a.gain_limit.name,description:"If the camera matches the selected gain limit, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Gain Limit (dB)",id:"gain",choices:a.gain.choices.slice(a.gain_limit.range.min-1,a.gain_limit.range.max+1),default:a.gain_limit.range.default}],callback:e=>this.camera?.gain_limit==e.options.gain}),a?.gain_point&&(o.gain_point={type:"boolean",name:a.gain_point.name,description:"If the camera has gain point on, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Gain Point",id:"val",choices:b.ON_OFF,default:"On"}],callback:e=>this.camera?.gain_point==e.options.val}),a?.gain_point_position&&(o.gain_point_position={type:"boolean",name:a.gain_point_position.name,description:"If the camera matches the selected gain point, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Gain Point (dB)",id:"gain",choices:a.gain.choices,default:a.gain.default}],callback:e=>this.camera?.gain_point_position==e.options.gain}),a?.high_sensitivity&&(o.high_sensitivity={type:"boolean",name:a.high_sensitivity.name,description:"If the camera has high sensitivity turned on, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.high_sensitivity.choices,default:a.high_sensitivity.default}],callback:e=>this.camera?.high_sensitivity==e.options.val}),a?.iris&&(o.iris={type:"boolean",name:a.iris.name,description:"If the camera matches the selected Iris value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Iris",id:"val",choices:a.iris.choices,default:a.iris.default}],callback:e=>this.camera?.iris==e.options.val}),a?.shutter_control_overwrite&&(o.shutter_control_overwrite={type:"boolean",name:a.shutter_control_overwrite.name,description:"If the camera has Shutter Control Overwrite turned on, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Off",id:"val",choices:a.shutter_control_overwrite.choices,default:a.shutter_control_overwrite.default}],callback:e=>this.camera?.shutter_control_overwrite==e.options.val}),a?.shutter_max_speed&&(o.shushutter_max_speedt={type:"boolean",name:a.shutter_max_speed.name,description:"If the camera matches the selected shutter max speed, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Shutter Speed",id:"val",choices:a.shut?.["shutter_"+[this.camera.shutter_table]].slice(a.shutter_max_speed.range.min,a.shutter_max_speed.range.max+1),default:a.shutter_max_speed.range.default}],callback:e=>this.camera?.shutter_max_speed==e.options.val}),a?.shutter_min_speed&&(o.shushutter_min_speedt={type:"boolean",name:a.shutter_min_speed.name,description:"If the camera matches the selected shutter max speed, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Shutter Speed",id:"val",choices:a.shut?.["shutter_"+[this.camera.shutter_table]].slice(a.shutter_min_speed.range.min,a.shutter_min_speed.range.max+1),default:a.shutter_min_speed.range.default}],callback:e=>this.camera?.shutter_min_speed==e.options.val}),a?.shutter_speed&&(o.shut={type:"boolean",name:a.shutter_speed.name,description:"If the camera matches the selected shutter speed, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Shutter Speed",id:"val",choices:a.shutter_speed?.["shutter_"+[this.camera.shutter_table]],default:a.shutter_speed.default}],callback:e=>this.camera?.shutter_speed==e.options.val}),a?.shutter_speed_overwrite&&(o.shutter_speed_overwrite={type:"boolean",name:a.shutter_speed_overwrite.name,description:"If the camera matches the selected Shutter Speed Overwrite level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Hz ("+a.shutter_speed_overwrite.range.min+" to "+a.shutter_speed_overwrite.range.max+")",id:"level",default:a.shutter_speed_overwrite.range.default,min:a.shutter_speed_overwrite.range.min,max:a.shutter_speed_overwrite.range.max}],callback:e=>this.camera?.shutter_speed_overwrite==e.options.level}),a?.slow_shutter_en&&(o.slow_shutter_en={type:"boolean",name:a.slow_shutter_en.name,description:"If the camera matches the Slow Shutter state, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Off",id:"val",choices:a.slow_shutter_en.choices,default:a.slow_shutter_en.default}],callback:e=>this.camera?.slow_shutter_en==e.options.val}),a?.slow_shutter_limit&&(o.slow_shutter_limit={type:"boolean",name:a.slow_shutter_limit.name,description:"If the camera matches the selected slow shutter limit, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Shutter Speed",id:"val",choices:a.slow_shutter_limit?.["shutter_"+[this.camera.shutter_table]],default:a.slow_shutter_limit.range.default}],callback:e=>this.camera?.slow_shutter_limit==e.options.val}),a?.spotlight&&(o.spotlight={type:"boolean",name:a.spotlight.name,description:"If the camera matches the Spotlight state, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Off",id:"val",choices:a.spotlight.choices,default:a.spotlight.default}],callback:e=>this.camera?.spotlight==e.options.val}),a?.bg&&(o.bg={type:"boolean",name:a.bg.name,description:"If the camera matches the selected BG level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.bg.range.min+" to "+a.bg.range.max+")",id:"level",default:a.bg.range.default,min:a.bg.range.min,max:a.bg.range.max}],callback:e=>this.camera?.bg==e.options.level}),a?.br&&(o.br={type:"boolean",name:a.br.name,description:"If the camera matches the selected BR level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.br.range.min+" to "+a.br.range.max+")",id:"level",default:a.br.range.default,min:a.br.range.min,max:a.br.range.max}],callback:e=>this.camera?.br==e.options.level}),a?.blue_gain&&(o.blue_gain={type:"boolean",name:a.blue_gain.name,description:"If the camera matches the selected BR level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.blue_gain.range.min+" to "+a.blue_gain.range.max+")",id:"level",default:a.blue_gain.range.default,min:a.blue_gain.range.min,max:a.blue_gain.range.max}],callback:e=>this.camera?.blue_gain==e.options.level}),a?.color_temp&&(o.color_temp={type:"boolean",name:a.color_temp.name,description:"If the camera color temperature matches the selected color temperature, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Color Temperature (k)",id:"val",choices:a.color_temp.choices,default:a.color_temp.default}],callback:e=>this.camera?.color_temp==e.options.val}),a?.gb&&(o.gb={type:"boolean",name:a.gb.name,description:"If the camera matches the selected GB level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.gb.range.min+" to "+a.gb.range.max+")",id:"level",default:a.gb.range.default,min:a.gb.range.min,max:a.gb.range.max}],callback:e=>this.camera?.gb==e.options.level}),a?.gr&&(o.gr={type:"boolean",name:a.gr.name,description:"If the camera matches the selected GR level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.gr.range.min+" to "+a.gr.range.max+")",id:"level",default:a.gr.range.default,min:a.gr.range.min,max:a.gr.range.max}],callback:e=>this.camera?.gr==e.options.level}),a?.level&&(o.level={type:"boolean",name:a.level.name,description:"If the camera matches the selected level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.level.range.min+" to "+a.level.range.max+")",id:"level",default:a.level.range.default,min:a.level.range.min,max:a.level.range.max}],callback:e=>this.camera?.level==e.options.level}),a?.matrix&&(o.matrix={type:"boolean",name:a.matrix.name,description:"If the camera matches the selected Matrix mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Off",id:"val",choices:a.matrix.choices,default:a.matrix.default}],callback:e=>this.camera?.matrix==e.options.white_balance}),a?.offset&&(o.offset={type:"boolean",name:a.offset.name,description:"If the camera matches the selected Offset level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.offset.range.min+" to "+a.offset.range.max+")",id:"value",default:a.offset.range.default,min:a.offset.range.min,max:a.offset.range.max}],callback:e=>this.camera?.offset==e.options.level}),a?.phase&&(o.phase={type:"boolean",name:a.phase.name,description:"If the camera matches the selected Phase level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.phase.range.min+" to "+a.phase.range.max+")",id:"value",default:a.phase.range.default,min:a.phase.range.min,max:a.phase.range.max}],callback:e=>this.camera?.phase==e.options.level}),a?.rb&&(o.rb={type:"boolean",name:a.rb.name,description:"If the camera matches the selected RB level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.rb.range.min+" to "+a.rb.range.max+")",id:"value",default:a.rb.range.default,min:a.rb.range.min,max:a.rb.range.max}],callback:e=>this.camera?.rb==e.options.level}),a?.rg&&(o.rg={type:"boolean",name:a.rg.name,description:"If the camera matches the selected RG level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.rg.range.min+" to "+a.rg.range.max+")",id:"value",default:a.rg.range.default,min:a.rg.range.min,max:a.rg.range.max}],callback:e=>this.camera?.rg==e.options.level}),a?.red_gain&&(o.red_gain={type:"boolean",name:a.red_gain.name,description:"If the camera matches the selected Red Gain level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.red_gain.range.min+" to "+a.red_gain.range.max+")",id:"level",default:a.red_gain.range.default,min:a.red_gain.range.min,max:a.red_gain.range.max}],callback:e=>this.camera?.red_gain==e.options.level}),a?.select&&(o.select={type:"boolean",name:a.select.name,description:"change the default style of the button based on the WB mode",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Off",id:"val",choices:a.select.choices,default:a.select.default}],callback:e=>this.camera?.select==e.options.val}),a?.speed&&(o.speed={type:"boolean",name:a.speed.name,description:"If the camera matches the selected Speed level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.speed.range.min+" to "+a.speed.range.max+")",id:"value",default:a.speed.range.default,min:a.speed.range.min,max:a.speed.range.max}],callback:e=>this.camera?.speed==e.options.level}),a?.wb_mode&&(o.wb_mode={type:"boolean",name:a.wb_mode.name,description:"change the default style of the button based on the WB mode",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"White Balance Mode",id:"mode",choices:a.wb_mode.choices,default:a.wb_mode.default}],callback:e=>this.camera?.wb_mode==e.options.mode}),a?.backlight_com&&(o.backlight_com={type:"boolean",name:a.backlight_com.name,description:"If the camera matches the selected Backlight Compensation, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Off",id:"val",choices:a.backlight_com.choices,default:a.backlight_com.default}],callback:e=>this.camera?.backlight_com==e.options.val}),a?.chroma_suppress&&(o.chroma_suppress={type:"boolean",name:a.chroma_suppress.name,description:"If the camera matches the selected Chroma Suppression, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Mode",id:"val",choices:a.chroma_suppress.choices,default:a.chroma_suppress.default}],callback:e=>this.camera?.chroma_suppress==e.options.val}),a?.contrast&&(o.contrast={type:"boolean",name:a.contrast.name,description:"If the camera matches the selected Contrast level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.contrast.range.min+" to "+a.contrast.range.max+")",id:"value",min:a.contrast.range.min,max:a.contrast.range.max,default:a.contrast.range.default,isVisible:e=>"value"===e.options.val}],callback:e=>this.camera?.contrast==e.options.value}),a?.pictureEffect&&(o.pictureEffect={type:"boolean",name:a.pictureEffect.name,description:"If the camera matches the selected Effect mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Effect",id:"val",choices:a.pictureEffect.choices,default:a.pictureEffect.default}],callback:e=>this.camera?.pictureEffect==e.options.val}),a?.picFlip&&(o.picFlip={type:"boolean",name:a.picFlip.name,description:"If the camera matches the selected Flip mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.picFlip.choices,default:a.picFlip.default}],callback:e=>this.camera?.picFlip==e.options.val}),a?.gamma&&(o.gamma={type:"boolean",name:a.gamma.name,description:"If the camera matches the selected Gamma value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.gamma.range.min+" to "+a.gamma.range.max+")",id:"value",min:a.gamma.range.min,max:a.gamma.range.max,default:a.gamma.range.default}],callback:e=>this.camera?.gamma==e.options.value}),a?.highlight_comp&&(o.highlight_comp={type:"boolean",name:a.highlight_comp.name,description:"If the camera matches the selected Highlight Compensation mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Highlight Compensation",id:"val",choices:a.highlight_comp.choices,default:a.highlight_comp.default}],callback:e=>this.camera?.highlight_comp==e.options.val}),a?.highlight_comp_mask&&(o.highlight_comp_mask={type:"boolean",name:a.highlight_comp_mask.name,description:"If the camera matches the selected Highlight Compensation Mask value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.highlight_comp_mask.range.min+" to "+a.highlight_comp_mask.range.max+")",id:"value",min:a.highlight_comp_mask.range.min,max:a.highlight_comp_mask.range.max,default:a.highlight_comp_mask.range.default}],callback:e=>this.camera?.highlight_comp_mask==e.options.value}),a?.hue&&(o.hue={type:"boolean",name:a.hue.name,description:"If the camera matches the selected Hue value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.hue.range.min+" to "+a.hue.range.max+")",id:"value",min:a.hue.range.min,max:a.hue.range.max,default:a.hue.range.default}],callback:e=>this.camera?.hue==e.options.value}),a?.ir_cutfilter&&(o.ir_cutfilter={type:"boolean",name:a.ir_cutfilter.name,description:"If the camera matches the selected IR Cut Filter mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Mode",id:"val",choices:a.ir_cutfilter.choices,default:a.ir_cutfilter.default}],callback:e=>this.camera?.ir_cutfilter==e.options.val}),a?.low_latency&&(o.low_latency={type:"boolean",name:a.low_latency.name,description:"If the camera matches the selected Low Latency mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.low_latency.choices,default:a.low_latency.default}],callback:e=>this.camera?.low_latency==e.options.val}),a?.picMirror&&(o.picMirror={type:"boolean",name:a.picMirror.name,description:"If the camera matches the selected Picture Mirror mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.picMirror.choices,default:a.picMirror.default}],callback:e=>this.camera?.picMirror==e.options.val}),a?.nd_filter&&(o.nd_filter={type:"boolean",name:a.nd_filter.name,description:"If the camera matches the selected ND Filter value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.nd_filter.range.min+" to "+a.nd_filter.range.max+")",id:"value",min:a.nd_filter.range.min,max:a.nd_filter.range.max,default:a.nd_filter.range.default}],callback:e=>this.camera?.nd_filter==e.options.value}),a?.noise_reduction&&(o.noise_reduction={type:"boolean",name:a.noise_reduction.name,description:"If the camera matches the selected Noise Reduction mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Noise Reduction",id:"val",choices:a.noise_reduction.choices,default:a.noise_reduction.default}],callback:e=>this.camera?.noise_reduction==e.options.val}),a?.saturation&&(o.saturation={type:"boolean",name:a.saturation.name,description:"If the camera matches the selected saturation level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.saturation.range.min+" to "+a.saturation.range.max+")",id:"value",min:a.saturation.range.min,max:a.saturation.range.max,default:a.saturation.range.default}],callback:e=>this.camera?.saturation==e.options.value}),a?.sharpness&&(o.sharpness={type:"boolean",name:a.sharpness.name,description:"If the camera matches the selected Sharpness value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.sharpness.range.min+" to "+a.sharpness.range.max+")",id:"value",min:a.sharpness.range.min,max:a.sharpness.range.max,default:a.sharpness.range.default}],callback:e=>this.camera?.sharpness==e.options.value}),a?.stabilizer&&(o.stabilizer={type:"boolean",name:a.stabilizer.name,description:"If the camera matches the selected Stabilizer mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.stabilizer.choices,default:a.stabilizer.default}],callback:e=>this.camera?.stabilizer==e.options.val}),a?.threed_nr&&(o.threed_nr={type:"boolean",name:a.threed_nr.name,description:"If the camera matches the selected 3D Noise Reduction mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"3D NR",id:"val",choices:a.threed_nr.choices,default:a.threed_nr.default}],callback:e=>this.camera?.threed_nr==e.options.val}),a?.twod_nr&&(o.twod_nr={type:"boolean",name:a.twod_nr.name,description:"If the camera matches the selected 2D Noise Reduction mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"2D NR",id:"val",choices:a.twod_nr.choices,default:a.twod_nr.default}],callback:e=>this.camera?.twod_nr==e.options.val}),a?.wide_dynamic_range&&(o.wide_dynamic_range={type:"boolean",name:a.wide_dynamic_range.name,description:"If the camera matches the selected Wide Dynamic Range mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Wide Dynamic Range",id:"val",choices:a.wide_dynamic_range.choices,default:a.wide_dynamic_range.default}],callback:e=>this.camera?.wide_dynamic_range==e.options.val}),a?.cm_blue_gain&&(o.cm_blue_gain={type:"boolean",name:a.cm_blue_gain.name,description:"If the camera matches the selected Blue Gain value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_blue_gain.range.min+" to "+a.cm_blue_gain.range.max+")",id:"value",min:a.cm_blue_gain.range.min,max:a.cm_blue_gain.range.max,default:a.cm_blue_gain.range.default}],callback:e=>this.camera?.cm_blue_gain==e.options.value}),a?.cm_blue_hue&&(o.cm_blue_hue={type:"boolean",name:a.cm_blue_hue.name,description:"If the camera matches the selected Blue Hue value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_blue_hue.range.min+" to "+a.cm_blue_hue.range.max+")",id:"value",min:a.cm_blue_hue.range.min,max:a.cm_blue_hue.range.max,default:a.cm_blue_hue.range.default}],callback:e=>this.camera?.cm_blue_hue==e.options.value}),a?.cm_color_gain&&(o.cm_color_gain={type:"boolean",name:a.cm_color_gain.name,description:"If the camera matches the selected Color Gain value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_color_gain.range.min+" to "+a.cm_color_gain.range.max+")",id:"value",min:a.cm_color_gain.range.min,max:a.cm_color_gain.range.max,default:a.cm_color_gain.range.default}],callback:e=>this.camera?.cm_color_gain==e.options.value}),a?.cm_cyan_gain&&(o.cm_cyan_gain={type:"boolean",name:a.cm_cyan_gain.name,description:"If the camera matches the selected Cyan Gain value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_cyan_gain.range.min+" to "+a.cm_cyan_gain.range.max+")",id:"value",min:a.cm_cyan_gain.range.min,max:a.cm_cyan_gain.range.max,default:a.cm_cyan_gain.range.default}],callback:e=>this.camera?.cm_cyan_gain==e.options.value}),a?.cm_cyan_hue&&(o.cm_cyan_hue={type:"boolean",name:a.cm_cyan_hue.name,description:"If the camera matches the selected Cyan Hue value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_cyan_hue.range.min+" to "+a.cm_cyan_hue.range.max+")",id:"value",min:a.cm_cyan_hue.range.min,max:a.cm_cyan_hue.range.max,default:a.cm_cyan_hue.range.default}],callback:e=>this.camera?.cm_cyan_hue==e.options.value}),a?.cm_green_gain&&(o.cm_green_gain={type:"boolean",name:a.cm_green_gain.name,description:"If the camera matches the selected Green Gain value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_green_gain.range.min+" to "+a.cm_green_gain.range.max+")",id:"value",min:a.cm_green_gain.range.min,max:a.cm_green_gain.range.max,default:a.cm_green_gain.range.default}],callback:e=>this.camera?.cm_green_gain==e.options.value}),a?.cm_green_hue&&(o.cm_green_hue={type:"boolean",name:a.cm_green_hue.name,description:"If the camera matches the selected Green Hue value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_green_hue.range.min+" to "+a.cm_green_hue.range.max+")",id:"value",min:a.cm_green_hue.range.min,max:a.cm_green_hue.range.max,default:a.cm_green_hue.range.default}],callback:e=>this.camera?.cm_green_hue==e.options.value}),a?.cm_hue_phase&&(o.cm_hue_phase={type:"boolean",name:a.cm_hue_phase.name,description:"If the camera matches the selected Hue Phase value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_hue_phase.range.min+" to "+a.cm_hue_phase.range.max+")",id:"value",min:a.cm_hue_phase.range.min,max:a.cm_hue_phase.range.max,default:a.cm_hue_phase.range.default}],callback:e=>this.camera?.cm_hue_phase==e.options.value}),a?.cm_mag_gain&&(o.cm_mag_gain={type:"boolean",name:a.cm_mag_gain.name,description:"If the camera matches the selected Magenta Gain value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_mag_gain.range.min+" to "+a.cm_mag_gain.range.max+")",id:"value",min:a.cm_mag_gain.range.min,max:a.cm_mag_gain.range.max,default:a.cm_mag_gain.range.default}],callback:e=>this.camera?.cm_mag_gain==e.options.value}),a?.cm_mag_hue&&(o.cm_mag_hue={type:"boolean",name:a.cm_mag_hue.name,description:"If the camera matches the selected Magenta Hue value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_mag_hue.range.min+" to "+a.cm_mag_hue.range.max+")",id:"value",min:a.cm_mag_hue.range.min,max:a.cm_mag_hue.range.max,default:a.cm_mag_hue.range.default}],callback:e=>this.camera?.cm_mag_hue==e.options.value}),a?.cm_red_gain&&(o.cm_red_gain={type:"boolean",name:a.cm_red_gain.name,description:"If the camera matches the selected Red Gain value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_red_gain.range.min+" to "+a.cm_red_gain.range.max+")",id:"value",min:a.cm_red_gain.range.min,max:a.cm_red_gain.range.max,default:a.cm_red_gain.range.default}],callback:e=>this.camera?.cm_red_gain==e.options.value}),a?.cm_red_hue&&(o.cm_red_hue={type:"boolean",name:a.cm_red_hue.name,description:"If the camera matches the selected Red Hue value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_red_hue.range.min+" to "+a.cm_red_hue.range.max+")",id:"value",min:a.cm_red_hue.range.min,max:a.cm_red_hue.range.max,default:a.cm_red_hue.range.default}],callback:e=>this.camera?.cm_red_hue==e.options.value}),a?.cm_yellow_gain&&(o.cm_yellow_gain={type:"boolean",name:a.cm_yellow_gain.name,description:"If the camera matches the selected Yellow Gain value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_yellow_gain.range.min+" to "+a.cm_yellow_gain.range.max+")",id:"value",min:a.cm_yellow_gain.range.min,max:a.cm_yellow_gain.range.max,default:a.cm_yellow_gain.range.default}],callback:e=>this.camera?.cm_yellow_gain==e.options.value}),a?.cm_yellow_hue&&(o.cm_yellow_hue={type:"boolean",name:a.cm_yellow_hue.name,description:"If the camera matches the selected Yellow Hue value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_yellow_hue.range.min+" to "+a.cm_yellow_hue.range.max+")",id:"value",min:a.cm_yellow_hue.range.min,max:a.cm_yellow_hue.range.max,default:a.cm_yellow_hue.range.default}],callback:e=>this.camera?.cm_yellow_hue==e.options.value}),a?.brightness&&(o.brightness={type:"boolean",name:a.brightness.name,description:"If the camera matches the selected Brightness value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.brightness.range.min+" to "+a.brightness.range.max+")",id:"value",min:a.brightness.range.min,max:a.brightness.range.max,default:a.brightness.range.default}],callback:e=>this.camera?.brightness==e.options.value}),a?.brightness_comp&&(o.brightness_comp={type:"boolean",name:a.brightness_comp.name,description:"If the camera matches the selected Brightness Compensation mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Mode",id:"val",choices:a.brightness_comp.choices,default:a.brightness_comp.default}],callback:e=>this.camera?.brightness_comp==e.options.val}),a?.comp_level&&(o.comp_level={type:"boolean",name:a.comp_level.name,description:"If the camera matches the selected Compensation Level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Level",id:"val",choices:a.comp_level.choices,default:a.comp_level.default}],callback:e=>this.camera?.comp_level==e.options.val}),a?.gamma_offset&&(o.gamma_offset={type:"boolean",name:a.gamma_offset.name,description:"If the camera matches the selected Gamma Offset value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.gamma_offset.range.min+" to "+a.gamma_offset.range.max+")",id:"value",min:a.gamma_offset.range.min,max:a.gamma_offset.range.max,default:a.gamma_offset.range.default}],callback:e=>this.camera?.gamma_offset==e.options.value}),a?.high_resolution&&(o.high_resolution={type:"boolean",name:a.high_resolution.name,description:"If the camera matches the selected High Resolution mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.high_resolution.choices,default:a.high_resolution.default}],callback:e=>this.camera?.high_resolution==e.options.val}),a?.video_enhancement&&(o.video_enhancement={type:"boolean",name:a.video_enhancement.name,description:"If the camera matches the selected Video Enhancement mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.video_enhancement.choices,default:a.video_enhancement.default}],callback:e=>this.camera?.video_enhancement==e.options.val}),a?.aux&&(o.aux={type:"boolean",name:a.aux.name,description:"If the camera matches the selected Aux mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.aux.choices,default:a.aux.default}],callback:e=>this.camera?.aux==e.options.val}),a?.rain_wiper&&(o.rain_wiper={type:"boolean",name:a.rain_wiper.name,description:"If the camera matches the selected Rain Wiper mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.rain_wiper.choices,default:a.rain_wiper.default}],callback:e=>this.camera?.rain_wiper==e.options.val}),a?.v12vout&&(o.v12vout={type:"boolean",name:a.v12vout.name,description:"If the camera matches the selected 12v Out mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.v12vout.choices,default:a.v12vout.default}],callback:e=>this.camera?.v12vout==e.options.val}),a?.bandwidth&&(o.bandwidth={type:"boolean",name:a.bandwidth.name,description:"If the camera matches the selected Bandwidth mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Mode",id:"val",choices:a.bandwidth.choices,default:a.bandwidth.default}],callback:e=>this.camera?.bandwidth==e.options.val}),a?.bw_balance&&(o.bw_balance={type:"boolean",name:a.bw_balance.name,description:"If the camera matches the selected BW Bandwidth mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Mode",id:"val",choices:a.bw_balance.choices,default:a.bw_balance.default}],callback:e=>this.camera?.bw_balance==e.options.val}),a?.crispening&&(o.crispening={type:"boolean",name:a.crispening.name,description:"If the camera matches the selected Crispening value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.crispening.range.min+" to "+a.crispening.range.max+")",id:"value",min:a.crispening.range.min,max:a.crispening.range.max,default:a.crispening.range.default}],callback:e=>this.camera?.crispening==e.options.value}),a?.detail&&(o.detail={type:"boolean",name:a.detail.name,description:"If the camera matches the selected Detail value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.detail.choices,default:a.detail.default}],callback:e=>this.camera?.detail==e.options.val}),a?.highlight_detail&&(o.highlight_detail={type:"boolean",name:a.highlight_detail.name,description:"If the camera matches the selected Highlight Detail value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.highlight_detail.range.min+" to "+a.highlight_detail.range.max+")",id:"value",min:a.highlight_detail.range.min,max:a.highlight_detail.range.max,default:a.highlight_detail.range.default}],callback:e=>this.camera?.highlight_detail==e.options.value}),a?.hv_balance&&(o.hv_balance={type:"boolean",name:a.hv_balance.name,description:"If the camera matches the selected Hv Balance value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.hv_balance.range.min+" to "+a.hv_balance.range.max+")",id:"value",min:a.hv_balance.range.min,max:a.hv_balance.range.max,default:a.hv_balance.range.default}],callback:e=>this.camera?.hv_balance==e.options.value}),a?.limit&&(o.limit={type:"boolean",name:a.limit.name,description:"If the camera matches the selected Limit value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.limit.range.min+" to "+a.limit.range.max+")",id:"value",min:a.limit.range.min,max:a.limit.range.max,default:a.limit.range.default}],callback:e=>this.camera?.limit==e.options.value}),a?.super_low&&(o.super_low={type:"boolean",name:a.super_low.name,description:"If the camera matches the selected Super Low value, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.super_low.range.min+" to "+a.super_low.range.max+")",id:"value",min:a.super_low.range.min,max:a.super_low.range.max,default:a.super_low.range.default}],callback:e=>this.camera?.super_low==e.options.value}),a?.black_gamma_level&&(o.black_gamma_level={type:"boolean",name:a.black_gamma_level.name,description:"If the camera matches the selected Black Gamma Level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Level ("+a.black_gamma_level.range.min+" to "+a.black_gamma_level.range.max+")",id:"value",min:a.black_gamma_level.range.min,max:a.black_gamma_level.range.max,default:a.black_gamma_level.range.default}],callback:e=>this.camera?.black_gamma_level==e.options.value}),a?.black_level&&(o.black_level={type:"boolean",name:a.black_level.name,description:"If the camera matches the selected Black Level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Level ("+a.black_level.range.min+" to "+a.black_level.range.max+")",id:"value",min:a.black_level.range.min,max:a.black_level.range.max,default:a.black_level.range.default}],callback:e=>this.camera?.black_level==e.options.value}),a?.black_level_range&&(o.black_level_range={type:"boolean",name:a.black_level_range.name,description:"If the camera matches the selected Black Level Range, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Black Level Range",id:"val",choices:a.black_level_range.choices,default:a.black_level_range.default}],callback:e=>this.camera?.black_level_range==e.options.val}),a?.effect&&(o.effect={type:"boolean",name:a.effect.name,description:"If the camera matches the selected Effect Range, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.effect.range.min+" to "+a.effect.range.max+")",id:"value",min:a.effect.range.min,max:a.effect.range.max,default:a.effect.range.default}],callback:e=>this.camera?.effect==e.options.value}),a?.level&&(o.level={type:"boolean",name:a.level.name,description:"If the camera matches the selected Level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.level.range.min+" to "+a.level.range.max+")",id:"value",min:a.level.range.min,max:a.level.range.max,default:a.level.range.default}],callback:e=>this.camera?.level==e.options.value}),a?.offset&&(o.offset={type:"boolean",name:a.offset.name,description:"If the camera matches the selected Offset level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.offset.range.min+" to "+a.offset.range.max+")",id:"value",min:a.offset.range.min,max:a.offset.range.max,default:a.offset.range.default}],callback:e=>this.camera?.offset==e.options.value}),a?.pattern&&(o.pattern={type:"boolean",name:a.pattern.name,description:"If the camera matches the selected Pattern level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.pattern.range.min+" to "+a.pattern.range.max+")",id:"value",min:a.pattern.range.min,max:a.pattern.range.max,default:a.pattern.range.default}],callback:e=>this.camera?.pattern==e.options.value}),a?.pattern_fine&&(o.pattern_fine={type:"boolean",name:a.pattern_fine.name,description:"If the camera matches the selected Pattern Fine level, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.pattern_fine.range.min+" to "+a.pattern_fine.range.max+")",id:"value",min:a.pattern_fine.range.min,max:a.pattern_fine.range.max,default:a.pattern_fine.range.default}],callback:e=>this.camera?.pattern_fine==e.options.value}),a?.settings&&(o.settings={type:"boolean",name:a.settings.name,description:"If the camera matches the selected Settings mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Settings",id:"value",choices:a.settings.choices,default:a.settings.default}],callback:e=>this.camera?.settings==e.options.value}),a?.visibility_enhancer&&(o.visibility_enhancer={type:"boolean",name:a.visibility_enhancer.name,description:"If the camera matches the selected Visibility Enhancer mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Settings",id:"value",choices:a.visibility_enhancer.choices,default:a.visibility_enhancer.default}],callback:e=>this.camera?.visibility_enhancer==e.options.value}),a?.scope_size&&(o.scope_size={type:"boolean",name:a.scope_size.name,description:"If the camera matches the selected Scope Size, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Off",id:"value",choices:a.scope_size.choices,default:a.scope_size.default}],callback:e=>this.camera?.scope_size==e.options.value}),a?.scope_gamma_gain&&(o.scope_gamma_gain={type:"boolean",name:a.scope_gamma_gain.name,description:"If the camera matches the selected Scope Gamma Gain, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.scope_gamma_gain.range.min+" to "+a.scope_gamma_gain.range.max+")",id:"value",min:a.scope_gamma_gain.range.min,max:a.scope_gamma_gain.range.max,default:a.scope_gamma_gain.range.default}],callback:e=>this.camera?.scope_gamma_gain==e.options.value}),a?.scope_mode&&(o.scope_mode={type:"boolean",name:a.scope_mode.name,description:"If the camera matches the selected Scope Mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Mode",id:"value",choices:a.scope_mode.choices,default:a.scope_mode.default}],callback:e=>this.camera?.scope_mode==e.options.value}),a?.scope_position&&(o.scope_position={type:"boolean",name:a.scope_position.name,description:"If the camera matches the selected scope position, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Position",id:"value",choices:a.scope_position.choices,default:a.scope_position.default}],callback:e=>this.camera?.scope_position==e.options.value}),a?.scope_preview&&(o.scope_preview={type:"boolean",name:a.scope_preview.name,description:"If the camera matches the selected scope preview mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Off",id:"value",choices:a.scope_preview.choices,default:a.scope_preview.default}],callback:e=>this.camera?.scope_preview==e.options.value}),a?.scope_program&&(o.scope_program={type:"boolean",name:a.scope_program.name,description:"If the camera matches the selected scope program mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Off",id:"value",choices:a.scope_program.choices,default:a.scope_program.default}],callback:e=>this.camera?.scope_program==e.options.value}),a?.scope_transparency&&(o.scope_transparency={type:"boolean",name:a.scope_transparency.name,description:"If the camera matches the selected scope transparency mode, change the default style of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Off",id:"value",choices:a.scope_transparency.choices,default:a.scope_transparency.default}],callback:e=>this.camera?.scope_transparency==e.options.value}),this.setFeedbackDefinitions(o),Object.fromEntries(Object.entries(o).sort(d))}const R=[function(e,t){let a={updatedConfig:null,updatedActions:[],updatedFeedbacks:[]};return t.actions.forEach((e=>{if("freeze"===e.actionId&&("0"==e.options.val?e.options.val="On":"1"==e.options.val&&(e.options.val="Off"),a.updatedActions.push(e)),"power"===e.actionId&&(e.actionId="standby","0"==e.options.val?e.options.val="on":"1"==e.options.val&&(e.options.val="standby"),a.updatedActions.push(e)),"hrMode"!==e.actionId&&"highSensitivity"!==e.actionId||("1"==e.options.bol?e.options.val="On":"0"==e.options.bol&&(e.options.val="Off"),a.updatedActions.push(e)),"picFlip"!==e.actionId&&"picMirror"!==e.actionId||("1"==e.options.val?e.options.val="On":"0"==e.options.val&&(e.options.val="Off"),a.updatedActions.push(e)),"wb"===e.actionId){let t;if(isNaN(e.options.val))t=e.options.val;else switch(e.options.val){case"0":t="AUTO";break;case"1":t="INDOOR";break;case"2":t="OUTDOOR";break;case"3":case"6":t="ONEPUSH";break;case"4":t="ATW";break;case"5":t="MANUAL1";break;case"7":t="OUTDOOR-AUTO";break;case"8":t="SLV-AUTO";break;case"9":t="SLV";break;case"10":t="SLV-OUTDOOR-AUTO"}e.options.val=t,a.updatedActions.push(e)}if("expM"===e.actionId){let t;if(isNaN(e.options.val))t=e.options.val;else switch(e.options.val){case"0":t="FULL-AUTO";break;case"1":t="MANUAL";break;case"2":t="SHUTTER-PRI";break;case"3":t="IRIS-PRI"}e.options.val=t,a.updatedActions.push(e)}if("pictureEffect"===e.actionId&&("1"==e.options.val||"2"==e.options.val?e.options.val="BW":"0"==e.options.val&&(e.options.val="Off"),a.updatedActions.push(e)),"focusM"===e.actionId&&("0"==e.options.bol?e.options.val="Auto":"1"==e.options.bol&&(e.options.val="Manual"),a.updatedActions.push(e)),"tally"===e.actionId&&("1"==e.options.bol?e.options.val="TallyOn":"0"==e.options.bol&&(e.options.val="TallyOff"),a.updatedActions.push(e)),"irMode"===e.actionId&&(e.actionId="ir_cutfilter","0"==e.options.bol?e.options.val="On":"1"==e.options.bol&&(e.options.val="Off"),a.updatedActions.push(e)),"ptSpeedU"===e.actionId&&(e.actionId="panSpeed",e.options.type="up",a.updatedActions.push(e)),"ptSpeedD"===e.actionId&&(e.actionId="panSpeed",e.options.type="down",a.updatedActions.push(e)),"ptSpeedS"===e.actionId){let t;if(e.actionId="panSpeed",e.options.type="value",e.options.speed)switch(e.options.speed){case"01":t=1;break;case"02":t=2;break;case"03":t=3;break;case"04":t=4;break;case"05":t=5;break;case"06":t=6;break;case"07":t=7;break;case"08":t=8;break;case"09":t=9;break;case"0A":t=10;break;case"0B":t=11;break;case"0C":t=12;break;case"0D":t=13;break;case"0E":t=14;break;case"0F":t=15;break;case"10":t=16;break;case"11":t=17;break;case"12":t=18;break;case"13":t=19;break;case"14":t=20;break;case"15":case"16":case"17":case"18":t=21}e.options.value=t,a.updatedActions.push(e)}if("pt"===e.actionId){let t;if(isNaN(e.options.val))t=e.options.val;else switch(e.options.val){case"0":t="left";break;case"1":t="right";break;case"2":t="up";break;case"3":t="down";break;case"4":t="up_left";break;case"5":t="up_right";break;case"6":t="down_left";break;case"7":t="down_right";break;case"8":t="stop";break;case"9":t="home"}e.options.val=t,a.updatedActions.push(e)}if("zoom"===e.actionId){let t;if(isNaN(e.options.val))t=e.options.val;else switch(e.options.val){case"0":t="in";break;case"1":t="out";break;case"2":t="stop"}e.options.val=t,a.updatedActions.push(e)}if("focus"===e.actionId){let t;if(isNaN(e.options.val))t=e.options.val;else switch(e.options.val){case"0":t="near";break;case"1":t="far";break;case"2":t="stop";break;case"3":t="trigger"}e.options.val=t,a.updatedActions.push(e)}"gainBlue"===e.actionId&&(e.actionId="blue_gain",a.updatedActions.push(e)),"gainRed"===e.actionId&&(e.actionId="red_gain",a.updatedActions.push(e)),"wb"===e.actionId&&(e.actionId="wb_mode",a.updatedActions.push(e))})),a},function(e,t){let a={updatedConfig:null,updatedActions:[],updatedFeedbacks:[]};if(null!==t.config){let e=t.config;null!=e.model&&""!=e.model||(e.model="Auto",a.updatedConfig=e)}return a},function(e,t){let a={updatedConfig:null,updatedActions:[],updatedFeedbacks:[]};return t.actions.forEach((e=>{if("color_temp"===e.actionId&&!["up","down","value"].includes(e.options.val)){let t=e.options.val;e.options.val="value",e.options.value=t,a.updatedActions.push(e)}})),a},function(e,t){let a={updatedConfig:null,updatedActions:[],updatedFeedbacks:[]};return t.actions.forEach((e=>{"tally"===e.actionId&&(e.actionId="tally_mode",a.updatedActions.push(e))})),a},function(e,t){let a={updatedConfig:null,updatedActions:[],updatedFeedbacks:[]};return t.actions.forEach((e=>{"analogAudioInGain"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"analogAudioOutGain"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"noise_reduction"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"wide_dynamic_range"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"color"===e.actionId&&(e.actionId="saturation",a.updatedActions.push(e)),"ae_response"===e.actionId&&(e.options.value=e.options.level,e.options.val="value",a.updatedActions.push(e)),"bright_level"===e.actionId&&(e.options.value=e.options.level,e.options.val="value",a.updatedActions.push(e)),"shutter_speed_overwrite"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"bg"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"br"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"gb"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"level"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"offset"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"phase"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"rb"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"rg"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"speed"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"threed_nr"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"twod_nr"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e))})),a}],D=require("node:http"),G=require("node:https"),U=require("node:zlib"),B=require("node:stream"),M=require("node:buffer"),z=require("node:util");var L=a(5006),F=a(9951);class $ extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class j extends ${constructor(e,t,a){super(e,t),a&&(this.code=this.errno=a.code,this.erroredSysCall=a.syscall)}}const V=Symbol.toStringTag,W=e=>"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&"function"==typeof e.sort&&"URLSearchParams"===e[V],q=e=>e&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&/^(Blob|File)$/.test(e[V]),Y=(0,z.promisify)(B.pipeline),H=Symbol("Body internals");class Z{constructor(e,{size:t=0}={}){let a=null;null===e?e=null:W(e)?e=M.Buffer.from(e.toString()):q(e)||M.Buffer.isBuffer(e)||(z.types.isAnyArrayBuffer(e)?e=M.Buffer.from(e):ArrayBuffer.isView(e)?e=M.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof B||(e instanceof F.Ct?a=(e=(0,F.au)(e)).type.split("=")[1]:e=M.Buffer.from(String(e))));let n=e;M.Buffer.isBuffer(e)?n=B.Readable.from(e):q(e)&&(n=B.Readable.from(e.stream())),this[H]={body:e,stream:n,boundary:a,disturbed:!1,error:null},this.size=t,e instanceof B&&e.on("error",(e=>{const t=e instanceof $?e:new j(`Invalid response body while trying to fetch ${this.url}: ${e.message}`,"system",e);this[H].error=t}))}get body(){return this[H].stream}get bodyUsed(){return this[H].disturbed}async arrayBuffer(){const{buffer:e,byteOffset:t,byteLength:a}=await J(this);return e.slice(t,t+a)}async formData(){const e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){const e=new F.Ct,t=new URLSearchParams(await this.text());for(const[a,n]of t)e.append(a,n);return e}const{toFormData:t}=await a.e(713).then(a.bind(a,1713));return t(this.body,e)}async blob(){const e=this.headers&&this.headers.get("content-type")||this[H].body&&this[H].body.type||"",t=await this.arrayBuffer();return new L.Z([t],{type:e})}async json(){const e=await this.text();return JSON.parse(e)}async text(){const e=await J(this);return(new TextDecoder).decode(e)}buffer(){return J(this)}}async function J(e){if(e[H].disturbed)throw new TypeError(`body used already for: ${e.url}`);if(e[H].disturbed=!0,e[H].error)throw e[H].error;const{body:t}=e;if(null===t)return M.Buffer.alloc(0);if(!(t instanceof B))return M.Buffer.alloc(0);const a=[];let n=0;try{for await(const o of t){if(e.size>0&&n+o.length>e.size){const a=new j(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(a),a}n+=o.length,a.push(o)}}catch(t){throw t instanceof $?t:new j(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t)}if(!0!==t.readableEnded&&!0!==t._readableState.ended)throw new j(`Premature close of server response while trying to fetch ${e.url}`);try{return a.every((e=>"string"==typeof e))?M.Buffer.from(a.join("")):M.Buffer.concat(a,n)}catch(t){throw new j(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t)}}Z.prototype.buffer=(0,z.deprecate)(Z.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer"),Object.defineProperties(Z.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,z.deprecate)((()=>{}),"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});const K=(e,t)=>{let a,n,{body:o}=e[H];if(e.bodyUsed)throw new Error("cannot clone body after it is used");return o instanceof B&&"function"!=typeof o.getBoundary&&(a=new B.PassThrough({highWaterMark:t}),n=new B.PassThrough({highWaterMark:t}),o.pipe(a),o.pipe(n),e[H].stream=a,o=n),o},Q=(0,z.deprecate)((e=>e.getBoundary()),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),X=(e,t)=>null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":W(e)?"application/x-www-form-urlencoded;charset=UTF-8":q(e)?e.type||null:M.Buffer.isBuffer(e)||z.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof F.Ct?`multipart/form-data; boundary=${t[H].boundary}`:e&&"function"==typeof e.getBoundary?`multipart/form-data;boundary=${Q(e)}`:e instanceof B?null:"text/plain;charset=UTF-8",ee="function"==typeof D.validateHeaderName?D.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){const t=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},te="function"==typeof D.validateHeaderValue?D.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){const t=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"}),t}};class ae extends URLSearchParams{constructor(e){let t=[];if(e instanceof ae){const a=e.raw();for(const[e,n]of Object.entries(a))t.push(...n.map((t=>[e,t])))}else if(null==e);else{if("object"!=typeof e||z.types.isBoxedPrimitive(e))throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");{const a=e[Symbol.iterator];if(null==a)t.push(...Object.entries(e));else{if("function"!=typeof a)throw new TypeError("Header pairs must be iterable");t=[...e].map((e=>{if("object"!=typeof e||z.types.isBoxedPrimitive(e))throw new TypeError("Each header pair must be an iterable object");return[...e]})).map((e=>{if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");return[...e]}))}}}return t=t.length>0?t.map((([e,t])=>(ee(e),te(e,String(t)),[String(e).toLowerCase(),String(t)]))):void 0,super(t),new Proxy(this,{get(e,t,a){switch(t){case"append":case"set":return(a,n)=>(ee(a),te(a,String(n)),URLSearchParams.prototype[t].call(e,String(a).toLowerCase(),String(n)));case"delete":case"has":case"getAll":return a=>(ee(a),URLSearchParams.prototype[t].call(e,String(a).toLowerCase()));case"keys":return()=>(e.sort(),new Set(URLSearchParams.prototype.keys.call(e)).keys());default:return Reflect.get(e,t,a)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){const t=this.getAll(e);if(0===t.length)return null;let a=t.join(", ");return/^content-encoding$/i.test(e)&&(a=a.toLowerCase()),a}forEach(e,t=void 0){for(const a of this.keys())Reflect.apply(e,t,[this.get(a),a,this])}*values(){for(const e of this.keys())yield this.get(e)}*entries(){for(const e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce(((e,t)=>(e[t]=this.getAll(t),e)),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce(((e,t)=>{const a=this.getAll(t);return e[t]="host"===t?a[0]:a.length>1?a:a[0],e}),{})}}Object.defineProperties(ae.prototype,["get","entries","forEach","values"].reduce(((e,t)=>(e[t]={enumerable:!0},e)),{}));const ne=new Set([301,302,303,307,308]),oe=e=>ne.has(e),re=Symbol("Response internals");class ie extends Z{constructor(e=null,t={}){super(e,t);const a=null!=t.status?t.status:200,n=new ae(t.headers);if(null!==e&&!n.has("Content-Type")){const t=X(e,this);t&&n.append("Content-Type",t)}this[re]={type:"default",url:t.url,status:a,statusText:t.statusText||"",headers:n,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[re].type}get url(){return this[re].url||""}get status(){return this[re].status}get ok(){return this[re].status>=200&&this[re].status<300}get redirected(){return this[re].counter>0}get statusText(){return this[re].statusText}get headers(){return this[re].headers}get highWaterMark(){return this[re].highWaterMark}clone(){return new ie(K(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,t=302){if(!oe(t))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new ie(null,{headers:{location:new URL(e).toString()},status:t})}static error(){const e=new ie(null,{status:0,statusText:""});return e[re].type="error",e}static json(e=void 0,t={}){const a=JSON.stringify(e);if(void 0===a)throw new TypeError("data is not JSON serializable");const n=new ae(t&&t.headers);return n.has("content-type")||n.set("content-type","application/json"),new ie(a,{...t,headers:n})}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(ie.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});const se=require("node:url"),ce=require("node:net");function le(e,t=!1){return null==e?"no-referrer":(e=new URL(e),/^(about|blob|data):$/.test(e.protocol)?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e))}const de=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function ue(e){return!!/^about:(blank|srcdoc)$/.test(e)||"data:"===e.protocol||!!/^(blob|filesystem):$/.test(e.protocol)||function(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;const t=e.host.replace(/(^\[)|(]$)/g,""),a=(0,ce.isIP)(t);return!(4!==a||!/^127\./.test(t))||!(6!==a||!/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t))||"localhost"!==e.host&&!e.host.endsWith(".localhost")&&"file:"===e.protocol}(e)}const pe=Symbol("Request internals"),me=e=>"object"==typeof e&&"object"==typeof e[pe],he=(0,z.deprecate)((()=>{}),".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)");class _e extends Z{constructor(e,t={}){let a;if(me(e)?a=new URL(e.url):(a=new URL(e),e={}),""!==a.username||""!==a.password)throw new TypeError(`${a} is an url with embedded credentials.`);let n=t.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(n)&&(n=n.toUpperCase()),!me(t)&&"data"in t&&he(),(null!=t.body||me(e)&&null!==e.body)&&("GET"===n||"HEAD"===n))throw new TypeError("Request with GET/HEAD method cannot have body");const o=t.body?t.body:me(e)&&null!==e.body?K(e):null;super(o,{size:t.size||e.size||0});const r=new ae(t.headers||e.headers||{});if(null!==o&&!r.has("Content-Type")){const e=X(o,this);e&&r.set("Content-Type",e)}let i=me(e)?e.signal:null;if("signal"in t&&(i=t.signal),null!=i&&("object"!=typeof(s=i)||"AbortSignal"!==s[V]&&"EventTarget"!==s[V]))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");var s;let c=null==t.referrer?e.referrer:t.referrer;if(""===c)c="no-referrer";else if(c){const e=new URL(c);c=/^about:(\/\/)?client$/.test(e)?"client":e}else c=void 0;this[pe]={method:n,redirect:t.redirect||e.redirect||"follow",headers:r,parsedURL:a,signal:i,referrer:c},this.follow=void 0===t.follow?void 0===e.follow?20:e.follow:t.follow,this.compress=void 0===t.compress?void 0===e.compress||e.compress:t.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,this.highWaterMark=t.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=t.referrerPolicy||e.referrerPolicy||""}get method(){return this[pe].method}get url(){return(0,se.format)(this[pe].parsedURL)}get headers(){return this[pe].headers}get redirect(){return this[pe].redirect}get signal(){return this[pe].signal}get referrer(){return"no-referrer"===this[pe].referrer?"":"client"===this[pe].referrer?"about:client":this[pe].referrer?this[pe].referrer.toString():void 0}get referrerPolicy(){return this[pe].referrerPolicy}set referrerPolicy(e){this[pe].referrerPolicy=function(e){if(!de.has(e))throw new TypeError(`Invalid referrerPolicy: ${e}`);return e}(e)}clone(){return new _e(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(_e.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});class fe extends ${constructor(e,t="aborted"){super(e,t)}}a(749);const ge=new Set(["data:","http:","https:"]);async function be(e,t){return new Promise(((a,n)=>{const o=new _e(e,t),{parsedURL:r,options:i}=(e=>{const{parsedURL:t}=e[pe],a=new ae(e[pe].headers);a.has("Accept")||a.set("Accept","*/*");let n=null;if(null===e.body&&/^(post|put)$/i.test(e.method)&&(n="0"),null!==e.body){const t=(e=>{const{body:t}=e[H];return null===t?0:q(t)?t.size:M.Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null})(e);"number"!=typeof t||Number.isNaN(t)||(n=String(t))}n&&a.set("Content-Length",n),""===e.referrerPolicy&&(e.referrerPolicy="strict-origin-when-cross-origin"),e.referrer&&"no-referrer"!==e.referrer?e[pe].referrer=function(e,{referrerURLCallback:t,referrerOriginCallback:a}={}){if("no-referrer"===e.referrer||""===e.referrerPolicy)return null;const n=e.referrerPolicy;if("about:client"===e.referrer)return"no-referrer";const o=e.referrer;let r=le(o),i=le(o,!0);r.toString().length>4096&&(r=i),t&&(r=t(r)),a&&(i=a(i));const s=new URL(e.url);switch(n){case"no-referrer":return"no-referrer";case"origin":return i;case"unsafe-url":return r;case"strict-origin":return ue(r)&&!ue(s)?"no-referrer":i.toString();case"strict-origin-when-cross-origin":return r.origin===s.origin?r:ue(r)&&!ue(s)?"no-referrer":i;case"same-origin":return r.origin===s.origin?r:"no-referrer";case"origin-when-cross-origin":return r.origin===s.origin?r:i;case"no-referrer-when-downgrade":return ue(r)&&!ue(s)?"no-referrer":r;default:throw new TypeError(`Invalid referrerPolicy: ${n}`)}}(e):e[pe].referrer="no-referrer",e[pe].referrer instanceof URL&&a.set("Referer",e.referrer),a.has("User-Agent")||a.set("User-Agent","node-fetch"),e.compress&&!a.has("Accept-Encoding")&&a.set("Accept-Encoding","gzip, deflate, br");let{agent:o}=e;"function"==typeof o&&(o=o(t));const r=(e=>{if(e.search)return e.search;const t=e.href.length-1,a=e.hash||("#"===e.href[t]?"#":"");return"?"===e.href[t-a.length]?"?":""})(t);return{parsedURL:t,options:{path:t.pathname+r,method:e.method,headers:a[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:o}}})(o);if(!ge.has(r.protocol))throw new TypeError(`node-fetch cannot load ${e}. URL scheme "${r.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===r.protocol){const e=function(e){if(!/^data:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');const t=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===t||t<=4)throw new TypeError("malformed data: URI");const a=e.substring(5,t).split(";");let n="",o=!1;const r=a[0]||"text/plain";let i=r;for(let e=1;e<a.length;e++)"base64"===a[e]?o=!0:a[e]&&(i+=`;${a[e]}`,0===a[e].indexOf("charset=")&&(n=a[e].substring(8)));a[0]||n.length||(i+=";charset=US-ASCII",n="US-ASCII");const s=o?"base64":"ascii",c=unescape(e.substring(t+1)),l=Buffer.from(c,s);return l.type=r,l.typeFull=i,l.charset=n,l}(o.url),t=new ie(e,{headers:{"Content-Type":e.typeFull}});return void a(t)}const s=("https:"===r.protocol?G:D).request,{signal:c}=o;let l=null;const d=()=>{const e=new fe("The operation was aborted.");n(e),o.body&&o.body instanceof B.Readable&&o.body.destroy(e),l&&l.body&&l.body.emit("error",e)};if(c&&c.aborted)return void d();const u=()=>{d(),m()},p=s(r.toString(),i);c&&c.addEventListener("abort",u);const m=()=>{p.abort(),c&&c.removeEventListener("abort",u)};p.on("error",(e=>{n(new j(`request to ${o.url} failed, reason: ${e.message}`,"system",e)),m()})),function(e,t){const a=M.Buffer.from("0\r\n\r\n");let n,o=!1,r=!1;e.on("response",(e=>{const{headers:t}=e;o="chunked"===t["transfer-encoding"]&&!t["content-length"]})),e.on("socket",(t=>{const i=()=>{if(o&&!r){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",(e=>{l&&l.body&&l.body.destroy(e)})(e)}},s=e=>{r=0===M.Buffer.compare(e.slice(-5),a),!r&&n&&(r=0===M.Buffer.compare(n.slice(-3),a.slice(0,3))&&0===M.Buffer.compare(e.slice(-2),a.slice(3))),n=e};t.prependListener("close",i),t.on("data",s),e.on("close",(()=>{t.removeListener("close",i),t.removeListener("data",s)}))}))}(p),process.version<"v14"&&p.on("socket",(e=>{let t;e.prependListener("end",(()=>{t=e._eventsCount})),e.prependListener("close",(a=>{if(l&&t<e._eventsCount&&!a){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",l.body.emit("error",e)}}))})),p.on("response",(e=>{p.setTimeout(0);const r=function(e=[]){return new ae(e.reduce(((e,t,a,n)=>(a%2==0&&e.push(n.slice(a,a+2)),e)),[]).filter((([e,t])=>{try{return ee(e),te(e,String(t)),!0}catch{return!1}})))}(e.rawHeaders);if(oe(e.statusCode)){const s=r.get("Location");let c=null;try{c=null===s?null:new URL(s,o.url)}catch{if("manual"!==o.redirect)return n(new j(`uri requested responds with an invalid redirect URL: ${s}`,"invalid-redirect")),void m()}switch(o.redirect){case"error":return n(new j(`uri requested responds with a redirect, redirect mode is set to error: ${o.url}`,"no-redirect")),void m();case"manual":break;case"follow":{if(null===c)break;if(o.counter>=o.follow)return n(new j(`maximum redirect reached at: ${o.url}`,"max-redirect")),void m();const s={headers:new ae(o.headers),follow:o.follow,counter:o.counter+1,agent:o.agent,compress:o.compress,method:o.method,body:K(o),signal:o.signal,size:o.size,referrer:o.referrer,referrerPolicy:o.referrerPolicy};if(!((e,t)=>{const a=new URL(t).hostname,n=new URL(e).hostname;return a===n||a.endsWith(`.${n}`)})(o.url,c)||(i=o.url,new URL(c).protocol!==new URL(i).protocol))for(const e of["authorization","www-authenticate","cookie","cookie2"])s.headers.delete(e);if(303!==e.statusCode&&o.body&&t.body instanceof B.Readable)return n(new j("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void m();303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==o.method)||(s.method="GET",s.body=void 0,s.headers.delete("content-length"));const l=function(e){const t=(e.get("referrer-policy")||"").split(/[,\s]+/);let a="";for(const e of t)e&&de.has(e)&&(a=e);return a}(r);return l&&(s.referrerPolicy=l),a(be(new _e(c,s))),void m()}default:return n(new TypeError(`Redirect option '${o.redirect}' is not a valid value of RequestRedirect`))}}var i;c&&e.once("end",(()=>{c.removeEventListener("abort",u)}));let s=(0,B.pipeline)(e,new B.PassThrough,(e=>{e&&n(e)}));process.version<"v12.10"&&e.on("aborted",u);const d={url:o.url,status:e.statusCode,statusText:e.statusMessage,headers:r,size:o.size,counter:o.counter,highWaterMark:o.highWaterMark},h=r.get("Content-Encoding");if(!o.compress||"HEAD"===o.method||null===h||204===e.statusCode||304===e.statusCode)return l=new ie(s,d),void a(l);const _={flush:U.Z_SYNC_FLUSH,finishFlush:U.Z_SYNC_FLUSH};if("gzip"===h||"x-gzip"===h)return s=(0,B.pipeline)(s,U.createGunzip(_),(e=>{e&&n(e)})),l=new ie(s,d),void a(l);if("deflate"===h||"x-deflate"===h){const t=(0,B.pipeline)(e,new B.PassThrough,(e=>{e&&n(e)}));return t.once("data",(e=>{s=8==(15&e[0])?(0,B.pipeline)(s,U.createInflate(),(e=>{e&&n(e)})):(0,B.pipeline)(s,U.createInflateRaw(),(e=>{e&&n(e)})),l=new ie(s,d),a(l)})),void t.once("end",(()=>{l||(l=new ie(s,d),a(l))}))}if("br"===h)return s=(0,B.pipeline)(s,U.createBrotliDecompress(),(e=>{e&&n(e)})),l=new ie(s,d),void a(l);l=new ie(s,d),a(l)})),(async(e,{body:t})=>{null===t?e.end():await Y(t,e)})(p,o).catch(n)}))}a(404),a(2957),a(7330);var ye=a(8762);a(9284);const ve=ye;class we extends n.InstanceBase{constructor(e){super(e)}async init(e){this.updateStatus("connecting"),this.config=e,this.port=52381,this.addStringToBinary=r,this.strToPQRS=l,this.updateVariables=C,this.timers={pollCameraConfig:null,pollCameraStatus:null},this.getCameraModel()}async destroy(){void 0!==this.udp&&this.udp.destroy(),void 0!==this.ws&&(this.ws.close(1e3),delete this.ws),void 0!==this.timers.pollCameraStatus&&clearInterval(this.timers.pollCameraStatus),this.timers.pollCameraConfig&&(clearInterval(this.timers.pollCameraConfig),this.timers.pollCameraConfig=null),this.timers.ws_reconnect&&clearInterval(this.timers.ws_reconnect)}getConfigFields(){return[{type:"static-text",id:"info",width:12,label:"Information",value:"This module controls BirdDog PTZ Cameras."},{type:"textinput",id:"host",label:"Device IP",width:6,regex:this.REGEX_IP},{type:"dropdown",id:"model",label:"BirdDog Model",default:"Auto",choices:b.CAMERAS}]}async configUpdated(e){this.config=e,this.updateStatus("connecting"),void 0!==this.config.host?(this.log("debug","----Config Model Choice:- "+this.config.model),this.getCameraModel()):this.updateStatus("bad_config","Unable to connect, please enter an IP address for your camera in the module settings")}initVariables(){O.bind(this)()}initFeedbacks(){const e=N.bind(this)();this.setFeedbackDefinitions(e)}initPresets(){const e=P.bind(this)();this.setPresetDefinitions(e)}initActions(){const e=T.bind(this)();this.setActionDefinitions(e)}sendCommand(e,t,a){let n=`http://${this.config.host}:8080/${e}`,o={method:t,headers:{"Content-Type":"application/json"}};"PUT"!=t&&"POST"!=t||(o.body=null!=a?JSON.stringify(a):null),be(n,o).then((e=>{if(200==e.status)return this.updateStatus("ok"),e.json()})).then((e=>{let a=e;a&&"GET"==t?this.processData(decodeURI(n),a):a&&"PUT"==t||"POST"==t?decodeURI(n).match("/encodesetup")&&this.sendCommand("encodesetup","GET"):this.log("debug",`Command failed ${n}`)})).catch((e=>{this.log("debug",`Command Error: ${e}`);let t=String(e);(t.match("ECONNREFUSED")||t.match("ENOTFOUND")||t.match("EHOSTDOWN")||t.match("ETIMEDOUT"))&&this.updateStatus("connection_failure")}))}processData(e,t){let a;switch(e.slice(e.lastIndexOf("/")+1)){case"about":a=this.storeState(t,"about");break;case"analogaudiosetup":a=this.storeState(t,"analogaudiosetup");break;case"devicesettings":a=this.storeState(t,"devicesettings");break;case"videooutputinterface":a=this.storeState(t,"videooutputinterface");break;case"encodesetup":a=this.storeState(t,"encodesetup");let e=t.VideoFormat.match(/\d+\D(\S*)/);if(this.camera?.shutter_table)switch(e[1]){case"23.98":case"24":"24"!==this.camera.shutter_table&&(this.camera.shutter_table="24",this.initActions());break;case"25":case"50":"50"!==this.camera.shutter_table&&(this.camera.shutter_table="50",this.initActions());break;default:"60"!==this.camera.shutter_table&&(this.camera.shutter_table="60",this.initActions())}this.camera?.framerate&&(this.camera.framerate=e[1]);break;case"encodetransport":a=this.storeState(t,"encodetransport");break;case"NDIDisServer":a=this.storeState(t,"NDIDisServer");break;case"birddogptzsetup":let n=this.camera?.speedControl;a=this.storeState(t,"birddogptzsetup"),n&&n===t.SpeedControl||(this.initActions(),this.initFeedbacks());break;case"birddogexpsetup":a=this.storeState(t,"birddogexpsetup"),a.includes("gain_limit")&&(this.log("debug","-----Gain Limit changed"),this.initActions(),this.initFeedbacks()),a.includes("shutter_max_speed")&&(this.log("debug","-----ShutterMaxSpeed changed"),this.initActions(),this.initFeedbacks()),a.includes("shutter_min_speed")&&(this.log("debug","-----ShutterMinSpeed changed"),this.initActions(),this.initFeedbacks());break;case"birddogwbsetup":a=this.storeState(t,"birddogwbsetup");break;case"birddogpicsetup":a=this.storeState(t,"birddogpicsetup");break;case"birddogcmsetup":a=this.storeState(t,"birddogcmsetup");break;case"birddogadvancesetup":a=this.storeState(t,"birddogadvancesetup");break;case"birddogexternalsetup":a=this.storeState(t,"birddogexternalsetup");break;case"birddogdetsetup":a=this.storeState(t,"birddogdetsetup");break;case"birddoggammasetup":a=this.storeState(t,"birddoggammasetup");break;case"birddogscope":a=this.storeState(t,"birddogscope")}this.updateVariables(),this.checkFeedbacks()}sendVISCACommand(e,t){let a=Buffer.alloc(32);a[0]=1,a[1]=16,this.packet_counter=(this.packet_counter+1)%4294967295,a.writeUInt16BE(e.length,2),a.writeUInt32BE(this.packet_counter,4),"string"==typeof e?a.write(e,8,"binary"):"object"==typeof e&&e instanceof Buffer&&e.copy(a,8),"string"==typeof t?a.write(t,7,"binary"):"object"==typeof t&&t instanceof Buffer&&t.copy(a,7);let n=a.slice(0,8+e.length);this.udp.send(n)}incomingData(e){switch(e[7].toString(16)){case"4a":144==e[8]&&80==e[9]&&2==e[10]&&255==e[11]?this.camera.standby="on":144==e[8]&&80==e[9]&&3==e[10]&&255==e[11]&&(this.camera.standby="standby");break;case"5a":144==e[8]&&80==e[9]&&2==e[10]&&255==e[11]?this.camera.focusM="Auto":144==e[8]&&80==e[9]&&3==e[10]&&255==e[11]&&(this.camera.focusM="Manual");break;case"5b":144==e[8]&&80==e[9]&&2==e[10]&&255==e[11]?this.camera.freeze="On":144==e[8]&&80==e[9]&&3==e[10]&&255==e[11]&&(this.camera.freeze="Off");break;case"5c":144==e[8]&&80==e[9]&&255==e[14]&&(this.camera.zoom_position=e[10].toString(16)+e[11].toString(16)+e[12].toString(16)+e[13].toString(16));break;case"5d":144==e[8]&&80==e[9]&&255==e[18]&&(this.camera.pan_position=e[10].toString(16)+e[11].toString(16)+e[12].toString(16)+e[13].toString(16),this.camera.tilt_position=e[14].toString(16)+e[15].toString(16)+e[16].toString(16)+e[17].toString(16))}this.updateVariables(),this.checkFeedbacks()}sendControlCommand(e){let t=Buffer.alloc(32);t[0]=2,t[1]=0,this.packet_counter=(this.packet_counter+1)%4294967295,t.writeUInt16BE(e.length,2),t.writeUInt32BE(this.packet_counter,4),"string"==typeof e?t.write(e,8,"binary"):"object"==typeof e&&e instanceof Buffer&&e.copy(t,8);let a=t.slice(0,8+e.length);this.udp.send(a)}init_udp(){this.log("debug","----init udp"),void 0!==this.udp&&(this.udp.destroy(),delete this.udp),void 0!==this.timers.pollCameraStatus&&clearInterval(this.timers.pollCameraStatus),void 0!==this.config.host&&(this.udp=new n.UDPHelper(this.config.host,this.port),this.sendControlCommand(""),this.packet_counter=0,this.startPolling(),this.udp.on("status_change",((e,t)=>{})),this.udp.on("data",(e=>{this.incomingData(e)})),this.udp.on("error",(e=>{this.log("debug","----UDP Error: "+e)})),this.log("debug",this.udp.host,":",this.port))}init_ws_listener(){this.log("debug","----init websocket"),clearInterval(this.timers.ws_reconnect),void 0!==this.ws&&(this.ws.close(1e3),delete this.ws),this.ws=new ve(`ws://${this.config.host}:6790/`),this.ws.on("open",(()=>{this.log("debug",`WebSocket connection opened to ${this.camera.hostname}`)})),this.ws.on("close",(e=>{this.log("debug",`---- WebSocket Connection closed with code ${e}`),1e3!==e&&(this.timers.ws_reconnect=setInterval(this.init_ws_listener.bind(this),500))})),this.ws.on("message",(e=>{let t;try{t=JSON.parse(e.toString()),this.storeState(t,"WebSocket")}catch(e){this.log("debug","JSON Error:"+e)}})),this.ws.on("error",(e=>{this.log("error",`WebSocket error: ${e}`)}))}startPolling(){this.pollCameraConfig(),this.pollCameraStatus(),this.timers.pollCameraConfig=setInterval(this.pollCameraConfig.bind(this),1e4),this.timers.pollCameraStatus=setInterval(this.pollCameraStatus.bind(this),1e3)}stopPolling(){this.timers.pollCameraConfig&&(clearInterval(this.timers.pollCameraConfig),this.timers.pollCameraConfig=null),this.timers.pollCameraStatus&&(clearInterval(this.timers.pollCameraStatus),this.timers.pollCameraStatus=null)}pollCameraConfig(){let e=_(y,this.camera.model,this.camera.firmware.major);e?.about&&this.sendCommand("about","GET"),e?.encodesetup&&this.sendCommand("encodesetup","GET"),e?.analogaudiosetup&&this.sendCommand("analogaudiosetup","GET"),e?.devicesettings&&this.sendCommand("NDIDisServer","GET"),e?.videooutputinterface&&this.sendCommand("videooutputinterface","GET"),e?.encodetransport&&this.sendCommand("encodetransport","GET"),e?.NDIDisServer&&this.sendCommand("NDIDisServer","GET")}pollCameraStatus(){let e=_(y,this.camera.model,this.camera.firmware.major);e?.birddogptzsetup&&this.sendCommand("birddogptzsetup","GET"),e?.birddogexpsetup&&this.sendCommand("birddogexpsetup","GET"),e?.birddogwbsetup&&this.sendCommand("birddogwbsetup","GET"),e?.birddogpicsetup&&this.sendCommand("birddogpicsetup","GET"),this.sendVISCACommand("\t\0ÿ","J"),this.sendVISCACommand(k+A+E,"Z"),this.sendVISCACommand(k+x+E,"["),this.sendVISCACommand("\tGÿ","\\"),e?.birddogcmsetup&&this.sendCommand("birddogcmsetup","GET"),e?.birddogadvancesetup&&this.sendCommand("birddogadvancesetup","GET"),e?.birddogexternalsetup&&this.sendCommand("birddogexternalsetup","GET"),e?.birddogdetsetup&&this.sendCommand("birddogdetsetup","GET"),e?.birddoggammasetup&&this.sendCommand("birddoggammasetup","GET"),e?.birddogscope&&this.sendCommand("birddogscope","GET"),e?.pt_pos&&this.sendVISCACommand("\tÿ","]")}getCameraModel(){"Auto"===this.config.model?be(`http://${this.config.host}:8080/version`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>{if(200==e.status)return e.text()})).then((e=>{let t=e;t?(t=t.replace(/BirdDog| |_/g,""),this.getCameraFW(this.checkCameraModel(t))):t||(this.log("error","Please upgrade your BirdDog camera to the latest LTS firmware to use this module"),this.updateStatus("connection_failure"),void 0!==this.timers.pollCameraStatus&&clearInterval(this.timers.pollCameraStatus))})).catch((e=>{this.log("debug",`Get Cam Model Error ${e}`);let t=String(e);(t.match("ECONNREFUSED")||t.match("ENOTFOUND")||t.match("EHOSTDOWN")||t.match("ETIMEDOUT"))&&(this.updateStatus("connection_failure"),this.log("error",`Unable to connect to BirdDog PTZ Camera (Error: ${t?.split("reason:")[1]})`))})):this.getCameraFW(this.config.model)}getCameraFW(e){be(`http://${this.config.host}:8080/about`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>{if(200==e.status)return e.json()})).then((t=>{if(t.FirmwareVersion){let a=t.FirmwareVersion.substring(t.FirmwareVersion.lastIndexOf(" ")+1).substring(0,1),n=t.FirmwareVersion.substring(t.FirmwareVersion.lastIndexOf(" ")+2).substring(1);this.intializeState(e,t.HostName,a,n),this.initializeCamera()}else"1.0"===t.Version&&(this.log("error","Please upgrade your BirdDog camera to the latest LTS firmware to use this module"),this.updateStatus("connection_failure"),void 0!==this.timers.pollCameraStatus&&clearInterval(this.timers.pollCameraStatus))})).catch((e=>{this.log("debug",`Camera Firmware Error: ${e}`);let t=String(e);(t.match("ECONNREFUSED")||t.match("ENOTFOUND")||t.match("EHOSTDOWN")||t.match("ETIMEDOUT"))&&(this.updateStatus("connection_failure"),this.log("error",`Unable to connect to BirdDog PTZ Camera (Error: ${t?.split("reason:")[1]})`))}))}initializeCamera(){this.camera.firmware.major&&this.camera.model?(this.updateStatus("ok"),this.log("info",`Connected to ${this.camera.hostname}`),this.log("debug",`---- Connected to ${this.camera.hostname}`),this.initActions(),this.initPresets(),this.initVariables(),this.initFeedbacks(),this.init_udp(),"5"===this.camera.firmware.major&&this.init_ws_listener()):(this.updateStatus("connection_failure"),this.log("error",`Unable to connect to ${this.camera.hostname}`))}checkCameraModel(e){let t=b.CAMERAS.find((t=>t.id===e?e:!!t?.other&&Object.entries(t)[2][1].includes(e)));return t?(this.log("info",`Detected camera model: ${t.id}`),this.log("debug","---- Detected camera model: "+t.id),t.id):(this.log("error",`Unrecognized camera model: ${e}. Using "Default" camera profile`),this.log("debug",`Unrecognized camera model: ${e}. Using "Default" camera profile`),"Default")}intializeState(e,t,a,n){this.camera={};let o=Object.entries(v).filter((t=>(t[1].camera.includes(e)||t[1].camera.includes("All"))&&t[1].firmware.includes(a)&&!0===t[1].store_state));Object.keys(Object.fromEntries(o)).sort().map((e=>this.camera[e]={})),this.camera.model=e,this.camera.hostname=t,this.camera.firmware={},this.camera.firmware.major=a,this.camera.firmware.minor=n,this.camera.shutter_table=60,this.camera.unknown=[]}storeState(e,t){let a=[];return Object.entries(e).forEach((e=>{let n=Object.entries(v).find((a=>(a[1].camera.includes(this.camera.model)||a[1].camera.includes("All"))&&a[1].firmware.includes(this.camera.firmware.major)&&a[1]?.api_endpoint?.includes(t)&&a[1]?.api_variable?.includes(e[0])));n?this.camera[n[0]]!==e[1]&&(a.push(n[0]),this.camera[n[0]]=e[1]):this.camera.unknown.includes(e[0])||(this.log("debug",`Unknown API variable returned from ${t}: ${e[0]}`),this.camera.unknown.push(e[0]))})),a}}(0,n.runEntrypoint)(we,R)},4193:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var n=a(5006);const o=class extends n.Z{#Y=0;#H="";constructor(e,t,a={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,a),null===a&&(a={});const n=void 0===a.lastModified?Date.now():Number(a.lastModified);Number.isNaN(n)||(this.#Y=n),this.#H=String(t)}get name(){return this.#H}get lastModified(){return this.#Y}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof n.Z&&/^(File)$/.test(e[Symbol.toStringTag])}}},749:(e,t,a)=>{"use strict";a.d(t,{$B:()=>o.Z});const n=require("node:fs");require("node:path"),a(3414);var o=a(4193);a(5006);const{stat:r}=n.promises;class i{#Z;#J;constructor(e){this.#Z=e.path,this.#J=e.start,this.size=e.size,this.lastModified=e.lastModified}slice(e,t){return new i({path:this.#Z,lastModified:this.lastModified,size:t-e,start:this.#J+e})}async*stream(){const{mtimeMs:e}=await r(this.#Z);if(e>this.lastModified)throw new node_domexception("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,n.createReadStream)(this.#Z,{start:this.#J,end:this.#J+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}},5006:(e,t,a)=>{"use strict";async function*n(e,t=!0){for(const a of e)if("stream"in a)yield*a.stream();else if(ArrayBuffer.isView(a))if(t){let e=a.byteOffset;const t=a.byteOffset+a.byteLength;for(;e!==t;){const n=Math.min(t-e,65536),o=a.buffer.slice(e,e+n);e+=o.byteLength,yield new Uint8Array(o)}}else yield a;else{let e=0,t=a;for(;e!==t.size;){const a=t.slice(e,Math.min(t.size,e+65536)),n=await a.arrayBuffer();e+=n.byteLength,yield new Uint8Array(n)}}}a.d(t,{Z:()=>r}),a(7135);const o=class e{#K=[];#Q="";#X=0;#ee="transparent";constructor(t=[],a={}){if("object"!=typeof t||null===t)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if("function"!=typeof t[Symbol.iterator])throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if("object"!=typeof a&&"function"!=typeof a)throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");null===a&&(a={});const n=new TextEncoder;for(const a of t){let t;t=ArrayBuffer.isView(a)?new Uint8Array(a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)):a instanceof ArrayBuffer?new Uint8Array(a.slice(0)):a instanceof e?a:n.encode(`${a}`),this.#X+=ArrayBuffer.isView(t)?t.byteLength:t.size,this.#K.push(t)}this.#ee=`${void 0===a.endings?"transparent":a.endings}`;const o=void 0===a.type?"":String(a.type);this.#Q=/^[\x20-\x7E]*$/.test(o)?o:""}get size(){return this.#X}get type(){return this.#Q}async text(){const e=new TextDecoder;let t="";for await(const a of n(this.#K,!1))t+=e.decode(a,{stream:!0});return t+=e.decode(),t}async arrayBuffer(){const e=new Uint8Array(this.size);let t=0;for await(const a of n(this.#K,!1))e.set(a,t),t+=a.length;return e.buffer}stream(){const e=n(this.#K,!0);return new globalThis.ReadableStream({type:"bytes",async pull(t){const a=await e.next();a.done?t.close():t.enqueue(a.value)},async cancel(){await e.return()}})}slice(t=0,a=this.size,n=""){const{size:o}=this;let r=t<0?Math.max(o+t,0):Math.min(t,o),i=a<0?Math.max(o+a,0):Math.min(a,o);const s=Math.max(i-r,0),c=this.#K,l=[];let d=0;for(const e of c){if(d>=s)break;const t=ArrayBuffer.isView(e)?e.byteLength:e.size;if(r&&t<=r)r-=t,i-=t;else{let a;ArrayBuffer.isView(e)?(a=e.subarray(r,Math.min(t,i)),d+=a.byteLength):(a=e.slice(r,Math.min(t,i)),d+=a.size),i-=t,l.push(a),r=0}}const u=new e([],{type:String(n).toLowerCase()});return u.#X=s,u.#K=l,u}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&"object"==typeof e&&"function"==typeof e.constructor&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(o.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});const r=o},9951:(e,t,a)=>{"use strict";a.d(t,{Ct:()=>m,au:()=>h});var n=a(5006),o=a(4193),{toStringTag:r,iterator:i,hasInstance:s}=Symbol,c=Math.random,l="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),d=(e,t,a)=>(e+="",/^(Blob|File)$/.test(t&&t[r])?[(a=void 0!==a?a+"":"File"==t[r]?t.name:"blob",e),t.name!==a||"blob"==t[r]?new o.Z([t],a,t):t]:[e,t+""]),u=(e,t)=>(t?e:e.replace(/\r?\n|\r/g,"\r\n")).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),p=(e,t,a)=>{if(t.length<a)throw new TypeError(`Failed to execute '${e}' on 'FormData': ${a} arguments required, but only ${t.length} present.`)};const m=class{#te=[];constructor(...e){if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[r](){return"FormData"}[i](){return this.entries()}static[s](e){return e&&"object"==typeof e&&"FormData"===e[r]&&!l.some((t=>"function"!=typeof e[t]))}append(...e){p("append",arguments,2),this.#te.push(d(...e))}delete(e){p("delete",arguments,1),e+="",this.#te=this.#te.filter((([t])=>t!==e))}get(e){p("get",arguments,1),e+="";for(var t=this.#te,a=t.length,n=0;n<a;n++)if(t[n][0]===e)return t[n][1];return null}getAll(e,t){return p("getAll",arguments,1),t=[],e+="",this.#te.forEach((a=>a[0]===e&&t.push(a[1]))),t}has(e){return p("has",arguments,1),e+="",this.#te.some((t=>t[0]===e))}forEach(e,t){for(var[a,n]of(p("forEach",arguments,1),this))e.call(t,n,a,this)}set(...e){p("set",arguments,2);var t=[],a=!0;e=d(...e),this.#te.forEach((n=>{n[0]===e[0]?a&&(a=!t.push(e)):t.push(n)})),a&&t.push(e),this.#te=t}*entries(){yield*this.#te}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}};function h(e,t=n.Z){var a=`${c()}${c()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),o=[],r=`--${a}\r\nContent-Disposition: form-data; name="`;return e.forEach(((e,t)=>"string"==typeof e?o.push(r+u(t)+`"\r\n\r\n${e.replace(/\r(?!\n)|(?<!\r)\n/g,"\r\n")}\r\n`):o.push(r+u(t)+`"; filename="${u(e.name,1)}"\r\nContent-Type: ${e.type||"application/octet-stream"}\r\n\r\n`,e,"\r\n"))),o.push(`--${a}--`),new t(o,{type:"multipart/form-data; boundary="+a})}},7582:(e,t,a)=>{"use strict";a.r(t),a.d(t,{__addDisposableResource:()=>D,__assign:()=>r,__asyncDelegator:()=>A,__asyncGenerator:()=>E,__asyncValues:()=>x,__await:()=>k,__awaiter:()=>h,__classPrivateFieldGet:()=>C,__classPrivateFieldIn:()=>R,__classPrivateFieldSet:()=>N,__createBinding:()=>f,__decorate:()=>s,__disposeResources:()=>U,__esDecorate:()=>l,__exportStar:()=>g,__extends:()=>o,__generator:()=>_,__importDefault:()=>O,__importStar:()=>P,__makeTemplateObject:()=>I,__metadata:()=>m,__param:()=>c,__propKey:()=>u,__read:()=>y,__rest:()=>i,__runInitializers:()=>d,__setFunctionName:()=>p,__spread:()=>v,__spreadArray:()=>S,__spreadArrays:()=>w,__values:()=>b,default:()=>B});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])},n(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}var r=function(){return r=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var o in t=arguments[a])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function i(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]])}return a}function s(e,t,a,n){var o,r=arguments.length,i=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(r<3?o(i):r>3?o(t,a,i):o(t,a))||i);return r>3&&i&&Object.defineProperty(t,a,i),i}function c(e,t){return function(a,n){t(a,n,e)}}function l(e,t,a,n,o,r){function i(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,c=n.kind,l="getter"===c?"get":"setter"===c?"set":"value",d=!t&&e?n.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),p=!1,m=a.length-1;m>=0;m--){var h={};for(var _ in n)h[_]="access"===_?{}:n[_];for(var _ in n.access)h.access[_]=n.access[_];h.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");r.push(i(e||null))};var f=(0,a[m])("accessor"===c?{get:u.get,set:u.set}:u[l],h);if("accessor"===c){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(s=i(f.get))&&(u.get=s),(s=i(f.set))&&(u.set=s),(s=i(f.init))&&o.unshift(s)}else(s=i(f))&&("field"===c?o.unshift(s):u[l]=s)}d&&Object.defineProperty(d,n.name,u),p=!0}function d(e,t,a){for(var n=arguments.length>2,o=0;o<t.length;o++)a=n?t[o].call(e,a):t[o].call(e);return n?a:void 0}function u(e){return"symbol"==typeof e?e:"".concat(e)}function p(e,t,a){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:a?"".concat(a," ",t):t})}function m(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,a,n){return new(a||(a=Promise))((function(o,r){function i(e){try{c(n.next(e))}catch(e){r(e)}}function s(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))}function _(e,t){var a,n,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(s){return function(c){return function(s){if(a)throw new TypeError("Generator is already executing.");for(;r&&(r=0,s[0]&&(i=0)),i;)try{if(a=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{a=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}var f=Object.create?function(e,t,a,n){void 0===n&&(n=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,o)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]};function g(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||f(t,e,a)}function b(e){var t="function"==typeof Symbol&&Symbol.iterator,a=t&&e[t],n=0;if(a)return a.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,o,r=a.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(a=r.return)&&a.call(r)}finally{if(o)throw o.error}}return i}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function w(){for(var e=0,t=0,a=arguments.length;t<a;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<a;t++)for(var r=arguments[t],i=0,s=r.length;i<s;i++,o++)n[o]=r[i];return n}function S(e,t,a){if(a||2===arguments.length)for(var n,o=0,r=t.length;o<r;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}function k(e){return this instanceof k?(this.v=e,this):new k(e)}function E(e,t,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=a.apply(e,t||[]),r=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(e){o[e]&&(n[e]=function(t){return new Promise((function(a,n){r.push([e,t,a,n])>1||s(e,t)}))})}function s(e,t){try{(a=o[e](t)).value instanceof k?Promise.resolve(a.value.v).then(c,l):d(r[0][2],a)}catch(e){d(r[0][3],e)}var a}function c(e){s("next",e)}function l(e){s("throw",e)}function d(e,t){e(t),r.shift(),r.length&&s(r[0][0],r[0][1])}}function A(e){var t,a;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(a=!a)?{value:k(e[n](t)),done:!1}:o?o(t):t}:o}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,a=e[Symbol.asyncIterator];return a?a.call(e):(e=b(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=e[a]&&function(t){return new Promise((function(n,o){!function(e,t,a,n){Promise.resolve(n).then((function(t){e({value:t,done:a})}),t)}(n,o,(t=e[a](t)).done,t.value)}))}}}function I(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var T=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&f(t,e,a);return T(t,e),t}function O(e){return e&&e.__esModule?e:{default:e}}function C(e,t,a,n){if("a"===a&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?n:"a"===a?n.call(e):n?n.value:t.get(e)}function N(e,t,a,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,a):o?o.value=a:t.set(e,a),a}function R(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function D(e,t,a){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n;if(a){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose]}if("function"!=typeof n)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:n,async:a})}else a&&e.stack.push({async:!0});return t}var G="function"==typeof SuppressedError?SuppressedError:function(e,t,a){var n=new Error(a);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function U(e){function t(t){e.error=e.hasError?new G(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function a(){for(;e.stack.length;){var n=e.stack.pop();try{var o=n.dispose&&n.dispose.call(n.value);if(n.async)return Promise.resolve(o).then(a,(function(e){return t(e),a()}))}catch(e){t(e)}}if(e.hasError)throw e.error}()}const B={__extends:o,__assign:r,__rest:i,__decorate:s,__param:c,__metadata:m,__awaiter:h,__generator:_,__createBinding:f,__exportStar:g,__values:b,__read:y,__spread:v,__spreadArrays:w,__spreadArray:S,__await:k,__asyncGenerator:E,__asyncDelegator:A,__asyncValues:x,__makeTemplateObject:I,__importStar:P,__importDefault:O,__classPrivateFieldGet:C,__classPrivateFieldSet:N,__classPrivateFieldIn:R,__addDisposableResource:D,__disposeResources:U}}},a={};function n(e){var o=a[e];if(void 0!==o)return o.exports;var r=a[e]={id:e,loaded:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=t,n.c=a,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,a)=>(n.f[a](e,t),t)),[])),n.u=e=>e+".js",n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e={179:1},n.f.require=(t,a)=>{e[t]||(t=>{var a=t.modules,o=t.ids,r=t.runtime;for(var i in a)n.o(a,i)&&(n.m[i]=a[i]);r&&r(n);for(var s=0;s<o.length;s++)e[o[s]]=1})(require("./"+n.u(t)))},n(n.s=1260)})();