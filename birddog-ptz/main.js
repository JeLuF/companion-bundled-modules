/*! For license information please see main.js.LICENSE.txt */
(()=>{var e,t={7056:(e,t,a)=>{"use strict";const n=a(4063);n.code='require("ajv/dist/runtime/equal").default',t.Z=n},1460:(e,t,a)=>{"use strict";a.r(t),a.d(t,{__assign:()=>i,__asyncDelegator:()=>E,__asyncGenerator:()=>k,__asyncValues:()=>x,__await:()=>A,__awaiter:()=>h,__classPrivateFieldGet:()=>C,__classPrivateFieldIn:()=>R,__classPrivateFieldSet:()=>N,__createBinding:()=>f,__decorate:()=>s,__esDecorate:()=>c,__exportStar:()=>g,__extends:()=>o,__generator:()=>_,__importDefault:()=>O,__importStar:()=>T,__makeTemplateObject:()=>I,__metadata:()=>m,__param:()=>l,__propKey:()=>u,__read:()=>y,__rest:()=>r,__runInitializers:()=>d,__setFunctionName:()=>p,__spread:()=>v,__spreadArray:()=>S,__spreadArrays:()=>w,__values:()=>b});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])},n(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}var i=function(){return i=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var o in t=arguments[a])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function r(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]])}return a}function s(e,t,a,n){var o,i=arguments.length,r=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(i<3?o(r):i>3?o(t,a,r):o(t,a))||r);return i>3&&r&&Object.defineProperty(t,a,r),r}function l(e,t){return function(a,n){t(a,n,e)}}function c(e,t,a,n,o,i){function r(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,l=n.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?n.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,n.name):{}),p=!1,m=a.length-1;m>=0;m--){var h={};for(var _ in n)h[_]="access"===_?{}:n[_];for(var _ in n.access)h.access[_]=n.access[_];h.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(r(e||null))};var f=(0,a[m])("accessor"===l?{get:u.get,set:u.set}:u[c],h);if("accessor"===l){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(s=r(f.get))&&(u.get=s),(s=r(f.set))&&(u.set=s),(s=r(f.init))&&o.push(s)}else(s=r(f))&&("field"===l?o.push(s):u[c]=s)}d&&Object.defineProperty(d,n.name,u),p=!0}function d(e,t,a){for(var n=arguments.length>2,o=0;o<t.length;o++)a=n?t[o].call(e,a):t[o].call(e);return n?a:void 0}function u(e){return"symbol"==typeof e?e:"".concat(e)}function p(e,t,a){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:a?"".concat(a," ",t):t})}function m(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,a,n){return new(a||(a=Promise))((function(o,i){function r(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,s)}l((n=n.apply(e,t||[])).next())}))}function _(e,t){var a,n,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(a)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(r=0)),r;)try{if(a=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,n=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(!((o=(o=r.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){r=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(6===s[0]&&r.label<o[1]){r.label=o[1],o=s;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(s);break}o[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(e){s=[6,e],n=0}finally{a=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}var f=Object.create?function(e,t,a,n){void 0===n&&(n=a);var o=Object.getOwnPropertyDescriptor(t,a);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,n,o)}:function(e,t,a,n){void 0===n&&(n=a),e[n]=t[a]};function g(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||f(t,e,a)}function b(e){var t="function"==typeof Symbol&&Symbol.iterator,a=t&&e[t],n=0;if(a)return a.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,o,i=a.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)r.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(a=i.return)&&a.call(i)}finally{if(o)throw o.error}}return r}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function w(){for(var e=0,t=0,a=arguments.length;t<a;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<a;t++)for(var i=arguments[t],r=0,s=i.length;r<s;r++,o++)n[o]=i[r];return n}function S(e,t,a){if(a||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}function A(e){return this instanceof A?(this.v=e,this):new A(e)}function k(e,t,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=a.apply(e,t||[]),i=[];return n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n;function r(e){o[e]&&(n[e]=function(t){return new Promise((function(a,n){i.push([e,t,a,n])>1||s(e,t)}))})}function s(e,t){try{(a=o[e](t)).value instanceof A?Promise.resolve(a.value.v).then(l,c):d(i[0][2],a)}catch(e){d(i[0][3],e)}var a}function l(e){s("next",e)}function c(e){s("throw",e)}function d(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function E(e){var t,a;return t={},n("next"),n("throw",(function(e){throw e})),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(a=!a)?{value:A(e[n](t)),done:!1}:o?o(t):t}:o}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,a=e[Symbol.asyncIterator];return a?a.call(e):(e=b(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=e[a]&&function(t){return new Promise((function(n,o){!function(e,t,a,n){Promise.resolve(n).then((function(t){e({value:t,done:a})}),t)}(n,o,(t=e[a](t)).done,t.value)}))}}}function I(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var P=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&f(t,e,a);return P(t,e),t}function O(e){return e&&e.__esModule?e:{default:e}}function C(e,t,a,n){if("a"===a&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?n:"a"===a?n.call(e):n?n.value:t.get(e)}function N(e,t,a,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,a):o?o.value=a:t.set(e,a),a}function R(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}},5659:(e,t,a)=>{"use strict";a.d(t,{Gd:()=>_,Xb:()=>p,cu:()=>m,j0:()=>b,pj:()=>h,vi:()=>g});var n=a(2844),o=a(1170),i=a(2343),r=a(1235),s=a(2176),l=a(350),c=a(9015);const d=4,u=100;class p{__init(){this._stack=[{}]}constructor(e,t=new l.s,a=d){this._version=a,p.prototype.__init.call(this),this.getStackTop().scope=t,e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=l.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(e){const t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const a=this._lastEventId=t&&t.event_id?t.event_id:(0,n.DM)(),o=new Error("Sentry syntheticException");return this._withClient(((n,i)=>{n.captureException(e,{originalException:e,syntheticException:o,...t,event_id:a},i)})),a}captureMessage(e,t,a){const o=this._lastEventId=a&&a.event_id?a.event_id:(0,n.DM)(),i=new Error(e);return this._withClient(((n,r)=>{n.captureMessage(e,t,{originalException:e,syntheticException:i,...a,event_id:o},r)})),o}captureEvent(e,t){const a=t&&t.event_id?t.event_id:(0,n.DM)();return e.type||(this._lastEventId=a),this._withClient(((n,o)=>{n.captureEvent(e,{...t,event_id:a},o)})),a}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:a,client:n}=this.getStackTop();if(!a||!n)return;const{beforeBreadcrumb:r=null,maxBreadcrumbs:s=u}=n.getOptions&&n.getOptions()||{};if(s<=0)return;const l={timestamp:(0,o.yW)(),...e},c=r?(0,i.Cf)((()=>r(l,t))):l;null!==c&&a.addBreadcrumb(c,s)}setUser(e){const t=this.getScope();t&&t.setUser(e)}setTags(e){const t=this.getScope();t&&t.setTags(e)}setExtras(e){const t=this.getScope();t&&t.setExtras(e)}setTag(e,t){const a=this.getScope();a&&a.setTag(e,t)}setExtra(e,t){const a=this.getScope();a&&a.setExtra(e,t)}setContext(e,t){const a=this.getScope();a&&a.setContext(e,t)}configureScope(e){const{scope:t,client:a}=this.getStackTop();t&&a&&e(t)}run(e){const t=h(this);try{e(this)}finally{h(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){return this._callExtensionMethod("startTransaction",e,t)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop(),t=e&&e.scope,a=t&&t.getSession();a&&(0,c.RJ)(a),this._sendSessionUpdate(),t&&t.setSession()}startSession(e){const{scope:t,client:a}=this.getStackTop(),{release:n,environment:o}=a&&a.getOptions()||{},{userAgent:i}=r.n2.navigator||{},s=(0,c.Hv)({release:n,environment:o,...t&&{user:t.getUser()},...i&&{userAgent:i},...e});if(t){const e=t.getSession&&t.getSession();e&&"ok"===e.status&&(0,c.CT)(e,{status:"exited"}),this.endSession(),t.setSession(s)}return s}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop();if(!e)return;const a=e.getSession();a&&t&&t.captureSession&&t.captureSession(a)}_withClient(e){const{scope:t,client:a}=this.getStackTop();a&&e(a,t)}_callExtensionMethod(e,...t){const a=m().__SENTRY__;if(a&&a.extensions&&"function"==typeof a.extensions[e])return a.extensions[e].apply(this,t);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function m(){return r.n2.__SENTRY__=r.n2.__SENTRY__||{extensions:{},hub:void 0},r.n2}function h(e){const t=m(),a=g(t);return b(t,e),a}function _(){const e=m();return f(e)&&!g(e).isOlderThan(d)||b(e,new p),(0,s.KV)()?function(e){try{const t=m().__SENTRY__,a=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!a)return g(e);if(!f(a)||g(a).isOlderThan(d)){const t=g(e).getStackTop();b(a,new p(t.client,l.s.clone(t.scope)))}return g(a)}catch(t){return g(e)}}(e):g(e)}function f(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function g(e){return(0,r.YO)("hub",(()=>new p),e)}function b(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}},350:(e,t,a)=>{"use strict";a.d(t,{c:()=>p,s:()=>d});var n=a(7597),o=a(1170),i=a(6893),r=a(2343),s=a(2844),l=a(1235),c=a(9015);class d{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){const t=new d;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags={...e._tags},t._extra={...e._extra},t._contexts={...e._contexts},t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments],t._sdkProcessingMetadata={...e._sdkProcessingMetadata}),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&(0,c.CT)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){const t=e(this);return t instanceof d?t:this}return e instanceof d?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):(0,n.PO)(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,t){const a="number"==typeof t?t:100;if(a<=0)return this;const n={timestamp:(0,o.yW)(),...e};return this._breadcrumbs=[...this._breadcrumbs,n].slice(-a),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const t=this._span.transaction&&this._span.transaction.name;t&&(e.tags={transaction:t,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...u(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,t,a,o=0){return new i.cW(((i,s)=>{const l=e[o];if(null===t||"function"!=typeof l)i(t);else{const c=l({...t},a);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&l.id&&null===c&&r.kg.log(`Event processor "${l.id}" dropped event`),(0,n.J8)(c)?c.then((t=>this._notifyEventProcessors(e,t,a,o+1).then(i))).then(null,s):this._notifyEventProcessors(e,c,a,o+1).then(i).then(null,s)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?(0,s.lE)(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function u(){return(0,l.YO)("globalEventProcessors",(()=>[]))}function p(e){u().push(e)}},9015:(e,t,a)=>{"use strict";a.d(t,{CT:()=>s,Hv:()=>r,RJ:()=>l});var n=a(1170),o=a(2844),i=a(535);function r(e){const t=(0,n.ph)(),a={sid:(0,o.DM)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return(0,i.Jr)({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(a)};return e&&s(a,e),a}function s(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,n.ph)(),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,o.DM)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function l(e,t){let a={};t?a={status:t}:"ok"===e.status&&(a={status:"exited"}),s(e,a)}},2529:(e,t,a)=>{"use strict";a.r(t),a.d(t,{DEFAULT_USER_INCLUDES:()=>pt,Handlers:()=>o,Hub:()=>_.Xb,Integrations:()=>Vt,NodeClient:()=>fe,SDK_VERSION:()=>f,Scope:()=>X.s,addBreadcrumb:()=>w,addGlobalEventProcessor:()=>X.c,addRequestDataToEvent:()=>_t,captureEvent:()=>y,captureException:()=>g,captureMessage:()=>b,close:()=>Ot,configureScope:()=>v,createTransport:()=>K,deepReadDirSync:()=>Dt,defaultIntegrations:()=>xt,defaultStackParser:()=>Rt,extractRequestData:()=>ht,flush:()=>Tt,getCurrentHub:()=>_.Gd,getHubFromCarrier:()=>_.vi,getSentryRelease:()=>Nt,init:()=>It,lastEventId:()=>Pt,makeMain:()=>_.pj,makeNodeTransport:()=>ke,setContext:()=>S,setExtra:()=>k,setExtras:()=>A,setTag:()=>x,setTags:()=>E,setUser:()=>I,startTransaction:()=>T,withScope:()=>P});var n={};a.r(n),a.d(n,{FunctionToString:()=>l,InboundFilters:()=>m});var o={};a.r(o),a.d(o,{errorHandler:()=>Ft,extractRequestData:()=>Ut,parseRequest:()=>Mt,requestHandler:()=>Lt,tracingHandler:()=>Bt});var i={};a.r(i),a.d(i,{Console:()=>Pe,Context:()=>tt,ContextLines:()=>Ye,Http:()=>Me,LinkedErrors:()=>qe,LocalVariables:()=>wt,Modules:()=>Ke,OnUncaughtException:()=>Ve,OnUnhandledRejection:()=>$e,RequestData:()=>gt});var r=a(535);let s;class l{constructor(){l.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=l.id}setupOnce(){s=Function.prototype.toString,Function.prototype.toString=function(...e){const t=(0,r.HK)(this)||this;return s.apply(t,e)}}}l.__initStatic();var c=a(2343),d=a(2844),u=a(7321);const p=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class m{static __initStatic(){this.id="InboundFilters"}__init(){this.name=m.id}constructor(e={}){this._options=e,m.prototype.__init.call(this)}setupOnce(e,t){const a=e=>{const a=t();if(a){const t=a.getIntegration(m);if(t){const n=a.getClient(),o=n?n.getOptions():{},i=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...p],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(t._options,o);return function(e,t){return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,d.jH)(e)}`),!0):function(e,t){return!(!t||!t.length)&&function(e){if(e.message)return[e.message];if(e.exception)try{const{type:t="",value:a=""}=e.exception.values&&e.exception.values[0]||{};return[`${a}`,`${t}: ${a}`]}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.error(`Cannot extract message for event ${(0,d.jH)(e)}`),[]}return[]}(e).some((e=>(0,u.U0)(e,t)))}(e,t.ignoreErrors)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,d.jH)(e)}`),!0):function(e,t){if(!t||!t.length)return!1;const a=h(e);return!!a&&(0,u.U0)(a,t)}(e,t.denyUrls)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,d.jH)(e)}.\nUrl: ${h(e)}`),!0):!function(e,t){if(!t||!t.length)return!0;const a=h(e);return!a||(0,u.U0)(a,t)}(e,t.allowUrls)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,d.jH)(e)}.\nUrl: ${h(e)}`),!0)}(e,i)?null:e}}return e};a.id=this.name,e(a)}}function h(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const a=e[t];if(a&&"<anonymous>"!==a.filename&&"[native code]"!==a.filename)return a.filename||null}return null}(t):null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.error(`Cannot extract url for event ${(0,d.jH)(e)}`),null}}m.__initStatic();var _=a(5659);const f="7.38.0";function g(e,t){return(0,_.Gd)().captureException(e,{captureContext:t})}function b(e,t){const a="string"==typeof t?t:void 0,n="string"!=typeof t?{captureContext:t}:void 0;return(0,_.Gd)().captureMessage(e,a,n)}function y(e,t){return(0,_.Gd)().captureEvent(e,t)}function v(e){(0,_.Gd)().configureScope(e)}function w(e){(0,_.Gd)().addBreadcrumb(e)}function S(e,t){(0,_.Gd)().setContext(e,t)}function A(e){(0,_.Gd)().setExtras(e)}function k(e,t){(0,_.Gd)().setExtra(e,t)}function E(e){(0,_.Gd)().setTags(e)}function x(e,t){(0,_.Gd)().setTag(e,t)}function I(e){(0,_.Gd)().setUser(e)}function P(e){(0,_.Gd)().withScope(e)}function T(e,t){return(0,_.Gd)().startTransaction({...e},t)}class O extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}var C=a(6893);const N=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function R(e,t=!1){const{host:a,path:n,pass:o,port:i,projectId:r,protocol:s,publicKey:l}=e;return`${s}://${l}${t&&o?`:${o}`:""}@${a}${i?`:${i}`:""}/${n?`${n}/`:n}${r}`}function D(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}var G=a(7597),U=a(360);function M(e,t=1/0,a=1/0){try{return L("",e,t,a)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function B(e,t=3,a=102400){const n=M(e,t);return o=n,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(o))>a?B(e,t-1,a):n;var o}function L(e,t,a=1/0,n=1/0,o=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(a){if(e)return!!t.has(a)||(t.add(a),!1);for(let e=0;e<t.length;e++)if(t[e]===a)return!0;return t.push(a),!1},function(a){if(e)t.delete(a);else for(let e=0;e<t.length;e++)if(t[e]===a){t.splice(e,1);break}}]}()){const[i,s]=o;if(null===t||["number","boolean","string"].includes(typeof t)&&!(0,G.i2)(t))return t;const l=function(e,t){try{return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":(0,G.Cy)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?`[Function: ${(0,U.$P)(t)}]`:"symbol"==typeof t?`[${String(t)}]`:"bigint"==typeof t?`[BigInt: ${String(t)}]`:`[object ${function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t)}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;if(0===a)return l.replace("object ","");if(i(t))return"[Circular ~]";const c=t;if(c&&"function"==typeof c.toJSON)try{return L("",c.toJSON(),a-1,n,o)}catch(e){}const d=Array.isArray(t)?[]:{};let u=0;const p=(0,r.Sh)(t);for(const e in p){if(!Object.prototype.hasOwnProperty.call(p,e))continue;if(u>=n){d[e]="[MaxProperties ~]";break}const t=p[e];d[e]=L(e,t,a-1,n,o),u++}return s(t),d}function z(e,t=[]){return[e,t]}function F(e,t){const[a,n]=e;return[a,[...n,t]]}function V(e,t){e[1].forEach((e=>{const a=e[0].type;t(e,a)}))}function $(e,t){return(t||new TextEncoder).encode(e)}function j(e,t){const[a,n]=e;let o=JSON.stringify(a);function i(e){"string"==typeof o?o="string"==typeof e?o+e:[$(o,t),e]:o.push("string"==typeof e?$(e,t):e)}for(const e of n){const[t,a]=e;if(i(`\n${JSON.stringify(t)}\n`),"string"==typeof a||a instanceof Uint8Array)i(a);else{let e;try{e=JSON.stringify(a)}catch(t){e=JSON.stringify(M(a))}i(e)}}return"string"==typeof o?o:function(e){const t=e.reduce(((e,t)=>e+t.length),0),a=new Uint8Array(t);let n=0;for(const t of e)a.set(t,n),n+=t.length;return a}(o)}function W(e,t){const a="string"==typeof e.data?$(e.data,t):e.data;return[(0,r.Jr)({type:"attachment",length:a.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),a]}const Y={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay"};function H(e){return Y[e]}function q(e){if(!e||!e.sdk)return;const{name:t,version:a}=e.sdk;return{name:t,version:a}}const Z=6e4;const J=30;function K(e,t,a=function(e){const t=[];function a(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(n){if(!(void 0===e||t.length<e))return(0,C.$2)(new O("Not adding Promise because buffer limit was reached."));const o=n();return-1===t.indexOf(o)&&t.push(o),o.then((()=>a(o))).then(null,(()=>a(o).then(null,(()=>{})))),o},drain:function(e){return new C.cW(((a,n)=>{let o=t.length;if(!o)return a(!0);const i=setTimeout((()=>{e&&e>0&&a(!1)}),e);t.forEach((e=>{(0,C.WD)(e).then((()=>{--o||(clearTimeout(i),a(!0))}),n)}))}))}}}(e.bufferSize||J)){let n={};return{send:function(o){const i=[];if(V(o,((t,a)=>{const o=H(a);if(function(e,t,a=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>a}(n,o)){const n=Q(t,a);e.recordDroppedEvent("ratelimit_backoff",o,n)}else i.push(t)})),0===i.length)return(0,C.WD)();const r=z(o[0],i),s=t=>{V(r,((a,n)=>{const o=Q(a,n);e.recordDroppedEvent(t,H(n),o)}))};return a.add((()=>t({body:j(r,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),n=function(e,{statusCode:t,headers:a},n=Date.now()){const o={...e},i=a&&a["x-sentry-rate-limits"],r=a&&a["retry-after"];if(i)for(const e of i.trim().split(",")){const[t,a]=e.split(":",2),i=parseInt(t,10),r=1e3*(isNaN(i)?60:i);if(a)for(const e of a.split(";"))o[e]=n+r;else o.all=n+r}else r?o.all=n+function(e,t=Date.now()){const a=parseInt(`${e}`,10);if(!isNaN(a))return 1e3*a;const n=Date.parse(`${e}`);return isNaN(n)?Z:n-t}(r,n):429===t&&(o.all=n+6e4);return o}(n,e),e)),(e=>{throw s("network_error"),e})))).then((e=>e),(e=>{if(e instanceof O)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.error("Skipped sending event because buffer is full."),s("queue_overflow"),(0,C.WD)();throw e}))},flush:e=>a.drain(e)}}function Q(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}var X=a(350),ee=a(4307);const te="7";const ae=[];function ne(e){const t=e.defaultIntegrations||[],a=e.integrations;let n;t.forEach((e=>{e.isDefaultInstance=!0})),n=Array.isArray(a)?[...t,...a]:"function"==typeof a?(0,d.lE)(a(t)):t;const o=function(e){const t={};return e.forEach((e=>{const{name:a}=e,n=t[a];n&&!n.isDefaultInstance&&e.isDefaultInstance||(t[a]=e)})),Object.values(t)}(n),i=o.findIndex((e=>"Debug"===e.name));if(-1!==i){const[e]=o.splice(i,1);o.push(e)}return o}function oe(e,t){t[e.name]=e,-1===ae.indexOf(e.name)&&(e.setupOnce(X.c,_.Gd),ae.push(e.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log(`Integration installed: ${e.name}`))}var ie=a(9015),re=a(1170);const se="Not capturing exception because it's already been captured.";class le{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(e){if(le.prototype.__init.call(this),le.prototype.__init2.call(this),le.prototype.__init3.call(this),le.prototype.__init4.call(this),this._options=e,e.dsn){this._dsn=function(e){const t="string"==typeof e?function(e){const t=N.exec(e);if(!t)throw new O(`Invalid Sentry Dsn: ${e}`);const[a,n,o="",i,r="",s]=t.slice(1);let l="",c=s;const d=c.split("/");if(d.length>1&&(l=d.slice(0,-1).join("/"),c=d.pop()),c){const e=c.match(/^\d+/);e&&(c=e[0])}return D({host:i,pass:o,path:l,projectId:c,port:r,protocol:a,publicKey:n})}(e):D(e);return function(e){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return;const{port:t,projectId:a,protocol:n}=e;if(["protocol","publicKey","host","projectId"].forEach((t=>{if(!e[t])throw new O(`Invalid Sentry Dsn: ${t} missing`)})),!a.match(/^\d+$/))throw new O(`Invalid Sentry Dsn: Invalid projectId ${a}`);if(!function(e){return"http"===e||"https"===e}(n))throw new O(`Invalid Sentry Dsn: Invalid protocol ${n}`);if(t&&isNaN(parseInt(t,10)))throw new O(`Invalid Sentry Dsn: Invalid port ${t}`)}(t),t}(e.dsn);const t=function(e,t={}){const a="string"==typeof t?t:t.tunnel,n="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return a||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",a=e.port?`:${e.port}`:"";return`${t}//${e.host}${a}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return(0,r._j)({sentry_key:e.publicKey,sentry_version:te,...t&&{sentry_client:`${t.name}/${t.version}`}})}(e,n)}`}(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("No DSN provided, client will not do anything.")}captureException(e,t,a){if((0,d.YO)(e))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log(se));let n=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,a))).then((e=>{n=e}))),n}captureMessage(e,t,a,n){let o=a&&a.event_id;const i=(0,G.pt)(e)?this.eventFromMessage(String(e),t,a):this.eventFromException(e,a);return this._process(i.then((e=>this._captureEvent(e,a,n))).then((e=>{o=e}))),o}captureEvent(e,t,a){if(t&&t.originalException&&(0,d.YO)(t.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log(se));let n=t&&t.event_id;return this._process(this._captureEvent(e,t,a).then((e=>{n=e}))),n}captureSession(e){this._isEnabled()?"string"!=typeof e.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),(0,ie.CT)(e,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?this._isClientDoneProcessing(e).then((a=>t.flush(e).then((e=>a&&e)))):(0,C.WD)(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,e)))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function(e){const t={};return e.forEach((e=>{e&&oe(e,t)})),t}(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){oe(e,this._integrations)}sendEvent(e,t={}){if(this._dsn){let a=function(e,t,a,n){const o=q(a),i=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,a&&a.sdk);const s=function(e,t,a,n){const o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!a&&{dsn:R(n)},..."transaction"===e.type&&o&&{trace:(0,r.Jr)({...o})}}}(e,o,n,t);return delete e.sdkProcessingMetadata,z(s,[[{type:i},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])a=F(a,W(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(a)}}sendSession(e){if(this._dsn){const t=function(e,t,a,n){const o=q(a);return z({sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!n&&{dsn:R(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}}recordDroppedEvent(e,t,a){if(this._options.sendClientReports){const a=`${e}:${t}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log(`Adding outcome: "${a}"`),this._outcomes[a]=this._outcomes[a]+1||1}}_updateSessionFromEvent(e,t){let a=!1,n=!1;const o=t.exception&&t.exception.values;if(o){n=!0;for(const e of o){const t=e.mechanism;if(t&&!1===t.handled){a=!0;break}}}const i="ok"===e.status;(i&&0===e.errors||i&&a)&&((0,ie.CT)(e,{...a&&{status:"crashed"},errors:e.errors||Number(n||a)}),this.captureSession(e))}_isClientDoneProcessing(e){return new C.cW((t=>{let a=0;const n=setInterval((()=>{0==this._numProcessing?(clearInterval(n),t(!0)):(a+=1,e&&a>=e&&(clearInterval(n),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(e,t,a){const n=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o.length>0&&(t.integrations=o),function(e,t,a,n){const{normalizeDepth:o=3,normalizeMaxBreadth:i=1e3}=e,r={...t,event_id:t.event_id||a.event_id||(0,d.DM)(),timestamp:t.timestamp||(0,re.yW)()},s=a.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:a,release:n,dist:o,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?a:"production"),void 0===e.release&&void 0!==n&&(e.release=n),void 0===e.dist&&void 0!==o&&(e.dist=o),e.message&&(e.message=(0,u.$G)(e.message,i));const r=e.exception&&e.exception.values&&e.exception.values[0];r&&r.value&&(r.value=(0,u.$G)(r.value,i));const s=e.request;s&&s.url&&(s.url=(0,u.$G)(s.url,i))}(r,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(r,s);let l=n;a.captureContext&&(l=X.s.clone(l).update(a.captureContext));let c=(0,C.WD)(r);if(l){if(l.getAttachments){const e=[...a.attachments||[],...l.getAttachments()];e.length&&(a.attachments=e)}c=l.applyToEvent(r,a)}return c.then((e=>"number"==typeof o&&o>0?function(e,t,a){if(!e)return null;const n={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:M(e.data,t,a)}})))},...e.user&&{user:M(e.user,t,a)},...e.contexts&&{contexts:M(e.contexts,t,a)},...e.extra&&{extra:M(e.extra,t,a)}};return e.contexts&&e.contexts.trace&&n.contexts&&(n.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(n.contexts.trace.data=M(e.contexts.trace.data,t,a))),e.spans&&(n.spans=e.spans.map((e=>(e.data&&(e.data=M(e.data,t,a)),e)))),n}(e,o,i):e))}(n,e,t,a)}_captureEvent(e,t={},a){return this._processEvent(e,t,a).then((e=>e.event_id),(e=>{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){const t=e;"log"===t.logLevel?c.kg.log(t.message):c.kg.warn(t)}}))}_processEvent(e,t,a){const n=this.getOptions(),{sampleRate:o}=n;if(!this._isEnabled())return(0,C.$2)(new O("SDK not enabled, will not capture event.","log"));const i=de(e),r=ce(e),s=e.type||"error",l=`before send for type \`${s}\``;if(r&&"number"==typeof o&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",e),(0,C.$2)(new O(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const c="replay_event"===s?"replay":s;return this._prepareEvent(e,t,a).then((a=>{if(null===a)throw this.recordDroppedEvent("event_processor",c,e),new O("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return a;const o=function(e,t,a){const{beforeSend:n,beforeSendTransaction:o}=e;return ce(t)&&n?n(t,a):de(t)&&o?o(t,a):t}(n,a,t);return function(e,t){const a=`${t} must return \`null\` or a valid event.`;if((0,G.J8)(e))return e.then((e=>{if(!(0,G.PO)(e)&&null!==e)throw new O(a);return e}),(e=>{throw new O(`${t} rejected with ${e}`)}));if(!(0,G.PO)(e)&&null!==e)throw new O(a);return e}(o,l)})).then((n=>{if(null===n)throw this.recordDroppedEvent("before_send",c,e),new O(`${l} returned \`null\`, will not send event.`,"log");const o=a&&a.getSession();!i&&o&&this._updateSessionFromEvent(o,n);const r=n.transaction_info;if(i&&r&&n.transaction!==e.transaction){const e="custom";n.transaction_info={...r,source:e}}return this.sendEvent(n,t),n})).then(null,(e=>{if(e instanceof O)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new O(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){this._transport&&this._dsn?this._transport.send(e).then(null,(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.error("Error while sending event:",e)})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[a,n]=t.split(":");return{reason:a,category:n,quantity:e[t]}}))}}function ce(e){return void 0===e.type}function de(e){return"transaction"===e.type}class ue{__init(){this.flushTimeout=60}__init2(){this._pendingAggregates={}}__init3(){this._isEnabled=!0}constructor(e,t){ue.prototype.__init.call(this),ue.prototype.__init2.call(this),ue.prototype.__init3.call(this),this._client=e,this._intervalId=setInterval((()=>this.flush()),1e3*this.flushTimeout),this._sessionAttrs=t}flush(){const e=this.getSessionAggregates();0!==e.aggregates.length&&(this._pendingAggregates={},this._client.sendSession(e))}getSessionAggregates(){const e=Object.keys(this._pendingAggregates).map((e=>this._pendingAggregates[parseInt(e)])),t={attrs:this._sessionAttrs,aggregates:e};return(0,r.Jr)(t)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;const e=(0,_.Gd)().getScope(),t=e&&e.getRequestSession();t&&t.status&&(this._incrementSessionStatusCount(t.status,new Date),e&&e.setRequestSession(void 0))}_incrementSessionStatusCount(e,t){const a=new Date(t).setSeconds(0,0);this._pendingAggregates[a]=this._pendingAggregates[a]||{};const n=this._pendingAggregates[a];switch(n.started||(n.started=new Date(a).toISOString()),e){case"errored":return n.errored=(n.errored||0)+1,n.errored;case"ok":return n.exited=(n.exited||0)+1,n.exited;default:return n.crashed=(n.crashed||0)+1,n.crashed}}}var pe=a(2037),me=a(3837);function he(e,t){return e(t.stack||"",1)}function _e(e,t){const a={type:t.name||t.constructor.name,value:t.message},n=he(e,t);return n.length&&(a.stacktrace={frames:n}),a}class fe extends le{constructor(e){e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.node",packages:[{name:"npm:@sentry/node",version:f}],version:f},e.transportOptions={textEncoder:new me.TextEncoder,...e.transportOptions},super(e)}captureException(e,t,a){if(this._options.autoSessionTracking&&this._sessionFlusher&&a){const e=a.getRequestSession();e&&"ok"===e.status&&(e.status="errored")}return super.captureException(e,t,a)}captureEvent(e,t,a){if(this._options.autoSessionTracking&&this._sessionFlusher&&a&&"exception"===(e.type||"exception")&&e.exception&&e.exception.values&&e.exception.values.length>0){const e=a.getRequestSession();e&&"ok"===e.status&&(e.status="errored")}return super.captureEvent(e,t,a)}close(e){return(0,ee.x)([this,"access",e=>e._sessionFlusher,"optionalAccess",e=>e.close,"call",e=>e()]),super.close(e)}initSessionFlusher(){const{release:e,environment:t}=this._options;e?this._sessionFlusher=new ue(this,{release:e,environment:t}):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")}eventFromException(e,t){return(0,C.WD)(function(e,t,a){let n=t;const o=a&&a.data&&a.data.mechanism||{handled:!0,type:"generic"};if(!(0,G.VZ)(t)){if((0,G.PO)(t)){const e=`Non-Error exception captured with keys: ${(0,r.zf)(t)}`,o=(0,_.Gd)(),i=o.getClient(),s=i&&i.getOptions().normalizeDepth;o.configureScope((e=>{e.setExtra("__serialized__",B(t,s))})),n=a&&a.syntheticException||new Error(e),n.message=e}else n=a&&a.syntheticException||new Error(t),n.message=t;o.synthetic=!0}const i={exception:{values:[_e(e,n)]}};return(0,d.Db)(i,void 0,void 0),(0,d.EG)(i,o),{...i,event_id:a&&a.event_id}}(this._options.stackParser,e,t))}eventFromMessage(e,t="info",a){return(0,C.WD)(function(e,t,a="info",n,o){const i={event_id:n&&n.event_id,level:a,message:t};if(o&&n&&n.syntheticException){const a=he(e,n.syntheticException);a.length&&(i.exception={values:[{value:t,stacktrace:{frames:a}}]})}return i}(this._options.stackParser,e,t,a,this._options.attachStacktrace))}_prepareEvent(e,t,a){return e.platform=e.platform||"node",e.contexts={...e.contexts,runtime:(0,ee.x)([e,"access",e=>e.contexts,"optionalAccess",e=>e.runtime])||{name:"node",version:global.process.version}},e.server_name=e.server_name||this.getOptions().serverName||global.process.env.SENTRY_NAME||pe.hostname(),super._prepareEvent(e,t,a)}_captureRequestSession(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("Discarded request mode session because autoSessionTracking option was disabled")}}function ge(e,t){return null!=e?e:t()}var be=a(3685),ye=a(5687),ve=a(2781),we=a(7310),Se=a(9796);const Ae=32768;function ke(e){let t;try{t=new we.URL(e.url)}catch(t){return console.warn("[@sentry/node]: Invalid dsn or tunnel option, will not send any events. The tunnel option must be a full URL when used."),K(e,(()=>Promise.resolve({})))}const n="https:"===t.protocol,o=function(e,t){const{no_proxy:a}=process.env;return a&&a.split(",").some((t=>e.host.endsWith(t)||e.hostname.endsWith(t)))?void 0:t}(t,e.proxy||(n?process.env.https_proxy:void 0)||process.env.http_proxy),i=n?ye:be,r=void 0!==e.keepAlive&&e.keepAlive,s=o?new(a(6018))(o):new i.Agent({keepAlive:r,maxSockets:30,timeout:2e3}),l=function(e,t,a){const{hostname:n,pathname:o,port:i,protocol:r,search:s}=new we.URL(e.url);return function(l){return new Promise(((c,d)=>{let u=function(e){return new ve.Readable({read(){this.push(e),this.push(null)}})}(l.body);const p={...e.headers};l.body.length>Ae&&(p["content-encoding"]="gzip",u=u.pipe((0,Se.createGzip)()));const m=t.request({method:"POST",agent:a,headers:p,hostname:n,path:`${o}${s}`,port:i,protocol:r,ca:e.caCerts},(e=>{e.on("data",(()=>{})),e.on("end",(()=>{})),e.setEncoding("utf8");const t=ge(e.headers["retry-after"],(()=>null)),a=ge(e.headers["x-sentry-rate-limits"],(()=>null));c({statusCode:e.statusCode,headers:{"retry-after":t,"x-sentry-rate-limits":Array.isArray(a)?a[0]:a}})}));m.on("error",d),u.pipe(m)}))}}(e,ge(e.httpModule,(()=>i)),s);return K(e,l)}var Ee=a(1235);const xe=require("domain"),Ie=["fatal","error","warning","log","info","debug"];class Pe{constructor(){Pe.prototype.__init.call(this)}static __initStatic(){this.id="Console"}__init(){this.name=Pe.id}setupOnce(){for(const e of["debug","info","warn","error","log"])(0,r.hl)(console,e,Te(e))}}function Te(e){return function(t){const a=function(e){return"warn"===e?"warning":Ie.includes(e)?e:"log"}(e);return function(){(0,_.Gd)().getIntegration(Pe)&&(0,_.Gd)().addBreadcrumb({category:"console",level:a,message:me.format.apply(void 0,arguments)},{input:[...arguments],level:e}),t.apply(this,arguments)}}}Pe.__initStatic();var Oe=a(9181),Ce=a(7612);const Ne=(0,d.J4)(process.versions.node);function Re(e){return`${e.protocol||""}//${e.hostname||e.host||""}${e.port&&80!==e.port&&443!==e.port?`:${e.port}`:""}${e.path?e.path:"/"}`}function De(e,t,a){if(!e)return e;let[n,o]=e.split(" ");return t.host&&!t.protocol&&(t.protocol=(0,ee.x)([a,"optionalAccess",e=>e.agent,"optionalAccess",e=>e.protocol]),o=Re(t)),(0,ee.x)([o,"optionalAccess",e=>e.startsWith,"call",e=>e("///")])&&(o=o.slice(2)),`${n} ${o}`}function Ge(e){const t={protocol:e.protocol,hostname:"string"==typeof e.hostname&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:`${e.pathname||""}${e.search||""}`,href:e.href};return""!==e.port&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=`${e.username}:${e.password}`),t}const Ue=(0,d.J4)(process.versions.node);class Me{static __initStatic(){this.id="Http"}__init(){this.name=Me.id}constructor(e={}){Me.prototype.__init.call(this),this._breadcrumbs=void 0===e.breadcrumbs||e.breadcrumbs,this._tracing=e.tracing?!0===e.tracing?{}:e.tracing:void 0}setupOnce(e,t){if(!this._breadcrumbs&&!this._tracing)return;const n=(0,ee.x)([t,"call",e=>e(),"access",e=>e.getClient,"call",e=>e(),"optionalAccess",e=>e.getOptions,"call",e=>e()]);if(n&&"sentry"!==n.instrumenter)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log("HTTP Integration is skipped because of instrumenter configuration."));const o=this._tracing?{...n,...this._tracing}:void 0,i=a(3685),s=Be(this._breadcrumbs,o,i);if((0,r.hl)(i,"get",s),(0,r.hl)(i,"request",s),Ue.major&&Ue.major>8){const e=a(5687),t=Be(this._breadcrumbs,o,e);(0,r.hl)(e,"get",t),(0,r.hl)(e,"request",t)}}}function Be(e,t,a){const n=new Ce.LRUMap(100),o={};return function(i){return function(...r){const s=function(e,t){let a,n;return"function"==typeof t[t.length-1]&&(a=t.pop()),n="string"==typeof t[0]?Ge(new we.URL(t[0])):t[0]instanceof we.URL?Ge(t[0]):t[0],2===t.length&&(n={...n,...t[1]}),void 0===n.protocol&&(Ne.major&&Ne.major>8?n.protocol=(0,ee.x)([(0,ee.x)([e,"optionalAccess",e=>e.globalAgent]),"optionalAccess",e=>e.protocol])||(0,ee.x)([n.agent,"optionalAccess",e=>e.protocol])||(0,ee.x)([n._defaultAgent,"optionalAccess",e=>e.protocol]):n.protocol=(0,ee.x)([n.agent,"optionalAccess",e=>e.protocol])||(0,ee.x)([n._defaultAgent,"optionalAccess",e=>e.protocol])||(0,ee.x)([(0,ee.x)([e,"optionalAccess",e=>e.globalAgent]),"optionalAccess",e=>e.protocol])),a?[n,a]:[n]}(a,r),l=s[0],d=Re(l);if(function(e){const t=(0,ee.x)([_.Gd,"call",e=>e(),"access",e=>e.getClient,"call",e=>e(),"optionalAccess",e=>e.getDsn,"call",e=>e()]);return!!t&&e.includes(t.host)}(d))return i.apply(a,s);let p,m;const h=(0,_.Gd)().getScope();if(h&&t&&(e=>{if(void 0===(0,ee.x)([t,"optionalAccess",e=>e.shouldCreateSpanForRequest]))return!0;const a=n.get(e);if(void 0!==a)return a;const o=t.shouldCreateSpanForRequest(e);return n.set(e,o),o})(d)&&(m=h.getSpan(),m))if(p=m.startChild({description:`${l.method||"GET"} ${d}`,op:"http.client"}),(e=>void 0===(0,ee.x)([t,"optionalAccess",e=>e.tracePropagationTargets])||(o[e]||(o[e]=(0,u.U0)(e,t.tracePropagationTargets)),o[e]))(d)){const e=p.toTraceparent();if(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log(`[Tracing] Adding sentry-trace header ${e} to outgoing request to "${d}": `),l.headers={...l.headers,"sentry-trace":e},m.transaction){const e=m.transaction.getDynamicSamplingContext(),t=(0,Oe.IQ)(e);let a;a=l.headers&&l.headers.baggage?t?Array.isArray(l.headers.baggage)?[...l.headers.baggage,t]:[l.headers.baggage,t]:l.headers.baggage:t,l.headers={...l.headers,...a&&{baggage:a}}}}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.log(`[Tracing] Not adding sentry-trace header to outgoing request (${d}) due to mismatching tracePropagationTargets option.`);return i.apply(a,s).once("response",(function(t){e&&Le("response",d,this,t),p&&(t.statusCode&&p.setHttpStatus(t.statusCode),p.description=De(p.description,l,this),p.finish())})).once("error",(function(){e&&Le("error",d,this),p&&(p.setHttpStatus(500),p.description=De(p.description,l,this),p.finish())}))}}}function Le(e,t,a,n){(0,_.Gd)().getIntegration(Me)&&(0,_.Gd)().addBreadcrumb({category:"http",data:{method:a.method,status_code:n&&n.statusCode,url:t},type:"http"},{event:e,request:a,response:n})}Me.__initStatic();const ze=2e3;function Fe(e){console.error(e&&e.stack?e.stack:e);const t=(0,_.Gd)().getClient();void 0===t&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("No NodeClient was defined, we are exiting the process now."),global.process.exit(1));const a=t.getOptions(),n=a&&a.shutdownTimeout&&a.shutdownTimeout>0&&a.shutdownTimeout||ze;t.close(n).then((e=>{e||("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("We reached the timeout for emptying the request buffer, still exiting now!"),global.process.exit(1)}),(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.error(e)}))}class Ve{static __initStatic(){this.id="OnUncaughtException"}__init(){this.name=Ve.id}__init2(){this.handler=this._makeErrorHandler()}constructor(e={}){Ve.prototype.__init.call(this),Ve.prototype.__init2.call(this),this._options={exitEvenIfOtherHandlersAreRegistered:!0,...e}}setupOnce(){global.process.on("uncaughtException",this.handler)}_makeErrorHandler(){let e,t=!1,a=!1,n=!1;return o=>{let i=Fe;const r=(0,_.Gd)().getClient();this._options.onFatalError?i=this._options.onFatalError:r&&r.getOptions().onFatalError&&(i=r.getOptions().onFatalError);const s=0===global.process.listeners("uncaughtException").reduce(((e,t)=>"domainUncaughtExceptionClear"===t.name||t===this.handler?e:e+1),0),l=this._options.exitEvenIfOtherHandlersAreRegistered||s;if(t)l&&(n?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),Fe(o)):a||(a=!0,setTimeout((()=>{n||(n=!0,i(e,o))}),2e3)));else{const a=(0,_.Gd)();e=o,t=!0,a.getIntegration(Ve)?a.withScope((e=>{e.setLevel("fatal"),a.captureException(o,{originalException:o,data:{mechanism:{handled:!1,type:"onuncaughtexception"}}}),!n&&l&&(n=!0,i(o))})):!n&&l&&(n=!0,i(o))}}}}Ve.__initStatic();class $e{static __initStatic(){this.id="OnUnhandledRejection"}__init(){this.name=$e.id}constructor(e={mode:"warn"}){this._options=e,$e.prototype.__init.call(this)}setupOnce(){global.process.on("unhandledRejection",this.sendUnhandledPromise.bind(this))}sendUnhandledPromise(e,t){const a=(0,_.Gd)();a.getIntegration($e)&&a.withScope((n=>{n.setExtra("unhandledPromiseRejection",!0),a.captureException(e,{originalException:t,data:{mechanism:{handled:!1,type:"onunhandledrejection"}}})})),this._handleRejection(e)}_handleRejection(e){const t="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";"warn"===this._options.mode?(0,c.Cf)((()=>{console.warn(t),console.error(e&&e.stack?e.stack:e)})):"strict"===this._options.mode&&((0,c.Cf)((()=>{console.warn(t)})),Fe(e))}}$e.__initStatic();const je=require("fs"),We=new Ce.LRUMap(100);class Ye{static __initStatic(){this.id="ContextLines"}__init(){this.name=Ye.id}constructor(e={}){this._options=e,Ye.prototype.__init.call(this)}get _contextLines(){return void 0!==this._options.frameContextLines?this._options.frameContextLines:7}setupOnce(e){e((e=>this.addSourceContext(e)))}async addSourceContext(e){if(this._contextLines>0&&(0,ee.x)([e,"access",e=>e.exception,"optionalAccess",e=>e.values]))for(const t of e.exception.values)(0,ee.x)([t,"access",e=>e.stacktrace,"optionalAccess",e=>e.frames])&&await this.addSourceContextToFrames(t.stacktrace.frames);return e}async addSourceContextToFrames(e){const t=this._contextLines;for(const a of e)if(a.filename&&void 0===a.context_line){const e=await He(a.filename);if(e)try{const n=e.split("\n");(0,d.go)(n,a,t)}catch(e){}}}}async function He(e){const t=We.get(e);if(void 0!==t)return t;let a=null;try{a=await(n=e,new Promise(((e,t)=>{(0,je.readFile)(n,"utf8",((a,n)=>{a?t(a):e(n)}))})))}catch(e){}var n;return We.set(e,a),a}Ye.__initStatic();class qe{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=qe.id}constructor(e={}){qe.prototype.__init.call(this),this._key=e.key||"cause",this._limit=e.limit||5}setupOnce(){(0,X.c)((async(e,t)=>{const a=(0,_.Gd)(),n=a.getIntegration(qe),o=a.getClient();return o&&n&&n._handler&&"function"==typeof n._handler&&await n._handler(o.getOptions().stackParser,e,t),e}))}_handler(e,t,a){return t.exception&&t.exception.values&&(0,G.V9)(a.originalException,Error)?new C.cW((n=>{this._walkErrorTree(e,a.originalException,this._key).then((e=>{t&&t.exception&&t.exception.values&&(t.exception.values=[...e,...t.exception.values]),n(t)})).then(null,(()=>{n(t)}))})):(0,C.WD)(t)}async _walkErrorTree(e,t,a,n=[]){if(!(0,G.V9)(t[a],Error)||n.length+1>=this._limit)return Promise.resolve(n);const o=_e(e,t[a]),i=(0,_.Gd)().getIntegration(Ye);return i&&(0,ee.x)([o,"access",e=>e.stacktrace,"optionalAccess",e=>e.frames])&&await i.addSourceContextToFrames(o.stacktrace.frames),new Promise(((i,r)=>{this._walkErrorTree(e,t[a],a,[o,...n]).then(i).then(null,(()=>{r()}))}))}}qe.__initStatic();var Ze=a(1017);let Je;class Ke{constructor(){Ke.prototype.__init.call(this)}static __initStatic(){this.id="Modules"}__init(){this.name=Ke.id}setupOnce(e,t){e((e=>t().getIntegration(Ke)?{...e,modules:{...e.modules,...this._getModules()}}:e))}_getModules(){return Je||(Je=function(){const e=a.c[a.s]&&a.c[a.s].paths||[],t=function(){try{return a.c?Object.keys(a.c):[]}catch(e){return[]}}(),n={},o={};return t.forEach((t=>{let a=t;const i=()=>{const t=a;if(a=(0,Ze.dirname)(t),!a||t===a||o[t])return;if(e.indexOf(a)<0)return i();const r=(0,Ze.join)(t,"package.json");if(o[t]=!0,!(0,je.existsSync)(r))return i();try{const e=JSON.parse((0,je.readFileSync)(r,"utf8"));n[e.name]=e.version}catch(e){}};i()})),n}()),Je}}Ke.__initStatic();const Qe=require("child_process"),Xe=(0,me.promisify)(je.readFile),et=(0,me.promisify)(je.readdir);class tt{static __initStatic(){this.id="Context"}__init(){this.name=tt.id}constructor(e={app:!0,os:!0,device:!0,culture:!0}){this._options=e,tt.prototype.__init.call(this)}setupOnce(e){e((e=>this.addContext(e)))}async addContext(e){void 0===this._cachedContext&&(this._cachedContext=this._getContexts());const t=this._updateContext(await this._cachedContext);return e.contexts={...e.contexts,app:{...t.app,...(0,ee.x)([e,"access",e=>e.contexts,"optionalAccess",e=>e.app])},os:{...t.os,...(0,ee.x)([e,"access",e=>e.contexts,"optionalAccess",e=>e.os])},device:{...t.device,...(0,ee.x)([e,"access",e=>e.contexts,"optionalAccess",e=>e.device])},culture:{...t.culture,...(0,ee.x)([e,"access",e=>e.contexts,"optionalAccess",e=>e.culture])}},e}_updateContext(e){return(0,ee.x)([e,"optionalAccess",e=>e.app,"optionalAccess",e=>e.app_memory])&&(e.app.app_memory=process.memoryUsage().rss),(0,ee.x)([e,"optionalAccess",e=>e.device,"optionalAccess",e=>e.free_memory])&&(e.device.free_memory=pe.freemem()),e}async _getContexts(){const e={};if(this._options.os&&(e.os=await async function(){const e=pe.platform();switch(e){case"darwin":return async function(){const e={kernel_version:pe.release(),name:"Mac OS X",version:"10."+(Number(pe.release().split(".")[0])-4)};try{const t=await new Promise(((e,t)=>{(0,Qe.execFile)("/usr/bin/sw_vers",((a,n)=>{a?t(a):e(n)}))}));e.name=it(/^ProductName:\s+(.*)$/m,t),e.version=it(/^ProductVersion:\s+(.*)$/m,t),e.build=it(/^BuildVersion:\s+(.*)$/m,t)}catch(e){}return e}();case"linux":return async function(){const e={kernel_version:pe.release(),name:"Linux"};try{const t=await et("/etc"),a=nt.find((e=>t.includes(e.name)));if(!a)return e;const n=(0,Ze.join)("/etc",a.name),o=(await Xe(n,{encoding:"utf-8"})).toLowerCase(),{distros:i}=a;e.name=i.find((e=>o.indexOf(rt(e))>=0))||i[0];const r=rt(e.name);e.version=ot[r](o)}catch(e){}return e}();default:return{name:at[e]||e,version:pe.release()}}}()),this._options.app&&(e.app=function(){const e=process.memoryUsage().rss;return{app_start_time:new Date(Date.now()-1e3*process.uptime()).toISOString(),app_memory:e}}()),this._options.device&&(e.device=function(e){const t={},a=pe.uptime&&pe.uptime();if("number"==typeof a&&(t.boot_time=new Date(Date.now()-1e3*a).toISOString()),t.arch=pe.arch(),(!0===e||e.memory)&&(t.memory_size=pe.totalmem(),t.free_memory=pe.freemem()),!0===e||e.cpu){const e=pe.cpus();if(e&&e.length){const a=e[0];t.processor_count=e.length,t.cpu_description=a.model,t.processor_frequency=a.speed}}return t}(this._options.device)),this._options.culture){const t=function(){try{if("string"!=typeof process.versions.icu)return;const e=new Date(9e8);if("enero"===new Intl.DateTimeFormat("es",{month:"long"}).format(e)){const e=Intl.DateTimeFormat().resolvedOptions();return{locale:e.locale,timezone:e.timeZone}}}catch(e){}}();t&&(e.culture=t)}return e}}tt.__initStatic();const at={aix:"IBM AIX",freebsd:"FreeBSD",openbsd:"OpenBSD",sunos:"SunOS",win32:"Windows"},nt=[{name:"fedora-release",distros:["Fedora"]},{name:"redhat-release",distros:["Red Hat Linux","Centos"]},{name:"redhat_version",distros:["Red Hat Linux"]},{name:"SuSE-release",distros:["SUSE Linux"]},{name:"lsb-release",distros:["Ubuntu Linux","Arch Linux"]},{name:"debian_version",distros:["Debian"]},{name:"debian_release",distros:["Debian"]},{name:"arch-release",distros:["Arch Linux"]},{name:"gentoo-release",distros:["Gentoo Linux"]},{name:"novell-release",distros:["SUSE Linux"]},{name:"alpine-release",distros:["Alpine Linux"]}],ot={alpine:e=>e,arch:e=>it(/distrib_release=(.*)/,e),centos:e=>it(/release ([^ ]+)/,e),debian:e=>e,fedora:e=>it(/release (..)/,e),mint:e=>it(/distrib_release=(.*)/,e),red:e=>it(/release ([^ ]+)/,e),suse:e=>it(/VERSION = (.*)\n/,e),ubuntu:e=>it(/distrib_release=(.*)/,e)};function it(e,t){const a=e.exec(t);return a?a[1]:void 0}function rt(e){return e.split(" ")[0].toLowerCase()}var st=a(442),lt=a(6956),ct=a(6489);const dt={ip:!1,request:!0,transaction:!0,user:!0},ut=["cookies","data","headers","method","query_string","url"],pt=["id","username","email"];function mt(e,t={}){const a=e.method&&e.method.toUpperCase();let n="",o="url";t.customRoute||e.route?(n=t.customRoute||`${e.baseUrl||""}${e.route&&e.route.path}`,o="route"):(e.originalUrl||e.url)&&(n=(0,lt.rt)(e.originalUrl||e.url||""));let i="";return t.method&&a&&(i+=a),t.method&&t.path&&(i+=" "),t.path&&n&&(i+=n),[i,o]}function ht(e,t){const{include:a=ut}=t||{},n={},o=e.headers||{},i=e.method,r=e.hostname||e.host||o.host||"<no host>",s="https"===e.protocol||e.socket&&e.socket.encrypted?"https":"http",l=e.originalUrl||e.url||"",c=l.startsWith(s)?l:`${s}://${r}${l}`;return a.forEach((t=>{switch(t){case"headers":n.headers=o,a.includes("cookies")||delete n.headers.cookie;break;case"method":n.method=i;break;case"url":n.url=c;break;case"cookies":n.cookies=e.cookies||o.cookie&&ct.Q(o.cookie)||{};break;case"query_string":n.query_string=function(e){let t=e.originalUrl||e.url||"";if(t)return t.startsWith("/")&&(t=`http://dogs.are.great${t}`),e.query||void 0!==typeof URL&&new URL(t).search.replace("?","")||we.parse(t).query||void 0}(e);break;case"data":if("GET"===i||"HEAD"===i)break;void 0!==e.body&&(n.data=(0,G.HD)(e.body)?e.body:JSON.stringify(M(e.body)));break;default:({}).hasOwnProperty.call(e,t)&&(n[t]=e[t])}})),n}function _t(e,t,a){const n={...dt,...(0,ee.x)([a,"optionalAccess",e=>e.include])};if(n.request){const a=Array.isArray(n.request)?ht(t,{include:n.request}):ht(t);e.request={...e.request,...a}}if(n.user){const a=t.user&&(0,G.PO)(t.user)?function(e,t){const a={};return(Array.isArray(t)?t:pt).forEach((t=>{e&&t in e&&(a[t]=e[t])})),a}(t.user,n.user):{};Object.keys(a).length&&(e.user={...e.user,...a})}if(n.ip){const a=t.ip||t.socket&&t.socket.remoteAddress;a&&(e.user={...e.user,ip_address:a})}return n.transaction&&!e.transaction&&(e.transaction=function(e,t){switch(t){case"path":return mt(e,{path:!0})[0];case"handler":return e.route&&e.route.stack&&e.route.stack[0]&&e.route.stack[0].name||"<anonymous>";default:return mt(e,{path:!0,method:!0})[0]}}(t,n.transaction)),e}const ft={include:{cookies:!0,data:!0,headers:!0,ip:!1,query_string:!0,url:!0,user:{id:!0,username:!0,email:!0}},transactionNamingScheme:"methodPath"};class gt{static __initStatic(){this.id="RequestData"}__init(){this.name=gt.id}constructor(e={}){gt.prototype.__init.call(this),this._addRequestData=_t,this._options={...ft,...e,include:{method:!0,...ft.include,...e.include,user:e.include&&"boolean"==typeof e.include.user?e.include.user:{...ft.include.user,...(e.include||{}).user}}}}setupOnce(e,t){const{transactionNamingScheme:a}=this._options;e((e=>{const n=t(),o=n.getIntegration(gt),{sdkProcessingMetadata:i={}}=e,r=i.request;if(!o||!r)return e;const s=i.requestDataOptionsFromExpressHandler||i.requestDataOptionsFromGCPWrapper||function(e){const{transactionNamingScheme:t,include:{ip:a,user:n,...o}}=e,i=[];for(const[e,t]of Object.entries(o))t&&i.push(e);let r;if(void 0===n)r=!0;else if("boolean"==typeof n)r=n;else{const e=[];for(const[t,a]of Object.entries(n))a&&e.push(t);r=e}return{include:{ip:a,user:r,request:0!==i.length?i:void 0,transaction:t}}}(this._options),l=this._addRequestData(e,r,s);if("transaction"===e.type||"handler"===a)return l;const c=r._sentryTransaction;if(c){const e="sentry.javascript.nextjs"===function(e){try{return e.getClient().getOptions()._metadata.sdk.name}catch(e){return}}(n)?c.name.startsWith("/api"):"path"!==a,[t]=(0,st.oA)(r,{path:!0,method:e,customRoute:c.name});l.transaction=t}return l}))}}gt.__initStatic();class bt{constructor(){const{Session:e}=a(1405);this._session=new e}configureAndConnect(e,t){this._session.connect(),this._session.on("Debugger.paused",e),this._session.post("Debugger.enable"),this._session.post("Debugger.setPauseOnExceptions",{state:t?"all":"uncaught"})}async getLocalVariables(e){const t=await this._getProperties(e),a={};for(const e of t)(0,ee.x)([e,"optionalAccess",e=>e.value,"optionalAccess",e=>e.objectId])&&"Array"===(0,ee.x)([e,"optionalAccess",e=>e.value,"access",e=>e.className])?a[e.name]=await this._unrollArray(e.value.objectId):(0,ee.x)([e,"optionalAccess",e=>e.value,"optionalAccess",e=>e.objectId])&&"Object"===(0,ee.x)([e,"optionalAccess",e=>e.value,"optionalAccess",e=>e.className])?a[e.name]=await this._unrollObject(e.value.objectId):((0,ee.x)([e,"optionalAccess",e=>e.value,"optionalAccess",e=>e.value])||(0,ee.x)([e,"optionalAccess",e=>e.value,"optionalAccess",e=>e.description]))&&(a[e.name]=e.value.value||`<${e.value.description}>`);return a}_getProperties(e){return new Promise(((t,a)=>{this._session.post("Runtime.getProperties",{objectId:e,ownProperties:!0},((e,n)=>{e?a(e):t(n.result)}))}))}async _unrollArray(e){return(await this._getProperties(e)).filter((e=>"length"!==e.name&&!isNaN(parseInt(e.name,10)))).sort(((e,t)=>parseInt(e.name,10)-parseInt(t.name,10))).map((e=>(0,ee.x)([e,"optionalAccess",e=>e.value,"optionalAccess",e=>e.value])))}async _unrollObject(e){return(await this._getProperties(e)).map((e=>[e.name,(0,ee.x)([e,"optionalAccess",e=>e.value,"optionalAccess",e=>e.value])])).reduce(((e,[t,a])=>(e[t]=a,e)),{})}}function yt(e){return void 0!==e&&["","?","<anonymous>"].includes(e)}function vt(e){if(void 0!==e)return e.slice(-10).reduce(((e,t)=>`${e},${t.function},${t.lineno},${t.colno}`),"")}class wt{static __initStatic(){this.id="LocalVariables"}__init(){this.name=wt.id}__init2(){this._cachedFrames=new Ce.LRUMap(20)}constructor(e={},t=function(){try{return new bt}catch(e){return}}()){this._options=e,this._session=t,wt.prototype.__init.call(this),wt.prototype.__init2.call(this)}setupOnce(e,t){this._setup(e,(0,ee.x)([t,"call",e=>e(),"access",e=>e.getClient,"call",e=>e(),"optionalAccess",e=>e.getOptions,"call",e=>e()]))}_setup(e,t){this._session&&(0,ee.x)([t,"optionalAccess",e=>e.includeLocalVariables])&&(this._session.configureAndConnect((e=>this._handlePaused(t.stackParser,e)),!!this._options.captureAllExceptions),e((async e=>this._addLocalVariables(e))))}async _handlePaused(e,{params:{reason:t,data:a,callFrames:n}}){if("exception"!==t&&"promiseRejection"!==t)return;const o=function(e,t){if(void 0!==t)return vt(e(t,1))}(e,(0,ee.x)([a,"optionalAccess",e=>e.description]));if(null==o)return;const i=n.map((async({scopeChain:e,functionName:t,this:a})=>{const n=e.find((e=>"local"===e.type)),o="global"!==a.className&&a.className?`${a.className}.${t}`:t;return void 0===(0,ee.x)([n,"optionalAccess",e=>e.object,"access",e=>e.objectId])?{function:o}:{function:o,vars:await(0,ee.x)([this,"access",e=>e._session,"optionalAccess",e=>e.getLocalVariables,"call",e=>e(n.object.objectId)])}}));this._cachedFrames.set(o,Promise.all(i))}async _addLocalVariables(e){for(const t of(0,ee.x)([e,"optionalAccess",e=>e.exception,"optionalAccess",e=>e.values])||[])await this._addLocalVariablesToException(t);return e}async _addLocalVariablesToException(e){const t=vt((0,ee.x)([e,"optionalAccess",e=>e.stacktrace,"optionalAccess",e=>e.frames]));if(void 0===t)return;const a=await this._cachedFrames.delete(t);if(void 0===a)return;const n=(0,ee.x)([e,"access",e=>e.stacktrace,"optionalAccess",e=>e.frames,"optionalAccess",e=>e.length])||0;for(let t=0;t<n;t++){const r=n-t-1;if(!(0,ee.x)([e,"optionalAccess",e=>e.stacktrace,"optionalAccess",e=>e.frames,"optionalAccess",e=>e[r]])||!a[t])break;void 0!==a[t].vars&&!1!==e.stacktrace.frames[r].in_app&&((o=e.stacktrace.frames[r].function)===(i=a[t].function)||yt(o)&&yt(i))&&(e.stacktrace.frames[r].vars=a[t].vars)}var o,i}}wt.__initStatic();const St=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function At(e){const t=St.exec(e);return t?t.slice(1):[]}function kt(e){const t=At(e),a=t[0];let n=t[1];return a||n?(n&&(n=n.slice(0,n.length-1)),a+n):"."}function Et(e){return e.replace(/^[A-Z]:/,"").replace(/\\/g,"/")}const xt=[new m,new l,new Pe,new Me,new Ve,new $e,new Ye,new wt,new tt,new Ke,new gt,new qe];function It(e={}){const t=(0,_.cu)(),a=(0,ee.x)([t,"access",e=>e.__SENTRY__,"optionalAccess",e=>e.integrations])||[];if(e.defaultIntegrations=!1===e.defaultIntegrations?[]:[...Array.isArray(e.defaultIntegrations)?e.defaultIntegrations:xt,...a],void 0===e.dsn&&process.env.SENTRY_DSN&&(e.dsn=process.env.SENTRY_DSN),void 0===e.tracesSampleRate&&process.env.SENTRY_TRACES_SAMPLE_RATE){const t=parseFloat(process.env.SENTRY_TRACES_SAMPLE_RATE);isFinite(t)&&(e.tracesSampleRate=t)}if(void 0===e.release){const t=Nt();void 0!==t?e.release=t:e.autoSessionTracking=!1}void 0===e.environment&&process.env.SENTRY_ENVIRONMENT&&(e.environment=process.env.SENTRY_ENVIRONMENT),void 0===e.autoSessionTracking&&void 0!==e.dsn&&(e.autoSessionTracking=!0),void 0===e.instrumenter&&(e.instrumenter="sentry"),xe.active&&(0,_.j0)(t,(0,_.Gd)());const n={...e,stackParser:(0,U.Sq)(e.stackParser||Rt),integrations:ne(e),transport:e.transport||ke};!function(e,t){!0===t.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?c.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const a=(0,_.Gd)(),n=a.getScope();n&&n.update(t.initialScope);const o=new e(t);a.bindClient(o)}(fe,n),e.autoSessionTracking&&function(){const e=(0,_.Gd)();e.startSession(),process.on("beforeExit",(()=>{const t=(0,ee.x)([e,"access",e=>e.getScope,"call",e=>e(),"optionalAccess",e=>e.getSession,"call",e=>e()]);t&&!["exited","crashed"].includes(t.status)&&e.endSession()}))}()}function Pt(){return(0,_.Gd)().lastEventId()}async function Tt(e){const t=(0,_.Gd)().getClient();return t?t.flush(e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function Ot(e){const t=(0,_.Gd)().getClient();return t?t.close(e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function Ct(e){if(void 0===e)return!1;const t=e&&e.getOptions();return!(!t||void 0===t.autoSessionTracking)&&t.autoSessionTracking}function Nt(e){return process.env.SENTRY_RELEASE?process.env.SENTRY_RELEASE:Ee.n2.SENTRY_RELEASE&&Ee.n2.SENTRY_RELEASE.id?Ee.n2.SENTRY_RELEASE.id:process.env.GITHUB_SHA||process.env.COMMIT_REF||process.env.VERCEL_GIT_COMMIT_SHA||process.env.VERCEL_GITHUB_COMMIT_SHA||process.env.VERCEL_GITLAB_COMMIT_SHA||process.env.VERCEL_BITBUCKET_COMMIT_SHA||process.env.ZEIT_GITHUB_COMMIT_SHA||process.env.ZEIT_GITLAB_COMMIT_SHA||process.env.ZEIT_BITBUCKET_COMMIT_SHA||e}const Rt=(0,U.pE)((0,U.Ep)((function(e){if(!e)return;const t=Et(e),n=Et(`${a.c[a.s]&&a.c[a.s].filename&&kt(a.c[a.s].filename)||global.process.cwd()}/`),o=function(e,t){let a=At(e)[2];return t&&a.slice(-1*t.length)===t&&(a=a.slice(0,a.length-t.length)),a}(t,".js"),i=kt(t);let r=i.lastIndexOf("/node_modules/");if(r>-1)return`${i.slice(r+14).replace(/\//g,".")}:${o}`;if(r=`${i}/`.lastIndexOf(n,0),0===r){let e=i.slice(n.length).replace(/\//g,".");return e&&(e+=":"),e+=o,e}return o})));function Dt(e){const t=Ze.resolve(e);if(!je.existsSync(t))throw new Error(`Cannot read contents of ${t}. Directory does not exist.`);if(!je.statSync(t).isDirectory())throw new Error(`Cannot read contents of ${t}, because it is not a directory.`);const a=e=>je.readdirSync(e).reduce(((t,n)=>{const o=Ze.join(e,n);return je.statSync(o).isDirectory()?[...t,...a(o)]:[...t,o]}),[]);return a(t).map((e=>Ze.relative(t,e)))}var Gt=a(7638);function Ut(e,t){return ht(e,{include:t})}function Mt(e,t,a={}){return _t(e,t,{include:a})}function Bt(){return function(e,t,a){const n=(0,_.Gd)(),o=(0,ee.x)([n,"access",e=>e.getClient,"call",e=>e(),"optionalAccess",e=>e.getOptions,"call",e=>e()]);if(!o||"sentry"!==o.instrumenter||"OPTIONS"===(0,ee.x)([e,"access",e=>e.method,"optionalAccess",e=>e.toUpperCase,"call",e=>e()])||"HEAD"===(0,ee.x)([e,"access",e=>e.method,"optionalAccess",e=>e.toUpperCase,"call",e=>e()]))return a();if(!("tracesSampleRate"in o)&&!("tracesSampler"in o))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.warn("Sentry `tracingHandler` is being used, but tracing is disabled. Please enable tracing by setting either `tracesSampleRate` or `tracesSampler` in your `Sentry.init()` options."),a();const i=e.headers&&(0,G.HD)(e.headers["sentry-trace"])&&(0,Gt.q)(e.headers["sentry-trace"]),r=(0,ee.x)([e,"access",e=>e.headers,"optionalAccess",e=>e.baggage]),s=(0,Oe.EN)(r),[l,d]=(0,st.oA)(e,{path:!0,method:!0}),u=T({name:l,op:"http.server",...i,metadata:{dynamicSamplingContext:i&&!s?{}:s,request:e,source:d}},{request:ht(e)});n.configureScope((e=>{e.setSpan(u)})),t.__sentry_transaction=u,t.once("finish",(()=>{setImmediate((()=>{(0,st.dB)(u,e),u.setHttpStatus(t.statusCode),u.finish()}))})),a()}}function Lt(e){const t=function(e={}){let t;if("include"in e)t={include:e.include};else{const{ip:a,request:n,transaction:o,user:i}=e;(a||n||o||i)&&(t={include:(0,r.Jr)({ip:a,request:n,transaction:o,user:i})})}return t}(e),a=(0,_.Gd)(),n=a.getClient();if(n&&Ct(n)){n.initSessionFlusher();const e=a.getScope();e&&e.getSession()&&e.setSession()}return function(a,n,o){if(e&&e.flushTimeout&&e.flushTimeout>0){const t=n.end;n.end=function(a,n,o){Tt(e.flushTimeout).then((()=>{t.call(this,a,n,o)})).then(null,(e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.kg.error(e),t.call(this,a,n,o)}))}}const i=xe.create();i.add(a),i.add(n),i.run((()=>{const e=(0,_.Gd)();e.configureScope((n=>{if(n.setSDKProcessingMetadata({request:a,requestDataOptionsFromExpressHandler:t}),Ct(e.getClient())){const t=e.getScope();t&&t.setRequestSession({status:"ok"})}})),n.once("finish",(()=>{const t=e.getClient();Ct(t)&&setImmediate((()=>{t&&t._captureRequestSession&&t._captureRequestSession()}))})),o()}))}}function zt(e){const t=function(e){const t=e.status||e.statusCode||e.status_code||e.output&&e.output.statusCode;return t?parseInt(t,10):500}(e);return t>=500}function Ft(e){return function(t,a,n,o){(e&&e.shouldHandleError||zt)(t)?P((e=>{e.setSDKProcessingMetadata({request:a});const i=n.__sentry_transaction;i&&void 0===e.getSpan()&&e.setSpan(i);const r=(0,_.Gd)().getClient();if(r&&Ct(r)&&void 0!==r._sessionFlusher){const t=e.getRequestSession();t&&void 0!==t.status&&(t.status="crashed")}const s=g(t);n.sentry=s,o(t)})):o(t)}}const Vt={...n,...i},$t=(0,_.cu)();$t.__SENTRY__&&($t.__SENTRY__.extensions=$t.__SENTRY__.extensions||{},$t.__SENTRY__.extensions.domain=$t.__SENTRY__.extensions.domain||xe)},790:(e,t,a)=>{"use strict";a.d(t,{ro:()=>f,lb:()=>_});var n=a(5659),o=a(2343),i=a(7597),r=a(2176),s=a(4863),l=a(3233);function c(){const e=(0,l.x1)();if(e){const t="internal_error";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}var d=a(6458),u=a(3391);function p(){const e=this.getScope();if(e){const t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function m(e,t,a){if(!(0,l.zu)(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setMetadata({sampleRate:Number(e.sampled)}),e;let n;return"function"==typeof t.tracesSampler?(n=t.tracesSampler(a),e.setMetadata({sampleRate:Number(n)})):void 0!==a.parentSampled?n=a.parentSampled:(n=t.tracesSampleRate,e.setMetadata({sampleRate:Number(n)})),r=n,((0,i.i2)(r)||"number"!=typeof r&&"boolean"!=typeof r?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(r)} of type ${JSON.stringify(typeof r)}.`),0):!(r<0||r>1)||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${r}.`),0))?n?(e.sampled=Math.random()<n,e.sampled?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`[Tracing] starting ${e.op} transaction - ${e.name}`),e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),e)):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e);var r}function h(e,t){const a=this.getClient(),n=a&&a.getOptions()||{},i=n.instrumenter||"sentry",r=e.instrumenter||"sentry";i!==r&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.error(`A transaction was started with instrumenter=\`${r}\`, but the SDK is configured with the \`${i}\` instrumenter.\nThe transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),e.sampled=!1);let s=new u.Y(e,this);return s=m(s,n,{parentSampled:e.parentSampled,transactionContext:e,...t}),s.sampled&&s.initSpanRecorder(n._experiments&&n._experiments.maxSpans),s}function _(e,t,a,n,o,i,r){const s=e.getClient(),l=s&&s.getOptions()||{};let c=new d.io(t,e,a,n,r,o);return c=m(c,l,{parentSampled:t.parentSampled,transactionContext:t,...i}),c.sampled&&c.initSpanRecorder(l._experiments&&l._experiments.maxSpans),c}function f(){!function(){const e=(0,n.cu)();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=h),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=p))}(),(0,r.KV)()&&function(){const t=(0,n.cu)();if(!t.__SENTRY__)return;const a={mongodb:()=>new((0,r.l$)(e,"./integrations/node/mongo").Mongo),mongoose:()=>new((0,r.l$)(e,"./integrations/node/mongo").Mongo)({mongoose:!0}),mysql:()=>new((0,r.l$)(e,"./integrations/node/mysql").Mysql),pg:()=>new((0,r.l$)(e,"./integrations/node/postgres").Postgres)},o=Object.keys(a).filter((e=>!!(0,r.$y)(e))).map((e=>{try{return a[e]()}catch(e){return}})).filter((e=>e));o.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...o])}(),(0,s.o)("error",c),(0,s.o)("unhandledrejection",c)}e=a.hmd(e)},6458:(e,t,a)=>{"use strict";a.d(t,{hd:()=>c,io:()=>u,mg:()=>l,nT:()=>s});var n=a(1170),o=a(2343),i=a(5334),r=a(3391);const s=1e3,l=3e4,c=5e3;class d extends i.gB{constructor(e,t,a,n){super(n),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=a}add(e){e.spanId!==this.transactionSpanId&&(e.finish=t=>{e.endTimestamp="number"==typeof t?t:(0,n._I)(),this._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),super.add(e)}}class u extends r.Y{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(e,t,a=s,n=l,i=c,r=!1){super(e,t),this._idleHub=t,this._idleTimeout=a,this._finalTimeout=n,this._heartbeatInterval=i,this._onScope=r,u.prototype.__init.call(this),u.prototype.__init2.call(this),u.prototype.__init3.call(this),u.prototype.__init4.call(this),r&&(p(t),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),t.configureScope((e=>e.setSpan(this)))),this._startIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())}),this._finalTimeout)}finish(e=(0,n._I)()){if(this._finished=!0,this.activities={},this.spanRecorder){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);for(const t of this._beforeFinishCallbacks)t(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter((t=>{if(t.spanId===this.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus("cancelled"),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));const a=t.startTimestamp<e;return a||("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),a})),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] flushing IdleTransaction")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] No active IdleTransaction");return this._onScope&&p(this._idleHub),super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const t=e=>{this._finished||this._pushActivity(e)},a=e=>{this._finished||this._popActivity(e)};this.spanRecorder=new d(t,a,this.spanId,e),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(e){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||this.finish(e)}),this._idleTimeout)}_pushActivity(e){this._cancelIdleTimeout(),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`[Tracing] popActivity ${e}`),delete this.activities[e],("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=(0,n._I)()+this._idleTimeout/1e3;this._startIdleTimeout(e)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}_pingHeartbeat(){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}function p(e){const t=e.getScope();t&&t.getTransaction()&&t.setSpan(void 0)}},9262:(e,t,a)=>{"use strict";a.r(t),a.d(t,{BROWSER_TRACING_INTEGRATION_ID:()=>oe,BrowserTracing:()=>re,IdleTransaction:()=>P.io,Integrations:()=>n,Span:()=>ce.Dr,SpanStatus:()=>le,TRACEPARENT_REGEXP:()=>E.K,Transaction:()=>de.Y,addExtensionMethods:()=>o.ro,defaultRequestInstrumentationOptions:()=>ae,extractTraceparentData:()=>E.q,getActiveTransaction:()=>T.x1,hasTracingEnabled:()=>T.zu,instrumentOutgoingRequests:()=>ne,spanStatusfromHttpCode:()=>ce.Zd,startIdleTransaction:()=>o.lb,stripUrlQueryAndFragment:()=>s.rt});var n={};a.r(n),a.d(n,{Apollo:()=>A,BrowserTracing:()=>re,Express:()=>u,GraphQL:()=>w,Mongo:()=>y,Mysql:()=>f,Postgres:()=>_,Prisma:()=>v});var o=a(790),i=a(4307),r=a(2343),s=a(6956),l=a(442),c=a(7597);function d(e){const t=(0,i.x)([e,"call",e=>e(),"access",e=>e.getClient,"call",e=>e(),"optionalAccess",e=>e.getOptions,"call",e=>e()]);return"sentry"!==((0,i.x)([t,"optionalAccess",e=>e.instrumenter])||"sentry")}class u{static __initStatic(){this.id="Express"}__init(){this.name=u.id}constructor(e={}){u.prototype.__init.call(this),this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}setupOnce(e,t){this._router?d(t)?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("Express Integration is skipped because of instrumenter configuration."):(function(e,t=[]){t.forEach((t=>function(e,t){const a=e[t];return e[t]=function(...e){return a.call(this,...function(e,t){return e.map((e=>"function"==typeof e?p(e,t):Array.isArray(e)?e.map((e=>"function"==typeof e?p(e,t):e)):e))}(e,t))},e}(e,t)))}(this._router,this._methods),function(e){const t="settings"in e;t&&void 0===e._router&&e.lazyrouter&&e.lazyrouter();const a=t?e._router:e;if(!a)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.debug("Cannot instrument router for URL Parameterization (did not find a valid router)."),void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.debug("Routing instrumentation is currently only supported in Express 4."));const n=Object.getPrototypeOf(a),o=n.process_params;n.process_params=function(e,t,a,n,r){a._reconstructedRoute||(a._reconstructedRoute="");const{layerRoutePath:d,isRegex:u,isArray:p,numExtraSegments:m}=function(e){const t=(0,i.x)([e,"access",e=>e.route,"optionalAccess",e=>e.path]),a=(0,c.Kj)(t),n=Array.isArray(t);if(!t)return{isRegex:a,isArray:n,numExtraSegments:0};const o=n?Math.max(t.reduce(((e,t)=>e+(0,s.$A)(t.toString())),0)-(0,s.$A)(e.path||""),0):0,r=function(e,t){return e?t.map((e=>e.toString())).join(","):t&&t.toString()}(n,t);return{layerRoutePath:r,isRegex:a,isArray:n,numExtraSegments:o}}(e);(d||u||p)&&(a._hasParameters=!0);const h=(d||e.path||"").split("/").filter((e=>e.length>0&&(u||p||!e.includes("*")))).join("/");if(h&&h.length>0&&(a._reconstructedRoute+=`/${h}${u?"/":""}`),(0,s.$A)(a.originalUrl||"")+m===(0,s.$A)(a._reconstructedRoute)){a._hasParameters||a._reconstructedRoute!==a.originalUrl&&(a._reconstructedRoute=a.originalUrl);const e=n.__sentry_transaction;if(e&&"custom"!==e.metadata.source){const t=a._reconstructedRoute||"/";e.setName(...(0,l.oA)(a,{path:!0,method:!0,customRoute:t}))}}return o.call(this,e,t,a,n,r)}}(this._router)):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error("ExpressIntegration is missing an Express instance")}}function p(e,t){const a=e.length;switch(a){case 2:return function(a,n){const o=n.__sentry_transaction;if(o){const a=o.startChild({description:e.name,op:`middleware.express.${t}`});n.once("finish",(()=>{a.finish()}))}return e.call(this,a,n)};case 3:return function(a,n,o){const r=n.__sentry_transaction,s=(0,i.x)([r,"optionalAccess",e=>e.startChild,"call",a=>a({description:e.name,op:`middleware.express.${t}`})]);e.call(this,a,n,(function(...e){(0,i.x)([s,"optionalAccess",e=>e.finish,"call",e=>e()]),o.call(this,...e)}))};case 4:return function(a,n,o,r){const s=o.__sentry_transaction,l=(0,i.x)([s,"optionalAccess",e=>e.startChild,"call",a=>a({description:e.name,op:`middleware.express.${t}`})]);e.call(this,a,n,o,(function(...e){(0,i.x)([l,"optionalAccess",e=>e.finish,"call",e=>e()]),r.call(this,...e)}))};default:throw new Error(`Express middleware takes 2-4 arguments. Got: ${a}`)}}u.__initStatic();var m=a(2176),h=a(535);class _{static __initStatic(){this.id="Postgres"}__init(){this.name=_.id}constructor(e={}){_.prototype.__init.call(this),this._usePgNative=!!e.usePgNative}setupOnce(e,t){if(d(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("Postgres Integration is skipped because of instrumenter configuration."));const a=(0,m.$y)("pg");if(!a)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error("Postgres Integration was unable to require `pg` package."));if(this._usePgNative&&!(0,i.x)([a,"access",e=>e.native,"optionalAccess",e=>e.Client]))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error("Postgres Integration was unable to access 'pg-native' bindings."));const{Client:n}=this._usePgNative?a.native:a;(0,h.hl)(n.prototype,"query",(function(e){return function(a,n,o){const r=t().getScope(),s=(0,i.x)([r,"optionalAccess",e=>e.getSpan,"call",e=>e()]),l=(0,i.x)([s,"optionalAccess",e=>e.startChild,"call",e=>e({description:"string"==typeof a?a:a.text,op:"db"})]);if("function"==typeof o)return e.call(this,a,n,(function(e,t){(0,i.x)([l,"optionalAccess",e=>e.finish,"call",e=>e()]),o(e,t)}));if("function"==typeof n)return e.call(this,a,(function(e,t){(0,i.x)([l,"optionalAccess",e=>e.finish,"call",e=>e()]),n(e,t)}));const d=void 0!==n?e.call(this,a,n):e.call(this,a);return(0,c.J8)(d)?d.then((e=>((0,i.x)([l,"optionalAccess",e=>e.finish,"call",e=>e()]),e))):((0,i.x)([l,"optionalAccess",e=>e.finish,"call",e=>e()]),d)}}))}}_.__initStatic();class f{constructor(){f.prototype.__init.call(this)}static __initStatic(){this.id="Mysql"}__init(){this.name=f.id}setupOnce(e,t){if(d(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("Mysql Integration is skipped because of instrumenter configuration."));const a=(0,m.$y)("mysql/lib/Connection.js");a?(0,h.hl)(a,"createQuery",(function(e){return function(a,n,o){const r=t().getScope(),s=(0,i.x)([r,"optionalAccess",e=>e.getSpan,"call",e=>e()]),l=(0,i.x)([s,"optionalAccess",e=>e.startChild,"call",e=>e({description:"string"==typeof a?a:a.sql,op:"db"})]);return"function"==typeof o?e.call(this,a,n,(function(e,t,a){(0,i.x)([l,"optionalAccess",e=>e.finish,"call",e=>e()]),o(e,t,a)})):"function"==typeof n?e.call(this,a,(function(e,t,a){(0,i.x)([l,"optionalAccess",e=>e.finish,"call",e=>e()]),n(e,t,a)})):e.call(this,a,n,o)}})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error("Mysql Integration was unable to require `mysql` package.")}}f.__initStatic();const g=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],b={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]};class y{static __initStatic(){this.id="Mongo"}__init(){this.name=y.id}constructor(e={}){y.prototype.__init.call(this),this._operations=Array.isArray(e.operations)?e.operations:g,this._describeOperations=!("describeOperations"in e)||e.describeOperations,this._useMongoose=!!e.useMongoose}setupOnce(e,t){if(d(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("Mongo Integration is skipped because of instrumenter configuration."));const a=this._useMongoose?"mongoose":"mongodb",n=(0,m.$y)(a);n?this._instrumentOperations(n.Collection,this._operations,t):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error(`Mongo Integration was unable to require \`${a}\` package.`)}_instrumentOperations(e,t,a){t.forEach((t=>this._patchOperation(e,t,a)))}_patchOperation(e,t,a){if(!(t in e.prototype))return;const n=this._getSpanContextFromOperationArguments.bind(this);(0,h.hl)(e.prototype,t,(function(e){return function(...o){const r=o[o.length-1],s=a().getScope(),l=(0,i.x)([s,"optionalAccess",e=>e.getSpan,"call",e=>e()]);if("function"!=typeof r||"mapReduce"===t&&2===o.length){const a=(0,i.x)([l,"optionalAccess",e=>e.startChild,"call",e=>e(n(this,t,o))]),r=e.call(this,...o);if((0,c.J8)(r))return r.then((e=>((0,i.x)([a,"optionalAccess",e=>e.finish,"call",e=>e()]),e)));if((d=r)&&"object"==typeof d&&d.once&&"function"==typeof d.once){const e=r;try{e.once("close",(()=>{(0,i.x)([a,"optionalAccess",e=>e.finish,"call",e=>e()])}))}catch(e){(0,i.x)([a,"optionalAccess",e=>e.finish,"call",e=>e()])}return e}return(0,i.x)([a,"optionalAccess",e=>e.finish,"call",e=>e()]),r}var d;const u=(0,i.x)([l,"optionalAccess",e=>e.startChild,"call",e=>e(n(this,t,o.slice(0,-1)))]);return e.call(this,...o.slice(0,-1),(function(e,t){(0,i.x)([u,"optionalAccess",e=>e.finish,"call",e=>e()]),r(e,t)}))}}))}_getSpanContextFromOperationArguments(e,t,a){const n={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},o={op:"db",description:t,data:n},i=b[t],r=Array.isArray(this._describeOperations)?this._describeOperations.includes(t):this._describeOperations;if(!i||!r)return o;try{if("mapReduce"===t){const[e,t]=a;n[i[0]]="string"==typeof e?e:e.name||"<anonymous>",n[i[1]]="string"==typeof t?t:t.name||"<anonymous>"}else for(let e=0;e<i.length;e++)n[i[e]]=JSON.stringify(a[e])}catch(e){}return o}}y.__initStatic();class v{static __initStatic(){this.id="Prisma"}__init(){this.name=v.id}constructor(e={}){var t;v.prototype.__init.call(this),(t=e.client)&&t.$use?this._client=e.client:("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn(`Unsupported Prisma client provided to PrismaIntegration. Provided client: ${JSON.stringify(e.client)}`)}setupOnce(e,t){this._client?d(t)?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("Prisma Integration is skipped because of instrumenter configuration."):this._client.$use(((e,a)=>{const n=t().getScope(),o=(0,i.x)([n,"optionalAccess",e=>e.getSpan,"call",e=>e()]),r=e.action,s=e.model,l=(0,i.x)([o,"optionalAccess",e=>e.startChild,"call",e=>e({description:s?`${s} ${r}`:r,op:"db.sql.prisma"})]),d=a(e);return(0,c.J8)(d)?d.then((e=>((0,i.x)([l,"optionalAccess",e=>e.finish,"call",e=>e()]),e))):((0,i.x)([l,"optionalAccess",e=>e.finish,"call",e=>e()]),d)})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error("PrismaIntegration is missing a Prisma Client Instance")}}v.__initStatic();class w{constructor(){w.prototype.__init.call(this)}static __initStatic(){this.id="GraphQL"}__init(){this.name=w.id}setupOnce(e,t){if(d(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("GraphQL Integration is skipped because of instrumenter configuration."));const a=(0,m.$y)("graphql/execution/execute.js");a?(0,h.hl)(a,"execute",(function(e){return function(...a){const n=t().getScope(),o=(0,i.x)([n,"optionalAccess",e=>e.getSpan,"call",e=>e()]),r=(0,i.x)([o,"optionalAccess",e=>e.startChild,"call",e=>e({description:"execute",op:"graphql.execute"})]);(0,i.x)([n,"optionalAccess",e=>e.setSpan,"call",e=>e(r)]);const s=e.call(this,...a);return(0,c.J8)(s)?s.then((e=>((0,i.x)([r,"optionalAccess",e=>e.finish,"call",e=>e()]),(0,i.x)([n,"optionalAccess",e=>e.setSpan,"call",e=>e(o)]),e))):((0,i.x)([r,"optionalAccess",e=>e.finish,"call",e=>e()]),(0,i.x)([n,"optionalAccess",e=>e.setSpan,"call",e=>e(o)]),s)}})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error("GraphQL Integration was unable to require graphql/execution package.")}}w.__initStatic();var S=a(2844);class A{static __initStatic(){this.id="Apollo"}__init(){this.name=A.id}constructor(e={useNestjs:!1}){A.prototype.__init.call(this),this._useNest=!!e.useNestjs}setupOnce(e,t){if(d(t))("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("Apollo Integration is skipped because of instrumenter configuration.");else if(this._useNest){const e=(0,m.$y)("@nestjs/graphql");if(!e)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error("Apollo-NestJS Integration was unable to require @nestjs/graphql package."));(0,h.hl)(e.GraphQLFactory.prototype,"mergeWithSchema",(function(e){return function(...a){return(0,h.hl)(this.resolversExplorerService,"explore",(function(e){return function(){return k((0,S.lE)(e.call(this)),t)}})),e.call(this,...a)}}))}else{const e=(0,m.$y)("apollo-server-core");if(!e)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error("Apollo Integration was unable to require apollo-server-core package."));(0,h.hl)(e.ApolloServerBase.prototype,"constructSchema",(function(e){return function(){if(!this.config.resolvers)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&(this.config.schema?(r.kg.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `schema` property.If you are using NestJS with Apollo, please use `Sentry.Integrations.Apollo({ useNestjs: true })` instead."),r.kg.warn()):this.config.modules&&r.kg.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `modules` property."),r.kg.error("Skipping tracing as no resolvers found on the `ApolloServer` instance.")),e.call(this);const a=(0,S.lE)(this.config.resolvers);return this.config.resolvers=k(a,t),e.call(this)}}))}}}function k(e,t){return e.map((e=>(Object.keys(e).forEach((a=>{Object.keys(e[a]).forEach((n=>{"function"==typeof e[a][n]&&function(e,t,a,n){(0,h.hl)(e[t],a,(function(e){return function(...o){const r=n().getScope(),s=(0,i.x)([r,"optionalAccess",e=>e.getSpan,"call",e=>e()]),l=(0,i.x)([s,"optionalAccess",e=>e.startChild,"call",e=>e({description:`${t}.${a}`,op:"graphql.resolve"})]),d=e.call(this,...o);return(0,c.J8)(d)?d.then((e=>((0,i.x)([l,"optionalAccess",e=>e.finish,"call",e=>e()]),e))):((0,i.x)([l,"optionalAccess",e=>e.finish,"call",e=>e()]),d)}}))}(e,a,n,t)}))})),e)))}A.__initStatic();var E=a(7638),x=a(9181),I=a(8464),P=a(6458),T=a(3233);const O=a(1235).n2;var C=a(1170);const N=(e,t,a)=>{let n,o;return i=>{t.value>=0&&(i||a)&&(o=t.value-(n||0),(o||void 0===n)&&(n=t.value,t.delta=o,e(t)))}},R=()=>O.__WEB_VITALS_POLYFILL__?O.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=O.performance.timing,t=O.performance.navigation.type,a={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const t in e)"navigationStart"!==t&&"toJSON"!==t&&(a[t]=Math.max(e[t]-e.navigationStart,0));return a})()):O.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],D=()=>{const e=R();return e&&e.activationStart||0},G=(e,t)=>{const a=R();let n="navigate";return a&&(n=O.document.prerendering||D()>0?"prerender":a.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:n}},U=(e,t,a)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const n=new PerformanceObserver((e=>{t(e.getEntries())}));return n.observe(Object.assign({type:e,buffered:!0},a||{})),n}}catch(e){}},M=(e,t)=>{const a=n=>{"pagehide"!==n.type&&"hidden"!==O.document.visibilityState||(e(n),t&&(removeEventListener("visibilitychange",a,!0),removeEventListener("pagehide",a,!0)))};addEventListener("visibilitychange",a,!0),addEventListener("pagehide",a,!0)},B=e=>{const t=G("CLS",0);let a,n=0,o=[];const i=e=>{e.forEach((e=>{if(!e.hadRecentInput){const i=o[0],r=o[o.length-1];n&&0!==o.length&&e.startTime-r.startTime<1e3&&e.startTime-i.startTime<5e3?(n+=e.value,o.push(e)):(n=e.value,o=[e]),n>t.value&&(t.value=n,t.entries=o,a&&a())}}))},r=U("layout-shift",i);r&&(a=N(e,t),M((()=>{i(r.takeRecords()),a(!0)})))};let L=-1;const z=()=>(L<0&&(L="hidden"!==O.document.visibilityState||O.document.prerendering?1/0:0,M((({timeStamp:e})=>{L=e}),!0)),{get firstHiddenTime(){return L}}),F=e=>{const t=z(),a=G("FID");let n;const o=e=>{e.startTime<t.firstHiddenTime&&(a.value=e.processingStart-e.startTime,a.entries.push(e),n(!0))},i=e=>{e.forEach(o)},r=U("first-input",i);n=N(e,a),r&&M((()=>{i(r.takeRecords()),r.disconnect()}),!0)},V={},$=e=>{const t=z(),a=G("LCP");let n;const o=e=>{const o=e[e.length-1];if(o){const e=Math.max(o.startTime-D(),0);e<t.firstHiddenTime&&(a.value=e,a.entries=[o],n())}},i=U("largest-contentful-paint",o);if(i){n=N(e,a);const t=()=>{V[a.id]||(o(i.takeRecords()),i.disconnect(),V[a.id]=!0,n(!0))};["keydown","click"].forEach((e=>{addEventListener(e,t,{once:!0,capture:!0})})),M(t,!0)}};function j(e){return"number"==typeof e&&isFinite(e)}function W(e,{startTimestamp:t,...a}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...a})}function Y(){return O&&O.addEventListener&&O.performance}let H,q,Z=0,J={};function K(e,t,a,n,o,i){const r=i?t[i]:t[`${a}End`],s=t[`${a}Start`];s&&r&&W(e,{op:"browser",description:o||a,startTimestamp:n+(0,T.XL)(s),endTimestamp:n+(0,T.XL)(r)})}var Q=a(5659),X=a(4863),ee=a(7321);const te=["localhost",/^\//],ae={traceFetch:!0,traceXHR:!0,tracingOrigins:te,tracePropagationTargets:te};function ne(e){const{traceFetch:t,traceXHR:a,tracePropagationTargets:n,tracingOrigins:o,shouldCreateSpanForRequest:i}={traceFetch:ae.traceFetch,traceXHR:ae.traceXHR,...e},r="function"==typeof i?i:e=>!0,s=e=>function(e,t){return(0,ee.U0)(e,t||te)}(e,n||o),l={};t&&(0,X.o)("fetch",(e=>{!function(e,t,a,n){if(!(0,T.zu)()||!e.fetchData||!t(e.fetchData.url))return;if(e.endTimestamp){const t=e.fetchData.__span;if(!t)return;const a=n[t];return void(a&&(e.response?a.setHttpStatus(e.response.status):e.error&&a.setStatus("internal_error"),a.finish(),delete n[t]))}const o=(0,Q.Gd)().getScope(),i=o&&o.getSpan(),r=i&&i.transaction;if(i&&r){const t=i.startChild({data:{...e.fetchData,type:"fetch"},description:`${e.fetchData.method} ${e.fetchData.url}`,op:"http.client"});e.fetchData.__span=t.spanId,n[t.spanId]=t;const o=e.args[0];e.args[1]=e.args[1]||{};const s=e.args[1];a(e.fetchData.url)&&(s.headers=function(e,t,a,n){const o=(0,x.IQ)(t),i=a.toTraceparent(),r="undefined"!=typeof Request&&(0,c.V9)(e,Request)?e.headers:n.headers;if(r){if("undefined"!=typeof Headers&&(0,c.V9)(r,Headers)){const e=new Headers(r);return e.append("sentry-trace",i),o&&e.append(x.bU,o),e}if(Array.isArray(r)){const e=[...r,["sentry-trace",i]];return o&&e.push([x.bU,o]),e}{const e="baggage"in r?r.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),o&&t.push(o),{...r,"sentry-trace":i,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":i,baggage:o}}(o,r.getDynamicSamplingContext(),t,s))}}(e,r,s,l)})),a&&(0,X.o)("xhr",(e=>{!function(e,t,a,n){if(!(0,T.zu)()||e.xhr&&e.xhr.__sentry_own_request__||!(e.xhr&&e.xhr.__sentry_xhr__&&t(e.xhr.__sentry_xhr__.url)))return;const o=e.xhr.__sentry_xhr__;if(e.endTimestamp){const t=e.xhr.__sentry_xhr_span_id__;if(!t)return;const a=n[t];return void(a&&(a.setHttpStatus(o.status_code),a.finish(),delete n[t]))}const i=(0,Q.Gd)().getScope(),r=i&&i.getSpan(),s=r&&r.transaction;if(r&&s){const t=r.startChild({data:{...o.data,type:"xhr",method:o.method,url:o.url},description:`${o.method} ${o.url}`,op:"http.client"});if(e.xhr.__sentry_xhr_span_id__=t.spanId,n[e.xhr.__sentry_xhr_span_id__]=t,e.xhr.setRequestHeader&&a(e.xhr.__sentry_xhr__.url))try{e.xhr.setRequestHeader("sentry-trace",t.toTraceparent());const a=s.getDynamicSamplingContext(),n=(0,x.IQ)(a);n&&e.xhr.setRequestHeader(x.bU,n)}catch(e){}}}(e,r,s,l)}))}const oe="BrowserTracing",ie={idleTimeout:P.nT,finalTimeout:P.mg,heartbeatInterval:P.hd,markBackgroundTransactions:!0,routingInstrumentation:function(e,t=!0,a=!0){if(!O||!O.location)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn("Could not initialize routing instrumentation due to invalid location"));let n,o=O.location.href;t&&(n=e({name:O.location.pathname,op:"pageload",metadata:{source:"url"}})),a&&(0,X.o)("history",(({to:t,from:a})=>{void 0===a&&o&&-1!==o.indexOf(t)?o=void 0:a!==t&&(o=void 0,n&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(`[Tracing] Finishing current transaction with op: ${n.op}`),n.finish()),n=e({name:O.location.pathname,op:"navigation",metadata:{source:"url"}}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...ae};class re{__init(){this.name=oe}constructor(e){re.prototype.__init.call(this),this.options={...ie,...e},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),function(){const e=Y();e&&C.Z1&&(e.mark&&O.performance.mark("sentry-tracing-init"),B((e=>{const t=e.entries.pop();t&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Measurements] Adding CLS"),J.cls={value:e.value,unit:""},q=t)})),$((e=>{const t=e.entries.pop();t&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Measurements] Adding LCP"),J.lcp={value:e.value,unit:"millisecond"},H=t)})),F((e=>{const t=e.entries.pop();if(!t)return;const a=(0,T.XL)(C.Z1),n=(0,T.XL)(t.startTime);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Measurements] Adding FID"),J.fid={value:e.value,unit:"millisecond"},J["mark.fid"]={value:a+n,unit:"second"}})))}(),this.options.enableLongTask&&U("longtask",(e=>{for(const t of e){const e=(0,T.x1)();if(!e)return;const a=(0,T.XL)(C.Z1+t.startTime),n=(0,T.XL)(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:a,endTimestamp:a+n})}}))}setupOnce(e,t){this._getCurrentHub=t;const{routingInstrumentation:a,startTransactionOnLocationChange:n,startTransactionOnPageLoad:o,markBackgroundTransactions:i,traceFetch:s,traceXHR:l,tracePropagationTargets:c,shouldCreateSpanForRequest:d,_experiments:u}=this.options;a((e=>this._createRouteTransaction(e)),o,n),i&&(O&&O.document?O.document.addEventListener("visibilitychange",(()=>{const e=(0,T.x1)();if(O.document.hidden&&e){const t="cancelled";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${e.op}`),e.status||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.finish()}})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")),u.enableInteractions&&this._registerInteractionListener(),ne({traceFetch:s,traceXHR:l,tracePropagationTargets:c,shouldCreateSpanForRequest:d})}_createRouteTransaction(e){if(!this._getCurrentHub)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`));const{beforeNavigate:t,idleTimeout:a,finalTimeout:n,heartbeatInterval:i}=this.options,s="pageload"===e.op,l=s?se("sentry-trace"):null,c=s?se("baggage"):null,d=l?(0,E.q)(l):void 0,u=c?(0,x.EN)(c):void 0,p={...e,...d,metadata:{...e.metadata,dynamicSamplingContext:d&&!u?{}:u},trimEnd:!0},m="function"==typeof t?t(p):p,h=void 0===m?{...p,sampled:!1}:m;h.metadata=h.name!==p.name?{...h.metadata,source:"custom"}:h.metadata,this._latestRouteName=h.name,this._latestRouteSource=h.metadata&&h.metadata.source,!1===h.sampled&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(`[Tracing] Will not send ${h.op} transaction because of beforeNavigate.`),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(`[Tracing] Starting ${h.op} transaction on scope`);const _=this._getCurrentHub(),{location:f}=O,g=(0,o.lb)(_,h,a,n,!0,{location:f},i);return g.registerBeforeFinishCallback((e=>{!function(e){const t=Y();if(!t||!O.performance.getEntries||!C.Z1)return;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Tracing] Adding & adjusting spans using Performance API");const a=(0,T.XL)(C.Z1),n=t.getEntries();let o,i;if(n.slice(Z).forEach((t=>{const n=(0,T.XL)(t.startTime),s=(0,T.XL)(t.duration);if(!("navigation"===e.op&&a+n<e.startTimestamp))switch(t.entryType){case"navigation":!function(e,t,a){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((n=>{K(e,t,n,a)})),K(e,t,"secureConnection",a,"TLS/SSL","connectEnd"),K(e,t,"fetch",a,"cache","domainLookupStart"),K(e,t,"domainLookup",a,"DNS"),function(e,t,a){W(e,{op:"browser",description:"request",startTimestamp:a+(0,T.XL)(t.requestStart),endTimestamp:a+(0,T.XL)(t.responseEnd)}),W(e,{op:"browser",description:"response",startTimestamp:a+(0,T.XL)(t.responseStart),endTimestamp:a+(0,T.XL)(t.responseEnd)})}(e,t,a)}(e,t,a),o=a+(0,T.XL)(t.responseStart),i=a+(0,T.XL)(t.requestStart);break;case"mark":case"paint":case"measure":{!function(e,t,a,n,o){const i=o+a,r=i+n;W(e,{description:t.name,endTimestamp:r,op:t.entryType,startTimestamp:i})}(e,t,n,s,a);const o=z(),i=t.startTime<o.firstHiddenTime;"first-paint"===t.name&&i&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Measurements] Adding FP"),J.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&i&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Measurements] Adding FCP"),J.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":{const o=t.name.replace(O.location.origin,"");!function(e,t,a,n,o,i){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const r={};"transferSize"in t&&(r["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(r["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(r["Decoded Body Size"]=t.decodedBodySize),"renderBlockingStatus"in t&&(r["resource.render_blocking_status"]=t.renderBlockingStatus);const s=i+n;W(e,{description:a,endTimestamp:s+o,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",startTimestamp:s,data:r})}(e,t,o,n,s,a);break}}})),Z=Math.max(n.length-1,0),function(e){const t=O.navigator;if(!t)return;const a=t.connection;a&&(a.effectiveType&&e.setTag("effectiveConnectionType",a.effectiveType),a.type&&e.setTag("connectionType",a.type),j(a.rtt)&&(J["connection.rtt"]={value:a.rtt,unit:"millisecond"})),j(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),j(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===e.op){"number"==typeof o&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Measurements] Adding TTFB"),J.ttfb={value:1e3*(o-e.startTimestamp),unit:"millisecond"},"number"==typeof i&&i<=o&&(J["ttfb.requestTime"]={value:1e3*(o-i),unit:"millisecond"})),["fcp","fp","lcp"].forEach((t=>{if(!J[t]||a>=e.startTimestamp)return;const n=J[t].value,o=a+(0,T.XL)(n),i=Math.abs(1e3*(o-e.startTimestamp)),s=i-n;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(`[Measurements] Normalized ${t} from ${n} to ${i} (${s})`),J[t].value=i}));const t=J["mark.fid"];t&&J.fid&&(W(e,{description:"first input delay",endTimestamp:t.value+(0,T.XL)(J.fid.value),op:"ui.action",startTimestamp:t.value}),delete J["mark.fid"]),"fcp"in J||delete J.cls,Object.keys(J).forEach((t=>{e.setMeasurement(t,J[t].value,J[t].unit)})),function(e){H&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Measurements] Adding LCP Data"),H.element&&e.setTag("lcp.element",(0,I.Rt)(H.element)),H.id&&e.setTag("lcp.id",H.id),H.url&&e.setTag("lcp.url",H.url.trim().slice(0,200)),e.setTag("lcp.size",H.size)),q&&q.sources&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Measurements] Adding CLS Data"),q.sources.forEach(((t,a)=>e.setTag(`cls.source.${a+1}`,(0,I.Rt)(t.node)))))}(e)}H=void 0,q=void 0,J={}}(e)})),g}_registerInteractionListener(){let e;const t=()=>{const{idleTimeout:t,finalTimeout:a,heartbeatInterval:n}=this.options,i="ui.action.click";if(e&&(e.finish(),e=void 0),!this._getCurrentHub)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn(`[Tracing] Did not create ${i} transaction because _getCurrentHub is invalid.`));if(!this._latestRouteName)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn(`[Tracing] Did not create ${i} transaction because _latestRouteName is missing.`));const s=this._getCurrentHub(),{location:l}=O,c={name:this._latestRouteName,op:i,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};e=(0,o.lb)(s,c,t,a,!0,{location:l},n)};["click"].forEach((e=>{addEventListener(e,t,{once:!1,capture:!0})}))}}function se(e){const t=(0,I.qT)(`meta[name=${e}]`);return t?t.getAttribute("content"):null}var le,ce=a(5334);!function(e){e.Ok="ok",e.DeadlineExceeded="deadline_exceeded",e.Unauthenticated="unauthenticated",e.PermissionDenied="permission_denied",e.NotFound="not_found",e.ResourceExhausted="resource_exhausted",e.InvalidArgument="invalid_argument",e.Unimplemented="unimplemented",e.Unavailable="unavailable",e.InternalError="internal_error",e.UnknownError="unknown_error",e.Cancelled="cancelled",e.AlreadyExists="already_exists",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.DataLoss="data_loss"}(le||(le={}));var de=a(3391);("undefined"==typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&(0,o.ro)()},5334:(e,t,a)=>{"use strict";a.d(t,{Dr:()=>l,Zd:()=>c,gB:()=>s});var n=a(2844),o=a(1170),i=a(2343),r=a(535);class s{__init(){this.spans=[]}constructor(e=1e3){s.prototype.__init.call(this),this._maxlen=e}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class l{__init2(){this.traceId=(0,n.DM)()}__init3(){this.spanId=(0,n.DM)().substring(16)}__init4(){this.startTimestamp=(0,o._I)()}__init5(){this.tags={}}__init6(){this.data={}}__init7(){this.instrumenter="sentry"}constructor(e){if(l.prototype.__init2.call(this),l.prototype.__init3.call(this),l.prototype.__init4.call(this),l.prototype.__init5.call(this),l.prototype.__init6.call(this),l.prototype.__init7.call(this),!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp),e.instrumenter&&(this.instrumenter=e.instrumenter)}startChild(e){const t=new l({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t),t.transaction=this.transaction,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.transaction){const a=`[Tracing] Starting '${e&&e.op||"< unknown op >"}' span on transaction '${t.transaction.name||"< unknown name >"}' (${t.transaction.spanId}).`;t.transaction.metadata.spanMetadata[t.spanId]={logMessage:a},i.kg.log(a)}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e));const t=c(e);return"unknown_error"!==t&&this.setStatus(t),this}isSuccess(){return"ok"===this.status}finish(e){if(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:e}=this.transaction.metadata.spanMetadata[this.spanId];e&&i.kg.log(e.replace("Starting","Finishing"))}this.endTimestamp="number"==typeof e?e:(0,o._I)()}toTraceparent(){let e="";return void 0!==this.sampled&&(e=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${e}`}toContext(){return(0,r.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=e.data||{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=e.spanId||this.spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this.traceId=e.traceId||this.traceId,this}getTraceContext(){return(0,r.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return(0,r.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}function c(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}},3391:(e,t,a)=>{"use strict";a.d(t,{Y:()=>s});var n=a(5659),o=a(2343),i=a(535),r=a(5334);class s extends r.Dr{__init(){this._measurements={}}__init2(){this._contexts={}}__init3(){this._frozenDynamicSamplingContext=void 0}constructor(e,t){super(e),s.prototype.__init.call(this),s.prototype.__init2.call(this),s.prototype.__init3.call(this),this._hub=t||(0,n.Gd)(),this._name=e.name||"",this.metadata={source:"custom",...e.metadata,spanMetadata:{}},this._trimEnd=e.trimEnd,this.transaction=this;const a=this.metadata.dynamicSamplingContext;a&&(this._frozenDynamicSamplingContext={...a})}get name(){return this._name}set name(e){this.setName(e)}setName(e,t="custom"){this._name=e,this.metadata.source=t}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new r.gB(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,a=""){this._measurements[e]={value:t,unit:a}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){if(void 0!==this.endTimestamp)return;if(this.name||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e),!0!==this.sampled){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");const e=this._hub.getClient();return void(e&&e.recordDroppedEvent("sample_rate","transaction"))}const t=this.spanRecorder?this.spanRecorder.spans.filter((e=>e!==this&&e.endTimestamp)):[];this._trimEnd&&t.length>0&&(this.endTimestamp=t.reduce(((e,t)=>e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e)).endTimestamp);const a=this.metadata,n={contexts:{...this._contexts,trace:this.getTraceContext()},spans:t,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...a,dynamicSamplingContext:this.getDynamicSamplingContext()},...a.source&&{transaction_info:{source:a.source}}};return Object.keys(this._measurements).length>0&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),n.measurements=this._measurements),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(n)}toContext(){const e=super.toContext();return(0,i.Jr)({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const e=this._hub||(0,n.Gd)(),t=e&&e.getClient();if(!t)return{};const{environment:a,release:o}=t.getOptions()||{},{publicKey:r}=t.getDsn()||{},s=this.metadata.sampleRate,l=void 0!==s?s.toString():void 0,c=e.getScope(),{segment:d}=c&&c.getUser()||{},u=this.metadata.source,p=u&&"url"!==u?this.name:void 0;return(0,i.Jr)({environment:a,release:o,transaction:p,user_segment:d,public_key:r,trace_id:this.traceId,sample_rate:l})}}},3233:(e,t,a)=>{"use strict";a.d(t,{XL:()=>r,x1:()=>i,zu:()=>o});var n=a(5659);function o(e){const t=(0,n.Gd)().getClient(),a=e||t&&t.getOptions();return!!a&&("tracesSampleRate"in a||"tracesSampler"in a)}function i(e){const t=(e||(0,n.Gd)()).getScope();return t&&t.getTransaction()}function r(e){return e/1e3}},9181:(e,t,a)=>{"use strict";a.d(t,{EN:()=>c,IQ:()=>d,bU:()=>i});var n=a(7597),o=a(2343);const i="baggage",r="sentry-",s=/^sentry-/,l=8192;function c(e){if(!(0,n.HD)(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce(((e,t)=>({...e,...u(t)})),{});else{if(!e)return;t=u(e)}const a=Object.entries(t).reduce(((e,[t,a])=>(t.match(s)&&(e[t.slice(r.length)]=a),e)),{});return Object.keys(a).length>0?a:void 0}function d(e){return function(e){if(0!==Object.keys(e).length)return Object.entries(e).reduce(((e,[t,a],n)=>{const i=`${encodeURIComponent(t)}=${encodeURIComponent(a)}`,r=0===n?i:`${e},${i}`;return r.length>l?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`Not adding key: ${t} with val: ${a} to baggage header due to exceeding baggage size limits.`),e):r}),"")}(Object.entries(e).reduce(((e,[t,a])=>(a&&(e[`${r}${t}`]=a),e)),{}))}function u(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,a])=>(e[t]=a,e)),{})}},8464:(e,t,a)=>{"use strict";a.d(t,{Rt:()=>r,qT:()=>l});var n=a(7597);const o=(0,a(1235).Rf)(),i=80;function r(e,t={}){try{let a=e;const n=5,o=[];let r=0,l=0;const c=" > ",d=c.length;let u;const p=Array.isArray(t)?t:t.keyAttrs,m=!Array.isArray(t)&&t.maxStringLength||i;for(;a&&r++<n&&(u=s(a,p),!("html"===u||r>1&&l+o.length*d+u.length>=m));)o.push(u),l+=u.length,a=a.parentNode;return o.reverse().join(c)}catch(e){return"<unknown>"}}function s(e,t){const a=e,o=[];let i,r,s,l,c;if(!a||!a.tagName)return"";o.push(a.tagName.toLowerCase());const d=t&&t.length?t.filter((e=>a.getAttribute(e))).map((e=>[e,a.getAttribute(e)])):null;if(d&&d.length)d.forEach((e=>{o.push(`[${e[0]}="${e[1]}"]`)}));else if(a.id&&o.push(`#${a.id}`),i=a.className,i&&(0,n.HD)(i))for(r=i.split(/\s+/),c=0;c<r.length;c++)o.push(`.${r[c]}`);const u=["aria-label","type","name","title","alt"];for(c=0;c<u.length;c++)s=u[c],l=a.getAttribute(s),l&&o.push(`[${s}="${l}"]`);return o.join("")}function l(e){return o.document&&o.document.querySelector?o.document.querySelector(e):null}},4307:(e,t,a)=>{"use strict";function n(e){let t,a=e[0],n=1;for(;n<e.length;){const o=e[n],i=e[n+1];if(n+=2,("optionalAccess"===o||"optionalCall"===o)&&null==a)return;"access"===o||"optionalAccess"===o?(t=a,a=i(a)):"call"!==o&&"optionalCall"!==o||(a=i(((...e)=>a.call(t,...e))),t=void 0)}return a}a.d(t,{x:()=>n})},4863:(e,t,a)=>{"use strict";a.d(t,{o:()=>h});var n=a(7597),o=a(2343),i=a(535),r=a(360),s=a(1235);const l=(0,s.Rf)();function c(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}const d=(0,s.Rf)(),u={},p={};function m(e){if(!p[e])switch(p[e]=!0,e){case"console":"console"in d&&o.RU.forEach((function(e){e in d.console&&(0,i.hl)(d.console,e,(function(t){return function(...a){_("console",{args:a,level:e}),t&&t.apply(d.console,a)}}))}));break;case"dom":!function(){if(!("document"in d))return;const e=_.bind(null,"dom"),t=S(e,!0);d.document.addEventListener("click",t,!1),d.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const a=d[t]&&d[t].prototype;a&&a.hasOwnProperty&&a.hasOwnProperty("addEventListener")&&((0,i.hl)(a,"addEventListener",(function(t){return function(a,n,o){if("click"===a||"keypress"==a)try{const n=this,i=n.__sentry_instrumentation_handlers__=n.__sentry_instrumentation_handlers__||{},r=i[a]=i[a]||{refCount:0};if(!r.handler){const n=S(e);r.handler=n,t.call(this,a,n,o)}r.refCount++}catch(e){}return t.call(this,a,n,o)}})),(0,i.hl)(a,"removeEventListener",(function(e){return function(t,a,n){if("click"===t||"keypress"==t)try{const a=this,o=a.__sentry_instrumentation_handlers__||{},i=o[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,n),i.handler=void 0,delete o[t]),0===Object.keys(o).length&&delete a.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,a,n)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in d))return;const e=XMLHttpRequest.prototype;(0,i.hl)(e,"open",(function(e){return function(...t){const a=this,o=t[1],r=a.__sentry_xhr__={method:(0,n.HD)(t[0])?t[0].toUpperCase():t[0],url:t[1]};(0,n.HD)(o)&&"POST"===r.method&&o.match(/sentry_key/)&&(a.__sentry_own_request__=!0);const s=function(){if(4===a.readyState){try{r.status_code=a.status}catch(e){}_("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:a})}};return"onreadystatechange"in a&&"function"==typeof a.onreadystatechange?(0,i.hl)(a,"onreadystatechange",(function(e){return function(...t){return s(),e.apply(a,t)}})):a.addEventListener("readystatechange",s),e.apply(a,t)}})),(0,i.hl)(e,"send",(function(e){return function(...t){return this.__sentry_xhr__&&void 0!==t[0]&&(this.__sentry_xhr__.body=t[0]),_("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}();break;case"fetch":(function(){if(!function(){if(!("fetch"in l))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}())return!1;if(c(l.fetch))return!0;let e=!1;const t=l.document;if(t&&"function"==typeof t.createElement)try{const a=t.createElement("iframe");a.hidden=!0,t.head.appendChild(a),a.contentWindow&&a.contentWindow.fetch&&(e=c(a.contentWindow.fetch)),t.head.removeChild(a)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e})()&&(0,i.hl)(d,"fetch",(function(e){return function(...t){const a={args:t,fetchData:{method:f(t),url:g(t)},startTimestamp:Date.now()};return _("fetch",{...a}),e.apply(d,t).then((e=>(_("fetch",{...a,endTimestamp:Date.now(),response:e}),e)),(e=>{throw _("fetch",{...a,endTimestamp:Date.now(),error:e}),e}))}}));break;case"history":!function(){if(!function(){const e=l.chrome,t=e&&e.app&&e.app.runtime,a="history"in l&&!!l.history.pushState&&!!l.history.replaceState;return!t&&a}())return;const e=d.onpopstate;function t(e){return function(...t){const a=t.length>2?t[2]:void 0;if(a){const e=b,t=String(a);b=t,_("history",{from:e,to:t})}return e.apply(this,t)}}d.onpopstate=function(...t){const a=d.location.href,n=b;if(b=a,_("history",{from:n,to:a}),e)try{return e.apply(this,t)}catch(e){}},(0,i.hl)(d.history,"pushState",t),(0,i.hl)(d.history,"replaceState",t)}();break;case"error":A=d.onerror,d.onerror=function(e,t,a,n,o){return _("error",{column:n,error:o,line:a,msg:e,url:t}),!!A&&A.apply(this,arguments)};break;case"unhandledrejection":k=d.onunhandledrejection,d.onunhandledrejection=function(e){return _("unhandledrejection",e),!k||k.apply(this,arguments)};break;default:return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn("unknown instrumentation type:",e))}}function h(e,t){u[e]=u[e]||[],u[e].push(t),m(e)}function _(e,t){if(e&&u[e])for(const a of u[e]||[])try{a(t)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${(0,r.$P)(a)}\nError:`,t)}}function f(e=[]){return"Request"in d&&(0,n.V9)(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function g(e=[]){return"string"==typeof e[0]?e[0]:"Request"in d&&(0,n.V9)(e[0],Request)?e[0].url:String(e[0])}let b;const y=1e3;let v,w;function S(e,t=!1){return a=>{if(!a||w===a)return;if(function(e){if("keypress"!==e.type)return!1;try{const t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(a))return;const n="keypress"===a.type?"input":a.type;(void 0===v||function(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}(w,a))&&(e({event:a,name:n,global:t}),w=a),clearTimeout(v),v=d.setTimeout((()=>{v=void 0}),y)}}let A=null,k=null},7597:(e,t,a)=>{"use strict";a.d(t,{Cy:()=>m,HD:()=>r,J8:()=>p,Kj:()=>u,PO:()=>l,V9:()=>_,VZ:()=>o,cO:()=>c,i2:()=>h,kK:()=>d,pt:()=>s});const n=Object.prototype.toString;function o(e){switch(n.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return _(e,Error)}}function i(e,t){return n.call(e)===`[object ${t}]`}function r(e){return i(e,"String")}function s(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function l(e){return i(e,"Object")}function c(e){return"undefined"!=typeof Event&&_(e,Event)}function d(e){return"undefined"!=typeof Element&&_(e,Element)}function u(e){return i(e,"RegExp")}function p(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function m(e){return l(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function h(e){return"number"==typeof e&&e!=e}function _(e,t){try{return e instanceof t}catch(e){return!1}}},2343:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>r,RU:()=>i,kg:()=>l});var n=a(1235);const o="Sentry Logger ",i=["debug","info","warn","error","log","assert","trace"];function r(e){if(!("console"in n.n2))return e();const t=n.n2.console,a={};i.forEach((e=>{const n=t[e]&&t[e].__sentry_original__;e in t&&n&&(a[e]=t[e],t[e]=n)}));try{return e()}finally{Object.keys(a).forEach((e=>{t[e]=a[e]}))}}function s(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?i.forEach((a=>{t[a]=(...t)=>{e&&r((()=>{n.n2.console[a](`${o}[${a}]:`,...t)}))}})):i.forEach((e=>{t[e]=()=>{}})),t}let l;l="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,n.YO)("logger",s):s()},2844:(e,t,a)=>{"use strict";a.d(t,{DM:()=>r,Db:()=>c,EG:()=>d,J4:()=>p,YO:()=>h,go:()=>m,jH:()=>l,lE:()=>_});var n=a(535),o=a(7321),i=a(1235);function r(){const e=i.n2,t=e.crypto||e.msCrypto;if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");const a=t&&t.getRandomValues?()=>t.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&a())>>e/4).toString(16)))}function s(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function l(e){const{message:t,event_id:a}=e;if(t)return t;const n=s(e);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||a||"<unknown>":a||"<unknown>"}function c(e,t,a){const n=e.exception=e.exception||{},o=n.values=n.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type=a||"Error")}function d(e,t){const a=s(e);if(!a)return;const n=a.mechanism;if(a.mechanism={type:"generic",handled:!0,...n,...t},t&&"data"in t){const e={...n&&n.data,...t.data};a.mechanism.data=e}}const u=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function p(e){const t=e.match(u)||[],a=parseInt(t[1],10),n=parseInt(t[2],10),o=parseInt(t[3],10);return{buildmetadata:t[5],major:isNaN(a)?void 0:a,minor:isNaN(n)?void 0:n,patch:isNaN(o)?void 0:o,prerelease:t[4]}}function m(e,t,a=5){if(void 0===t.lineno)return;const n=e.length,i=Math.max(Math.min(n,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,i-a),i).map((e=>(0,o.JM)(e,0))),t.context_line=(0,o.JM)(e[Math.min(n-1,i)],t.colno||0),t.post_context=e.slice(Math.min(i+1,n),i+1+a).map((e=>(0,o.JM)(e,0)))}function h(e){if(e&&e.__sentry_captured__)return!0;try{(0,n.xp)(e,"__sentry_captured__",!0)}catch(e){}return!1}function _(e){return Array.isArray(e)?e:[e]}},2176:(e,t,a)=>{"use strict";function n(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function o(e,t){return e.require(t)}function i(t){let a;try{a=o(e,t)}catch(e){}try{const{cwd:n}=o(e,"process");a=o(e,`${n()}/node_modules/${t}`)}catch(e){}return a}a.d(t,{l$:()=>o,KV:()=>n,$y:()=>i}),e=a.hmd(e)},535:(e,t,a)=>{"use strict";a.d(t,{HK:()=>l,Jr:()=>h,Sh:()=>d,_j:()=>c,hl:()=>r,xp:()=>s,zf:()=>m});var n=a(8464),o=a(7597),i=a(7321);function r(e,t,a){if(!(t in e))return;const n=e[t],o=a(n);if("function"==typeof o)try{!function(e,t){const a=t.prototype||{};e.prototype=t.prototype=a,s(e,"__sentry_original__",t)}(o,n)}catch(e){}e[t]=o}function s(e,t,a){Object.defineProperty(e,t,{value:a,writable:!0,configurable:!0})}function l(e){return e.__sentry_original__}function c(e){return Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}function d(e){if((0,o.VZ)(e))return{message:e.message,name:e.name,stack:e.stack,...p(e)};if((0,o.cO)(e)){const t={type:e.type,target:u(e.target),currentTarget:u(e.currentTarget),...p(e)};return"undefined"!=typeof CustomEvent&&(0,o.V9)(e,CustomEvent)&&(t.detail=e.detail),t}return e}function u(e){try{return(0,o.kK)(e)?(0,n.Rt)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function p(e){if("object"==typeof e&&null!==e){const t={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}return{}}function m(e,t=40){const a=Object.keys(d(e));if(a.sort(),!a.length)return"[object has no keys]";if(a[0].length>=t)return(0,i.$G)(a[0],t);for(let e=a.length;e>0;e--){const n=a.slice(0,e).join(", ");if(!(n.length>t))return e===a.length?n:(0,i.$G)(n,t)}return""}function h(e){return _(e,new Map)}function _(e,t){if((0,o.PO)(e)){const a=t.get(e);if(void 0!==a)return a;const n={};t.set(e,n);for(const a of Object.keys(e))void 0!==e[a]&&(n[a]=_(e[a],t));return n}if(Array.isArray(e)){const a=t.get(e);if(void 0!==a)return a;const n=[];return t.set(e,n),e.forEach((e=>{n.push(_(e,t))})),n}return e}},442:(e,t,a)=>{"use strict";a.d(t,{dB:()=>o,oA:()=>i});var n=a(6956);function o(e,t,a){e&&(e.metadata.source&&"url"!==e.metadata.source||e.setName(...i(t,{path:!0,method:!0})),e.setData("url",t.originalUrl||t.url),t.baseUrl&&e.setData("baseUrl",t.baseUrl),e.setData("query",function(e,t){let a=e.originalUrl||e.url||"";if(a)return a.startsWith("/")&&(a=`http://dogs.are.great${a}`),e.query||void 0!==typeof URL&&new URL(a).search.replace("?","")||t&&t.url&&t.url.parse(a).query||void 0}(t,a)))}function i(e,t={}){const a=e.method&&e.method.toUpperCase();let o="",i="url";t.customRoute||e.route?(o=t.customRoute||`${e.baseUrl||""}${e.route&&e.route.path}`,i="route"):(e.originalUrl||e.url)&&(o=(0,n.rt)(e.originalUrl||e.url||""));let r="";return t.method&&a&&(r+=a),t.method&&t.path&&(r+=" "),t.path&&o&&(r+=o),[r,i]}},360:(e,t,a)=>{"use strict";a.d(t,{$P:()=>c,Ep:()=>u,Sq:()=>s,pE:()=>r});var n=a(1235);const o=50,i=new Map;function r(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,a=0)=>{const r=[];for(const e of t){let t=i.get(e);t||(t=new Map,i.set(e,t));const a=n.n2._sentryDebugIds;a&&Object.keys(a).forEach((n=>{n.split("\n").forEach((o=>{const i=e(o);i&&i.filename&&t.set(i.filename,a[n])}))}))}for(const n of e.split("\n").slice(a)){if(n.length>1024)continue;const e=n.replace(/\(error: (.*)\)/,"$1");for(const a of t){const t=a(e);if(t){const e=i.get(a);if(e&&t.filename){const a=e.get(t.filename);a&&(t.debug_id=a)}r.push(t);break}}}return function(e){if(!e.length)return[];let t=e;const a=t[0].function||"",n=t[t.length-1].function||"";return-1===a.indexOf("captureMessage")&&-1===a.indexOf("captureException")||(t=t.slice(1)),-1!==n.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,o).map((e=>({...e,filename:e.filename||t[0].filename,function:e.function||"?"}))).reverse()}(r)}}function s(e){return Array.isArray(e)?r(...e):e}const l="<anonymous>";function c(e){try{return e&&"function"==typeof e&&e.name||l}catch(e){return l}}function d(e){const t=/^\s*[-]{4,}$/,a=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return n=>{if(n.match(t))return{filename:n};const o=n.match(a);if(!o)return;let i,r,s,l,c;if(o[1]){s=o[1];let e=s.lastIndexOf(".");if("."===s[e-1]&&e--,e>0){i=s.slice(0,e),r=s.slice(e+1);const t=i.indexOf(".Module");t>0&&(s=s.slice(t+1),i=i.slice(0,t))}l=void 0}r&&(l=i,c=r),"<anonymous>"===r&&(c=void 0,s=void 0),void 0===s&&(c=c||"<anonymous>",s=l?`${l}.${c}`:c);const d=o[2]&&o[2].startsWith("file://")?o[2].slice(7):o[2],u=!("native"===o[5]||d&&!d.startsWith("/")&&!d.startsWith(".")&&1!==d.indexOf(":\\")||void 0===d||d.includes("node_modules/"));return{filename:d,module:e?e(d):void 0,function:s,lineno:parseInt(o[3],10)||void 0,colno:parseInt(o[4],10)||void 0,in_app:u}}}function u(e){return[90,d(e)]}},7321:(e,t,a)=>{"use strict";a.d(t,{$G:()=>o,JM:()=>i,U0:()=>r});var n=a(7597);function o(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function i(e,t){let a=e;const n=a.length;if(n<=150)return a;t>n&&(t=n);let o=Math.max(t-60,0);o<5&&(o=0);let i=Math.min(o+140,n);return i>n-5&&(i=n),i===n&&(o=Math.max(i-140,0)),a=a.slice(o,i),o>0&&(a=`'{snip} ${a}`),i<n&&(a+=" {snip}"),a}function r(e,t=[],a=!1){return t.some((t=>function(e,t,a=!1){return!!(0,n.HD)(e)&&((0,n.Kj)(t)?t.test(e):!!(0,n.HD)(t)&&(a?e===t:e.includes(t)))}(e,t,a)))}},6893:(e,t,a)=>{"use strict";a.d(t,{$2:()=>r,WD:()=>i,cW:()=>s});var n,o=a(7597);function i(e){return new s((t=>{t(e)}))}function r(e){return new s(((t,a)=>{a(e)}))}!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(n||(n={}));class s{__init(){this._state=n.PENDING}__init2(){this._handlers=[]}constructor(e){s.prototype.__init.call(this),s.prototype.__init2.call(this),s.prototype.__init3.call(this),s.prototype.__init4.call(this),s.prototype.__init5.call(this),s.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new s(((a,n)=>{this._handlers.push([!1,t=>{if(e)try{a(e(t))}catch(e){n(e)}else a(t)},e=>{if(t)try{a(t(e))}catch(e){n(e)}else n(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new s(((t,a)=>{let n,o;return this.then((t=>{o=!1,n=t,e&&e()}),(t=>{o=!0,n=t,e&&e()})).then((()=>{o?a(n):t(n)}))}))}__init3(){this._resolve=e=>{this._setResult(n.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(n.REJECTED,e)}}__init5(){this._setResult=(e,t)=>{this._state===n.PENDING&&((0,o.J8)(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state===n.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===n.RESOLVED&&e[1](this._value),this._state===n.REJECTED&&e[2](this._value),e[0]=!0)}))}}}},1170:(e,t,a)=>{"use strict";a.d(t,{Z1:()=>m,_I:()=>u,ph:()=>d,yW:()=>c});var n=a(2176),o=a(1235);e=a.hmd(e);const i=(0,o.Rf)(),r={nowSeconds:()=>Date.now()/1e3},s=(0,n.KV)()?function(){try{return(0,n.l$)(e,"perf_hooks").performance}catch(e){return}}():function(){const{performance:e}=i;if(e&&e.now)return{now:()=>e.now(),timeOrigin:Date.now()-e.now()}}(),l=void 0===s?r:{nowSeconds:()=>(s.timeOrigin+s.now())/1e3},c=r.nowSeconds.bind(r),d=l.nowSeconds.bind(l),u=d;let p;const m=(()=>{const{performance:e}=i;if(!e||!e.now)return void(p="none");const t=36e5,a=e.now(),n=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+a-n):t,r=o<t,s=e.timing&&e.timing.navigationStart,l="number"==typeof s?Math.abs(s+a-n):t;return r||l<t?o<=l?(p="timeOrigin",e.timeOrigin):(p="navigationStart",s):(p="dateNow",n)})()},7638:(e,t,a)=>{"use strict";a.d(t,{K:()=>n,q:()=>o});const n=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function o(e){const t=e.match(n);if(!e||!t)return;let a;return"1"===t[3]?a=!0:"0"===t[3]&&(a=!1),{traceId:t[1],parentSampled:a,parentSpanId:t[2]}}},6956:(e,t,a)=>{"use strict";function n(e){return e.split(/[\?#]/,1)[0]}function o(e){return e.split(/\\?\//).filter((e=>e.length>0&&","!==e)).length}a.d(t,{$A:()=>o,rt:()=>n})},1235:(e,t,a)=>{"use strict";function n(e){return e&&e.Math==Math?e:void 0}a.d(t,{Rf:()=>i,YO:()=>r,n2:()=>o});const o="object"==typeof globalThis&&n(globalThis)||"object"==typeof window&&n(window)||"object"==typeof self&&n(self)||"object"==typeof global&&n(global)||function(){return this}()||{};function i(){return o}function r(e,t,a){const n=a||o,i=n.__SENTRY__=n.__SENTRY__||{};return i[e]||(i[e]=t())}},8054:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const o=a(2361),i=n(a(5158)),r=n(a(6304)),s=i.default("agent-base");function l(){const{stack:e}=new Error;return"string"==typeof e&&e.split("\n").some((e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:")))}function c(e,t){return new c.Agent(e,t)}!function(e){class t extends o.EventEmitter{constructor(e,t){super();let a=t;"function"==typeof e?this.callback=e:e&&(a=e),this.timeout=null,a&&"number"==typeof a.timeout&&(this.timeout=a.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return"number"==typeof this.explicitDefaultPort?this.explicitDefaultPort:l()?443:80}set defaultPort(e){this.explicitDefaultPort=e}get protocol(){return"string"==typeof this.explicitProtocol?this.explicitProtocol:l()?"https:":"http:"}set protocol(e){this.explicitProtocol=e}callback(e,t,a){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(e,t){const a=Object.assign({},t);"boolean"!=typeof a.secureEndpoint&&(a.secureEndpoint=l()),null==a.host&&(a.host="localhost"),null==a.port&&(a.port=a.secureEndpoint?443:80),null==a.protocol&&(a.protocol=a.secureEndpoint?"https:":"http:"),a.host&&a.path&&delete a.path,delete a.agent,delete a.hostname,delete a._defaultAgent,delete a.defaultPort,delete a.createConnection,e._last=!0,e.shouldKeepAlive=!1;let n=!1,o=null;const i=a.timeout||this.timeout,c=t=>{e._hadError||(e.emit("error",t),e._hadError=!0)},d=()=>{o=null,n=!0;const e=new Error(`A "socket" was not created for HTTP request before ${i}ms`);e.code="ETIMEOUT",c(e)},u=e=>{n||(null!==o&&(clearTimeout(o),o=null),c(e))},p=t=>{if(n)return;if(null!=o&&(clearTimeout(o),o=null),i=t,Boolean(i)&&"function"==typeof i.addRequest)return s("Callback returned another Agent instance %o",t.constructor.name),void t.addRequest(e,a);var i;if(t)return t.once("free",(()=>{this.freeSocket(t,a)})),void e.onSocket(t);const r=new Error(`no Duplex stream was returned to agent-base for \`${e.method} ${e.path}\``);c(r)};if("function"==typeof this.callback){this.promisifiedCallback||(this.callback.length>=3?(s("Converting legacy callback function to promise"),this.promisifiedCallback=r.default(this.callback)):this.promisifiedCallback=this.callback),"number"==typeof i&&i>0&&(o=setTimeout(d,i)),"port"in a&&"number"!=typeof a.port&&(a.port=Number(a.port));try{s("Resolving socket for %o request: %o",a.protocol,`${e.method} ${e.path}`),Promise.resolve(this.promisifiedCallback(e,a)).then(p,u)}catch(e){Promise.reject(e).catch(u)}}else c(new Error("`callback` is not defined"))}freeSocket(e,t){s("Freeing socket %o %o",e.constructor.name,t),e.destroy()}destroy(){s("Destroying agent %o",this.constructor.name)}}e.Agent=t,e.prototype=e.Agent.prototype}(c||(c={})),e.exports=c},6304:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,a){return new Promise(((n,o)=>{e.call(this,t,a,((e,t)=>{e?o(e):n(t)}))}))}}},6489:(e,t)=>{"use strict";t.Q=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var o={},i=t||{},r=e.split(";"),s=i.decode||a,l=0;l<r.length;l++){var c=r[l],d=c.indexOf("=");if(!(d<0)){var u=c.substring(0,d).trim();if(null==o[u]){var p=c.substring(d+1,c.length).trim();'"'===p[0]&&(p=p.slice(1,-1)),o[u]=n(p,s)}}}return o};var a=decodeURIComponent;encodeURIComponent;function n(e,t){try{return t(e)}catch(t){return e}}},7319:(e,t,a)=>{"use strict";const n=a(4341);e.exports=(e,t={})=>{if("function"!=typeof e)throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``);const{wait:a=0,maxWait:o=0,before:i=!1,after:r=!0}=t;if(!i&&!r)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let s,l,c;const d=function(...t){const n=this,d=i&&!s;return clearTimeout(s),s=setTimeout((()=>{s=void 0,l&&(clearTimeout(l),l=void 0),r&&(c=e.apply(n,t))}),a),o>0&&!l&&r&&(l=setTimeout((()=>{l=void 0,s&&(clearTimeout(s),s=void 0),c=e.apply(n,t)}),o)),d&&(c=e.apply(n,t)),c};return n(d,e),d.cancel=()=>{s&&(clearTimeout(s),s=void 0),l&&(clearTimeout(l),l=void 0)},d}},1227:(e,t,a)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const a="color: "+this.color;t.splice(1,0,a,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,a)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=a(2447)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},2447:(e,t,a)=>{e.exports=function(e){function t(e){let a,o,i,r=null;function s(...e){if(!s.enabled)return;const n=s,o=Number(new Date),i=o-(a||o);n.diff=i,n.prev=a,n.curr=o,a=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let r=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((a,o)=>{if("%%"===a)return"%";r++;const i=t.formatters[o];if("function"==typeof i){const t=e[r];a=i.call(n,t),e.splice(r,1),r--}return a})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==r?r:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i),set:e=>{r=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,a){const n=t(this.namespace+(void 0===a?":":a)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let a;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(a=0;a<o;a++)n[a]&&("-"===(e=n[a].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let a,n;for(a=0,n=t.skips.length;a<n;a++)if(t.skips[a].test(e))return!1;for(a=0,n=t.names.length;a<n;a++)if(t.names[a].test(e))return!0;return!1},t.humanize=a(7824),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((a=>{t[a]=e[a]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let a=0;for(let t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t),a|=0;return t.colors[Math.abs(a)%t.colors.length]},t.enable(t.load()),t}},5158:(e,t,a)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=a(1227):e.exports=a(39)},39:(e,t,a)=>{const n=a(6224),o=a(3837);t.init=function(e){e.inspectOpts={};const a=Object.keys(t.inspectOpts);for(let n=0;n<a.length;n++)e.inspectOpts[a[n]]=t.inspectOpts[a[n]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(a){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${n} [0m`;a[0]=i+a[0].split("\n").join("\n"+i),a.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else a[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+a[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=a(2130);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const a=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[a]=n,e}),{}),e.exports=a(2447)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},2559:e=>{!function(){"use strict";var t=[,function(e,t){function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.lengthOf=t.keysOf=t.isObject=t.isInfOrNaN=t.isFunction=t.isArguments=t.hasOwn=t.handleError=t.convertMapToObject=t.checkError=void 0,t.isFunction=function(e){return"function"==typeof e},t.isObject=function(e){return"object"===n(e)},t.keysOf=function(e){return Object.keys(e)},t.lengthOf=function(e){return Object.keys(e).length};var o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};t.hasOwn=o,t.convertMapToObject=function(e){return Array.from(e).reduce((function(e,t){var n,o,i=(o=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,o,i=[],r=!0,s=!1;try{for(a=a.call(e);!(r=(n=a.next()).done)&&(i.push(n.value),!t||i.length!==t);r=!0);}catch(e){s=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(s)throw o}}return i}}(n,o)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=i[0],s=i[1];return e[r]=s,e}),{})},t.isArguments=function(e){return null!=e&&o(e,"callee")},t.isInfOrNaN=function(e){return Number.isNaN(e)||e===1/0||e===-1/0};var i={maxStack:function(e){return new RegExp("Maximum call stack size exceeded","g").test(e)}};t.checkError=i,t.handleError=function(e){return function(){try{return e.apply(this,arguments)}catch(e){if(i.maxStack(e.message))throw new Error("Converting circular structure to JSON");throw e}}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Base64=void 0;for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=Object.create(null),o=function(e){return a.charAt(e)},i=0;i<a.length;i++)n[o(i)]=i;var r=function(e){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var t=[],a=0;a<e;a++)t.push(0);return t.$Uint8ArrayPolyfill=!0,t}return new Uint8Array(new ArrayBuffer(e))},s={encode:function(e){if("string"==typeof e){var t=e;e=r(t.length);for(var a=0;a<t.length;a++){var n=t.charCodeAt(a);if(n>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");e[a]=n}}for(var i=[],s=null,l=null,c=null,d=null,u=0;u<e.length;u++)switch(u%3){case 0:s=e[u]>>2&63,l=(3&e[u])<<4;break;case 1:l|=e[u]>>4&15,c=(15&e[u])<<2;break;case 2:c|=e[u]>>6&3,d=63&e[u],i.push(o(s)),i.push(o(l)),i.push(o(c)),i.push(o(d)),s=null,l=null,c=null,d=null}return null!=s&&(i.push(o(s)),i.push(o(l)),null==c?i.push("="):i.push(o(c)),null==d&&i.push("=")),i.join("")},decode:function(e){var t=Math.floor(3*e.length/4);"="==e.charAt(e.length-1)&&(t--,"="==e.charAt(e.length-2)&&t--);for(var a,o=r(t),i=null,s=null,l=null,c=0,d=0;d<e.length;d++){var u="="===(a=e.charAt(d))?-1:n[a];switch(d%4){case 0:if(u<0)throw new Error("invalid base64 string");i=u<<2;break;case 1:if(u<0)throw new Error("invalid base64 string");i|=u>>4,o[c++]=i,s=(15&u)<<4;break;case 2:u>=0&&(s|=u>>2,o[c++]=s,l=(3&u)<<6);break;case 3:u>=0&&(o[c++]=l|u)}}return o},newBinary:r};t.Base64=s},function(e){e.exports={_noYieldsAllowed:function(e){return e()}}},function(e,t){function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function n(e){return JSON.stringify(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function e(t,o,i,r,s){var l=o[t];switch(a(l)){case"string":return n(l);case"number":return isFinite(l)?String(l):"null";case"boolean":return String(l);case"object":if(!l)return"null";var c,d=r+i,u=[];if(Array.isArray(l)||{}.hasOwnProperty.call(l,"callee")){for(var p=l.length,m=0;m<p;m+=1)u[m]=e(m,l,i,d,s)||"null";return c=0===u.length?"[]":d?"[\n"+d+u.join(",\n"+d)+"\n"+r+"]":"["+u.join(",")+"]"}var h=Object.keys(l);return s&&(h=h.sort()),h.forEach((function(t){(c=e(t,l,i,d,s))&&u.push(n(t)+(d?": ":":")+c)})),c=0===u.length?"{}":d?"{\n"+d+u.join(",\n"+d)+"\n"+r+"}":"{"+u.join(",")+"}"}};t.default=function(e,t){var a=Object.assign({indent:"",canonical:!1},t);if(!0===a.indent)a.indent="  ";else if("number"==typeof a.indent){for(var n="",i=0;i<a.indent;i++)n+=" ";a.indent=n}return o("",{"":e},a.indent,"",a.canonical)},e.exports=t.default}],a={};function n(e){var o=a[e];if(void 0!==o)return o.exports;var i=a[e]={exports:{}};return t[e](i,i.exports,n),i.exports}var o={};!function(){var e=o,t=n(2).Base64,a=n(3);Object.defineProperty(e,"__esModule",{value:!0}),e.EJSON=void 0;var i=n(1),r={};e.EJSON=r;var s=new Map;r.addType=function(e,t){if(s.has(e))throw new Error("Type ".concat(e," already present"));s.set(e,t)};var l=[{matchJSONValue:function(e){return(0,i.hasOwn)(e,"$date")&&1===(0,i.lengthOf)(e)},matchObject:function(e){return e instanceof Date},toJSONValue:function(e){return{$date:e.getTime()}},fromJSONValue:function(e){return new Date(e.$date)}},{matchJSONValue:function(e){return(0,i.hasOwn)(e,"$regexp")&&(0,i.hasOwn)(e,"$flags")&&2===(0,i.lengthOf)(e)},matchObject:function(e){return e instanceof RegExp},toJSONValue:function(e){return{$regexp:e.source,$flags:e.flags}},fromJSONValue:function(e){return new RegExp(e.$regexp,e.$flags.slice(0,50).replace(/[^gimuy]/g,"").replace(/(.)(?=.*\1)/g,""))}},{matchJSONValue:function(e){return(0,i.hasOwn)(e,"$InfNaN")&&1===(0,i.lengthOf)(e)},matchObject:i.isInfOrNaN,toJSONValue:function(e){return{$InfNaN:Number.isNaN(e)?0:e===1/0?1:-1}},fromJSONValue:function(e){return e.$InfNaN/0}},{matchJSONValue:function(e){return(0,i.hasOwn)(e,"$binary")&&1===(0,i.lengthOf)(e)},matchObject:function(e){return"undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&(0,i.hasOwn)(e,"$Uint8ArrayPolyfill")},toJSONValue:function(e){return{$binary:t.encode(e)}},fromJSONValue:function(e){return t.decode(e.$binary)}},{matchJSONValue:function(e){return(0,i.hasOwn)(e,"$escape")&&1===(0,i.lengthOf)(e)},matchObject:function(e){var t=!1;if(e){var a=(0,i.lengthOf)(e);1!==a&&2!==a||(t=l.some((function(t){return t.matchJSONValue(e)})))}return t},toJSONValue:function(e){var t={};return(0,i.keysOf)(e).forEach((function(a){t[a]=r.toJSONValue(e[a])})),{$escape:t}},fromJSONValue:function(e){var t={};return(0,i.keysOf)(e.$escape).forEach((function(a){t[a]=r.fromJSONValue(e.$escape[a])})),t}},{matchJSONValue:function(e){return(0,i.hasOwn)(e,"$type")&&(0,i.hasOwn)(e,"$value")&&2===(0,i.lengthOf)(e)},matchObject:function(e){return r._isCustomType(e)},toJSONValue:function(e){var t=a._noYieldsAllowed((function(){return e.toJSONValue()}));return{$type:e.typeName(),$value:t}},fromJSONValue:function(e){var t=e.$type;if(!s.has(t))throw new Error("Custom EJSON type ".concat(t," is not defined"));var n=s.get(t);return a._noYieldsAllowed((function(){return n(e.$value)}))}}];r._isCustomType=function(e){return e&&(0,i.isFunction)(e.toJSONValue)&&(0,i.isFunction)(e.typeName)&&s.has(e.typeName())},r._getTypes=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?s:(0,i.convertMapToObject)(s)},r._getConverters=function(){return l};var c=function(e){for(var t=0;t<l.length;t++){var a=l[t];if(a.matchObject(e))return a.toJSONValue(e)}},d=function e(t){if(null===t)return null;var a=c(t);return void 0!==a?a:(0,i.isObject)(t)?((0,i.keysOf)(t).forEach((function(a){var n=t[a];if((0,i.isObject)(n)||void 0===n||(0,i.isInfOrNaN)(n)){var o=c(n);o?t[a]=o:e(n)}})),t):t};r._adjustTypesToJSONValue=d,r.toJSONValue=function(e){var t=c(e);if(void 0!==t)return t;var a=e;return(0,i.isObject)(e)&&(a=r.clone(e),d(a)),a};var u=function(e){if((0,i.isObject)(e)&&null!==e){var t=(0,i.keysOf)(e);if(t.length<=2&&t.every((function(e){return"string"==typeof e&&"$"===e.substr(0,1)})))for(var a=0;a<l.length;a++){var n=l[a];if(n.matchJSONValue(e))return n.fromJSONValue(e)}}return e},p=function e(t){if(null===t)return null;var a=u(t);return a!==t?a:(0,i.isObject)(t)?((0,i.keysOf)(t).forEach((function(a){var n=t[a];if((0,i.isObject)(n)){var o=u(n);if(n!==o)return void(t[a]=o);e(n)}})),t):t};r._adjustTypesFromJSONValue=p,r.fromJSONValue=function(e){var t=u(e);return t===e&&(0,i.isObject)(e)&&(t=r.clone(e),p(t)),t},r.stringify=(0,i.handleError)((function(e,t){var a=r.toJSONValue(e);return t&&(t.canonical||t.indent)?n(4)(a,t):JSON.stringify(a)})),r.parse=function(e){if("string"!=typeof e)throw new Error("EJSON.parse argument should be a string");return r.fromJSONValue(JSON.parse(e))},r.isBinary=function(e){return!!("undefined"!=typeof Uint8Array&&e instanceof Uint8Array||e&&e.$Uint8ArrayPolyfill)},r.equals=function(e,t,a){var n,o=!(!a||!a.keyOrderSensitive);if(e===t)return!0;if(Number.isNaN(e)&&Number.isNaN(t))return!0;if(!e||!t)return!1;if(!(0,i.isObject)(e)||!(0,i.isObject)(t))return!1;if(e instanceof Date&&t instanceof Date)return e.valueOf()===t.valueOf();if(r.isBinary(e)&&r.isBinary(t)){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}if((0,i.isFunction)(e.equals))return e.equals(t,a);if((0,i.isFunction)(t.equals))return t.equals(e,a);var s,l=Array.isArray(e),c=Array.isArray(t);if(l!==c)return!1;if(l&&c){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(!r.equals(e[n],t[n],a))return!1;return!0}switch(r._isCustomType(e)+r._isCustomType(t)){case 1:return!1;case 2:return r.equals(r.toJSONValue(e),r.toJSONValue(t))}var d=(0,i.keysOf)(e),u=(0,i.keysOf)(t);return o?(n=0,s=d.every((function(o){return!(n>=u.length||o!==u[n]||!r.equals(e[o],t[u[n]],a)||(n++,0))}))):(n=0,s=d.every((function(o){return!!(0,i.hasOwn)(t,o)&&!!r.equals(e[o],t[o],a)&&(n++,!0)}))),s&&n===u.length},r.clone=function(e){var t;if(!(0,i.isObject)(e))return e;if(null===e)return null;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return e;if(r.isBinary(e)){t=r.newBinary(e.length);for(var a=0;a<e.length;a++)t[a]=e[a];return t}return Array.isArray(e)?e.map(r.clone):(0,i.isArguments)(e)?Array.from(e).map(r.clone):(0,i.isFunction)(e.clone)?e.clone():r._isCustomType(e)?r.fromJSONValue(r.clone(r.toJSONValue(e)),!0):(t={},(0,i.keysOf)(e).forEach((function(a){t[a]=r.clone(e[a])})),t)},r.newBinary=t.newBinary}(),e.exports=o.EJSON}()},6729:e=>{"use strict";var t=Object.prototype.hasOwnProperty,a="~";function n(){}function o(e,t,a){this.fn=e,this.context=t,this.once=a||!1}function i(e,t,n,i,r){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,i||e,r),l=a?a+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function r(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(a=!1)),s.prototype.eventNames=function(){var e,n,o=[];if(0===this._eventsCount)return o;for(n in e=this._events)t.call(e,n)&&o.push(a?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e){var t=a?a+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,i=n.length,r=new Array(i);o<i;o++)r[o]=n[o].fn;return r},s.prototype.listenerCount=function(e){var t=a?a+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,o,i,r){var s=a?a+e:e;if(!this._events[s])return!1;var l,c,d=this._events[s],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,o),!0;case 5:return d.fn.call(d.context,t,n,o,i),!0;case 6:return d.fn.call(d.context,t,n,o,i,r),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var p,m=d.length;for(c=0;c<m;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,n);break;case 4:d[c].fn.call(d[c].context,t,n,o);break;default:if(!l)for(p=1,l=new Array(u-1);p<u;p++)l[p-1]=arguments[p];d[c].fn.apply(d[c].context,l)}}return!0},s.prototype.on=function(e,t,a){return i(this,e,t,a,!1)},s.prototype.once=function(e,t,a){return i(this,e,t,a,!0)},s.prototype.removeListener=function(e,t,n,o){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return r(this,i),this;var s=this._events[i];if(s.fn)s.fn!==t||o&&!s.once||n&&s.context!==n||r(this,i);else{for(var l=0,c=[],d=s.length;l<d;l++)(s[l].fn!==t||o&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[i]=1===c.length?c[0]:c:r(this,i)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&r(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=a,s.EventEmitter=s,e.exports=s},4063:e=>{"use strict";e.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var n,o,i;if(Array.isArray(t)){if((n=t.length)!=a.length)return!1;for(o=n;0!=o--;)if(!e(t[o],a[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(a,i[o]))return!1;for(o=n;0!=o--;){var r=i[o];if(!e(t[r],a[r]))return!1}return!0}return t!=t&&a!=a}},6560:e=>{"use strict";e.exports=(e,t=process.argv)=>{const a=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(a+e),o=t.indexOf("--");return-1!==n&&(-1===o||n<o)}},9146:function(e,t,a){"use strict";var n=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(o,i){function r(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(r,s)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(a(1808)),r=o(a(4404)),s=o(a(7310)),l=o(a(9491)),c=o(a(5158)),d=a(8054),u=o(a(9829)),p=c.default("https-proxy-agent:agent");class m extends d.Agent{constructor(e){let t;if(t="string"==typeof e?s.default.parse(e):e,!t)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");p("creating new HttpsProxyAgent instance: %o",t),super(t);const a=Object.assign({},t);var n;this.secureProxy=t.secureProxy||"string"==typeof(n=a.protocol)&&/^https:?$/i.test(n),a.host=a.hostname||a.host,"string"==typeof a.port&&(a.port=parseInt(a.port,10)),!a.port&&a.host&&(a.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in a)&&(a.ALPNProtocols=["http 1.1"]),a.host&&a.path&&(delete a.path,delete a.pathname),this.proxy=a}callback(e,t){return n(this,void 0,void 0,(function*(){const{proxy:a,secureProxy:n}=this;let o;n?(p("Creating `tls.Socket`: %o",a),o=r.default.connect(a)):(p("Creating `net.Socket`: %o",a),o=i.default.connect(a));const s=Object.assign({},a.headers);let c=`CONNECT ${t.host}:${t.port} HTTP/1.1\r\n`;a.auth&&(s["Proxy-Authorization"]=`Basic ${Buffer.from(a.auth).toString("base64")}`);let{host:d,port:m,secureEndpoint:_}=t;(function(e,t){return Boolean(!t&&80===e||t&&443===e)})(m,_)||(d+=`:${m}`),s.Host=d,s.Connection="close";for(const e of Object.keys(s))c+=`${e}: ${s[e]}\r\n`;const f=u.default(o);o.write(`${c}\r\n`);const{statusCode:g,buffered:b}=yield f;if(200===g){if(e.once("socket",h),t.secureEndpoint){p("Upgrading socket connection to TLS");const e=t.servername||t.host;return r.default.connect(Object.assign(Object.assign({},function(e,...t){const a={};let n;for(n in e)t.includes(n)||(a[n]=e[n]);return a}(t,"host","hostname","path","port")),{socket:o,servername:e}))}return o}o.destroy();const y=new i.default.Socket({writable:!1});return y.readable=!0,e.once("socket",(e=>{p("replaying proxy buffer for failed request"),l.default(e.listenerCount("data")>0),e.push(b),e.push(null)})),y}))}}function h(e){e.resume()}t.default=m},6018:function(e,t,a){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(a(9146));function o(e){return new n.default(e)}!function(e){e.HttpsProxyAgent=n.default,e.prototype=n.default.prototype}(o||(o={})),e.exports=o},9829:function(e,t,a){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(a(5158)).default("https-proxy-agent:parse-proxy-response");t.default=function(e){return new Promise(((t,a)=>{let n=0;const i=[];function r(){const a=e.read();a?function(e){i.push(e),n+=e.length;const a=Buffer.concat(i,n);if(-1===a.indexOf("\r\n\r\n"))return o("have not received end of HTTP headers yet..."),void r();const s=a.toString("ascii",0,a.indexOf("\r\n")),l=+s.split(" ")[1];o("got proxy server response: %o",s),t({statusCode:l,buffered:a})}(a):e.once("readable",r)}function s(e){o("onclose had error %o",e)}function l(){o("onend")}e.on("error",(function t(n){e.removeListener("end",l),e.removeListener("error",t),e.removeListener("close",s),e.removeListener("readable",r),o("onerror %o",n),a(n)})),e.on("close",s),e.on("end",l),r()}))}},7612:function(e,t,a){var n,o;!function(i,r){const s=t;!function(e){const t=Symbol("newer"),a=Symbol("older");function n(e,t){"number"!=typeof e&&(t=e,e=0),this.size=0,this.limit=e,this.oldest=this.newest=void 0,this._keymap=new Map,t&&(this.assign(t),e<1&&(this.limit=this.size))}function o(e,n){this.key=e,this.value=n,this[t]=void 0,this[a]=void 0}function i(e){this.entry=e}function r(e){this.entry=e}function s(e){this.entry=e}e.LRUMap=n,n.prototype._markEntryAsUsed=function(e){e!==this.newest&&(e[t]&&(e===this.oldest&&(this.oldest=e[t]),e[t][a]=e[a]),e[a]&&(e[a][t]=e[t]),e[t]=void 0,e[a]=this.newest,this.newest&&(this.newest[t]=e),this.newest=e)},n.prototype.assign=function(e){let n,i=this.limit||Number.MAX_VALUE;this._keymap.clear();let r=e[Symbol.iterator]();for(let e=r.next();!e.done;e=r.next()){let r=new o(e.value[0],e.value[1]);if(this._keymap.set(r.key,r),n?(n[t]=r,r[a]=n):this.oldest=r,n=r,0==i--)throw new Error("overflow")}this.newest=n,this.size=this._keymap.size},n.prototype.get=function(e){var t=this._keymap.get(e);if(t)return this._markEntryAsUsed(t),t.value},n.prototype.set=function(e,n){var i=this._keymap.get(e);return i?(i.value=n,this._markEntryAsUsed(i),this):(this._keymap.set(e,i=new o(e,n)),this.newest?(this.newest[t]=i,i[a]=this.newest):this.oldest=i,this.newest=i,++this.size,this.size>this.limit&&this.shift(),this)},n.prototype.shift=function(){var e=this.oldest;if(e)return this.oldest[t]?(this.oldest=this.oldest[t],this.oldest[a]=void 0):(this.oldest=void 0,this.newest=void 0),e[t]=e[a]=void 0,this._keymap.delete(e.key),--this.size,[e.key,e.value]},n.prototype.find=function(e){let t=this._keymap.get(e);return t?t.value:void 0},n.prototype.has=function(e){return this._keymap.has(e)},n.prototype.delete=function(e){var n=this._keymap.get(e);if(n)return this._keymap.delete(n.key),n[t]&&n[a]?(n[a][t]=n[t],n[t][a]=n[a]):n[t]?(n[t][a]=void 0,this.oldest=n[t]):n[a]?(n[a][t]=void 0,this.newest=n[a]):this.oldest=this.newest=void 0,this.size--,n.value},n.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()},i.prototype[Symbol.iterator]=function(){return this},i.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:[e.key,e.value]}):{done:!0,value:void 0}},r.prototype[Symbol.iterator]=function(){return this},r.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:e.key}):{done:!0,value:void 0}},s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:e.value}):{done:!0,value:void 0}},n.prototype.keys=function(){return new r(this.oldest)},n.prototype.values=function(){return new s(this.oldest)},n.prototype.entries=function(){return this},n.prototype[Symbol.iterator]=function(){return new i(this.oldest)},n.prototype.forEach=function(e,a){"object"!=typeof a&&(a=this);let n=this.oldest;for(;n;)e.call(a,n.value,n.key,this),n=n[t]},n.prototype.toJSON=function(){for(var e=new Array(this.size),a=0,n=this.oldest;n;)e[a++]={key:n.key,value:n.value},n=n[t];return e},n.prototype.toString=function(){for(var e="",a=this.oldest;a;)e+=String(a.key)+":"+a.value,(a=a[t])&&(e+=" < ");return e}}(s),void 0===(o="function"==typeof(n=s)?n.call(t,a,t,e):n)||(e.exports=o)}()},4341:e=>{"use strict";const t=(e,t,n,o)=>{if("length"===n||"prototype"===n)return;if("arguments"===n||"caller"===n)return;const i=Object.getOwnPropertyDescriptor(e,n),r=Object.getOwnPropertyDescriptor(t,n);!a(i,r)&&o||Object.defineProperty(e,n,r)},a=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},n=(e,t)=>`/* Wrapped ${e}*/\n${t}`,o=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),i=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");e.exports=(e,a,{ignoreNonConfigurable:r=!1}={})=>{const{name:s}=e;for(const n of Reflect.ownKeys(a))t(e,a,n,r);return((e,t)=>{const a=Object.getPrototypeOf(t);a!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,a)})(e,a),((e,t,a)=>{const r=""===a?"":`with ${a.trim()}() `,s=n.bind(null,r,t.toString());Object.defineProperty(s,"name",i),Object.defineProperty(e,"toString",{...o,value:s})})(e,a,s),e}},7824:e=>{var t=1e3,a=60*t,n=60*a,o=24*n;function i(e,t,a,n){var o=t>=1.5*a;return Math.round(e/a)+" "+n+(o?"s":"")}e.exports=function(e,r){r=r||{};var s,l,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var r=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return r*o;case"hours":case"hour":case"hrs":case"hr":case"h":return r*n;case"minutes":case"minute":case"mins":case"min":case"m":return r*a;case"seconds":case"second":case"secs":case"sec":case"s":return r*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===c&&isFinite(e))return r.long?(s=e,(l=Math.abs(s))>=o?i(s,l,o,"day"):l>=n?i(s,l,n,"hour"):l>=a?i(s,l,a,"minute"):l>=t?i(s,l,t,"second"):s+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=n?Math.round(e/n)+"h":i>=a?Math.round(e/a)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},3414:(e,t,a)=>{if(!globalThis.DOMException)try{const{MessageChannel:e}=a(1267),t=(new e).port1,n=new ArrayBuffer;t.postMessage(n,[n,n])}catch(e){"DOMException"===e.constructor.name&&(globalThis.DOMException=e.constructor)}e.exports=globalThis.DOMException},7345:e=>{"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then((e=>new Promise((e=>{e(t())})).then((()=>e))),(e=>new Promise((e=>{e(t())})).then((()=>{throw e})))))},5860:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(6729),o=a(6512),i=a(6506),r=()=>{},s=new o.TimeoutError;t.default=class extends n{constructor(e){var t,a,n,o;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=r,this._resolveIdle=r,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:i.default},e)).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(a=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==a?a:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(o=null===(n=e.interval)||void 0===n?void 0:n.toString())&&void 0!==o?o:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=r,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=r,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((()=>{this._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise(((a,n)=>{this._queue.enqueue((async()=>{this._pendingCount++,this._intervalCount++;try{const i=void 0===this._timeout&&void 0===t.timeout?e():o.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,(()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&n(s)}));a(await i)}catch(e){n(e)}this._next()}),t),this._tryToStartAnother(),this.emit("add")}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise((e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}}))}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise((e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}}))}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}},7489:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){let n=0,o=e.length;for(;o>0;){const i=o/2|0;let r=n+i;a(e[r],t)<=0?(n=++r,o-=i+1):o=i}return n}},6506:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(7489);t.default=class{constructor(){this._queue=[]}enqueue(e,t){const a={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(a);const o=n.default(this._queue,a,((e,t)=>t.priority-e.priority));this._queue.splice(o,0,a)}dequeue(){const e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this._queue.length}}},6512:(e,t,a)=>{"use strict";const n=a(7345);class o extends Error{constructor(e){super(e),this.name="TimeoutError"}}const i=(e,t,a)=>new Promise(((i,r)=>{if("number"!=typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void i(e);const s=setTimeout((()=>{if("function"==typeof a){try{i(a())}catch(e){r(e)}return}const n=a instanceof Error?a:new o("string"==typeof a?a:`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),r(n)}),t);n(e.then(i,r),(()=>{clearTimeout(s)}))}));e.exports=i,e.exports.default=i,e.exports.TimeoutError=o},2130:(e,t,a)=>{"use strict";const n=a(2037),o=a(6224),i=a(6560),{env:r}=process;let s;function l(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function c(e,t){if(0===s)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!t&&void 0===s)return 0;const a=s||0;if("dumb"===r.TERM)return a;if("win32"===process.platform){const e=n.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in r)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((e=>e in r))||"codeship"===r.CI_NAME?1:a;if("TEAMCITY_VERSION"in r)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(r.TEAMCITY_VERSION)?1:0;if("truecolor"===r.COLORTERM)return 3;if("TERM_PROGRAM"in r){const e=parseInt((r.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(r.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(r.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(r.TERM)||"COLORTERM"in r?1:a}i("no-color")||i("no-colors")||i("color=false")||i("color=never")?s=0:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(s=1),"FORCE_COLOR"in r&&(s="true"===r.FORCE_COLOR?1:"false"===r.FORCE_COLOR?0:0===r.FORCE_COLOR.length?1:Math.min(parseInt(r.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return l(c(e,e&&e.isTTY))},stdout:l(c(!0,o.isatty(1))),stderr:l(c(!0,o.isatty(2)))}},2660:function(e,t){var a;a=function(e){"use strict";const t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function a(){}const n="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0;function o(e){return"object"==typeof e&&null!==e||"function"==typeof e}const i=a,r=Promise,s=Promise.prototype.then,l=Promise.resolve.bind(r),c=Promise.reject.bind(r);function d(e){return new r(e)}function u(e){return l(e)}function p(e){return c(e)}function m(e,t,a){return s.call(e,t,a)}function h(e,t,a){m(m(e,t,a),void 0,i)}function _(e,t){h(e,t)}function f(e,t){h(e,void 0,t)}function g(e,t,a){return m(e,t,a)}function b(e){m(e,void 0,i)}const y=(()=>{const e=n&&n.queueMicrotask;if("function"==typeof e)return e;const t=u(void 0);return e=>m(t,e)})();function v(e,t,a){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,a)}function w(e,t,a){try{return u(v(e,t,a))}catch(e){return p(e)}}class S{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const t=this._back;let a=t;16383===t._elements.length&&(a={_elements:[],_next:void 0}),t._elements.push(e),a!==t&&(this._back=a,t._next=a),++this._size}shift(){const e=this._front;let t=e;const a=this._cursor;let n=a+1;const o=e._elements,i=o[a];return 16384===n&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),o[a]=void 0,i}forEach(e){let t=this._cursor,a=this._front,n=a._elements;for(;!(t===n.length&&void 0===a._next||t===n.length&&(a=a._next,n=a._elements,t=0,0===n.length));)e(n[t]),++t}peek(){const e=this._front,t=this._cursor;return e._elements[t]}}function A(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?I(e):"closed"===t._state?function(e){I(e),O(e)}(e):P(e,t._storedError)}function k(e,t){return va(e._ownerReadableStream,t)}function E(e){"readable"===e._ownerReadableStream._state?T(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){P(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}(e),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function x(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function I(e){e._closedPromise=d(((t,a)=>{e._closedPromise_resolve=t,e._closedPromise_reject=a}))}function P(e,t){I(e),T(e,t)}function T(e,t){void 0!==e._closedPromise_reject&&(b(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function O(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const C=t("[[AbortSteps]]"),N=t("[[ErrorSteps]]"),R=t("[[CancelSteps]]"),D=t("[[PullSteps]]"),G=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},U=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function M(e,t){if(void 0!==e&&"object"!=typeof(a=e)&&"function"!=typeof a)throw new TypeError(`${t} is not an object.`);var a}function B(e,t){if("function"!=typeof e)throw new TypeError(`${t} is not a function.`)}function L(e,t){if(!function(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError(`${t} is not an object.`)}function z(e,t,a){if(void 0===e)throw new TypeError(`Parameter ${t} is required in '${a}'.`)}function F(e,t,a){if(void 0===e)throw new TypeError(`${t} is required in '${a}'.`)}function V(e){return Number(e)}function $(e){return 0===e?0:e}function j(e,t){const a=Number.MAX_SAFE_INTEGER;let n=Number(e);if(n=$(n),!G(n))throw new TypeError(`${t} is not a finite number`);if(n=function(e){return $(U(e))}(n),n<0||n>a)throw new TypeError(`${t} is outside the accepted range of 0 to ${a}, inclusive`);return G(n)&&0!==n?n:0}function W(e,t){if(!ba(e))throw new TypeError(`${t} is not a ReadableStream.`)}function Y(e){return new K(e)}function H(e,t){e._reader._readRequests.push(t)}function q(e,t,a){const n=e._reader._readRequests.shift();a?n._closeSteps():n._chunkSteps(t)}function Z(e){return e._reader._readRequests.length}function J(e){const t=e._reader;return void 0!==t&&!!Q(t)}class K{constructor(e){if(z(e,1,"ReadableStreamDefaultReader"),W(e,"First parameter"),ya(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");A(this,e),this._readRequests=new S}get closed(){return Q(this)?this._closedPromise:p(ee("closed"))}cancel(e){return Q(this)?void 0===this._ownerReadableStream?p(x("cancel")):k(this,e):p(ee("cancel"))}read(){if(!Q(this))return p(ee("read"));if(void 0===this._ownerReadableStream)return p(x("read from"));let e,t;const a=d(((a,n)=>{e=a,t=n}));return X(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),a}releaseLock(){if(!Q(this))throw ee("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");E(this)}}}function Q(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof K}function X(e,t){const a=e._ownerReadableStream;a._disturbed=!0,"closed"===a._state?t._closeSteps():"errored"===a._state?t._errorSteps(a._storedError):a._readableStreamController[D](t)}function ee(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(K.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(K.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});const te=Object.getPrototypeOf(Object.getPrototypeOf((async function*(){})).prototype);class ae{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?g(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const t=()=>this._returnSteps(e);return this._ongoingPromise?g(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;if(void 0===e._ownerReadableStream)return p(x("iterate"));let t,a;const n=d(((e,n)=>{t=e,a=n}));return X(e,{_chunkSteps:e=>{this._ongoingPromise=void 0,y((()=>t({value:e,done:!1})))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,E(e),t({value:void 0,done:!0})},_errorSteps:t=>{this._ongoingPromise=void 0,this._isFinished=!0,E(e),a(t)}}),n}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const t=this._reader;if(void 0===t._ownerReadableStream)return p(x("finish iterating"));if(!this._preventCancel){const a=k(t,e);return E(t),g(a,(()=>({value:e,done:!0})))}return E(t),u({value:e,done:!0})}}const ne={next(){return oe(this)?this._asyncIteratorImpl.next():p(ie("next"))},return(e){return oe(this)?this._asyncIteratorImpl.return(e):p(ie("return"))}};function oe(e){if(!o(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof ae}catch(e){return!1}}function ie(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}void 0!==te&&Object.setPrototypeOf(ne,te);const re=Number.isNaN||function(e){return e!=e};function se(e){return e.slice()}function le(e,t,a,n,o){new Uint8Array(e).set(new Uint8Array(a,n,o),t)}function ce(e,t,a){if(e.slice)return e.slice(t,a);const n=a-t,o=new ArrayBuffer(n);return le(o,0,e,t,n),o}function de(e){const t=ce(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function ue(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function pe(e,t,a){if("number"!=typeof(n=a)||re(n)||n<0||a===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var n;e._queue.push({value:t,size:a}),e._queueTotalSize+=a}function me(e){e._queue=new S,e._queueTotalSize=0}class he{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!ge(this))throw Le("view");return this._view}respond(e){if(!ge(this))throw Le("respond");if(z(e,1,"respond"),e=j(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,Ue(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!ge(this))throw Le("respondWithNewView");if(z(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");e.buffer,Me(this._associatedReadableByteStreamController,e)}}Object.defineProperties(he.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(he.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class _e{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!fe(this))throw ze("byobRequest");return De(this)}get desiredSize(){if(!fe(this))throw ze("desiredSize");return Ge(this)}close(){if(!fe(this))throw ze("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);Ce(this)}enqueue(e){if(!fe(this))throw ze("enqueue");if(z(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);Ne(this,e)}error(e){if(!fe(this))throw ze("error");Re(this,e)}[R](e){ye(this),me(this);const t=this._cancelAlgorithm(e);return Oe(this),t}[D](e){const t=this._controlledReadableByteStream;if(this._queueTotalSize>0){const t=this._queue.shift();this._queueTotalSize-=t.byteLength,Ee(this);const a=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return void e._chunkSteps(a)}const a=this._autoAllocateChunkSize;if(void 0!==a){let t;try{t=new ArrayBuffer(a)}catch(t){return void e._errorSteps(t)}const n={buffer:t,bufferByteLength:a,byteOffset:0,byteLength:a,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(n)}H(t,e),be(this)}}function fe(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof _e}function ge(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof he}function be(e){const t=function(e){const t=e._controlledReadableByteStream;if("readable"!==t._state)return!1;if(e._closeRequested)return!1;if(!e._started)return!1;if(J(t)&&Z(t)>0)return!0;if(je(t)&&$e(t)>0)return!0;return Ge(e)>0}(e);t&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,h(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,be(e))}),(t=>{Re(e,t)}))))}function ye(e){xe(e),e._pendingPullIntos=new S}function ve(e,t){let a=!1;"closed"===e._state&&(a=!0);const n=we(t);"default"===t.readerType?q(e,n,a):function(e,t,a){const n=e._reader._readIntoRequests.shift();a?n._closeSteps(t):n._chunkSteps(t)}(e,n,a)}function we(e){const t=e.bytesFilled,a=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/a)}function Se(e,t,a,n){e._queue.push({buffer:t,byteOffset:a,byteLength:n}),e._queueTotalSize+=n}function Ae(e,t){const a=t.elementSize,n=t.bytesFilled-t.bytesFilled%a,o=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),i=t.bytesFilled+o,r=i-i%a;let s=o,l=!1;r>n&&(s=r-t.bytesFilled,l=!0);const c=e._queue;for(;s>0;){const a=c.peek(),n=Math.min(s,a.byteLength),o=t.byteOffset+t.bytesFilled;le(t.buffer,o,a.buffer,a.byteOffset,n),a.byteLength===n?c.shift():(a.byteOffset+=n,a.byteLength-=n),e._queueTotalSize-=n,ke(0,n,t),s-=n}return l}function ke(e,t,a){a.bytesFilled+=t}function Ee(e){0===e._queueTotalSize&&e._closeRequested?(Oe(e),wa(e._controlledReadableByteStream)):be(e)}function xe(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Ie(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const t=e._pendingPullIntos.peek();Ae(e,t)&&(Te(e),ve(e._controlledReadableByteStream,t))}}function Pe(e,t){const a=e._pendingPullIntos.peek();xe(e),"closed"===e._controlledReadableByteStream._state?function(e,t){const a=e._controlledReadableByteStream;if(je(a))for(;$e(a)>0;)ve(a,Te(e))}(e):function(e,t,a){if(ke(0,t,a),a.bytesFilled<a.elementSize)return;Te(e);const n=a.bytesFilled%a.elementSize;if(n>0){const t=a.byteOffset+a.bytesFilled,o=ce(a.buffer,t-n,t);Se(e,o,0,o.byteLength)}a.bytesFilled-=n,ve(e._controlledReadableByteStream,a),Ie(e)}(e,t,a),be(e)}function Te(e){return e._pendingPullIntos.shift()}function Oe(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Ce(e){const t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Re(e,t),t}Oe(e),wa(t)}}function Ne(e,t){const a=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==a._state)return;const n=t.buffer,o=t.byteOffset,i=t.byteLength,r=n;if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();t.buffer,t.buffer=t.buffer}xe(e),J(a)?0===Z(a)?Se(e,r,o,i):(e._pendingPullIntos.length>0&&Te(e),q(a,new Uint8Array(r,o,i),!1)):je(a)?(Se(e,r,o,i),Ie(e)):Se(e,r,o,i),be(e)}function Re(e,t){const a=e._controlledReadableByteStream;"readable"===a._state&&(ye(e),me(e),Oe(e),Sa(a,t))}function De(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek(),a=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(he.prototype);!function(e,t,a){e._associatedReadableByteStreamController=t,e._view=a}(n,e,a),e._byobRequest=n}return e._byobRequest}function Ge(e){const t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Ue(e,t){const a=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(a.bytesFilled+t>a.byteLength)throw new RangeError("bytesWritten out of range")}a.buffer=a.buffer,Pe(e,t)}function Me(e,t){const a=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(a.byteOffset+a.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(a.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(a.bytesFilled+t.byteLength>a.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const n=t.byteLength;a.buffer=t.buffer,Pe(e,n)}function Be(e,t,a,n,o,i,r){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,me(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=o,t._autoAllocateChunkSize=r,t._pendingPullIntos=new S,e._readableStreamController=t,h(u(a()),(()=>{t._started=!0,be(t)}),(e=>{Re(t,e)}))}function Le(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function ze(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Fe(e){return new We(e)}function Ve(e,t){e._reader._readIntoRequests.push(t)}function $e(e){return e._reader._readIntoRequests.length}function je(e){const t=e._reader;return void 0!==t&&!!Ye(t)}Object.defineProperties(_e.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(_e.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class We{constructor(e){if(z(e,1,"ReadableStreamBYOBReader"),W(e,"First parameter"),ya(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!fe(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");A(this,e),this._readIntoRequests=new S}get closed(){return Ye(this)?this._closedPromise:p(qe("closed"))}cancel(e){return Ye(this)?void 0===this._ownerReadableStream?p(x("cancel")):k(this,e):p(qe("cancel"))}read(e){if(!Ye(this))return p(qe("read"));if(!ArrayBuffer.isView(e))return p(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return p(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return p(new TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,void 0===this._ownerReadableStream)return p(x("read from"));let t,a;const n=d(((e,n)=>{t=e,a=n}));return He(this,e,{_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:e=>t({value:e,done:!0}),_errorSteps:e=>a(e)}),n}releaseLock(){if(!Ye(this))throw qe("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");E(this)}}}function Ye(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof We}function He(e,t,a){const n=e._ownerReadableStream;n._disturbed=!0,"errored"===n._state?a._errorSteps(n._storedError):function(e,t,a){const n=e._controlledReadableByteStream;let o=1;t.constructor!==DataView&&(o=t.constructor.BYTES_PER_ELEMENT);const i=t.constructor,r=t.buffer,s={buffer:r,bufferByteLength:r.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:o,viewConstructor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(s),void Ve(n,a);if("closed"!==n._state){if(e._queueTotalSize>0){if(Ae(e,s)){const t=we(s);return Ee(e),void a._chunkSteps(t)}if(e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");return Re(e,t),void a._errorSteps(t)}}e._pendingPullIntos.push(s),Ve(n,a),be(e)}else{const e=new i(s.buffer,s.byteOffset,0);a._closeSteps(e)}}(n._readableStreamController,t,a)}function qe(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Ze(e,t){const{highWaterMark:a}=e;if(void 0===a)return t;if(re(a)||a<0)throw new RangeError("Invalid highWaterMark");return a}function Je(e){const{size:t}=e;return t||(()=>1)}function Ke(e,t){M(e,t);const a=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===a?void 0:V(a),size:void 0===n?void 0:Qe(n,`${t} has member 'size' that`)}}function Qe(e,t){return B(e,t),t=>V(e(t))}function Xe(e,t,a){return B(e,a),a=>w(e,t,[a])}function et(e,t,a){return B(e,a),()=>w(e,t,[])}function tt(e,t,a){return B(e,a),a=>v(e,t,[a])}function at(e,t,a){return B(e,a),(a,n)=>w(e,t,[a,n])}function nt(e,t){if(!lt(e))throw new TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(We.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(We.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});const ot="function"==typeof AbortController;class it{constructor(e={},t={}){void 0===e?e=null:L(e,"First parameter");const a=Ke(t,"Second parameter"),n=function(e,t){M(e,t);const a=null==e?void 0:e.abort,n=null==e?void 0:e.close,o=null==e?void 0:e.start,i=null==e?void 0:e.type,r=null==e?void 0:e.write;return{abort:void 0===a?void 0:Xe(a,e,`${t} has member 'abort' that`),close:void 0===n?void 0:et(n,e,`${t} has member 'close' that`),start:void 0===o?void 0:tt(o,e,`${t} has member 'start' that`),write:void 0===r?void 0:at(r,e,`${t} has member 'write' that`),type:i}}(e,"First parameter");if(st(this),void 0!==n.type)throw new RangeError("Invalid type is specified");const o=Je(a);!function(e,t,a,n){const o=Object.create(Et.prototype);let i=()=>{},r=()=>u(void 0),s=()=>u(void 0),l=()=>u(void 0);void 0!==t.start&&(i=()=>t.start(o)),void 0!==t.write&&(r=e=>t.write(e,o)),void 0!==t.close&&(s=()=>t.close()),void 0!==t.abort&&(l=e=>t.abort(e)),It(e,o,i,r,s,l,a,n)}(this,n,Ze(a,1),o)}get locked(){if(!lt(this))throw Dt("locked");return ct(this)}abort(e){return lt(this)?ct(this)?p(new TypeError("Cannot abort a stream that already has a writer")):dt(this,e):p(Dt("abort"))}close(){return lt(this)?ct(this)?p(new TypeError("Cannot close a stream that already has a writer")):_t(this)?p(new TypeError("Cannot close an already-closing stream")):ut(this):p(Dt("close"))}getWriter(){if(!lt(this))throw Dt("getWriter");return rt(this)}}function rt(e){return new bt(e)}function st(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new S,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function lt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof it}function ct(e){return void 0!==e._writer}function dt(e,t){var a;if("closed"===e._state||"errored"===e._state)return u(void 0);e._writableStreamController._abortReason=t,null===(a=e._writableStreamController._abortController)||void 0===a||a.abort();const n=e._state;if("closed"===n||"errored"===n)return u(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let o=!1;"erroring"===n&&(o=!0,t=void 0);const i=d(((a,n)=>{e._pendingAbortRequest={_promise:void 0,_resolve:a,_reject:n,_reason:t,_wasAlreadyErroring:o}}));return e._pendingAbortRequest._promise=i,o||mt(e,t),i}function ut(e){const t=e._state;if("closed"===t||"errored"===t)return p(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const a=d(((t,a)=>{const n={_resolve:t,_reject:a};e._closeRequest=n})),n=e._writer;var o;return void 0!==n&&e._backpressure&&"writable"===t&&Yt(n),pe(o=e._writableStreamController,kt,0),Ot(o),a}function pt(e,t){"writable"!==e._state?ht(e):mt(e,t)}function mt(e,t){const a=e._writableStreamController;e._state="erroring",e._storedError=t;const n=e._writer;void 0!==n&&wt(n,t),!function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&a._started&&ht(e)}function ht(e){e._state="errored",e._writableStreamController[N]();const t=e._storedError;if(e._writeRequests.forEach((e=>{e._reject(t)})),e._writeRequests=new S,void 0===e._pendingAbortRequest)return void ft(e);const a=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,a._wasAlreadyErroring)return a._reject(t),void ft(e);h(e._writableStreamController[C](a._reason),(()=>{a._resolve(),ft(e)}),(t=>{a._reject(t),ft(e)}))}function _t(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function ft(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;void 0!==t&&zt(t,e._storedError)}function gt(e,t){const a=e._writer;void 0!==a&&t!==e._backpressure&&(t?function(e){Vt(e)}(a):Yt(a)),e._backpressure=t}Object.defineProperties(it.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(it.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});class bt{constructor(e){if(z(e,1,"WritableStreamDefaultWriter"),nt(e,"First parameter"),ct(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const t=e._state;if("writable"===t)!_t(e)&&e._backpressure?Vt(this):jt(this),Bt(this);else if("erroring"===t)$t(this,e._storedError),Bt(this);else if("closed"===t)jt(this),Bt(this),Ft(this);else{const t=e._storedError;$t(this,t),Lt(this,t)}}get closed(){return yt(this)?this._closedPromise:p(Ut("closed"))}get desiredSize(){if(!yt(this))throw Ut("desiredSize");if(void 0===this._ownerWritableStream)throw Mt("desiredSize");return function(e){const t=e._ownerWritableStream,a=t._state;return"errored"===a||"erroring"===a?null:"closed"===a?0:Tt(t._writableStreamController)}(this)}get ready(){return yt(this)?this._readyPromise:p(Ut("ready"))}abort(e){return yt(this)?void 0===this._ownerWritableStream?p(Mt("abort")):function(e,t){return dt(e._ownerWritableStream,t)}(this,e):p(Ut("abort"))}close(){if(!yt(this))return p(Ut("close"));const e=this._ownerWritableStream;return void 0===e?p(Mt("close")):_t(e)?p(new TypeError("Cannot close an already-closing stream")):vt(this)}releaseLock(){if(!yt(this))throw Ut("releaseLock");void 0!==this._ownerWritableStream&&St(this)}write(e){return yt(this)?void 0===this._ownerWritableStream?p(Mt("write to")):At(this,e):p(Ut("write"))}}function yt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof bt}function vt(e){return ut(e._ownerWritableStream)}function wt(e,t){"pending"===e._readyPromiseState?Wt(e,t):function(e,t){$t(e,t)}(e,t)}function St(e){const t=e._ownerWritableStream,a=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");wt(e,a),function(e,t){"pending"===e._closedPromiseState?zt(e,t):function(e,t){Lt(e,t)}(e,t)}(e,a),t._writer=void 0,e._ownerWritableStream=void 0}function At(e,t){const a=e._ownerWritableStream,n=a._writableStreamController,o=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return Ct(e,t),1}}(n,t);if(a!==e._ownerWritableStream)return p(Mt("write to"));const i=a._state;if("errored"===i)return p(a._storedError);if(_t(a)||"closed"===i)return p(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===i)return p(a._storedError);const r=function(e){return d(((t,a)=>{const n={_resolve:t,_reject:a};e._writeRequests.push(n)}))}(a);return function(e,t,a){try{pe(e,t,a)}catch(t){return void Ct(e,t)}const n=e._controlledWritableStream;_t(n)||"writable"!==n._state||gt(n,Nt(e)),Ot(e)}(n,t,o),r}Object.defineProperties(bt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(bt.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const kt={};class Et{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!xt(this))throw Gt("abortReason");return this._abortReason}get signal(){if(!xt(this))throw Gt("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e){if(!xt(this))throw Gt("error");"writable"===this._controlledWritableStream._state&&Rt(this,e)}[C](e){const t=this._abortAlgorithm(e);return Pt(this),t}[N](){me(this)}}function xt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof Et}function It(e,t,a,n,o,i,r,s){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,me(t),t._abortReason=void 0,t._abortController=function(){if(ot)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=s,t._strategyHWM=r,t._writeAlgorithm=n,t._closeAlgorithm=o,t._abortAlgorithm=i;const l=Nt(t);gt(e,l),h(u(a()),(()=>{t._started=!0,Ot(t)}),(a=>{t._started=!0,pt(e,a)}))}function Pt(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Tt(e){return e._strategyHWM-e._queueTotalSize}function Ot(e){const t=e._controlledWritableStream;if(!e._started)return;if(void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void ht(t);if(0===e._queue.length)return;const a=e._queue.peek().value;a===kt?function(e){const t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),ue(e);const a=e._closeAlgorithm();Pt(e),h(a,(()=>{!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const t=e._writer;void 0!==t&&Ft(t)}(t)}),(e=>{!function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),pt(e,t)}(t,e)}))}(e):function(e,t){const a=e._controlledWritableStream;!function(e){e._inFlightWriteRequest=e._writeRequests.shift()}(a);h(e._writeAlgorithm(t),(()=>{!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(a);const t=a._state;if(ue(e),!_t(a)&&"writable"===t){const t=Nt(e);gt(a,t)}Ot(e)}),(t=>{"writable"===a._state&&Pt(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,pt(e,t)}(a,t)}))}(e,a)}function Ct(e,t){"writable"===e._controlledWritableStream._state&&Rt(e,t)}function Nt(e){return Tt(e)<=0}function Rt(e,t){const a=e._controlledWritableStream;Pt(e),mt(a,t)}function Dt(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Gt(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Ut(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Mt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Bt(e){e._closedPromise=d(((t,a)=>{e._closedPromise_resolve=t,e._closedPromise_reject=a,e._closedPromiseState="pending"}))}function Lt(e,t){Bt(e),zt(e,t)}function zt(e,t){void 0!==e._closedPromise_reject&&(b(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Ft(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Vt(e){e._readyPromise=d(((t,a)=>{e._readyPromise_resolve=t,e._readyPromise_reject=a})),e._readyPromiseState="pending"}function $t(e,t){Vt(e),Wt(e,t)}function jt(e){Vt(e),Yt(e)}function Wt(e,t){void 0!==e._readyPromise_reject&&(b(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Yt(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(Et.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Et.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const Ht="undefined"!=typeof DOMException?DOMException:void 0,qt=function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}(Ht)?Ht:function(){const e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function Zt(e,t,n,o,i,r){const s=Y(e),l=rt(t);e._disturbed=!0;let c=!1,g=u(void 0);return d(((y,v)=>{let w;if(void 0!==r){if(w=()=>{const a=new qt("Aborted","AbortError"),n=[];o||n.push((()=>"writable"===t._state?dt(t,a):u(void 0))),i||n.push((()=>"readable"===e._state?va(e,a):u(void 0))),P((()=>Promise.all(n.map((e=>e())))),!0,a)},r.aborted)return void w();r.addEventListener("abort",w)}var S,A,k;if(I(e,s._closedPromise,(e=>{o?T(!0,e):P((()=>dt(t,e)),!0,e)})),I(t,l._closedPromise,(t=>{i?T(!0,t):P((()=>va(e,t)),!0,t)})),S=e,A=s._closedPromise,k=()=>{n?T():P((()=>function(e){const t=e._ownerWritableStream,a=t._state;return _t(t)||"closed"===a?u(void 0):"errored"===a?p(t._storedError):vt(e)}(l)))},"closed"===S._state?k():_(A,k),_t(t)||"closed"===t._state){const t=new TypeError("the destination writable stream closed before all data could be piped to it");i?T(!0,t):P((()=>va(e,t)),!0,t)}function x(){const e=g;return m(g,(()=>e!==g?x():void 0))}function I(e,t,a){"errored"===e._state?a(e._storedError):f(t,a)}function P(e,a,n){function o(){h(e(),(()=>O(a,n)),(e=>O(!0,e)))}c||(c=!0,"writable"!==t._state||_t(t)?o():_(x(),o))}function T(e,a){c||(c=!0,"writable"!==t._state||_t(t)?O(e,a):_(x(),(()=>O(e,a))))}function O(e,t){St(l),E(s),void 0!==r&&r.removeEventListener("abort",w),e?v(t):y(void 0)}b(d(((e,t)=>{!function n(o){o?e():m(c?u(!0):m(l._readyPromise,(()=>d(((e,t)=>{X(s,{_chunkSteps:t=>{g=m(At(l,t),void 0,a),e(!1)},_closeSteps:()=>e(!0),_errorSteps:t})})))),n,t)}(!1)})))}))}class Jt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Kt(this))throw sa("desiredSize");return oa(this)}close(){if(!Kt(this))throw sa("close");if(!ia(this))throw new TypeError("The stream is not in a state that permits close");ta(this)}enqueue(e){if(!Kt(this))throw sa("enqueue");if(!ia(this))throw new TypeError("The stream is not in a state that permits enqueue");return aa(this,e)}error(e){if(!Kt(this))throw sa("error");na(this,e)}[R](e){me(this);const t=this._cancelAlgorithm(e);return ea(this),t}[D](e){const t=this._controlledReadableStream;if(this._queue.length>0){const a=ue(this);this._closeRequested&&0===this._queue.length?(ea(this),wa(t)):Qt(this),e._chunkSteps(a)}else H(t,e),Qt(this)}}function Kt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof Jt}function Qt(e){Xt(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,h(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Qt(e))}),(t=>{na(e,t)}))))}function Xt(e){const t=e._controlledReadableStream;return!!ia(e)&&!!e._started&&(!!(ya(t)&&Z(t)>0)||oa(e)>0)}function ea(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function ta(e){if(!ia(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(ea(e),wa(t))}function aa(e,t){if(!ia(e))return;const a=e._controlledReadableStream;if(ya(a)&&Z(a)>0)q(a,t,!1);else{let a;try{a=e._strategySizeAlgorithm(t)}catch(t){throw na(e,t),t}try{pe(e,t,a)}catch(t){throw na(e,t),t}}Qt(e)}function na(e,t){const a=e._controlledReadableStream;"readable"===a._state&&(me(e),ea(e),Sa(a,t))}function oa(e){const t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function ia(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function ra(e,t,a,n,o,i,r){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,me(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=r,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=o,e._readableStreamController=t,h(u(a()),(()=>{t._started=!0,Qt(t)}),(e=>{na(t,e)}))}function sa(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function la(e,t,a){return B(e,a),a=>w(e,t,[a])}function ca(e,t,a){return B(e,a),a=>w(e,t,[a])}function da(e,t,a){return B(e,a),a=>v(e,t,[a])}function ua(e,t){if("bytes"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function pa(e,t){if("byob"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function ma(e,t){M(e,t);const a=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,o=null==e?void 0:e.preventClose,i=null==e?void 0:e.signal;return void 0!==i&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw new TypeError(`${t} is not an AbortSignal.`)}(i,`${t} has member 'signal' that`),{preventAbort:Boolean(a),preventCancel:Boolean(n),preventClose:Boolean(o),signal:i}}Object.defineProperties(Jt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Jt.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class ha{constructor(e={},t={}){void 0===e?e=null:L(e,"First parameter");const a=Ke(t,"Second parameter"),n=function(e,t){M(e,t);const a=e,n=null==a?void 0:a.autoAllocateChunkSize,o=null==a?void 0:a.cancel,i=null==a?void 0:a.pull,r=null==a?void 0:a.start,s=null==a?void 0:a.type;return{autoAllocateChunkSize:void 0===n?void 0:j(n,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===o?void 0:la(o,a,`${t} has member 'cancel' that`),pull:void 0===i?void 0:ca(i,a,`${t} has member 'pull' that`),start:void 0===r?void 0:da(r,a,`${t} has member 'start' that`),type:void 0===s?void 0:ua(s,`${t} has member 'type' that`)}}(e,"First parameter");if(ga(this),"bytes"===n.type){if(void 0!==a.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,a){const n=Object.create(_e.prototype);let o=()=>{},i=()=>u(void 0),r=()=>u(void 0);void 0!==t.start&&(o=()=>t.start(n)),void 0!==t.pull&&(i=()=>t.pull(n)),void 0!==t.cancel&&(r=e=>t.cancel(e));const s=t.autoAllocateChunkSize;if(0===s)throw new TypeError("autoAllocateChunkSize must be greater than 0");Be(e,n,o,i,r,a,s)}(this,n,Ze(a,0))}else{const e=Je(a);!function(e,t,a,n){const o=Object.create(Jt.prototype);let i=()=>{},r=()=>u(void 0),s=()=>u(void 0);void 0!==t.start&&(i=()=>t.start(o)),void 0!==t.pull&&(r=()=>t.pull(o)),void 0!==t.cancel&&(s=e=>t.cancel(e)),ra(e,o,i,r,s,a,n)}(this,n,Ze(a,1),e)}}get locked(){if(!ba(this))throw Aa("locked");return ya(this)}cancel(e){return ba(this)?ya(this)?p(new TypeError("Cannot cancel a stream that already has a reader")):va(this,e):p(Aa("cancel"))}getReader(e){if(!ba(this))throw Aa("getReader");return void 0===function(e,t){M(e,t);const a=null==e?void 0:e.mode;return{mode:void 0===a?void 0:pa(a,`${t} has member 'mode' that`)}}(e,"First parameter").mode?Y(this):Fe(this)}pipeThrough(e,t={}){if(!ba(this))throw Aa("pipeThrough");z(e,1,"pipeThrough");const a=function(e,t){M(e,t);const a=null==e?void 0:e.readable;F(a,"readable","ReadableWritablePair"),W(a,`${t} has member 'readable' that`);const n=null==e?void 0:e.writable;return F(n,"writable","ReadableWritablePair"),nt(n,`${t} has member 'writable' that`),{readable:a,writable:n}}(e,"First parameter"),n=ma(t,"Second parameter");if(ya(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ct(a.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return b(Zt(this,a.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),a.readable}pipeTo(e,t={}){if(!ba(this))return p(Aa("pipeTo"));if(void 0===e)return p("Parameter 1 is required in 'pipeTo'.");if(!lt(e))return p(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let a;try{a=ma(t,"Second parameter")}catch(e){return p(e)}return ya(this)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ct(e)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Zt(this,e,a.preventClose,a.preventAbort,a.preventCancel,a.signal)}tee(){if(!ba(this))throw Aa("tee");return se(fe((e=this)._readableStreamController)?function(e){let t,a,n,o,i,r=Y(e),s=!1,l=!1,c=!1,p=!1,m=!1;const h=d((e=>{i=e}));function _(e){f(e._closedPromise,(t=>{e===r&&(Re(n._readableStreamController,t),Re(o._readableStreamController,t),p&&m||i(void 0))}))}function g(){Ye(r)&&(E(r),r=Y(e),_(r)),X(r,{_chunkSteps:t=>{y((()=>{l=!1,c=!1;const a=t;let r=t;if(!p&&!m)try{r=de(t)}catch(t){return Re(n._readableStreamController,t),Re(o._readableStreamController,t),void i(va(e,t))}p||Ne(n._readableStreamController,a),m||Ne(o._readableStreamController,r),s=!1,l?v():c&&w()}))},_closeSteps:()=>{s=!1,p||Ce(n._readableStreamController),m||Ce(o._readableStreamController),n._readableStreamController._pendingPullIntos.length>0&&Ue(n._readableStreamController,0),o._readableStreamController._pendingPullIntos.length>0&&Ue(o._readableStreamController,0),p&&m||i(void 0)},_errorSteps:()=>{s=!1}})}function b(t,a){Q(r)&&(E(r),r=Fe(e),_(r));const d=a?o:n,u=a?n:o;He(r,t,{_chunkSteps:t=>{y((()=>{l=!1,c=!1;const n=a?m:p;if(a?p:m)n||Me(d._readableStreamController,t);else{let a;try{a=de(t)}catch(t){return Re(d._readableStreamController,t),Re(u._readableStreamController,t),void i(va(e,t))}n||Me(d._readableStreamController,t),Ne(u._readableStreamController,a)}s=!1,l?v():c&&w()}))},_closeSteps:e=>{s=!1;const t=a?m:p,n=a?p:m;t||Ce(d._readableStreamController),n||Ce(u._readableStreamController),void 0!==e&&(t||Me(d._readableStreamController,e),!n&&u._readableStreamController._pendingPullIntos.length>0&&Ue(u._readableStreamController,0)),t&&n||i(void 0)},_errorSteps:()=>{s=!1}})}function v(){if(s)return l=!0,u(void 0);s=!0;const e=De(n._readableStreamController);return null===e?g():b(e._view,!1),u(void 0)}function w(){if(s)return c=!0,u(void 0);s=!0;const e=De(o._readableStreamController);return null===e?g():b(e._view,!0),u(void 0)}function S(){}return n=fa(S,v,(function(n){if(p=!0,t=n,m){const n=se([t,a]),o=va(e,n);i(o)}return h})),o=fa(S,w,(function(n){if(m=!0,a=n,p){const n=se([t,a]),o=va(e,n);i(o)}return h})),_(r),[n,o]}(e):function(e,t){const a=Y(e);let n,o,i,r,s,l=!1,c=!1,p=!1,m=!1;const h=d((e=>{s=e}));function _(){return l?(c=!0,u(void 0)):(l=!0,X(a,{_chunkSteps:e=>{y((()=>{c=!1;const t=e,a=e;p||aa(i._readableStreamController,t),m||aa(r._readableStreamController,a),l=!1,c&&_()}))},_closeSteps:()=>{l=!1,p||ta(i._readableStreamController),m||ta(r._readableStreamController),p&&m||s(void 0)},_errorSteps:()=>{l=!1}}),u(void 0))}function g(){}return i=_a(g,_,(function(t){if(p=!0,n=t,m){const t=se([n,o]),a=va(e,t);s(a)}return h})),r=_a(g,_,(function(t){if(m=!0,o=t,p){const t=se([n,o]),a=va(e,t);s(a)}return h})),f(a._closedPromise,(e=>{na(i._readableStreamController,e),na(r._readableStreamController,e),p&&m||s(void 0)})),[i,r]}(e));var e}values(e){if(!ba(this))throw Aa("values");return function(e,t){const a=Y(e),n=new ae(a,t),o=Object.create(ne);return o._asyncIteratorImpl=n,o}(this,function(e,t){M(e,"First parameter");const a=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(a)}}(e).preventCancel)}}function _a(e,t,a,n=1,o=(()=>1)){const i=Object.create(ha.prototype);return ga(i),ra(i,Object.create(Jt.prototype),e,t,a,n,o),i}function fa(e,t,a){const n=Object.create(ha.prototype);return ga(n),Be(n,Object.create(_e.prototype),e,t,a,0,void 0),n}function ga(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function ba(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof ha}function ya(e){return void 0!==e._reader}function va(e,t){if(e._disturbed=!0,"closed"===e._state)return u(void 0);if("errored"===e._state)return p(e._storedError);wa(e);const n=e._reader;return void 0!==n&&Ye(n)&&(n._readIntoRequests.forEach((e=>{e._closeSteps(void 0)})),n._readIntoRequests=new S),g(e._readableStreamController[R](t),a)}function wa(e){e._state="closed";const t=e._reader;void 0!==t&&(O(t),Q(t)&&(t._readRequests.forEach((e=>{e._closeSteps()})),t._readRequests=new S))}function Sa(e,t){e._state="errored",e._storedError=t;const a=e._reader;void 0!==a&&(T(a,t),Q(a)?(a._readRequests.forEach((e=>{e._errorSteps(t)})),a._readRequests=new S):(a._readIntoRequests.forEach((e=>{e._errorSteps(t)})),a._readIntoRequests=new S))}function Aa(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function ka(e,t){M(e,t);const a=null==e?void 0:e.highWaterMark;return F(a,"highWaterMark","QueuingStrategyInit"),{highWaterMark:V(a)}}Object.defineProperties(ha.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(ha.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof t.asyncIterator&&Object.defineProperty(ha.prototype,t.asyncIterator,{value:ha.prototype.values,writable:!0,configurable:!0});const Ea=e=>e.byteLength;try{Object.defineProperty(Ea,"name",{value:"size",configurable:!0})}catch(e){}class xa{constructor(e){z(e,1,"ByteLengthQueuingStrategy"),e=ka(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Pa(this))throw Ia("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Pa(this))throw Ia("size");return Ea}}function Ia(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Pa(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof xa}Object.defineProperties(xa.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(xa.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const Ta=()=>1;try{Object.defineProperty(Ta,"name",{value:"size",configurable:!0})}catch(e){}class Oa{constructor(e){z(e,1,"CountQueuingStrategy"),e=ka(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Na(this))throw Ca("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Na(this))throw Ca("size");return Ta}}function Ca(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Na(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof Oa}function Ra(e,t,a){return B(e,a),a=>w(e,t,[a])}function Da(e,t,a){return B(e,a),a=>v(e,t,[a])}function Ga(e,t,a){return B(e,a),(a,n)=>w(e,t,[a,n])}Object.defineProperties(Oa.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Oa.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class Ua{constructor(e={},t={},a={}){void 0===e&&(e=null);const n=Ke(t,"Second parameter"),o=Ke(a,"Third parameter"),i=function(e,t){M(e,t);const a=null==e?void 0:e.flush,n=null==e?void 0:e.readableType,o=null==e?void 0:e.start,i=null==e?void 0:e.transform,r=null==e?void 0:e.writableType;return{flush:void 0===a?void 0:Ra(a,e,`${t} has member 'flush' that`),readableType:n,start:void 0===o?void 0:Da(o,e,`${t} has member 'start' that`),transform:void 0===i?void 0:Ga(i,e,`${t} has member 'transform' that`),writableType:r}}(e,"First parameter");if(void 0!==i.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==i.writableType)throw new RangeError("Invalid writableType specified");const r=Ze(o,0),s=Je(o),l=Ze(n,1),c=Je(n);let m;!function(e,t,a,n,o,i){function r(){return t}e._writable=function(e,t,a,n,o=1,i=(()=>1)){const r=Object.create(it.prototype);return st(r),It(r,Object.create(Et.prototype),e,t,a,n,o,i),r}(r,(function(t){return function(e,t){const a=e._transformStreamController;return e._backpressure?g(e._backpressureChangePromise,(()=>{const n=e._writable;if("erroring"===n._state)throw n._storedError;return Wa(a,t)})):Wa(a,t)}(e,t)}),(function(){return function(e){const t=e._readable,a=e._transformStreamController,n=a._flushAlgorithm();return $a(a),g(n,(()=>{if("errored"===t._state)throw t._storedError;ta(t._readableStreamController)}),(a=>{throw Ba(e,a),t._storedError}))}(e)}),(function(t){return function(e,t){return Ba(e,t),u(void 0)}(e,t)}),a,n),e._readable=_a(r,(function(){return function(e){return za(e,!1),e._backpressureChangePromise}(e)}),(function(t){return La(e,t),u(void 0)}),o,i),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,za(e,!0),e._transformStreamController=void 0}(this,d((e=>{m=e})),l,c,r,s),function(e,t){const a=Object.create(Fa.prototype);let n=e=>{try{return ja(a,e),u(void 0)}catch(e){return p(e)}},o=()=>u(void 0);void 0!==t.transform&&(n=e=>t.transform(e,a)),void 0!==t.flush&&(o=()=>t.flush(a)),function(e,t,a,n){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=a,t._flushAlgorithm=n}(e,a,n,o)}(this,i),void 0!==i.start?m(i.start(this._transformStreamController)):m(void 0)}get readable(){if(!Ma(this))throw Ha("readable");return this._readable}get writable(){if(!Ma(this))throw Ha("writable");return this._writable}}function Ma(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof Ua}function Ba(e,t){na(e._readable._readableStreamController,t),La(e,t)}function La(e,t){$a(e._transformStreamController),Ct(e._writable._writableStreamController,t),e._backpressure&&za(e,!1)}function za(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=d((t=>{e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties(Ua.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Ua.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});class Fa{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Va(this))throw Ya("desiredSize");return oa(this._controlledTransformStream._readable._readableStreamController)}enqueue(e){if(!Va(this))throw Ya("enqueue");ja(this,e)}error(e){if(!Va(this))throw Ya("error");var t;t=e,Ba(this._controlledTransformStream,t)}terminate(){if(!Va(this))throw Ya("terminate");!function(e){const t=e._controlledTransformStream;ta(t._readable._readableStreamController);La(t,new TypeError("TransformStream terminated"))}(this)}}function Va(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof Fa}function $a(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function ja(e,t){const a=e._controlledTransformStream,n=a._readable._readableStreamController;if(!ia(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{aa(n,t)}catch(e){throw La(a,e),a._readable._storedError}const o=function(e){return!Xt(e)}(n);o!==a._backpressure&&za(a,!0)}function Wa(e,t){return g(e._transformAlgorithm(t),void 0,(t=>{throw Ba(e._controlledTransformStream,t),t}))}function Ya(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Ha(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(Fa.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Fa.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=xa,e.CountQueuingStrategy=Oa,e.ReadableByteStreamController=_e,e.ReadableStream=ha,e.ReadableStreamBYOBReader=We,e.ReadableStreamBYOBRequest=he,e.ReadableStreamDefaultController=Jt,e.ReadableStreamDefaultReader=K,e.TransformStream=Ua,e.TransformStreamDefaultController=Fa,e.WritableStream=it,e.WritableStreamDefaultController=Et,e.WritableStreamDefaultWriter=bt,Object.defineProperty(e,"__esModule",{value:!0})},a(t)},977:(e,t,a)=>{"use strict";const{EMPTY_BUFFER:n}=a(1872),o=Buffer[Symbol.species];function i(e,t,a,n,o){for(let i=0;i<o;i++)a[n+i]=e[i]^t[3&i]}function r(e,t){for(let a=0;a<e.length;a++)e[a]^=t[3&a]}if(e.exports={concat:function(e,t){if(0===e.length)return n;if(1===e.length)return e[0];const a=Buffer.allocUnsafe(t);let i=0;for(let t=0;t<e.length;t++){const n=e[t];a.set(n,i),i+=n.length}return i<t?new o(a.buffer,a.byteOffset,i):a},mask:i,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:function e(t){if(e.readOnly=!0,Buffer.isBuffer(t))return t;let a;return t instanceof ArrayBuffer?a=new o(t):ArrayBuffer.isView(t)?a=new o(t.buffer,t.byteOffset,t.byteLength):(a=Buffer.from(t),e.readOnly=!1),a},unmask:r},!process.env.WS_NO_BUFFER_UTIL)try{const t=a(Object(function(){var e=new Error("Cannot find module 'bufferutil'");throw e.code="MODULE_NOT_FOUND",e}()));e.exports.mask=function(e,a,n,o,r){r<48?i(e,a,n,o,r):t.mask(e,a,n,o,r)},e.exports.unmask=function(e,a){e.length<32?r(e,a):t.unmask(e,a)}}catch(e){}},1872:e=>{"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},62:(e,t,a)=>{"use strict";const{kForOnEventAttribute:n,kListener:o}=a(1872),i=Symbol("kCode"),r=Symbol("kData"),s=Symbol("kError"),l=Symbol("kMessage"),c=Symbol("kReason"),d=Symbol("kTarget"),u=Symbol("kType"),p=Symbol("kWasClean");class m{constructor(e){this[d]=null,this[u]=e}get target(){return this[d]}get type(){return this[u]}}Object.defineProperty(m.prototype,"target",{enumerable:!0}),Object.defineProperty(m.prototype,"type",{enumerable:!0});class h extends m{constructor(e,t={}){super(e),this[i]=void 0===t.code?0:t.code,this[c]=void 0===t.reason?"":t.reason,this[p]=void 0!==t.wasClean&&t.wasClean}get code(){return this[i]}get reason(){return this[c]}get wasClean(){return this[p]}}Object.defineProperty(h.prototype,"code",{enumerable:!0}),Object.defineProperty(h.prototype,"reason",{enumerable:!0}),Object.defineProperty(h.prototype,"wasClean",{enumerable:!0});class _ extends m{constructor(e,t={}){super(e),this[s]=void 0===t.error?null:t.error,this[l]=void 0===t.message?"":t.message}get error(){return this[s]}get message(){return this[l]}}Object.defineProperty(_.prototype,"error",{enumerable:!0}),Object.defineProperty(_.prototype,"message",{enumerable:!0});class f extends m{constructor(e,t={}){super(e),this[r]=void 0===t.data?null:t.data}get data(){return this[r]}}Object.defineProperty(f.prototype,"data",{enumerable:!0});const g={addEventListener(e,t,a={}){for(const i of this.listeners(e))if(!a[n]&&i[o]===t&&!i[n])return;let i;if("message"===e)i=function(e,a){const n=new f("message",{data:a?e:e.toString()});n[d]=this,b(t,this,n)};else if("close"===e)i=function(e,a){const n=new h("close",{code:e,reason:a.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});n[d]=this,b(t,this,n)};else if("error"===e)i=function(e){const a=new _("error",{error:e,message:e.message});a[d]=this,b(t,this,a)};else{if("open"!==e)return;i=function(){const e=new m("open");e[d]=this,b(t,this,e)}}i[n]=!!a[n],i[o]=t,a.once?this.once(e,i):this.on(e,i)},removeEventListener(e,t){for(const a of this.listeners(e))if(a[o]===t&&!a[n]){this.removeListener(e,a);break}}};function b(e,t,a){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,a):e.call(t,a)}e.exports={CloseEvent:h,ErrorEvent:_,Event:m,EventTarget:g,MessageEvent:f}},1503:(e,t,a)=>{"use strict";const{tokenChars:n}=a(6746);function o(e,t,a){void 0===e[t]?e[t]=[a]:e[t].push(a)}e.exports={format:function(e){return Object.keys(e).map((t=>{let a=e[t];return Array.isArray(a)||(a=[a]),a.map((e=>[t].concat(Object.keys(e).map((t=>{let a=e[t];return Array.isArray(a)||(a=[a]),a.map((e=>!0===e?t:`${t}=${e}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")},parse:function(e){const t=Object.create(null);let a,i,r=Object.create(null),s=!1,l=!1,c=!1,d=-1,u=-1,p=-1,m=0;for(;m<e.length;m++)if(u=e.charCodeAt(m),void 0===a)if(-1===p&&1===n[u])-1===d&&(d=m);else if(0===m||32!==u&&9!==u){if(59!==u&&44!==u)throw new SyntaxError(`Unexpected character at index ${m}`);{if(-1===d)throw new SyntaxError(`Unexpected character at index ${m}`);-1===p&&(p=m);const n=e.slice(d,p);44===u?(o(t,n,r),r=Object.create(null)):a=n,d=p=-1}}else-1===p&&-1!==d&&(p=m);else if(void 0===i)if(-1===p&&1===n[u])-1===d&&(d=m);else if(32===u||9===u)-1===p&&-1!==d&&(p=m);else if(59===u||44===u){if(-1===d)throw new SyntaxError(`Unexpected character at index ${m}`);-1===p&&(p=m),o(r,e.slice(d,p),!0),44===u&&(o(t,a,r),r=Object.create(null),a=void 0),d=p=-1}else{if(61!==u||-1===d||-1!==p)throw new SyntaxError(`Unexpected character at index ${m}`);i=e.slice(d,m),d=p=-1}else if(l){if(1!==n[u])throw new SyntaxError(`Unexpected character at index ${m}`);-1===d?d=m:s||(s=!0),l=!1}else if(c)if(1===n[u])-1===d&&(d=m);else if(34===u&&-1!==d)c=!1,p=m;else{if(92!==u)throw new SyntaxError(`Unexpected character at index ${m}`);l=!0}else if(34===u&&61===e.charCodeAt(m-1))c=!0;else if(-1===p&&1===n[u])-1===d&&(d=m);else if(-1===d||32!==u&&9!==u){if(59!==u&&44!==u)throw new SyntaxError(`Unexpected character at index ${m}`);{if(-1===d)throw new SyntaxError(`Unexpected character at index ${m}`);-1===p&&(p=m);let n=e.slice(d,p);s&&(n=n.replace(/\\/g,""),s=!1),o(r,i,n),44===u&&(o(t,a,r),r=Object.create(null),a=void 0),i=void 0,d=p=-1}}else-1===p&&(p=m);if(-1===d||c||32===u||9===u)throw new SyntaxError("Unexpected end of input");-1===p&&(p=m);const h=e.slice(d,p);return void 0===a?o(t,h,r):(void 0===i?o(r,h,!0):o(r,i,s?h.replace(/\\/g,""):h),o(t,a,r)),t}}},305:e=>{"use strict";const t=Symbol("kDone"),a=Symbol("kRun");e.exports=class{constructor(e){this[t]=()=>{this.pending--,this[a]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[a]()}[a](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[t])}}}},5196:(e,t,a)=>{"use strict";const n=a(9796),o=a(977),i=a(305),{kStatusCode:r}=a(1872),s=Buffer[Symbol.species],l=Buffer.from([0,0,255,255]),c=Symbol("permessage-deflate"),d=Symbol("total-length"),u=Symbol("callback"),p=Symbol("buffers"),m=Symbol("error");let h;function _(e){this[p].push(e),this[d]+=e.length}function f(e){this[d]+=e.length,this[c]._maxPayload<1||this[d]<=this[c]._maxPayload?this[p].push(e):(this[m]=new RangeError("Max payload size exceeded"),this[m].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[m][r]=1009,this.removeListener("data",f),this.reset())}function g(e){this[c]._inflate=null,e[r]=1007,this[u](e)}e.exports=class{constructor(e,t,a){if(this._maxPayload=0|a,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!h){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;h=new i(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[u];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,a=e.find((e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits)));if(!a)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(a.server_no_context_takeover=!0),t.clientNoContextTakeover&&(a.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(a.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?a.client_max_window_bits=t.clientMaxWindowBits:!0!==a.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete a.client_max_window_bits,a}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach((e=>{Object.keys(e).forEach((t=>{let a=e[t];if(a.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(a=a[0],"client_max_window_bits"===t){if(!0!==a){const e=+a;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${a}`);a=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${a}`)}else if("server_max_window_bits"===t){const e=+a;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${a}`);a=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==a)throw new TypeError(`Invalid value for parameter "${t}": ${a}`)}e[t]=a}))})),e}decompress(e,t,a){h.add((n=>{this._decompress(e,t,((e,t)=>{n(),a(e,t)}))}))}compress(e,t,a){h.add((n=>{this._compress(e,t,((e,t)=>{n(),a(e,t)}))}))}_decompress(e,t,a){const i=this._isServer?"client":"server";if(!this._inflate){const e=`${i}_max_window_bits`,t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=n.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[c]=this,this._inflate[d]=0,this._inflate[p]=[],this._inflate.on("error",g),this._inflate.on("data",f)}this._inflate[u]=a,this._inflate.write(e),t&&this._inflate.write(l),this._inflate.flush((()=>{const e=this._inflate[m];if(e)return this._inflate.close(),this._inflate=null,void a(e);const n=o.concat(this._inflate[p],this._inflate[d]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[d]=0,this._inflate[p]=[],t&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),a(null,n)}))}_compress(e,t,a){const i=this._isServer?"server":"client";if(!this._deflate){const e=`${i}_max_window_bits`,t="number"!=typeof this.params[e]?n.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=n.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[d]=0,this._deflate[p]=[],this._deflate.on("data",_)}this._deflate[u]=a,this._deflate.write(e),this._deflate.flush(n.Z_SYNC_FLUSH,(()=>{if(!this._deflate)return;let e=o.concat(this._deflate[p],this._deflate[d]);t&&(e=new s(e.buffer,e.byteOffset,e.length-4)),this._deflate[u]=null,this._deflate[d]=0,this._deflate[p]=[],t&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),a(null,e)}))}}},2957:(e,t,a)=>{"use strict";const{Writable:n}=a(2781),o=a(5196),{BINARY_TYPES:i,EMPTY_BUFFER:r,kStatusCode:s,kWebSocket:l}=a(1872),{concat:c,toArrayBuffer:d,unmask:u}=a(977),{isValidStatusCode:p,isValidUTF8:m}=a(6746),h=Buffer[Symbol.species];function _(e,t,a,n,o){const i=new e(a?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(i,_),i.code=o,i[s]=n,i}e.exports=class extends n{constructor(e={}){super(),this._binaryType=e.binaryType||i[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[l]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,a){if(8===this._opcode&&0==this._state)return a();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(a)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=new h(t.buffer,t.byteOffset+e,t.length-e),new h(t.buffer,t.byteOffset,e)}const t=Buffer.allocUnsafe(e);do{const a=this._buffers[0],n=t.length-e;e>=a.length?t.set(this._buffers.shift(),n):(t.set(new Uint8Array(a.buffer,a.byteOffset,e),n),this._buffers[0]=new h(a.buffer,a.byteOffset+e,a.length-e)),e-=a.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do{switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,_(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");const t=64==(64&e[0]);if(t&&!this._extensions[o.extensionName])return this._loop=!1,_(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,_(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,_(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,_(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,_(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin)return this._loop=!1,_(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(t)return this._loop=!1,_(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength)return this._loop=!1,_(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),this._isServer){if(!this._masked)return this._loop=!1,_(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,_(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,_(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,_(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=r;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&0!=(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])&&u(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[o.extensionName].decompress(e,this._fin,((e,a)=>{if(e)return t(e);if(a.length){if(this._messageLength+=a.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(_(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(a)}const n=this.dataMessage();if(n)return t(n);this.startLoop(t)}))}dataMessage(){if(this._fin){const e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let a;a="nodebuffer"===this._binaryType?c(t,e):"arraybuffer"===this._binaryType?d(c(t,e)):t,this.emit("message",a,!0)}else{const a=c(t,e);if(!this._skipUTF8Validation&&!m(a))return this._loop=!1,_(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",a,!1)}}this._state=0}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,r),this.end();else{const t=e.readUInt16BE(0);if(!p(t))return _(RangeError,`invalid status code ${t}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");const a=new h(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!m(a))return _(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",t,a),this.end()}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=0}}},7330:(e,t,a)=>{"use strict";a(1808),a(4404);const{randomFillSync:n}=a(6113),o=a(5196),{EMPTY_BUFFER:i}=a(1872),{isValidStatusCode:r}=a(6746),{mask:s,toBuffer:l}=a(977),c=Symbol("kByteLength"),d=Buffer.alloc(4);class u{constructor(e,t,a){this._extensions=t||{},a&&(this._generateMask=a,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let a,o,i=!1,r=2,l=!1;t.mask&&(a=t.maskBuffer||d,t.generateMask?t.generateMask(a):n(a,0,4),l=0==(a[0]|a[1]|a[2]|a[3]),r=6),"string"==typeof e?o=t.mask&&!l||void 0===t[c]?(e=Buffer.from(e)).length:t[c]:(o=e.length,i=t.mask&&t.readOnly&&!l);let u=o;o>=65536?(r+=8,u=127):o>125&&(r+=2,u=126);const p=Buffer.allocUnsafe(i?o+r:r);return p[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(p[0]|=64),p[1]=u,126===u?p.writeUInt16BE(o,2):127===u&&(p[2]=p[3]=0,p.writeUIntBE(o,4,6)),t.mask?(p[1]|=128,p[r-4]=a[0],p[r-3]=a[1],p[r-2]=a[2],p[r-1]=a[3],l?[p,e]:i?(s(e,a,p,r,o),[p]):(s(e,a,e,0,o),[p,e])):[p,e]}close(e,t,a,n){let o;if(void 0===e)o=i;else{if("number"!=typeof e||!r(e))throw new TypeError("First argument must be a valid error code number");if(void 0!==t&&t.length){const a=Buffer.byteLength(t);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+a),o.writeUInt16BE(e,0),"string"==typeof t?o.write(t,2):o.set(t,2)}else o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0)}const s={[c]:o.length,fin:!0,generateMask:this._generateMask,mask:a,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,o,!1,s,n]):this.sendFrame(u.frame(o,s),n)}ping(e,t,a){let n,o;if("string"==typeof e?(n=Buffer.byteLength(e),o=!1):(n=(e=l(e)).length,o=l.readOnly),n>125)throw new RangeError("The data size must not be greater than 125 bytes");const i={[c]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,i,a]):this.sendFrame(u.frame(e,i),a)}pong(e,t,a){let n,o;if("string"==typeof e?(n=Buffer.byteLength(e),o=!1):(n=(e=l(e)).length,o=l.readOnly),n>125)throw new RangeError("The data size must not be greater than 125 bytes");const i={[c]:n,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,i,a]):this.sendFrame(u.frame(e,i),a)}send(e,t,a){const n=this._extensions[o.extensionName];let i,r,s=t.binary?2:1,d=t.compress;if("string"==typeof e?(i=Buffer.byteLength(e),r=!1):(i=(e=l(e)).length,r=l.readOnly),this._firstFragment?(this._firstFragment=!1,d&&n&&n.params[n._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(d=i>=n._threshold),this._compress=d):(d=!1,s=0),t.fin&&(this._firstFragment=!0),n){const n={[c]:i,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:r,rsv1:d};this._deflating?this.enqueue([this.dispatch,e,this._compress,n,a]):this.dispatch(e,this._compress,n,a)}else this.sendFrame(u.frame(e,{[c]:i,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:s,readOnly:r,rsv1:!1}),a)}dispatch(e,t,a,n){if(!t)return void this.sendFrame(u.frame(e,a),n);const i=this._extensions[o.extensionName];this._bufferedBytes+=a[c],this._deflating=!0,i.compress(e,a.fin,((e,t)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");"function"==typeof n&&n(e);for(let t=0;t<this._queue.length;t++){const a=this._queue[t],n=a[a.length-1];"function"==typeof n&&n(e)}}else this._bufferedBytes-=a[c],this._deflating=!1,a.readOnly=!1,this.sendFrame(u.frame(t,a),n),this.dequeue()}))}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[3][c],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][c],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=u},404:(e,t,a)=>{"use strict";const{Duplex:n}=a(2781);function o(e){e.emit("close")}function i(){!this.destroyed&&this._writableState.finished&&this.destroy()}function r(e){this.removeListener("error",r),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let a=!0;const s=new n({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",(function(t,a){const n=!a&&s._readableState.objectMode?t.toString():t;s.push(n)||e.pause()})),e.once("error",(function(e){s.destroyed||(a=!1,s.destroy(e))})),e.once("close",(function(){s.destroyed||s.push(null)})),s._destroy=function(t,n){if(e.readyState===e.CLOSED)return n(t),void process.nextTick(o,s);let i=!1;e.once("error",(function(e){i=!0,n(e)})),e.once("close",(function(){i||n(t),process.nextTick(o,s)})),a&&e.terminate()},s._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(t(),s._readableState.endEmitted&&s.destroy()):(e._socket.once("finish",(function(){t()})),e.close())):e.once("open",(function(){s._final(t)}))},s._read=function(){e.isPaused&&e.resume()},s._write=function(t,a,n){e.readyState!==e.CONNECTING?e.send(t,n):e.once("open",(function(){s._write(t,a,n)}))},s.on("end",i),s.on("error",r),s}},640:(e,t,a)=>{"use strict";const{tokenChars:n}=a(6746);e.exports={parse:function(e){const t=new Set;let a=-1,o=-1,i=0;for(;i<e.length;i++){const r=e.charCodeAt(i);if(-1===o&&1===n[r])-1===a&&(a=i);else if(0===i||32!==r&&9!==r){if(44!==r)throw new SyntaxError(`Unexpected character at index ${i}`);{if(-1===a)throw new SyntaxError(`Unexpected character at index ${i}`);-1===o&&(o=i);const n=e.slice(a,o);if(t.has(n))throw new SyntaxError(`The "${n}" subprotocol is duplicated`);t.add(n),a=o=-1}}else-1===o&&-1!==a&&(o=i)}if(-1===a||-1!==o)throw new SyntaxError("Unexpected end of input");const r=e.slice(a,i);if(t.has(r))throw new SyntaxError(`The "${r}" subprotocol is duplicated`);return t.add(r),t}}},6746:(e,t,a)=>{"use strict";const{isUtf8:n}=a(8709);function o(e){const t=e.length;let a=0;for(;a<t;)if(0==(128&e[a]))a++;else if(192==(224&e[a])){if(a+1===t||128!=(192&e[a+1])||192==(254&e[a]))return!1;a+=2}else if(224==(240&e[a])){if(a+2>=t||128!=(192&e[a+1])||128!=(192&e[a+2])||224===e[a]&&128==(224&e[a+1])||237===e[a]&&160==(224&e[a+1]))return!1;a+=3}else{if(240!=(248&e[a]))return!1;if(a+3>=t||128!=(192&e[a+1])||128!=(192&e[a+2])||128!=(192&e[a+3])||240===e[a]&&128==(240&e[a+1])||244===e[a]&&e[a+1]>143||e[a]>244)return!1;a+=4}return!0}if(e.exports={isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:o,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},n)e.exports.isValidUTF8=function(e){return e.length<24?o(e):n(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{const t=a(Object(function(){var e=new Error("Cannot find module 'utf-8-validate'");throw e.code="MODULE_NOT_FOUND",e}()));e.exports.isValidUTF8=function(e){return e.length<32?o(e):t(e)}}catch(e){}},9284:(e,t,a)=>{"use strict";const n=a(2361),o=a(3685),{createHash:i}=(a(5687),a(1808),a(4404),a(6113)),r=a(1503),s=a(5196),l=a(640),c=a(8762),{GUID:d,kWebSocket:u}=a(1872),p=/^[+/0-9A-Za-z]{22}==$/,m=2;function h(e){e._state=m,e.emit("close")}function _(){this.destroy()}function f(e,t,a,n){a=a||o.STATUS_CODES[t],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(a),...n},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${o.STATUS_CODES[t]}\r\n`+Object.keys(n).map((e=>`${e}: ${n[e]}`)).join("\r\n")+"\r\n\r\n"+a)}function g(e,t,a,n,o){if(e.listenerCount("wsClientError")){const n=new Error(o);Error.captureStackTrace(n,g),e.emit("wsClientError",n,a,t)}else f(a,n,o)}e.exports=class extends n{constructor(e,t){if(super(),null==(e={maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:c,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=o.createServer(((e,t)=>{const a=o.STATUS_CODES[426];t.writeHead(426,{"Content-Length":a.length,"Content-Type":"text/plain"}),t.end(a)})),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){const e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(const a of Object.keys(t))e.on(a,t[a]);return function(){for(const a of Object.keys(t))e.removeListener(a,t[a])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,a,n)=>{this.handleUpgrade(t,a,n,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===m)return e&&this.once("close",(()=>{e(new Error("The server is not running"))})),void process.nextTick(h,this);if(e&&this.once("close",e),1!==this._state)if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(h,this);else{const e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close((()=>{h(this)}))}}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,a,n){t.on("error",_);const o=e.headers["sec-websocket-key"],i=+e.headers["sec-websocket-version"];if("GET"!==e.method)return void g(this,e,t,405,"Invalid HTTP method");if("websocket"!==e.headers.upgrade.toLowerCase())return void g(this,e,t,400,"Invalid Upgrade header");if(!o||!p.test(o))return void g(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");if(8!==i&&13!==i)return void g(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");if(!this.shouldHandle(e))return void f(t,400);const c=e.headers["sec-websocket-protocol"];let d=new Set;if(void 0!==c)try{d=l.parse(c)}catch(a){return void g(this,e,t,400,"Invalid Sec-WebSocket-Protocol header")}const u=e.headers["sec-websocket-extensions"],m={};if(this.options.perMessageDeflate&&void 0!==u){const a=new s(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const e=r.parse(u);e[s.extensionName]&&(a.accept(e[s.extensionName]),m[s.extensionName]=a)}catch(a){return void g(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header")}}if(this.options.verifyClient){const r={origin:e.headers[8===i?"sec-websocket-origin":"origin"],secure:!(!e.socket.authorized&&!e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(r,((i,r,s,l)=>{if(!i)return f(t,r||401,s,l);this.completeUpgrade(m,o,d,e,t,a,n)}));if(!this.options.verifyClient(r))return f(t,401)}this.completeUpgrade(m,o,d,e,t,a,n)}completeUpgrade(e,t,a,n,o,l,c){if(!o.readable||!o.writable)return o.destroy();if(o[u])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return f(o,503);const p=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${i("sha1").update(t+d).digest("base64")}`],m=new this.options.WebSocket(null);if(a.size){const e=this.options.handleProtocols?this.options.handleProtocols(a,n):a.values().next().value;e&&(p.push(`Sec-WebSocket-Protocol: ${e}`),m._protocol=e)}if(e[s.extensionName]){const t=e[s.extensionName].params,a=r.format({[s.extensionName]:[t]});p.push(`Sec-WebSocket-Extensions: ${a}`),m._extensions=e}this.emit("headers",p,n),o.write(p.concat("\r\n").join("\r\n")),o.removeListener("error",_),m.setSocket(o,l,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(m),m.on("close",(()=>{this.clients.delete(m),this._shouldEmitClose&&!this.clients.size&&process.nextTick(h,this)}))),c(m,n)}}},8762:(e,t,a)=>{"use strict";const n=a(2361),o=a(5687),i=a(3685),r=a(1808),s=a(4404),{randomBytes:l,createHash:c}=a(6113),{Readable:d}=a(2781),{URL:u}=a(7310),p=a(5196),m=a(2957),h=a(7330),{BINARY_TYPES:_,EMPTY_BUFFER:f,GUID:g,kForOnEventAttribute:b,kListener:y,kStatusCode:v,kWebSocket:w,NOOP:S}=a(1872),{EventTarget:{addEventListener:A,removeEventListener:k}}=a(62),{format:E,parse:x}=a(1503),{toBuffer:I}=a(977),P=Symbol("kAborted"),T=[8,13],O=["CONNECTING","OPEN","CLOSING","CLOSED"],C=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class N extends n{constructor(e,t,a){super(),this._binaryType=_[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=f,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=N.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(a=t,t=[]):t=[t]),R(this,e,t,a)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){_.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,a){const n=new m({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:a.maxPayload,skipUTF8Validation:a.skipUTF8Validation});this._sender=new h(e,this._extensions,a.generateMask),this._receiver=n,this._socket=e,n[w]=this,e[w]=this,n.on("conclude",L),n.on("drain",z),n.on("error",F),n.on("message",$),n.on("ping",j),n.on("pong",W),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",H),e.on("data",q),e.on("end",Z),e.on("error",J),this._readyState=N.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this._readyState=N.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[p.extensionName]&&this._extensions[p.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=N.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==N.CLOSED)if(this.readyState!==N.CONNECTING)this.readyState!==N.CLOSING?(this._readyState=N.CLOSING,this._sender.close(e,t,!this._isServer,(e=>{e||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())})),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();else{const e="WebSocket was closed before the connection was established";M(this,this._req,e)}}pause(){this.readyState!==N.CONNECTING&&this.readyState!==N.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,a){if(this.readyState===N.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(a=e,e=t=void 0):"function"==typeof t&&(a=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===N.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||f,t,a)):B(this,e,a)}pong(e,t,a){if(this.readyState===N.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(a=e,e=t=void 0):"function"==typeof t&&(a=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===N.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||f,t,a)):B(this,e,a)}resume(){this.readyState!==N.CONNECTING&&this.readyState!==N.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,a){if(this.readyState===N.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(a=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==N.OPEN)return void B(this,e,a);const n={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[p.extensionName]||(n.compress=!1),this._sender.send(e||f,n,a)}terminate(){if(this.readyState!==N.CLOSED)if(this.readyState!==N.CONNECTING)this._socket&&(this._readyState=N.CLOSING,this._socket.destroy());else{const e="WebSocket was closed before the connection was established";M(this,this._req,e)}}}function R(e,t,a,n){const r={protocolVersion:T[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!T.includes(r.protocolVersion))throw new RangeError(`Unsupported protocol version: ${r.protocolVersion} (supported versions: ${T.join(", ")})`);let s;if(t instanceof u)s=t,e._url=t.href;else{try{s=new u(t)}catch(e){throw new SyntaxError(`Invalid URL: ${t}`)}e._url=t}const d="wss:"===s.protocol,m="ws+unix:"===s.protocol;let h;if("ws:"===s.protocol||d||m?m&&!s.pathname?h="The URL's pathname is empty":s.hash&&(h="The URL contains a fragment identifier"):h='The URL\'s protocol must be one of "ws:", "wss:", or "ws+unix:"',h){const t=new SyntaxError(h);if(0===e._redirects)throw t;return void D(e,t)}const _=d?443:80,f=l(16).toString("base64"),b=d?o.request:i.request,y=new Set;let v,w;if(r.createConnection=d?U:G,r.defaultPort=r.defaultPort||_,r.port=s.port||_,r.host=s.hostname.startsWith("[")?s.hostname.slice(1,-1):s.hostname,r.headers={...r.headers,"Sec-WebSocket-Version":r.protocolVersion,"Sec-WebSocket-Key":f,Connection:"Upgrade",Upgrade:"websocket"},r.path=s.pathname+s.search,r.timeout=r.handshakeTimeout,r.perMessageDeflate&&(v=new p(!0!==r.perMessageDeflate?r.perMessageDeflate:{},!1,r.maxPayload),r.headers["Sec-WebSocket-Extensions"]=E({[p.extensionName]:v.offer()})),a.length){for(const e of a){if("string"!=typeof e||!C.test(e)||y.has(e))throw new SyntaxError("An invalid or duplicated subprotocol was specified");y.add(e)}r.headers["Sec-WebSocket-Protocol"]=a.join(",")}if(r.origin&&(r.protocolVersion<13?r.headers["Sec-WebSocket-Origin"]=r.origin:r.headers.Origin=r.origin),(s.username||s.password)&&(r.auth=`${s.username}:${s.password}`),m){const e=r.path.split(":");r.socketPath=e[0],r.path=e[1]}if(r.followRedirects){if(0===e._redirects){e._originalIpc=m,e._originalSecure=d,e._originalHostOrSocketPath=m?r.socketPath:s.host;const t=n&&n.headers;if(n={...n,headers:{}},t)for(const[e,a]of Object.entries(t))n.headers[e.toLowerCase()]=a}else if(0===e.listenerCount("redirect")){const t=m?!!e._originalIpc&&r.socketPath===e._originalHostOrSocketPath:!e._originalIpc&&s.host===e._originalHostOrSocketPath;(!t||e._originalSecure&&!d)&&(delete r.headers.authorization,delete r.headers.cookie,t||delete r.headers.host,r.auth=void 0)}r.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(r.auth).toString("base64")),w=e._req=b(r),e._redirects&&e.emit("redirect",e.url,w)}else w=e._req=b(r);r.timeout&&w.on("timeout",(()=>{M(e,w,"Opening handshake has timed out")})),w.on("error",(t=>{null===w||w[P]||(w=e._req=null,D(e,t))})),w.on("response",(o=>{const i=o.headers.location,s=o.statusCode;if(i&&r.followRedirects&&s>=300&&s<400){if(++e._redirects>r.maxRedirects)return void M(e,w,"Maximum redirects exceeded");let o;w.abort();try{o=new u(i,t)}catch(t){const a=new SyntaxError(`Invalid URL: ${i}`);return void D(e,a)}R(e,o,a,n)}else e.emit("unexpected-response",w,o)||M(e,w,`Unexpected server response: ${o.statusCode}`)})),w.on("upgrade",((t,a,n)=>{if(e.emit("upgrade",t),e.readyState!==N.CONNECTING)return;if(w=e._req=null,"websocket"!==t.headers.upgrade.toLowerCase())return void M(e,a,"Invalid Upgrade header");const o=c("sha1").update(f+g).digest("base64");if(t.headers["sec-websocket-accept"]!==o)return void M(e,a,"Invalid Sec-WebSocket-Accept header");const i=t.headers["sec-websocket-protocol"];let s;if(void 0!==i?y.size?y.has(i)||(s="Server sent an invalid subprotocol"):s="Server sent a subprotocol but none was requested":y.size&&(s="Server sent no subprotocol"),s)return void M(e,a,s);i&&(e._protocol=i);const l=t.headers["sec-websocket-extensions"];if(void 0!==l){if(!v)return void M(e,a,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");let t;try{t=x(l)}catch(t){return void M(e,a,"Invalid Sec-WebSocket-Extensions header")}const n=Object.keys(t);if(1!==n.length||n[0]!==p.extensionName)return void M(e,a,"Server indicated an extension that was not requested");try{v.accept(t[p.extensionName])}catch(t){return void M(e,a,"Invalid Sec-WebSocket-Extensions header")}e._extensions[p.extensionName]=v}e.setSocket(a,n,{generateMask:r.generateMask,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation})})),r.finishRequest?r.finishRequest(w,e):w.end()}function D(e,t){e._readyState=N.CLOSING,e.emit("error",t),e.emitClose()}function G(e){return e.path=e.socketPath,r.connect(e)}function U(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=r.isIP(e.host)?"":e.host),s.connect(e)}function M(e,t,a){e._readyState=N.CLOSING;const n=new Error(a);Error.captureStackTrace(n,M),t.setHeader?(t[P]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(D,e,n)):(t.destroy(n),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function B(e,t,a){if(t){const a=I(t).length;e._socket?e._sender._bufferedBytes+=a:e._bufferedAmount+=a}if(a){const t=new Error(`WebSocket is not open: readyState ${e.readyState} (${O[e.readyState]})`);process.nextTick(a,t)}}function L(e,t){const a=this[w];a._closeFrameReceived=!0,a._closeMessage=t,a._closeCode=e,void 0!==a._socket[w]&&(a._socket.removeListener("data",q),process.nextTick(Y,a._socket),1005===e?a.close():a.close(e,t))}function z(){const e=this[w];e.isPaused||e._socket.resume()}function F(e){const t=this[w];void 0!==t._socket[w]&&(t._socket.removeListener("data",q),process.nextTick(Y,t._socket),t.close(e[v])),t.emit("error",e)}function V(){this[w].emitClose()}function $(e,t){this[w].emit("message",e,t)}function j(e){const t=this[w];t.pong(e,!t._isServer,S),t.emit("ping",e)}function W(e){this[w].emit("pong",e)}function Y(e){e.resume()}function H(){const e=this[w];let t;this.removeListener("close",H),this.removeListener("data",q),this.removeListener("end",Z),e._readyState=N.CLOSING,this._readableState.endEmitted||e._closeFrameReceived||e._receiver._writableState.errorEmitted||null===(t=e._socket.read())||e._receiver.write(t),e._receiver.end(),this[w]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",V),e._receiver.on("finish",V))}function q(e){this[w]._receiver.write(e)||this.pause()}function Z(){const e=this[w];e._readyState=N.CLOSING,e._receiver.end(),this.end()}function J(){const e=this[w];this.removeListener("error",J),this.on("error",S),e&&(e._readyState=N.CLOSING,this.destroy())}Object.defineProperty(N,"CONNECTING",{enumerable:!0,value:O.indexOf("CONNECTING")}),Object.defineProperty(N.prototype,"CONNECTING",{enumerable:!0,value:O.indexOf("CONNECTING")}),Object.defineProperty(N,"OPEN",{enumerable:!0,value:O.indexOf("OPEN")}),Object.defineProperty(N.prototype,"OPEN",{enumerable:!0,value:O.indexOf("OPEN")}),Object.defineProperty(N,"CLOSING",{enumerable:!0,value:O.indexOf("CLOSING")}),Object.defineProperty(N.prototype,"CLOSING",{enumerable:!0,value:O.indexOf("CLOSING")}),Object.defineProperty(N,"CLOSED",{enumerable:!0,value:O.indexOf("CLOSED")}),Object.defineProperty(N.prototype,"CLOSED",{enumerable:!0,value:O.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach((e=>{Object.defineProperty(N.prototype,e,{enumerable:!0})})),["open","error","close","message"].forEach((e=>{Object.defineProperty(N.prototype,`on${e}`,{enumerable:!0,get(){for(const t of this.listeners(e))if(t[b])return t[y];return null},set(t){for(const t of this.listeners(e))if(t[b]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[b]:!0})}})})),N.prototype.addEventListener=A,N.prototype.removeEventListener=k,e.exports=N},9491:e=>{"use strict";e.exports=require("assert")},8709:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},1891:e=>{"use strict";e.exports=require("dgram")},2361:e=>{"use strict";e.exports=require("events")},3292:e=>{"use strict";e.exports=require("fs/promises")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1405:e=>{"use strict";e.exports=require("inspector")},1808:e=>{"use strict";e.exports=require("net")},7742:e=>{"use strict";e.exports=require("node:process")},2477:e=>{"use strict";e.exports=require("node:stream/web")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},1267:e=>{"use strict";e.exports=require("worker_threads")},9796:e=>{"use strict";e.exports=require("zlib")},2764:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7359:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runEntrypoint=void 0;const n=a(1460),o=a(9913),i=n.__importDefault(a(3292)),r=a(2068),s=a(2529);a(9262);const l=a(8221),c=n.__importDefault(a(1017));let d,u=!1;t.runEntrypoint=function(e,t){Promise.resolve().then((async()=>{if(u)throw new Error("runEntrypoint can only be called once");u=!0;const a=process.env.MODULE_MANIFEST;if(!a)throw new Error("Module initialise is missing MODULE_MANIFEST");const n=await i.default.readFile(a),p=JSON.parse(n.toString());if(p.runtime?.api!==o.HostApiNodeJsIpc)throw new Error("Module manifest 'api' mismatch");if(!p.runtime.apiVersion)throw new Error("Module manifest 'apiVersion' missing");let m=p.runtime.apiVersion;if("0.0.0"===m)try{const e=await i.default.readFile(c.default.join(__dirname,"../package.json")),t=JSON.parse(e.toString());"@companion-module/base"===t.name&&(m=t.version)}catch(e){throw new Error("Failed to determine module api version")}if(!process.send)throw new Error("Module is not being run with ipc");console.log(`Starting up module class: ${e.name}`);const h=process.env.CONNECTION_ID;if("string"!=typeof h||!h)throw new Error("Module initialise is missing CONNECTION_ID");const _=process.env.VERIFICATION_TOKEN;if("string"!=typeof _||!_)throw new Error("Module initialise is missing VERIFICATION_TOKEN");const f=process.env.SENTRY_DSN,g=process.env.SENTRY_USERID,b=process.env.SENTRY_COMPANION_VERSION;f&&g&&"https://"==f.substring(0,8)?(console.log("Sentry enabled"),(0,s.init)({dsn:f,release:`${p.name}@${p.version}`,beforeSend:e=>(e.exception&&console.log("sentry","error",e.exception),e)}),(0,s.configureScope)((e=>{e.setUser({id:g}),e.setTag("companion",b)}))):console.log("Sentry disabled");const y=new l.IpcWrapper({},(e=>{process.send(e)}),5e3);process.once("message",(e=>{y.receivedMessage(e)})),d=new e((0,r.literal)({id:h,upgradeScripts:t,_isInstanceBaseProps:!0})),y.sendWithCb("register",{apiVersion:m,connectionId:h,verificationToken:_}).then((()=>{console.log("Module-host accepted registration")}),(e=>{console.error("Module registration failed",e),process.exit(11)}))})).catch((e=>{console.error("Failed to startup module:"),console.error(e.stack||e.message),process.exit(1)}))}},1972:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UDPHelper=t.TelnetHelper=t.TCPHelper=void 0;var n=a(9159);Object.defineProperty(t,"TCPHelper",{enumerable:!0,get:function(){return n.TCPHelper}});var o=a(6226);Object.defineProperty(t,"TelnetHelper",{enumerable:!0,get:function(){return o.TelnetHelper}});var i=a(8473);Object.defineProperty(t,"UDPHelper",{enumerable:!0,get:function(){return i.UDPHelper}})},9159:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TCPHelper=void 0;const n=a(1460).__importDefault(a(1808)),o=a(6729),i=a(609);class r extends o.EventEmitter{#e;#t;_socket;#a;#n=!1;#o=!1;#i=!1;#r;#s;get isConnected(){return this.#n}get isConnecting(){return this.#o}get isDestroyed(){return this.#i}constructor(e,t,a){super(),this.#e=e,this.#t=t,this.#a={reconnect_interval:2e3,reconnect:!0,...a},this._socket=new n.default.Socket,this._socket.setKeepAlive(!0),this._socket.setNoDelay(!0),this._socket.on("error",(e=>{this.#o=!1,this.#n=!1,this.#a.reconnect&&this.#l(),this.#c(i.InstanceStatus.UnknownError,e.message),this.emit("error",e)})),this._socket.on("ready",(()=>{this.#n=!0,this.#o=!1,this.#c(i.InstanceStatus.Ok),this.emit("connect")})),this._socket.on("end",(()=>{this.#n=!1,this.#c(i.InstanceStatus.Disconnected),!this.#o&&this.#a.reconnect&&this.#l(),this.emit("end")})),this._socket.on("data",(e=>this.emit("data",e))),this._socket.on("drain",(()=>this.emit("drain"))),setImmediate((()=>this.connect())),setTimeout((()=>{this.#i||this.listenerCount("error")||console.error(`Danger: TCP client for ${this.#e}:${this.#t} is missing an error handler!`)}),5e3)}connect(){if(this.#i)throw new Error("Cannot connect destroyed socket");return!this.#o&&(this.#o=!0,this._socket.connect(this.#t,this.#e),!0)}async send(e){if(this.#i||this._socket.destroyed)throw new Error("Cannot write to destroyed socket");if(!e||!e.length)throw new Error("No message to send");if(!this.#n)return!1;try{return new Promise(((t,a)=>{this._socket.write(e,(e=>{e?a(e):t(!0)}))}))}catch(e){this.#n=!1;const t=e instanceof Error?e:new Error(`${e}`);throw this.#c(i.InstanceStatus.UnknownError,t.message),this.emit("error",t),t}}destroy(){this.#i=!0,void 0!==this.#s&&clearTimeout(this.#s),this._socket.removeAllListeners(),this.removeAllListeners(),this._socket.destroy()}#l(){void 0!==this.#s&&clearTimeout(this.#s),this.#s=setTimeout((()=>{this.#s=void 0,this.#c(i.InstanceStatus.Connecting),this.connect()}),this.#a.reconnect_interval)}#c(e,t){this.#r!=e&&(this.#r=e,this.emit("status_change",e,t))}}t.TCPHelper=r},6226:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelnetHelper=void 0;const n=a(1460).__importDefault(a(6729)),o=a(2781),i=a(9159);class r extends n.default{#d;#u;get isConnected(){return this.#d.isConnected}get isConnecting(){return this.#d.isConnecting}get isDestroyed(){return this.#d.isDestroyed}constructor(e,t,a){super(),this.#d=new i.TCPHelper(e,t,a),this.#u=new s,this.#d._socket.pipe(this.#u),this.#d.on("connect",(()=>this.emit("connect"))),this.#d.on("end",(()=>this.emit("end"))),this.#d.on("error",(e=>this.emit("error",e))),this.#d.on("status_change",((e,t)=>this.emit("status_change",e,t))),this.#u.on("iac",((e,t)=>this.emit("iac",e,t))),this.#u.on("sb",(e=>this.emit("sb",e))),this.#u.on("data",(e=>this.emit("data",e))),this.#u.on("drain",(()=>this.emit("drain"))),setTimeout((()=>{this.isDestroyed||this.listenerCount("error")||console.error(`Danger: Telnet client for ${e}:${t} is missing an error handler!`)}),5e3)}connect(){return this.#d.connect()}async send(e){return this.#d.send(e)}destroy(){this.#d.destroy(),this.#u.removeAllListeners(),this.#u.destroy()}}t.TelnetHelper=r;class s extends o.Transform{#p;#m;#h;constructor(e){super(e),this.#p=Buffer.alloc(0),this.#m=Buffer.alloc(0),this.#h=0}_transform(e,t,a){for(let t=0;t<e.length;++t)this.#_(e[t]);const n=this.#f();n.length&&this.push(n),a()}#_(e){if(0===this.#h){if(255===e)return void(this.#h=255);this.#p=Buffer.concat([this.#p,Buffer.from([e])])}else if(255===this.#h)switch(e){case 250:case 251:case 252:case 253:case 254:this.#h=e;break;default:this.#h=0}else{if(this.#h>=251&&this.#h<=254){let t;switch(this.#h){case 251:t="WILL";break;case 252:t="WONT";break;case 253:t="DO";break;case 254:t="DONT";break;default:return}return this.emit("iac",t,e),void(this.#h=0)}if(250===this.#h){if(240===e)return this.emit("sb",this.#m),this.#h=0,void(this.#m=Buffer.alloc(0));this.#m=Buffer.concat([this.#m,Buffer.from([e])])}}}#f(){const e=this.#p;return this.#p=Buffer.alloc(0),e}}},8473:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UDPHelper=void 0;const n=a(1460).__importDefault(a(1891)),o=a(6729),i=a(609);class r extends o.EventEmitter{#e;#t;#g;#a;#i=!1;#r;get isDestroyed(){return this.#i}constructor(e,t,a){super(),this.#e=e,this.#t=t,this.#a={...a},this.#g=n.default.createSocket("udp4");try{this.#g.bind(this.#a.bind_port||0,this.#a.bind_ip)}catch(e){throw new Error(`Unable to bind to ip/port: ${this.#a.bind_ip}:${this.#a.bind_port}`)}this.#a.broadcast&&this.#g.setBroadcast(!0),void 0!==this.#a.ttl&&this.#g.setTTL(this.#a.ttl),void 0!==this.#a.multicast_ttl&&this.#g.setMulticastTTL(this.#a.multicast_ttl),this.#g.on("error",(e=>{this.#c(i.InstanceStatus.UnknownError,e.message),this.emit("error",e)})),this.#g.on("listening",(()=>{this.#a.multicast_interface&&this.#g.setMulticastInterface(this.#a.multicast_interface),this.#c(i.InstanceStatus.Ok),this.emit("listening")})),this.#g.on("message",(e=>this.emit("data",e))),setTimeout((()=>{this.#i||this.listenerCount("error")||console.error(`Danger: UDP socket for ${this.#e}:${this.#t} is missing an error handler!`)}),5e3)}async send(e){if(this.#i)throw new Error("Cannot write to destroyed socket");if(!e||!e.length)throw new Error("No message to send");return new Promise(((t,a)=>{this.#g.send(e,this.#t,this.#e,(e=>{e?a(e):t()}))}))}destroy(){this.#i=!0,this.#g.removeAllListeners(),this.#g.close(),this.removeAllListeners()}#c(e,t){this.#r!=e&&(this.#r=e,this.emit("status_change",e,t))}}t.UDPHelper=r},8221:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IpcWrapper=void 0;const n=a(1460),o=a(4300),i=a(2068),r=n.__importDefault(a(2559));t.IpcWrapper=class{#b;#y;#v;#w={};constructor(e,t,a){this.#b=e,this.#y=t,this.#v=a}async sendWithCb(e,t,a,n=0){n<=0&&(n=this.#v);const i={timeout:void 0,resolve:()=>null,reject:()=>null},s=new Promise(((e,t)=>{i.resolve=e,i.reject=t})),l=(0,o.nanoid)();this.#w[l]=i,this.#y({direction:"call",name:String(e),payload:r.default.stringify(t),callbackId:l});const c=new Error("Call timed out");return i.timeout=setTimeout((()=>{i.reject(a?a():c),delete this.#w[l]}),n),s}sendWithNoCb(e,t){this.#y({direction:"call",name:String(e),payload:r.default.stringify(t),callbackId:void 0})}receivedMessage(e){const t=e;switch(e.direction){case"call":{const t=this.#b[e.name];if(!t)return void(e.callbackId&&this.#y({direction:"response",callbackId:e.callbackId,success:!1,payload:r.default.stringify({message:`Unknown command "${e.name}"`})}));t(e.payload?r.default.parse(e.payload):void 0).then((t=>{e.callbackId&&this.#y({direction:"response",callbackId:e.callbackId,success:!0,payload:r.default.stringify(t)})}),(t=>{e.callbackId&&this.#y({direction:"response",callbackId:e.callbackId,success:!1,payload:t instanceof Error?JSON.stringify(t,Object.getOwnPropertyNames(t)):r.default.stringify(t)})}));break}case"response":{if(!e.callbackId)return void console.error("Ipc: Response message has no callbackId");const t=this.#w[e.callbackId];if(delete this.#w[e.callbackId],!t)return;clearTimeout(t.timeout);const a=e.payload?r.default.parse(e.payload):void 0;if(e.success)t.resolve(a);else{let e=a;a&&"message"in a&&(e=new Error(a.message),a.stack&&(e.stack=a.stack)),t.reject(e)}break}default:(0,i.assertNever)(e),console.error(`Ipc: Message of unknown direction "${t.direction}"`)}}}},9913:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HostApiNodeJsIpc=void 0,t.HostApiNodeJsIpc="nodejs-ipc"},8049:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runEntrypoint=t.assertNever=t.splitRgb=t.combineRgb=t.literal=void 0;const n=a(1460);n.__exportStar(a(7517),t),n.__exportStar(a(4911),t),n.__exportStar(a(2764),t);var o=a(2068);Object.defineProperty(t,"literal",{enumerable:!0,get:function(){return o.literal}}),Object.defineProperty(t,"combineRgb",{enumerable:!0,get:function(){return o.combineRgb}}),Object.defineProperty(t,"splitRgb",{enumerable:!0,get:function(){return o.splitRgb}}),Object.defineProperty(t,"assertNever",{enumerable:!0,get:function(){return o.assertNever}}),n.__exportStar(a(1972),t);var i=a(7359);Object.defineProperty(t,"runEntrypoint",{enumerable:!0,get:function(){return i.runEntrypoint}})},4391:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionManager=void 0;const n=a(2557);function o(e){return{id:e.id,actionId:e.actionId,controlId:e.controlId,options:e.options}}t.ActionManager=class{#S;#A;#k;#E=new Map;#x=new Map;constructor(e,t,a){this.#S=e,this.#A=t,this.#k=a}async handleExecuteAction(e){const t=this.#E.get(e.action.actionId);if(!t)throw new Error(`Unknown action: ${e.action.actionId}`);const a={parseVariablesInString:async t=>(await this.#S({text:t,controlId:e.action.controlId,actionInstanceId:e.action.id,feedbackInstanceId:void 0})).text};await t.callback({id:e.action.id,actionId:e.action.actionId,controlId:e.action.controlId,options:e.action.options,surfaceId:e.surfaceId??e.deviceId,_deviceId:e.surfaceId??e.deviceId,_page:e.action.page,_bank:e.action.bank},a)}handleUpdateActions(e){for(const[t,a]of Object.entries(e)){const e=this.#x.get(t);if(e){const t=this.#E.get(e.actionId);if(t?.unsubscribe){const a={parseVariablesInString:async t=>(await this.#S({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.unsubscribe(o(e),a)).catch((t=>{this.#k("error",`Action unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}if(!a||a.disabled)this.#x.delete(t);else{this.#x.set(t,a);const e=this.#E.get(a.actionId);if(e?.subscribe){const t={parseVariablesInString:async e=>(await this.#S({text:e,controlId:a.controlId,actionInstanceId:a.id,feedbackInstanceId:void 0})).text};Promise.resolve(e.subscribe(o(a),t)).catch((e=>{this.#k("error",`Action subscribe failed: ${JSON.stringify(a)} - ${e?.message??e} ${e?.stack}`)}))}}}}async handleLearnAction(e){const t=this.#E.get(e.action.actionId);if(t&&t.learn){const a={parseVariablesInString:async t=>(await this.#S({text:t,controlId:e.action.controlId,actionInstanceId:e.action.id,feedbackInstanceId:void 0})).text};return{options:await t.learn({id:e.action.id,actionId:e.action.actionId,controlId:e.action.controlId,options:e.action.options,surfaceId:void 0,_deviceId:void 0,_page:e.action.page,_bank:e.action.bank},a)}}return{options:void 0}}setActionDefinitions(e){const t=[];this.#E.clear();for(const[a,o]of Object.entries(e))o&&(t.push({id:a,name:o.name,description:o.description,options:(0,n.serializeIsVisibleFn)(o.options),hasLearn:!!o.learn}),this.#E.set(a,o));this.#A({actions:t})}_getAllActions(){return Array.from(this.#x.values()).map((e=>({id:e.id,actionId:e.actionId,controlId:e.controlId,options:e.options})))}subscribeActions(e){let t=Array.from(this.#x.values());const a=new Set(e);a.size&&(t=t.filter((e=>a.has(e.actionId))));for(const e of t){const t=this.#E.get(e.actionId);if(t?.subscribe){const a={parseVariablesInString:async t=>(await this.#S({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.subscribe(o(e),a)).catch((t=>{this.#k("error",`Action subscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}unsubscribeActions(e){let t=Array.from(this.#x.values());const a=new Set(e);a.size&&(t=t.filter((e=>a.has(e.actionId))));for(const e of t){const t=this.#E.get(e.actionId);if(t&&t.unsubscribe){const a={parseVariablesInString:async t=>(await this.#S({text:t,controlId:e.controlId,actionInstanceId:e.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.unsubscribe(o(e),a)).catch((t=>{this.#k("error",`Action unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}}},2557:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInstanceBaseProps=t.serializeIsVisibleFn=void 0,t.serializeIsVisibleFn=function(e){return e.map((e=>"isVisible"in e&&"function"==typeof e.isVisible?{...e,isVisibleFn:e.isVisible.toString(),isVisible:void 0}:{...e,isVisibleFn:void 0}))},t.isInstanceBaseProps=function(e){const t=e;return"object"==typeof t&&"string"==typeof t.id&&!0===t._isInstanceBaseProps}},7550:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackManager=void 0;const n=a(1460),o=a(2557),i=n.__importDefault(a(7319));function r(e,t){return{type:e,id:t.id,feedbackId:t.feedbackId,controlId:t.controlId,options:t.options}}t.FeedbackManager=class{#S;#I;#P;#k;#T=new Map;#O=new Map;#C=new Map;#N=new Map;#R;get parseVariablesContext(){return this.#R}constructor(e,t,a,n){this.#S=e,this.#I=t,this.#P=a,this.#k=n}getDefinitionIds(){return Array.from(this.#T.keys())}getInstanceIds(){return Array.from(this.#O.keys())}handleUpdateFeedbacks(e){for(const[t,a]of Object.entries(e)){const e=this.#O.get(t);if(e){const t=this.#T.get(e.feedbackId);if(t?.unsubscribe){const a={parseVariablesInString:async t=>(await this.#S({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.unsubscribe(r(t.type,e),a)).catch((t=>{this.#k("error",`Feedback unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}if(!a||a.disabled)this.#O.delete(t);else{this.#O.set(t,{...a,referencedVariables:null});const e=this.#T.get(a.feedbackId);if(e?.subscribe){const t={parseVariablesInString:async e=>(await this.#S({text:e,controlId:a.controlId,actionInstanceId:void 0,feedbackInstanceId:a.id})).text};Promise.resolve(e.subscribe(r(e.type,a),t)).catch((e=>{this.#k("error",`Feedback subscribe failed: ${JSON.stringify(a)} - ${e?.message??e} ${e?.stack}`)}))}this.#D(t)}}}async handleLearnFeedback(e){const t=this.#T.get(e.feedback.feedbackId);if(t&&t.learn){const a={parseVariablesInString:async t=>(await this.#S({text:t,controlId:e.feedback.controlId,actionInstanceId:void 0,feedbackInstanceId:e.feedback.id})).text};return{options:await t.learn({id:e.feedback.id,feedbackId:e.feedback.feedbackId,controlId:e.feedback.controlId,options:e.feedback.options,type:t.type},a)}}return{options:void 0}}handleVariablesChanged(e){if(!e.variablesIds.length)return;const t=new Set(e.variablesIds);for(const t of this.#N.values())for(const a of e.variablesIds)t.changedVariables.add(a);const a=new Set;for(const e of this.#O.values())if(!this.#N.has(e.id)&&e.referencedVariables)for(const n of e.referencedVariables)if(t.has(n)){a.add(e.id);break}for(const e of a)setImmediate((()=>{this.#D(e)}))}#D(e){const t=this.#N.get(e);if(t)return void(t.needsRecheck=!0);const a=this.#O.get(e);if(!a)return;const n=a,o={needsRecheck:!1,changedVariables:new Set};this.#N.set(e,o),Promise.resolve().then((async()=>{const t=this.#T.get(n.feedbackId);let a;const o=new Set;if(t){this.#R=`Feedback ${n.feedbackId} (${e})`;const i={parseVariablesInString:async t=>{const a=await this.#S({text:t,controlId:n.controlId,actionInstanceId:void 0,feedbackInstanceId:e});if(a.variableIds&&a.variableIds.length)for(const e of a.variableIds)o.add(e);return a.text}};a="boolean"===t.type?t.callback({...r("boolean",n),type:"boolean",_rawBank:n.rawBank},i):t.callback({...r("advanced",n),type:"advanced",image:n.image,_page:n.page,_bank:n.bank,_rawBank:n.rawBank},i),this.#R=void 0}const i=await a;this.#C.set(e,{id:e,controlId:n.controlId,value:i}),this.#G(),n.referencedVariables=o.size>0?Array.from(o):null})).catch((e=>{console.error(`Feedback check failed: ${JSON.stringify(n)} - ${e?.message??e} ${e?.stack}`)})).finally((()=>{this.#R=void 0,this.#N.delete(e);let t=!1;if(n.referencedVariables)for(const e of n.referencedVariables)if(o.changedVariables.has(e)){t=!0;break}(t||o.needsRecheck)&&setImmediate((()=>{this.#D(e)}))}))}#G=(0,i.default)((()=>{const e=this.#C;this.#C=new Map,e.size>0&&this.#I({values:Array.from(e.values())})}),{wait:5,maxWait:25});setFeedbackDefinitions(e){const t=[];this.#T.clear();for(const[a,n]of Object.entries(e))n&&(t.push({id:a,name:n.name,description:n.description,options:(0,o.serializeIsVisibleFn)(n.options),type:n.type,defaultStyle:"defaultStyle"in n?n.defaultStyle:void 0,hasLearn:!!n.learn}),this.#T.set(a,n));this.#P({feedbacks:t})}checkFeedbacks(e){const t=new Set(e);for(const[e,a]of this.#O.entries())this.#T.get(a.feedbackId)&&(0===t.size||t.has(a.feedbackId))&&this.#D(e)}checkFeedbacksById(e){for(const t of e)this.#D(t)}_getAllFeedbacks(){return Array.from(this.#O.values()).map((e=>({id:e.id,feedbackId:e.feedbackId,controlId:e.controlId,options:e.options})))}subscribeFeedbacks(e){let t=Array.from(this.#O.values());const a=new Set(e);a.size&&(t=t.filter((e=>a.has(e.feedbackId))));for(const e of t){const t=this.#T.get(e.feedbackId);if(t?.subscribe){const a={parseVariablesInString:async t=>(await this.#S({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.subscribe(r(t.type,e),a)).catch((t=>{this.#k("error",`Feedback subscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}unsubscribeFeedbacks(e){let t=Array.from(this.#O.values());const a=new Set(e);a.size&&(t=t.filter((e=>a.has(e.feedbackId))));for(const e of t){const t=this.#T.get(e.feedbackId);if(t&&t.unsubscribe){const a={parseVariablesInString:async t=>(await this.#S({text:t,controlId:e.controlId,actionInstanceId:void 0,feedbackInstanceId:e.id})).text};Promise.resolve(t.unsubscribe(r(t.type,e),a)).catch((t=>{this.#k("error",`Feedback unsubscribe failed: ${JSON.stringify(e)} - ${t?.message??t} ${t?.stack}`)}))}}}}},1806:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runThroughUpgradeScripts=void 0;const n=a(2068);function o(e){return JSON.parse(JSON.stringify(e))}t.runThroughUpgradeScripts=function(e,t,a,i,r,s){const l=new Map,c=e=>{let t=l.get(e);return t||(t={actions:[],feedbacks:[],config:!1},l.set(e,t)),t};for(const t of Object.values(e)){const e=t?.upgradeIndex??a;t&&"number"==typeof e&&c(e).actions.push(t.id)}for(const e of Object.values(t)){const t=e?.upgradeIndex??a;e&&"number"==typeof t&&c(t).feedbacks.push(e.id)}if(!s)for(let e=a??-1;e<i.length;e++)c(e).config=!0;const d={},u={};let p;if(l.size>0){const s=Array.from(l.keys()).sort(),c=Math.min(...s,a??-1)+1,m=[],h=[],_=i.length;for(let a=c;a<_;a++){const s=l.get(a-1);s&&(m.push(...s.actions),h.push(...s.feedbacks));const c=!!s?.config;if(!c&&0===m.length&&0===h.length)continue;const _=p??r,f=(0,i[a])({currentConfig:o(_)},{config:c?_:null,actions:m.map((t=>{const a=e[t];if(a)return(0,n.literal)({id:a.id,controlId:a.controlId,actionId:a.actionId,options:o(a.options)})})).filter((e=>!!e)),feedbacks:h.map((e=>{const a=t[e];if(a)return(0,n.literal)({id:a.id,controlId:a.controlId,feedbackId:a.feedbackId,options:o(a.options)})})).filter((e=>!!e))});c&&f.updatedConfig&&(p=f.updatedConfig);for(const t of f.updatedActions)if(t){const a=e[t.id];a&&(a.actionId=t.actionId,a.options=t.options,u[t.id]=a)}for(const e of f.updatedFeedbacks)if(e){const a=t[e.id];a&&(a.feedbackId=e.feedbackId,a.options=e.options,d[e.id]={...a,style:d[e.id]?.style??e.style})}}for(const[t,a]of Object.entries(e))u[t]||"number"!=typeof a?.upgradeIndex||(u[t]=a);for(const[e,a]of Object.entries(t))d[e]||"number"!=typeof a?.upgradeIndex||(d[e]=a)}return{updatedActions:u,updatedFeedbacks:d,updatedConfig:p}}},7517:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateManifest=void 0;const n=a(1460).__importDefault(a(4618));t.validateManifest=function(e){if(!(0,n.default)(e)){const e=n.default.errors;if(!e)throw new Error("Manifest failed validation with unknown reason");throw new Error(`Manifest validation failed: ${JSON.stringify(e)}`)}}},8322:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5203:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstanceBase=void 0;const n=a(1460),o=a(2068),i=n.__importDefault(a(5860)),r=a(2557),s=a(1806),l=a(7550),c=a(8221),d=a(4391);t.InstanceBase=class{#U;#M;id;#B=new i.default({concurrency:1});#L=!1;#z=!1;#F={};#V;#$;#j=new Map;#W=new Map;#a;#Y;get instanceOptions(){return this.#a}get label(){return this.#Y}constructor(e){if(!(0,r.isInstanceBaseProps)(e)||!e._isInstanceBaseProps)throw new Error("Module instance is being constructed incorrectly. Make sure you aren't trying to do this manually");this.#a={disableVariableValidation:!1},this.#U=new c.IpcWrapper({init:this._handleInit.bind(this),destroy:this._handleDestroy.bind(this),updateConfigAndLabel:this._handleConfigUpdateAndLabel.bind(this),updateConfig:async()=>{},executeAction:this._handleExecuteAction.bind(this),updateFeedbacks:this._handleUpdateFeedbacks.bind(this),updateActions:this._handleUpdateActions.bind(this),getConfigFields:this._handleGetConfigFields.bind(this),handleHttpRequest:this._handleHttpRequest.bind(this),learnAction:this._handleLearnAction.bind(this),learnFeedback:this._handleLearnFeedback.bind(this),startStopRecordActions:this._handleStartStopRecordActions.bind(this),variablesChanged:this._handleVariablesChanged.bind(this)},(e=>{process.send(e)}),5e3),process.on("message",(e=>{this.#U.receivedMessage(e)})),this.#V=new d.ActionManager((async e=>this.#U.sendWithCb("parseVariablesInString",e)),(e=>this.#U.sendWithNoCb("setActionDefinitions",e)),this.log.bind(this)),this.#$=new l.FeedbackManager((async e=>this.#U.sendWithCb("parseVariablesInString",e)),(e=>this.#U.sendWithNoCb("updateFeedbackValues",e)),(e=>this.#U.sendWithNoCb("setFeedbackDefinitions",e)),this.log.bind(this)),this.#M=e.upgradeScripts,this.id=e.id,this.#Y=e.id,this.log("debug","Initializing")}async _handleInit(e){return this.#B.add((async()=>{if(this.#L)throw new Error("Already initialized");const t=e.actions,a=e.feedbacks;if(this.#F=e.config,this.#Y=e.label,e.isFirstInit){const t={},a=this.getConfigFields();for(const e of a)"default"in e&&(t[e.id]=e.default);this.#F=t,this.saveConfig(this.#F),e.lastUpgradeIndex=this.#M.length-1}const{updatedActions:n,updatedFeedbacks:o,updatedConfig:i}=(0,s.runThroughUpgradeScripts)(t,a,e.lastUpgradeIndex,this.#M,this.#F,!1);this.#F=i??this.#F;const r=this.#U.sendWithCb("upgradedItems",{updatedActions:n,updatedFeedbacks:o});try{await this.init(this.#F,!!e.isFirstInit),this.#L=!0}catch(e){throw console.trace(`Init failed: ${e}`),e}finally{await r}return setImmediate((()=>{this._handleUpdateActions({actions:t},!0).catch((e=>{this.log("error",`Receive actions failed: ${e}`)})),this._handleUpdateFeedbacks({feedbacks:a},!0).catch((e=>{this.log("error",`Receive feedbacks failed: ${e}`)}))})),{hasHttpHandler:"function"==typeof this.handleHttpRequest,hasRecordActionsHandler:"function"==typeof this.handleStartStopRecordActions,newUpgradeIndex:this.#M.length-1,updatedConfig:this.#F}}))}async _handleDestroy(){await this.#B.add((async()=>{if(!this.#L)throw new Error("Not initialized");await this.destroy(),this.#L=!1}))}async _handleConfigUpdateAndLabel(e){await this.#B.add((async()=>{if(!this.#L)throw new Error("Not initialized");this.#Y=e.label,this.#F=e.config,await this.configUpdated(this.#F)}))}async _handleExecuteAction(e){return this.#V.handleExecuteAction(e)}async _handleUpdateFeedbacks(e,t){if(!t){const t=(0,s.runThroughUpgradeScripts)({},e.feedbacks,null,this.#M,this.#F,!0);this.#U.sendWithCb("upgradedItems",{updatedActions:t.updatedActions,updatedFeedbacks:t.updatedFeedbacks}).catch((e=>{this.log("error",`Failed to save upgraded feedbacks: ${e}`)}))}this.#$.handleUpdateFeedbacks(e.feedbacks)}async _handleUpdateActions(e,t){if(!t){const t=(0,s.runThroughUpgradeScripts)(e.actions,{},null,this.#M,this.#F,!0);this.#U.sendWithCb("upgradedItems",{updatedActions:t.updatedActions,updatedFeedbacks:t.updatedFeedbacks}).catch((e=>{this.log("error",`Failed to save upgraded actions: ${e}`)}))}this.#V.handleUpdateActions(e.actions)}async _handleGetConfigFields(e){return{fields:(0,r.serializeIsVisibleFn)(this.getConfigFields())}}async _handleHttpRequest(e){if(!this.handleHttpRequest)throw new Error("handleHttpRequest is not supported!");return{response:await this.handleHttpRequest(e.request)}}async _handleLearnAction(e){return this.#V.handleLearnAction(e)}async _handleLearnFeedback(e){return this.#$.handleLearnFeedback(e)}async _handleStartStopRecordActions(e){if(e.recording){if(this.#z)return}else if(!this.#z)return;if(!this.handleStartStopRecordActions)throw this.#z=!1,new Error("Recording actions is not supported by this module!");this.#z=e.recording,this.handleStartStopRecordActions(this.#z)}async _handleVariablesChanged(e){this.#$.handleVariablesChanged(e)}saveConfig(e){this.#F=e,this.#U.sendWithNoCb("saveConfig",{config:e})}setActionDefinitions(e){this.#V.setActionDefinitions(e)}setFeedbackDefinitions(e){this.#$.setFeedbackDefinitions(e)}setPresetDefinitions(e){const t=[];for(const[a,n]of Object.entries(e))n&&t.push({...n,id:a});this.#U.sendWithNoCb("setPresetDefinitions",{presets:t})}setVariableDefinitions(e){const t=[];this.#j.clear();for(const a of e)t.push({id:a.variableId,name:a.name}),this.#j.set(a.variableId,a),this.#W.has(a.variableId)||this.#W.set(a.variableId,"");if(!this.#a.disableVariableValidation){const e=new Set(this.#j.keys());for(const t of this.#W.keys())e.has(t)||this.#W.delete(t)}this.#U.sendWithNoCb("setVariableDefinitions",{variables:t})}setVariableValues(e){const t=[];for(const[a,n]of Object.entries(e))this.#a.disableVariableValidation?(void 0===n?this.#W.delete(a):this.#W.set(a,n),t.push({id:a,value:n})):this.#j.has(a)?(this.#W.set(a,n??""),t.push({id:a,value:n??""})):t.push({id:a,value:void 0});this.#U.sendWithNoCb("setVariableValues",{newValues:t})}getVariableValue(e){return this.#W.get(e)}async parseVariablesInString(e){const t=this.#$.parseVariablesContext;return t&&this.log("debug",`parseVariablesInString called while in: ${t}. You should use the parseVariablesInString provided to the callback instead`),(await this.#U.sendWithCb("parseVariablesInString",{text:e,controlId:void 0,actionInstanceId:void 0,feedbackInstanceId:void 0})).text}checkFeedbacks(...e){this.#$.checkFeedbacks(e)}checkFeedbacksById(...e){this.#$.checkFeedbacksById(e)}_getAllActions(){return this.#V._getAllActions()}subscribeActions(...e){this.#V.subscribeActions(e)}unsubscribeActions(...e){this.#V.unsubscribeActions(e)}_getAllFeedbacks(){return this.#$._getAllFeedbacks()}subscribeFeedbacks(...e){this.#$.subscribeFeedbacks(e)}unsubscribeFeedbacks(...e){this.#$.unsubscribeFeedbacks(e)}recordAction(e,t){if(!this.#z)throw new Error("Not currently recording actions");this.#U.sendWithNoCb("recordAction",{uniquenessId:t??null,actionId:e.actionId,options:e.options})}setCustomVariableValue(e,t){this.#U.sendWithNoCb("setCustomVariable",{customVariableId:e,value:t})}oscSend(e,t,a,n){this.#U.sendWithNoCb("send-osc",(0,o.literal)({host:e,port:t,path:a,args:n}))}updateStatus(e,t){this.#U.sendWithNoCb("set-status",(0,o.literal)({status:e,message:t??null}))}log(e,t){this.#U.sendWithNoCb("log-message",(0,o.literal)({level:e,message:t}))}}},9051:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},609:(e,t)=>{"use strict";var a,n;Object.defineProperty(t,"__esModule",{value:!0}),t.Regex=t.InstanceStatus=void 0,(n=t.InstanceStatus||(t.InstanceStatus={})).Ok="ok",n.Connecting="connecting",n.Disconnected="disconnected",n.ConnectionFailure="connection_failure",n.BadConfig="bad_config",n.UnknownError="unknown_error",n.UnknownWarning="unknown_warning",(a=t.Regex||(t.Regex={})).IP="/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/",a.HOSTNAME="/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$/",a.BOOLEAN="/^(true|false|0|1)$/i",a.PORT="/^([1-9]|[1-8][0-9]|9[0-9]|[1-8][0-9]{2}|9[0-8][0-9]|99[0-9]|[1-8][0-9]{3}|9[0-8][0-9]{2}|99[0-8][0-9]|999[0-9]|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-4])$/",a.PERCENT="/^(100|[0-9]|[0-9][0-9])$/",a.FLOAT="/^([0-9]*\\.)?[0-9]+$/",a.SIGNED_FLOAT="/^[+-]?([0-9]*\\.)?[0-9]+$/",a.FLOAT_OR_INT="/^([0-9]+)(\\.[0-9]+)?$/",a.NUMBER="/^\\d+$/",a.SIGNED_NUMBER="/^[+-]?\\d+$/",a.SOMETHING="/^.+$/",a.TIMECODE="/^(0*[0-9]|1[0-9]|2[0-4]):(0*[0-9]|[1-5][0-9]|60):(0*[0-9]|[1-5][0-9]|60):(0*[0-9]|[12][0-9]|30)$/"},4334:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2490:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4911:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(1460);n.__exportStar(a(8322),t),n.__exportStar(a(5203),t),n.__exportStar(a(9051),t),n.__exportStar(a(609),t),n.__exportStar(a(4334),t),n.__exportStar(a(2490),t),n.__exportStar(a(3646),t),n.__exportStar(a(3558),t),n.__exportStar(a(4788),t),n.__exportStar(a(521),t),n.__exportStar(a(6870),t)},3646:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4788:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},521:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreateConvertToBooleanFeedbackUpgradeScript=t.EmptyUpgradeScript=void 0,t.EmptyUpgradeScript=()=>({updatedConfig:null,updatedActions:[],updatedFeedbacks:[]}),t.CreateConvertToBooleanFeedbackUpgradeScript=function(e){return(t,a)=>{const n=[];for(const t of a.feedbacks){let a=e[t.feedbackId];if(!0===a&&(a={bg:"bgcolor",bgcolor:"bgcolor",fg:"color",color:"color",png64:"png64",png:"png64"}),a){t.style||(t.style={});for(const[e,o]of Object.entries(a))void 0!==t.options[e]&&(t.style[o]=t.options[e],delete t.options[e],n.push(t))}}return{updatedConfig:null,updatedActions:[],updatedFeedbacks:n}}}},6870:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2068:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitRgb=t.combineRgb=t.assertNever=t.literal=void 0,t.literal=function(e){return e},t.assertNever=function(e){},t.combineRgb=function(e,t,a){return(255&e)<<16|(255&t)<<8|255&a},t.splitRgb=function(e){return{r:(16711680&e)>>16,g:(65280&e)>>8,b:255&e}}},4618:(e,t,a)=>{"use strict";e.exports=i,e.exports.default=i;const n={$schema:"http://json-schema.org/draft-07/schema#",type:"object",title:"ModuleManifest",properties:{id:{type:"string",description:"Unique identifier for the module"},name:{type:"string",description:"Name of the module"},shortname:{type:"string"},description:{type:"string",description:"Description of the module "},version:{type:"string",description:"Current version of the module"},license:{type:"string",description:"SPDX identifier for license of the module"},repository:{type:"string",description:"URL to the source repository"},bugs:{type:"string",description:"URL to bug tracker"},maintainers:{type:"array",description:"List of active maintiners",uniqueItems:!0,items:{type:"object",title:"ModuleManifestMaintainer",properties:{name:{type:"string"},email:{type:"string"},github:{type:"string"}},required:["name"]}},legacyIds:{type:"array",description:"If the module had a different unique identifier previously, then specify it here",uniqueItems:!0,items:{type:"string"}},runtime:{type:"object",title:"ModuleManifestRuntime",description:"Information on how to execute the module",properties:{type:{type:"string",description:"Type of the module. Must be: node18"},api:{type:"string",description:"Which host-api does it use. In the future alternate options will be allowed",enum:["nodejs-ipc"]},apiVersion:{type:"string",description:"The version of the host-api used"},entrypoint:{type:"string",description:"Entrypoint to pass to the runtime. eg index.js"}},required:["type","api","apiVersion","entrypoint"]},manufacturer:{type:"string"},products:{type:"array",uniqueItems:!0,items:{type:"string"}},keywords:{type:"array",uniqueItems:!0,items:{type:"string"}}},required:["id","name","shortname","description","version","license","repository","bugs","maintainers","legacyIds","runtime","manufacturer","products","keywords"]},o=a(7056).Z;function i(e,{instancePath:t="",parentData:a,parentDataProperty:r,rootData:s=e}={}){if(!e||"object"!=typeof e||Array.isArray(e))return i.errors=[{instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let a;if(void 0===e.id&&(a="id")||void 0===e.name&&(a="name")||void 0===e.shortname&&(a="shortname")||void 0===e.description&&(a="description")||void 0===e.version&&(a="version")||void 0===e.license&&(a="license")||void 0===e.repository&&(a="repository")||void 0===e.bugs&&(a="bugs")||void 0===e.maintainers&&(a="maintainers")||void 0===e.legacyIds&&(a="legacyIds")||void 0===e.runtime&&(a="runtime")||void 0===e.manufacturer&&(a="manufacturer")||void 0===e.products&&(a="products")||void 0===e.keywords&&(a="keywords"))return i.errors=[{instancePath:t,schemaPath:"#/required",keyword:"required",params:{missingProperty:a},message:"must have required property '"+a+"'"}],!1;if(void 0!==e.id){const a=0;if("string"!=typeof e.id)return i.errors=[{instancePath:t+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=0===a}else l=!0;if(l){if(void 0!==e.name){const a=0;if("string"!=typeof e.name)return i.errors=[{instancePath:t+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===a}else l=!0;if(l){if(void 0!==e.shortname){const a=0;if("string"!=typeof e.shortname)return i.errors=[{instancePath:t+"/shortname",schemaPath:"#/properties/shortname/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===a}else l=!0;if(l){if(void 0!==e.description){const a=0;if("string"!=typeof e.description)return i.errors=[{instancePath:t+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===a}else l=!0;if(l){if(void 0!==e.version){const a=0;if("string"!=typeof e.version)return i.errors=[{instancePath:t+"/version",schemaPath:"#/properties/version/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===a}else l=!0;if(l){if(void 0!==e.license){const a=0;if("string"!=typeof e.license)return i.errors=[{instancePath:t+"/license",schemaPath:"#/properties/license/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===a}else l=!0;if(l){if(void 0!==e.repository){const a=0;if("string"!=typeof e.repository)return i.errors=[{instancePath:t+"/repository",schemaPath:"#/properties/repository/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===a}else l=!0;if(l){if(void 0!==e.bugs){const a=0;if("string"!=typeof e.bugs)return i.errors=[{instancePath:t+"/bugs",schemaPath:"#/properties/bugs/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===a}else l=!0;if(l){if(void 0!==e.maintainers){let a=e.maintainers;const n=0;if(0===n){if(!Array.isArray(a))return i.errors=[{instancePath:t+"/maintainers",schemaPath:"#/properties/maintainers/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var c=!0;const e=a.length;for(let n=0;n<e;n++){let e=a[n];const o=0;if(0===o){if(!e||"object"!=typeof e||Array.isArray(e))return i.errors=[{instancePath:t+"/maintainers/"+n,schemaPath:"#/properties/maintainers/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let a;if(void 0===e.name&&(a="name"))return i.errors=[{instancePath:t+"/maintainers/"+n,schemaPath:"#/properties/maintainers/items/required",keyword:"required",params:{missingProperty:a},message:"must have required property '"+a+"'"}],!1;if(void 0!==e.name){const a=0;if("string"!=typeof e.name)return i.errors=[{instancePath:t+"/maintainers/"+n+"/name",schemaPath:"#/properties/maintainers/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var d=0===a}else d=!0;if(d){if(void 0!==e.email){const a=0;if("string"!=typeof e.email)return i.errors=[{instancePath:t+"/maintainers/"+n+"/email",schemaPath:"#/properties/maintainers/items/properties/email/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;d=0===a}else d=!0;if(d)if(void 0!==e.github){const a=0;if("string"!=typeof e.github)return i.errors=[{instancePath:t+"/maintainers/"+n+"/github",schemaPath:"#/properties/maintainers/items/properties/github/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;d=0===a}else d=!0}}}if(!(c=0===o))break}if(c){let e,n=a.length;if(n>1)for(;n--;)for(e=n;e--;)if(o(a[n],a[e]))return i.errors=[{instancePath:t+"/maintainers",schemaPath:"#/properties/maintainers/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1}}}l=0===n}else l=!0;if(l){if(void 0!==e.legacyIds){let a=e.legacyIds;const n=0;if(0===n){if(!Array.isArray(a))return i.errors=[{instancePath:t+"/legacyIds",schemaPath:"#/properties/legacyIds/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var u=!0;const e=a.length;for(let n=0;n<e;n++){const e=0;if("string"!=typeof a[n])return i.errors=[{instancePath:t+"/legacyIds/"+n,schemaPath:"#/properties/legacyIds/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(u=0===e))break}if(u){let e,n=a.length;if(n>1){const o={};for(;n--;){let r=a[n];if("string"==typeof r){if("number"==typeof o[r])return e=o[r],i.errors=[{instancePath:t+"/legacyIds",schemaPath:"#/properties/legacyIds/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1;o[r]=n}}}}}}l=0===n}else l=!0;if(l){if(void 0!==e.runtime){let a=e.runtime;const o=0;if(0===o){if(!a||"object"!=typeof a||Array.isArray(a))return i.errors=[{instancePath:t+"/runtime",schemaPath:"#/properties/runtime/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let e;if(void 0===a.type&&(e="type")||void 0===a.api&&(e="api")||void 0===a.apiVersion&&(e="apiVersion")||void 0===a.entrypoint&&(e="entrypoint"))return i.errors=[{instancePath:t+"/runtime",schemaPath:"#/properties/runtime/required",keyword:"required",params:{missingProperty:e},message:"must have required property '"+e+"'"}],!1;if(void 0!==a.type){const e=0;if("string"!=typeof a.type)return i.errors=[{instancePath:t+"/runtime/type",schemaPath:"#/properties/runtime/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var p=0===e}else p=!0;if(p){if(void 0!==a.api){let e=a.api;const o=0;if("string"!=typeof e)return i.errors=[{instancePath:t+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("nodejs-ipc"!==e)return i.errors=[{instancePath:t+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/enum",keyword:"enum",params:{allowedValues:n.properties.runtime.properties.api.enum},message:"must be equal to one of the allowed values"}],!1;p=0===o}else p=!0;if(p){if(void 0!==a.apiVersion){const e=0;if("string"!=typeof a.apiVersion)return i.errors=[{instancePath:t+"/runtime/apiVersion",schemaPath:"#/properties/runtime/properties/apiVersion/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=0===e}else p=!0;if(p)if(void 0!==a.entrypoint){const e=0;if("string"!=typeof a.entrypoint)return i.errors=[{instancePath:t+"/runtime/entrypoint",schemaPath:"#/properties/runtime/properties/entrypoint/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;p=0===e}else p=!0}}}}l=0===o}else l=!0;if(l){if(void 0!==e.manufacturer){const a=0;if("string"!=typeof e.manufacturer)return i.errors=[{instancePath:t+"/manufacturer",schemaPath:"#/properties/manufacturer/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===a}else l=!0;if(l){if(void 0!==e.products){let a=e.products;const n=0;if(0===n){if(!Array.isArray(a))return i.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var m=!0;const e=a.length;for(let n=0;n<e;n++){const e=0;if("string"!=typeof a[n])return i.errors=[{instancePath:t+"/products/"+n,schemaPath:"#/properties/products/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(m=0===e))break}if(m){let e,n=a.length;if(n>1){const o={};for(;n--;){let r=a[n];if("string"==typeof r){if("number"==typeof o[r])return e=o[r],i.errors=[{instancePath:t+"/products",schemaPath:"#/properties/products/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1;o[r]=n}}}}}}l=0===n}else l=!0;if(l)if(void 0!==e.keywords){let a=e.keywords;const n=0;if(0===n){if(!Array.isArray(a))return i.errors=[{instancePath:t+"/keywords",schemaPath:"#/properties/keywords/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var h=!0;const e=a.length;for(let n=0;n<e;n++){const e=0;if("string"!=typeof a[n])return i.errors=[{instancePath:t+"/keywords/"+n,schemaPath:"#/properties/keywords/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(h=0===e))break}if(h){let e,n=a.length;if(n>1){const o={};for(;n--;){let r=a[n];if("string"==typeof r){if("number"==typeof o[r])return e=o[r],i.errors=[{instancePath:t+"/keywords",schemaPath:"#/properties/keywords/uniqueItems",keyword:"uniqueItems",params:{i:n,j:e},message:"must NOT have duplicate items (items ## "+e+" and "+n+" are identical)"}],!1;o[r]=n}}}}}}l=0===n}else l=!0}}}}}}}}}}}}}return i.errors=null,!0}},7135:(e,t,a)=>{if(!globalThis.ReadableStream)try{const e=a(7742),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,a(2477)),e.emitWarning=t}catch(a){throw e.emitWarning=t,a}}catch(e){Object.assign(globalThis,a(2660))}try{const{Blob:e}=a(8709);e&&!e.prototype.stream&&(e.prototype.stream=function(e){let t=0;const a=this;return new ReadableStream({type:"bytes",async pull(e){const n=a.slice(t,Math.min(a.size,t+65536)),o=await n.arrayBuffer();t+=o.byteLength,e.enqueue(new Uint8Array(o)),t===a.size&&e.close()}})})}catch(e){}},4300:(e,t,a)=>{let n,o,i=a(6113),{urlAlphabet:r}=a(3792),s=e=>{!n||n.length<e?(n=Buffer.allocUnsafe(128*e),i.randomFillSync(n),o=0):o+e>n.length&&(i.randomFillSync(n),o=0),o+=e},l=e=>(s(e-=0),n.subarray(o-e,o)),c=(e,t,a)=>{let n=(2<<31-Math.clz32(e.length-1|1))-1,o=Math.ceil(1.6*n*t/e.length);return(i=t)=>{let r="";for(;;){let t=a(o),s=o;for(;s--;)if(r+=e[t[s]&n]||"",r.length===i)return r}}};e.exports={nanoid:(e=21)=>{s(e-=0);let t="";for(let a=o-e;a<o;a++)t+=r[63&n[a]];return t},customAlphabet:(e,t=21)=>c(e,t,l),customRandom:c,urlAlphabet:r,random:l}},3792:e=>{e.exports={urlAlphabet:"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"}},1260:(e,t,a)=>{"use strict";var n=a(8049);const o=(...e)=>e.reduce(((e,t)=>({...e,...t})));function i(e,t){let a=Buffer.from(e,"binary").toString("hex"),n=parseInt(a,16)+parseInt(t,16);return String.fromCharCode(n.toString())}function r(e,t,a,n){let o=[],i=n/e;for(let n=e;n>=t;n-=a){let e=n<0?(i*n>>>0).toString(16).slice(4):("0000"+Math.round(i*n).toString(16)).slice(-4);o.push({id:e,label:n+String.fromCharCode(176)})}return o}function s(e,t,a,n){let o=[],i=n/(e-1);for(let n=e;n>=t;n-=a){let e=("0000"+Math.round(i*(n-1)).toString(16)).slice(-4);o.push({id:e,label:n+"X"})}return o}function l(e,t){if(Array.isArray(e))return t?(t=~~parseInt("f"==t[0]?"FFFF"+t:t,16),e.reduce(((e,a)=>{let n=~~parseInt("f"==e.id[0]?"FFFF"+e.id:e.id,16),o=~~parseInt("f"==a.id[0]?"FFFF"+a.id:a.id,16);return Math.abs(o-t)<Math.abs(n-t)?a:e})).label):"0"+String.fromCharCode(176)}function c(e){return i("\0",e[0])+i("\0",e[1])+i("\0",e[2])+i("\0",e[3])}function d(e,t){let a=e[1].name,n=t[1].name;return a<n?-1:a>n?1:0}function u(e,t){let a=e[1].label,n=t[1].label;return a<n?-1:a>n?1:0}function p(e,t,a){const n=[];let o=Object.entries(e).filter((e=>(e[1].camera.includes(a)||e[1].camera.includes("All"))&&e[1].firmware.includes(t)&&e[1]?.variableId));return o.sort(d),o.forEach((e=>n.push({name:e[1].name,variableId:e[1].variableId}))),n}function m(e,t,a){const n=[];let i=Object.entries(e).filter((e=>(e[1].camera.includes(a)||e[1].camera.includes("All"))&&e[1].firmware.includes(t)&&e[1]?.action));return i.sort(d),i.forEach((e=>n.push({[e[0]]:o({name:e[1].name},h(e[1].action,t,a))}))),o(...n)}function h(e,t,a){let n=e.filter((e=>e.camera.includes("common"))),i=e.filter((e=>(e.camera.includes(a)||e.camera.includes("All"))&&(e.firmware?.includes(t)??!0)));return o(n[0]?.action,i[0]?.action)}function _(e,t,a){let n=Object.entries(e);return Object.fromEntries(n.filter((e=>(e[1].camera.includes(t)||e[1].camera.includes("All"))&&e[1].firmware.includes(a))))}function f(e,t){return t.filter((t=>t.id!==e&&"Toggle"!==t.id))[0].id}let g=[];for(let e=28;e<=65;e++)g.push({id:e+"00",label:e+"00k"});const b={CAMERAS:[{id:"Auto",label:"Auto Detect"},{id:"P100",label:"P100"},{id:"P110",label:"P110"},{id:"P120",label:"P120"},{id:"PF120",label:"PF120"},{id:"P200A2A3",label:"P200 A2_A3",other:["P200A2_A3"]},{id:"P200A4A5",label:"P200 A4_A5",other:["P200A4_A5"]},{id:"A200GEN1",label:"A200 GEN1"},{id:"A200GEN2",label:"A200 GEN2"},{id:"A300GEN1",label:"A300 GEN1"},{id:"A300GEN2",label:"A300 GEN2"},{id:"P240",label:"P240"},{id:"P400",label:"P400",other:["EYES P400","EYESP400"]},{id:"P4K",label:"P4K",other:["EYES P4K","EYESP4K"]}],ON_OFF:[{id:"On",label:"On"},{id:"Off",label:"Off"}],STANDBY:[{id:"on",label:"Cam On"},{id:"standby",label:"Standby"}],L_M_H:[{id:"LOW",label:"Low"},{id:"MEDIUM",label:"Medium"},{id:"HIGH",label:"High"}],L_Mid_H:[{id:"LOW",label:"Low"},{id:"MID",label:"Mid"},{id:"HIGH",label:"High"}],OFF_L_M_H:[{id:"OFF",label:"Off"},{id:"LOW",label:"Low"},{id:"MEDIUM",label:"Medium"},{id:"HIGH",label:"High"}],UP_DOWN_VALUE:[{id:"up",label:"Up"},{id:"down",label:"Down"},{id:"value",label:"Value"}],UP_DOWN_RESET_VALUE:[{id:"up",label:"Up"},{id:"down",label:"Down"},{id:"reset",label:"Reset"},{id:"value",label:"Value"}],OFF_1_to_5:[{id:"0",label:"Off"},{id:"1",label:"1"},{id:"2",label:"2"},{id:"3",label:"3"},{id:"4",label:"4"},{id:"5",label:"5"}],OFF_1_to_6:[{id:"0",label:"Off"},{id:"1",label:"1"},{id:"2",label:"2"},{id:"3",label:"3"},{id:"4",label:"4"},{id:"5",label:"5"},{id:"6",label:"6"}],IRIS_1:[{id:"0",label:"CLOSED"},{id:"1",label:"F14.0"},{id:"2",label:"F11.0"},{id:"3",label:"F9.6"},{id:"4",label:"F8.0"},{id:"5",label:"F6.8"},{id:"6",label:"F5.6"},{id:"7",label:"F4.8"},{id:"8",label:"F4.0"},{id:"9",label:"F3.4"},{id:"10",label:"F2.8"},{id:"11",label:"F2.4"},{id:"12",label:"F2.0"},{id:"13",label:"F1.8"}],IRIS_2:[{id:"4",label:"CLOSED"},{id:"5",label:"F14.0"},{id:"6",label:"F11.0"},{id:"7",label:"F9.6"},{id:"8",label:"F8.0"},{id:"9",label:"F6.8"},{id:"10",label:"F5.6"},{id:"11",label:"F4.8"},{id:"12",label:"F4.0"},{id:"13",label:"F3.4"},{id:"14",label:"F2.8"},{id:"15",label:"F2.4"},{id:"16",label:"F2.0"},{id:"17",label:"F1.6"}],IRIS_3:[{id:"0",label:"CLOSED"},{id:"5",label:"F11.0"},{id:"6",label:"F10.0"},{id:"7",label:"F9.6"},{id:"8",label:"F8.7"},{id:"9",label:"F8.0"},{id:"10",label:"F7.3"},{id:"11",label:"F6.8"},{id:"12",label:"F6.2"},{id:"13",label:"F5.6"},{id:"14",label:"F5.2"},{id:"15",label:"F4.8"},{id:"16",label:"F4.4"},{id:"17",label:"F4.0"},{id:"18",label:"F3.7"},{id:"19",label:"F3.4"},{id:"20",label:"F3.1"},{id:"21",label:"F2.8"}],IRIS_4:[{id:"5",label:"F11.0"},{id:"6",label:"F10.0"},{id:"7",label:"F9.6"},{id:"8",label:"F8.7"},{id:"9",label:"F8.0"},{id:"10",label:"F7.3"},{id:"11",label:"F6.8"},{id:"12",label:"F6.2"},{id:"13",label:"F5.6"},{id:"14",label:"F5.2"},{id:"15",label:"F4.8"},{id:"16",label:"F4.4"},{id:"17",label:"F4.0"},{id:"18",label:"F3.7"},{id:"19",label:"F3.4"},{id:"20",label:"F3.1"},{id:"21",label:"F2.8"}],GAIN_1:[{id:"0",label:"0 dB"},{id:"1",label:"2 dB"},{id:"2",label:"4 dB"},{id:"3",label:"6 dB"},{id:"4",label:"8 dB"},{id:"5",label:"10 dB"},{id:"6",label:"12 dB"},{id:"7",label:"14 dB"},{id:"8",label:"16 dB"},{id:"9",label:"18 dB"},{id:"10",label:"20 dB"},{id:"11",label:"22 dB"},{id:"12",label:"24 dB"},{id:"13",label:"26 dB"},{id:"14",label:"28 dB"},{id:"15",label:"30 dB"}],GAIN_2:[{id:"1",label:"0 dB"},{id:"2",label:"3.6 dB"},{id:"3",label:"7.1 dB"},{id:"4",label:"10.7 dB"},{id:"5",label:"14.3 dB"},{id:"6",label:"17.8 dB"},{id:"7",label:"21.4  dB"},{id:"8",label:"25 dB"},{id:"9",label:"28.6 dB"},{id:"10",label:"32.1 dB"},{id:"11",label:"35.7 dB"},{id:"12",label:"39.3 dB"},{id:"13",label:"42.8 dB"},{id:"14",label:"46.4 dB"},{id:"15",label:"50 dB"}],GAIN_3:[{id:"1",label:"0 dB"},{id:"2",label:"3 dB"},{id:"3",label:"6 dB"},{id:"4",label:"9 dB"},{id:"5",label:"12 dB"},{id:"6",label:"15 dB"},{id:"7",label:"18 dB"},{id:"8",label:"21 dB"},{id:"9",label:"24 dB"},{id:"10",label:"27 dB"},{id:"11",label:"30 dB"},{id:"12",label:"33 dB"},{id:"13",label:"36 dB"}],SHUTTER_60:[{id:"0",label:"1/1"},{id:"1",label:"1/2"},{id:"2",label:"1/4"},{id:"3",label:"1/8"},{id:"4",label:"1/15"},{id:"5",label:"1/30"},{id:"6",label:"1/60"},{id:"7",label:"1/90"},{id:"8",label:"1/100"},{id:"9",label:"1/125"},{id:"10",label:"1/180"},{id:"11",label:"1/250"},{id:"12",label:"1/350"},{id:"13",label:"1/500"},{id:"14",label:"1/725"},{id:"15",label:"1/1000"},{id:"16",label:"1/1500"},{id:"17",label:"1/2000"},{id:"18",label:"1/3000"},{id:"19",label:"1/4000"},{id:"20",label:"1/6000"},{id:"21",label:"1/10000"}],SHUTTER_50:[{id:"0",label:"1/1"},{id:"1",label:"1/2"},{id:"2",label:"1/3"},{id:"3",label:"1/6"},{id:"4",label:"1/12"},{id:"5",label:"1/25"},{id:"6",label:"1/50"},{id:"7",label:"1/75"},{id:"8",label:"1/100"},{id:"9",label:"1/120"},{id:"10",label:"1/150"},{id:"11",label:"1/215"},{id:"12",label:"1/300"},{id:"13",label:"1/425"},{id:"14",label:"1/600"},{id:"15",label:"1/1000"},{id:"16",label:"1/1250"},{id:"17",label:"1/1750"},{id:"18",label:"1/2500"},{id:"19",label:"1/3500"},{id:"20",label:"1/6000"},{id:"21",label:"1/10000"}],SHUTTER_4K_60:[{id:"6",label:"1/1"},{id:"7",label:"2/3"},{id:"8",label:"1/2"},{id:"9",label:"1/3"},{id:"10",label:"1/4"},{id:"11",label:"1/6"},{id:"12",label:"1/8"},{id:"13",label:"1/10"},{id:"14",label:"1/15"},{id:"15",label:"1/20"},{id:"16",label:"1/30"},{id:"17",label:"1/50"},{id:"18",label:"1/60"},{id:"19",label:"1/90"},{id:"20",label:"1/100"},{id:"21",label:"1/125"},{id:"22",label:"1/180"},{id:"23",label:"1/250"},{id:"24",label:"1/350"},{id:"25",label:"1/500"},{id:"26",label:"1/725"},{id:"27",label:"1/1000"},{id:"28",label:"1/1500"},{id:"29",label:"1/2000"},{id:"30",label:"1/3000"},{id:"31",label:"1/4000"},{id:"32",label:"1/6000"},{id:"33",label:"1/10000"}],SHUTTER_4K_50:[{id:"6",label:"1/1"},{id:"7",label:"2/3"},{id:"8",label:"1/2"},{id:"9",label:"1/3"},{id:"10",label:"1/4"},{id:"11",label:"1/6"},{id:"12",label:"1/8"},{id:"13",label:"1/12"},{id:"14",label:"1/15"},{id:"15",label:"1/20"},{id:"16",label:"1/25"},{id:"17",label:"1/30"},{id:"18",label:"1/50"},{id:"19",label:"1/60"},{id:"20",label:"1/100"},{id:"21",label:"1/120"},{id:"22",label:"1/150"},{id:"23",label:"1/215"},{id:"24",label:"1/300"},{id:"25",label:"1/425"},{id:"26",label:"1/600"},{id:"27",label:"1/1000"},{id:"28",label:"1/1250"},{id:"29",label:"1/1750"},{id:"30",label:"1/2500"},{id:"31",label:"1/3500"},{id:"32",label:"1/6000"},{id:"33",label:"1/10000"}],SHUTTER_4K_24:[{id:"6",label:"1/1"},{id:"7",label:"2/3"},{id:"8",label:"1/2"},{id:"9",label:"1/3"},{id:"10",label:"1/4"},{id:"11",label:"1/6"},{id:"12",label:"1/8"},{id:"13",label:"1/12"},{id:"14",label:"1/20"},{id:"15",label:"1/24"},{id:"16",label:"1/25"},{id:"17",label:"1/40"},{id:"18",label:"1/48"},{id:"19",label:"1/50"},{id:"20",label:"1/60"},{id:"21",label:"1/96"},{id:"22",label:"1/100"},{id:"23",label:"1/120"},{id:"24",label:"1/144"},{id:"25",label:"1/192"},{id:"26",label:"1/200"},{id:"27",label:"1/288"},{id:"28",label:"1/400"},{id:"29",label:"1/576"},{id:"30",label:"1/1200"},{id:"31",label:"1/2400"},{id:"32",label:"1/4800"},{id:"33",label:"1/10000"}],SPEED_CHANGES:[{id:"up",label:"Speed Up"},{id:"down",label:"Speed Down"},{id:"value",label:"Speed Value"}],PTZ_DIRECTION:[{id:"left",label:"Left"},{id:"right",label:"Right"},{id:"up",label:"Up"},{id:"down",label:"Down"},{id:"up_left",label:"Up Left"},{id:"up_right",label:"Up Right"},{id:"down_left",label:"Down Left"},{id:"down_right",label:"Down Right"},{id:"stop",label:"P/T Stop"},{id:"home",label:"P/T Home"},{id:"direct",label:"Direct"}],PTZ_ZOOM:[{id:"in",label:"Zoom In"},{id:"out",label:"Zoom Out"},{id:"direct",label:"Zoom Direct"},{id:"stop",label:"Zoom Stop"}],POS_PAN_P100:r(175,-175,5,2266),POS_PAN_P200:r(175,-175,5,1659),POS_TILT:r(90,-30,5,1181),POS_ZOOM_10:s(10,1,1,16384),POS_ZOOM_12:s(12,1,1,16384),POS_ZOOM_20:s(20,1,1,16384),POS_ZOOM_30:s(30,1,1,16384),PRESET_MODE:[{id:"Camera",label:"Camera"},{id:"Birddog",label:"PTZ Only"}],AUTO_FOCUS:[{id:"Auto",label:"Auto Focus"},{id:"Manual",label:"Manual"}],FOCUS_CONTROL:[{id:"near",label:"Focus Near"},{id:"far",label:"Focus Far"},{id:"stop",label:"Focus Stop"},{id:"trigger",label:"Focus One Push Auto"}],ANALOG_AUDIO_OUTPUT:[{id:"DecodeComms",label:"Comms"},{id:"DecodeLoop",label:"Loop"}],VIDEO_OUTPUT:[{id:"NormalMode",label:"Normal"},{id:"LowLatency",label:"Low Latency"}],ENCODE_TXPM:[{id:"Multicast",label:"Multicast"},{id:"TCP",label:"TCP"},{id:"Multi-TCP",label:"Multi-TCP"},{id:"UDP",label:"UDP"},{id:"RUDP",label:"RUDP"}],ENCODE_NDI_AUDIO:[{id:"NDIAudioAnalog",label:"Analog"},{id:"NDIAudioMute",label:"Mute"}],ENCODE_BANDWIDTH_MODE:[{id:"Manual",label:"Manual"},{id:"NDIManaged",label:"NDI Managed"}],ENCODE_NDIGroup:[{id:"NDIGroupEn",label:"Enabled"},{id:"NDIGroupDis",label:"Disabled"}],TALLY_MODE:[{id:"TallyOn",label:"Tally On"},{id:"TallyOff",label:"Tally Off"}],SCREEN_SAVER_MODE:[{id:"BirdDogSS",label:"BirdDog"},{id:"BlackSS",label:"Black"},{id:"CaptureSS",label:"Capture"}],NDI_DIS_SVR:[{id:"NDIDisServEn",label:"On"},{id:"NDIDisServDis",label:"Off"}],EXP_MODE_1:[{id:"FULL-AUTO",label:"FULL-AUTO"},{id:"MANUAL",label:"MANUAL"},{id:"SHUTTER-PRI",label:"SHUTTER-PRI"},{id:"IRIS-PRI",label:"IRIS-PRI"},{id:"BRIGHT",label:"BRIGHT"}],EXP_MODE_2:[{id:"FULL-AUTO",label:"FULL-AUTO"},{id:"MANUAL",label:"MANUAL"},{id:"SHUTTER-PRI",label:"SHUTTER-PRI"},{id:"IRIS-PRI",label:"IRIS-PRI"}],EXP_MODE_3:[{id:"FULL-AUTO",label:"FULL-AUTO"},{id:"MANUAL",label:"MANUAL"},{id:"SHUTTER-PRI",label:"SHUTTER-PRI"},{id:"IRIS-PRI",label:"IRIS-PRI"},{id:"BRIGHT",label:"BRIGHT"},{id:"GAIN-PRI",label:"GAIN-PRI"}],WB_MODE_1:[{id:"AUTO",label:"Auto"},{id:"INDOOR",label:"Indoor"},{id:"OUTDOOR",label:"Outdoor"},{id:"ONEPUSH",label:"One Push Mode"},{id:"ATW",label:"ATW"},{id:"MANUAL1",label:"Manual 1"},{id:"MANUAL2",label:"Manual 2"}],WB_MODE_1b:[{id:"AUTO",label:"Auto"},{id:"INDOOR",label:"Indoor"},{id:"OUTDOOR",label:"Outdoor"},{id:"ONEPUSH",label:"One Push Mode"},{id:"ATW",label:"ATW"},{id:"USER",label:"User"},{id:"MANUAL2",label:"Manual 2"}],WB_MODE_2:[{id:"AUTO",label:"Auto"},{id:"INDOOR",label:"Indoor"},{id:"OUTDOOR",label:"Outdoor"},{id:"OUTDOOR-AUTO",label:"Outdoor Auto"},{id:"ONEPUSH",label:"One Push Mode"},{id:"ATW",label:"ATW"},{id:"MANUAL1",label:"Manual"},{id:"SLV-AUTO",label:"Sodium Lamp Auto"},{id:"SLV",label:"Sodium Lamp"},{id:"SLV-OUTDOOR-AUTO",label:"Sodium Lamp Outdoor Auto"}],WB_SELECT:[{id:"FL LIGHT",label:"FL LIGHT"},{id:"STD",label:"STD"},{id:"OFF",label:"OFF"},{id:"HIGH SAT",label:"HIGH SAT"}],COLOR_TEMP:g,PICTURE_EFFECT:[{id:"BW",label:"B&W"},{id:"Off",label:"Off"}],IR_CUT_FILTER_1:[{id:"Auto",label:"Auto"},{id:"On",label:"On"},{id:"Off",label:"Off"}],IR_CUT_FILTER_2:[{id:"On",label:"On"},{id:"Off",label:"Off"}],IR_CUT_FILTER_3:[{id:"NoiseReduction",label:"Noise Reduction"}],BRIGHTNESS_COMP:[{id:"VERY DARK",label:"Very Dark"},{id:"DARK",label:"Dark"},{id:"STANDARD",label:"Standard"},{id:"BRIGHT",label:"Bright"}],BANDWIDTH_4K:[{id:"DEFAULT",label:"Default"},{id:"LOW",label:"Low"},{id:"MIDDLE",label:"Middle"},{id:"HIGH",label:"High"},{id:"WIDE",label:"Wide"}],BW_BALANCE_4K:[{id:"TYPE1",label:"Type 1"},{id:"TYPE2",label:"Type 2"},{id:"TYPE3",label:"Type 3"},{id:"TYPE4",label:"Type 4"},{id:"TYPE5",label:"Type 5"}],GAMMA_SETTINGS:[{id:"PATTERN",label:"Pattern"},{id:"STANDARD",label:"Standard"},{id:"STRAIGHT",label:"Straight"}],SCOPE_MODE:[{id:"Histogram",label:"Histogram"},{id:"Waveform",label:"Waveform"},{id:"RGBParade",label:"RGB Parade"},{id:"Vectorscope",label:"Vectorscope"}],SCOPE_POSITION:[{id:"TopLeft",label:"Top Left"},{id:"TopRight",label:"Top Right"},{id:"BottomLeft",label:"Bottom Left"},{id:"BottomRight",label:"Bottom Right"}],SCOPE_SIZE:[{id:"Off",label:"Small"},{id:"On",label:"Large"}]},y={about:{camera:["All"],firmware:["4","5"]},analogaudiosetup:{camera:["All"],firmware:["4","5"]},devicesettings:{camera:["All"],firmware:["5"]},videooutputinterface:{camera:["P240","P400","P4K"],firmware:["4","5"]},encodesetup:{camera:["All"],firmware:["4","5"]},encodetransport:{camera:["All"],firmware:["4","5"]},NDIDisServer:{camera:["All"],firmware:["4","5"]},birddogptzsetup:{camera:["All"],firmware:["4","5"]},recallPost:{camera:["All"],firmware:["4","5"]},savePost:{camera:["All"],firmware:["4","5"]},pt_pos:{camera:["P100","P110","P120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"]},birddogexpsetup:{camera:["All"],firmware:["4","5"]},birddogwbsetup:{camera:["All"],firmware:["4","5"]},birddogpicsetup:{camera:["All"],firmware:["4","5"]},birddogcmsetup:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"]},birddogadvancesetup:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"]},birddogexternalsetup:{camera:["A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"]},birddogdetsetup:{camera:["P240","P400","P4K"],firmware:["4","5"]},birddoggammasetup:{camera:["P240","P400","P4K"],firmware:["4","5"]},birddogscope:{camera:["All"],firmware:["5"]}},v={firmware:{camera:["All"],firmware:["4","5"],store_state:!0,variableId:"firmware",name:"General - Firmware"},firmware_version:{camera:["All"],firmware:["5"],api_endpoint:["about"],api_variable:["FirmwareVersion"],store_state:!0},format:{camera:["All"],firmware:["5"],api_endpoint:["about"],api_variable:["Format"],store_state:!0},framerate:{camera:["All"],firmware:["4","5"],store_state:!0},hostname:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["about"],api_variable:["HostName"],variableId:"hostname",name:"General - Name"},ipaddress:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["about"],api_variable:["IPAddress"],variableId:"ipaddress",name:"General - IP Address"},model:{camera:["All"],firmware:["4","5"],store_state:!0,variableId:"model",name:"General - Model"},netmask:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["about"],api_variable:["NetworkMask"],variableId:"netmask",name:"General - Network Mask"},network_config:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["about"],api_variable:["NetworkConfigMethod"],variableId:"network_config",name:"General - Network Config Method"},serial_number:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["about"],api_variable:["SerialNumber"],variableId:"serial_number",name:"General - Serial Number"},status:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["about"],api_variable:["Status"],variableId:"status",name:"General - Status"},freeze:{camera:["All"],firmware:["4"],store_state:!0,variableId:"freeze",name:"VISCA - Freeze",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"On"}}]},standby:{camera:["All"],firmware:["4","5"],store_state:!0,variableId:"standby",name:"VISCA - Standby",action:[{camera:["common"],action:{choices:b.STANDBY,default:"on"}}]},analogAudioInGain:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["analogaudiosetup"],api_variable:["AnalogAudioInGain"],variableId:"audio_in_gain",name:"Analog Audio - Audio In Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-50,max:50,default:0}}}]},analogAudioOutGain:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["analogaudiosetup"],api_variable:["AnalogAudioOutGain"],variableId:"audio_out_gain",name:"Analog Audio - Audio Out Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-50,max:50,default:0}}}]},analogAudioOutput:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["analogaudiosetup"],api_variable:["AnalogAudiooutputselect"],variableId:"audio_output",name:"Analog Audio - Audio Output",action:[{camera:["common"],action:{choices:b.ANALOG_AUDIO_OUTPUT,default:"DecodeComms"}}]},oled:{camera:["P110","P120"],firmware:["5"],store_state:!0,api_endpoint:["devicesettings"],api_variable:["Oled"],variableId:"oled",name:"Device Settings - OLED"},video_output:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["videooutputinterface"],api_variable:["videooutput"],variableId:"video_output",name:"Video Output - Video Mode",action:[{camera:["common"],action:{choices:b.VIDEO_OUTPUT,default:"NormalMode"}}]},bandwidth_mode:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["BandwidthMode"],variableId:"bandwidth_mode",name:"Encode Setup - Bandwidth Mode",action:[{camera:["common"],action:{choices:b.ENCODE_BANDWIDTH_MODE,default:"NDIManaged"}}]},bandwidth_select:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["BandwidthSelect"],variableId:"bandwidth_select",name:"Encode Setup - Bandwidth Select",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:80,max:180,default:80}}}]},capture_screensaver:{camera:["All"],firmware:["5"],name:"Encode - Capture Screensaver",action:[{camera:["common"],action:!0}]},color_bitdepth:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["ColorBitDepth"],variableId:"color_bitdepth",name:"Encode Setup - Color Bit Depth"},genlock:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["GenLock"]},loopTally:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["LoopTally"]},ndiAudio:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["NDIAudio"],variableId:"ndi_audio",name:"Encode Setup - NDI Audio",action:[{camera:["common"],action:{choices:b.ENCODE_NDI_AUDIO,default:"NDIAudioMute"}}]},ndiGroupEnable:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["NDIGroup"],variableId:"ndi_group",name:"Encode Setup - NDI Group",action:[{camera:["common"],action:{choices:b.ENCODE_NDIGroup,default:"NDIGroupDis"}}]},ndi_group_name:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["NDIGroupName"],variableId:"ndi_group_name",name:"Encode Setup - NDI Group Name"},screensaver_mode:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["ScreenSaverMode"],variableId:"screensaver_mode",name:"Encode Setup - Screensaver Mode",action:[{camera:["common"],action:{choices:b.SCREEN_SAVER_MODE,default:"BirdDogSS"}}]},stream_name:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["StreamName"],variableId:"stream_name",name:"Encode Setup - Stream Name"},stream_to_network:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["StreamToNetwork"],variableId:"stream_to_network",name:"Encode Setup - Stream to Network",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"On"}}]},tally_mode:{camera:["P110","P120","PF120","P200A2A3","P200A4A5","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["TallyMode"],variableId:"tally_mode",name:"Encode Setup - Tally Mode",action:[{camera:["common"],action:{choices:b.TALLY_MODE,default:"TallyOn"}}]},video_csc:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["VideoCSC"],variableId:"video_csc",name:"Encode Setup - Video CSC"},video_format:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["VideoFormat"],variableId:"video_format",name:"Encode Setup - Video Format"},video_sample_rate:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["encodesetup"],api_variable:["VideoSampleRate"],variableId:"video_sample_rate",name:"Encode Setup - Video Sample Rate"},transmit_method:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["encodetransport"],api_variable:["txpm","Txpm"],variableId:"transmit_method",name:"Encode Transport - Transmit Method",action:[{camera:["common"],action:{choices:b.ENCODE_TXPM,default:"RUDP"}}]},transmit_netprefix:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["encodetransport"],api_variable:["txnetprefix","Txnetprefix"],variableId:"transmit_netprefix",name:"Encode Transport - Transmit Net Prefix"},transmit_netmask:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["encodetransport"],api_variable:["txnetmask","Txnetmask"],variableId:"transmit_netmask",name:"Encode Transport - Transmit Netmask"},transmit_ttl:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["encodetransport"],api_variable:["txmcttl","Txmcttl"],variableId:"transmit_ttl",name:"Encode Transport - Transmit TTL"},ndi_discovery_server:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["NDIDisServer"],api_variable:["NDIDisServ"],variableId:"ndi_discovery_server",name:"NDI Discovery - Server",action:[{camera:["common"],action:{choices:b.NDI_DIS_SVR,default:"NDIDisServDis"}}]},ndi_discovery_server_ip:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["NDIDisServer"],api_variable:["NDIDisServIP"],variableId:"ndi_discovery_server_ip",name:"NDI Discovery - Server IP"},freed:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogptzsetup"],api_variable:["Freed"],variableId:"freed",name:"PTZ - FreeD"},freed_ip_address:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogptzsetup"],api_variable:["FreedIpAddr"],variableId:"freed_ip_address",name:"PTZ - FreeD IP Address"},freed_port:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogptzsetup"],api_variable:["FreedPort"],variableId:"freed_port",name:"PTZ - FreeD Port"},pt:{camera:["P100","P110","P120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!1,name:"PTZ - Pan/Tilt",action:[{camera:["common"],action:{choices:b.PTZ_DIRECTION,default:"up",posPanDefault:"0000",posTiltChoices:b.POS_TILT,posTiltDefault:"0000"}},{camera:["P100","P110","P120"],action:{posPanChoices:b.POS_PAN_P100}},{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],action:{posPanChoices:b.POS_PAN_P200}}]},pan_position:{camera:["P100","P110","P120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,variableId:"pan_position",name:"PTZ - Pan Position"},panSpeed:{camera:["P100","P110","P120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogptzsetup"],api_variable:["PanSpeed"],variableId:"pan_speed",name:"PTZ - Pan Speed",action:[{camera:["common"],action:{choices:b.SPEED_CHANGES,default:"up",range:{min:0,max:21,default:11}}}]},preset:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogptzsetup"],api_variable:["Preset"],variableId:"preset",name:"PTZ - Preset",action:[{camera:["common"],action:{choices:b.PRESET_MODE,default:"Birddog"}}]},preset_speed:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogptzsetup"],api_variable:["PresetSpeed"],variableId:"preset_speed",name:"PTZ - Preset Speed",action:[{camera:["common"],action:{choices:b.SPEED_CHANGES,default:"up",range:{min:0,max:21,default:11}}}]},recallPset:{camera:["All"],firmware:["4","5"],store_state:!1,name:"PTZ - Recall Preset",action:[{camera:["common"],action:{range:{min:1,max:64,default:1}}}]},savePset:{camera:["All"],firmware:["4","5"],store_state:!1,name:"PTZ - Save Preset",action:[{camera:["common"],action:{range:{min:1,max:64,default:1}}}]},tilt_position:{camera:["P100","P110","P120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,variableId:"tilt_position",name:"PTZ - Tilt Position"},tiltSpeed:{camera:["P100","P110","P120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogptzsetup"],api_variable:["TiltSpeed"],variableId:"tilt_speed",name:"PTZ - Tilt Speed",action:[{camera:["common"],action:{choices:b.SPEED_CHANGES,default:"up",range:{min:0,max:18,default:9}}}]},zoom:{camera:["All"],firmware:["4","5"],store_state:!1,name:"PTZ - Zoom",action:[{camera:["common"],action:{choices:b.PTZ_ZOOM,default:"in",posZoomDefault:"0000"}},{camera:["P4K"],action:{posZoomChoices:b.POS_ZOOM_12}},{camera:["P100","P110"],action:{posZoomChoices:b.POS_ZOOM_10}},{camera:["PF120","P120","P240","P400"],action:{posZoomChoices:b.POS_ZOOM_20}},{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],action:{posZoomChoices:b.POS_ZOOM_30}}]},zoom_position:{camera:["All"],firmware:["4","5"],store_state:!0,variableId:"zoom_position",name:"PTZ - Zoom Position"},zoom_position_int:{camera:["All"],firmware:["4","5"],store_state:!0,variableId:"zoom_position_int",name:"PTZ - Zoom Position (Integer)"},zoomSpeed:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogptzsetup"],api_variable:["ZoomSpeed"],variableId:"zoom_speed",name:"PTZ - Zoom Speed",action:[{camera:["common"],action:{choices:b.SPEED_CHANGES,default:"up",range:{min:0,max:7,default:4}}}]},onScreenMenu:{camera:["All"],firmware:["5"],store_state:!1,name:"PTZ - Toggle OSD Menu",action:[{camera:["common"],action:{}}]},focus:{camera:["All"],firmware:["4","5"],store_state:!1,name:"Focus - Focus Action",action:[{camera:["common"],action:{choices:b.FOCUS_CONTROL,default:"near"}}]},focusM:{camera:["All"],firmware:["4","5"],store_state:!0,variableId:"focus_mode",name:"Focus - Focus Mode",action:[{camera:["common"],action:{choices:b.AUTO_FOCUS,default:"Auto"}}]},ae_response:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["AeResponse"],variableId:"ae_response",name:"Exposure - Ae Response",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:1,max:48,default:1}}}]},backlight:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["BackLight"],variableId:"backlight",name:"Exposure - Backlight",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"On"}}]},bright_level:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["BrightLevel"],variableId:"bright_level",name:"Exposure - Bright Level",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up"}},{camera:["P100","P110","P120","PF120"],action:{range:{min:0,max:27,default:14}}},{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],action:{range:{min:0,max:31,default:16}}},{camera:["P240","P400"],action:{range:{min:0,max:41,default:21}}},{camera:["P4K"],action:{range:{min:5,max:37,default:21}}}]},expComp:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["ExpCompEn"],variableId:"exposure_comp",name:"Exposure - Exposure Compensation",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},expCompLvl:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["ExpCompLvl"],variableId:"exposure_comp_level",name:"Exposure - Exposure Compensation Level",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up"}},{camera:["P100","P110","P120","PF120"],action:{range:{min:-7,max:7,default:0}}},{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],action:{range:{min:-128,max:127,default:0}}}]},exposure_mode:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["ExpMode"],variableId:"exposure_mode",name:"Exposure - Exposure Mode",action:[{camera:["common"],action:{default:"FULL-AUTO"}},{camera:["P100","P110","P120","PF120","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],action:{choices:b.EXP_MODE_1}},{camera:["P200A2A3"],action:{choices:b.EXP_MODE_2}},{camera:["P240","P400","P4K"],action:{choices:b.EXP_MODE_3}}]},gain:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["GainLevel"],variableId:"gain",name:"Exposure - Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up"}},{camera:["P100","P110","P120","PF120"],action:{value:{choices:b.GAIN_1,default:0}}},{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],action:{value:{choices:b.GAIN_2,default:1}}},{camera:["P240","P400","P4K"],action:{value:{choices:b.GAIN_3,default:1}}}]},gain_limit:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["GainLimit"],variableId:"gain_limit",name:"Exposure - Gain Limit",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up"}},{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],action:{range:{min:4,max:15,default:15}}},{camera:["P240","P400","P4K"],action:{range:{min:4,max:13,default:13}}}]},gain_point:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["GainPoint"],variableId:"gain_point",name:"Exposure - Gain Point",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"On"}}]},gain_point_position:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["GainPointPosition"],variableId:"gain_point_position",name:"Exposure - Gain Point Position "},high_sensitivity:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["HighSensitivity"],variableId:"high_sensitivity",name:"Exposure - High Sensitivity",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"On"}}]},iris:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["IrisLevel"],variableId:"iris",name:"Exposure - Iris",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up"}},{camera:["P100","P110","P120","PF120"],action:{value:{choices:b.IRIS_1,default:8,range:{closed:0,min:1,max:13}}}},{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],action:{value:{choices:b.IRIS_2,default:12,range:{closed:0,min:5,max:17}}}},{camera:["P240","P400"],action:{value:{choices:b.IRIS_3,default:17,range:{closed:0,min:5,max:21}}}},{camera:["P4K"],action:{value:{choices:b.IRIS_4,default:1,range:{closed:5,min:6,max:21}}}}]},shutter_control_overwrite:{camera:["P100","P110","P120","PF120"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["ShutterControlOverwrite"],variableId:"shutter_control_overwrite",name:"Exposure - Shutter Control Overwrite",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"On"}}]},shutter_max_speed:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["ShutterMaxSpeed"],variableId:"shutter_max_speed",name:"Exposure - Shutter Max Speed",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:20,max:33,default:20}}}]},shutter_min_speed:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["ShutterMinSpeed"],variableId:"shutter_min_speed",name:"Exposure - Shutter Min Speed",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:16,max:33,default:16}}}]},shutter_speed:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["ShutterSpeed"],variableId:"shutter_speed",name:"Exposure - Shutter Speed",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up"}},{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],action:{shutter_50:b.SHUTTER_50,shutter_60:b.SHUTTER_60,shutter_default:6,range:{min:0,max:21}}},{camera:["P100","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],action:{shutter_24:b.SHUTTER_4K_24,shutter_50:b.SHUTTER_4K_50,shutter_60:b.SHUTTER_4K_60,shutter_default:18,range:{min:6,max:33}}}]},shutter_speed_overwrite:{camera:["P100","P110","P120","PF120"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["ShutterSpeedOverwrite"],variableId:"shutter_speed_overwrite",name:"Exposure - Shutter Speed Overwrite",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:30,max:110,default:60}}}]},shutter_table:{camera:["All"],firmware:["4","5"],store_state:!0},slow_shutter_en:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["SlowShutterEn"],variableId:"slow_shutter_en",name:"Exposure - Slow Shutter Enable",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},slow_shutter_limit:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["SlowShutterLimit"],variableId:"slow_shutter_limit",name:"Exposure - Slow Shutter Limit",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up"}},{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],action:{range:{min:1,max:6,default:3}}},{camera:["P240","P400","P4K"],action:{range:{min:6,max:17,default:12}}}]},spotlight:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexpsetup"],api_variable:["Spotlight"],variableId:"spotlight",name:"Exposure - Spotlight",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},bg:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["BG"],variableId:"bg",name:"White Balance - BG",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-99,max:99,default:0}}}]},blue_gain:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["BlueGain"],variableId:"blue_gain",name:"White Balance - Blue Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:255,default:128}}}]},br:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["BR"],variableId:"br",name:"White Balance - BR",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-99,max:99,default:0}}}]},color_temp:{camera:["P100","P110","P120","PF120"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["ColorTemp"],variableId:"color_temp",name:"White Balance - Color Temp",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",value:{choices:b.COLOR_TEMP,default:"4200"},range:{min:28,max:65,default:42}}}]},gb:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["GB"],variableId:"gb",name:"White Balance - GB",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-99,max:99,default:0}}}]},gr:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["GR"],variableId:"gr",name:"White Balance - GR",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-99,max:99,default:0}}}]},level:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["Level"],variableId:"level",name:"White Balance - Level",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:14,default:7}}}]},matrix:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["Matrix"],variableId:"matrix",name:"White Balance - Matrix",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},offset:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["Offset"],variableId:"offset",name:"White Balance - Offset",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:14,default:7}}}]},phase:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["Phase"],variableId:"phase",name:"White Balance - Phase",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:14,default:7}}}]},rb:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["RB"],variableId:"rb",name:"White Balance - RB",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-99,max:99,default:0}}}]},red_gain:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["RedGain"],variableId:"red_gain",name:"White Balance - Red Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:255,default:128}}}]},rg:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["RG"],variableId:"rg",name:"White Balance - RG",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-99,max:99,default:0}}}]},select:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["Select"],variableId:"select",name:"White Balance - Select",action:[{camera:["common"],action:{choices:b.WB_SELECT,default:"OFF"}}]},speed:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["Speed"],variableId:"speed",name:"White Balance - Speed",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:1,max:5,default:3}}}]},wbOnePush:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["OnePushTrigger"],name:"White Balance - One Push Trigger",action:[{camera:["common"],action:!0}]},wb_mode:{camera:["All"],firmware:["4"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["WbMode"],variableId:"wb_mode",name:"White Balance - White Balance Mode",action:[{camera:["common"],action:{default:"AUTO"}},{camera:["P100","P110","P120","PF120"],action:{choices:b.WB_MODE_1}},{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],action:{choices:b.WB_MODE_2}}]},wb_mode:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogwbsetup"],api_variable:["WbMode"],variableId:"wb_mode",name:"White Balance - White Balance Mode",action:[{camera:["common"],action:{default:"AUTO"}},{camera:["P100","P110","P120","PF120"],action:{choices:b.WB_MODE_1b}},{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],action:{choices:b.WB_MODE_2}}]},backlight_com:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["BackLightCom"],variableId:"backlight_com",name:"Picture Setup - Backlight Compensation",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},chroma_suppress:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["ChromeSuppress"],variableId:"chroma_suppress",name:"Picture Setup - Chroma Suppress",action:[{camera:["common"],action:{choices:b.OFF_L_M_H,default:"OFF"}}]},contrast:{camera:["P100","P110","P120","PF120"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["Contrast"],variableId:"contrast",name:"Picture Setup - Contrast",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:15,default:8}}}]},gamma:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["Gamma"],variableId:"gamma",name:"Picture Setup - Gamma",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:4,default:2}}}]},highlight_comp:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["HighlightComp"],variableId:"highlight_comp",name:"Picture Setup - Highlight Compensation",action:[{camera:["common"],action:{choices:b.OFF_L_M_H,default:"OFF"}}]},highlight_comp_mask:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["HighlightCompMask"],variableId:"highlight_comp_mask",name:"Picture Setup - Highlight Compensation Mask",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:15,default:1}}}]},hue:{camera:["P100","P110","P120","PF120"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["Hue"],variableId:"hue",name:"Picture Setup - Hue",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:15,default:8}}}]},ir_cutfilter:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["IRCutFilter"],variableId:"ir_cutfilter",name:"Picture Setup - IR Cut Filter",action:[{camera:["P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],action:{choices:b.IR_CUT_FILTER_1,default:"Auto"}},{camera:["P240","P400","P4K"],action:{choices:b.IR_CUT_FILTER_2,default:"On"}},{camera:["P200A2A3"],action:{choices:b.IR_CUT_FILTER_3,default:"NoiseReduction"}}]},low_latency:{camera:["P200A4A5"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["LowLatency"],variableId:"low_latency",name:"Picture Setup - Low Latency",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},nd_filter:{camera:["P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["NDFilter"],variableId:"nd_filter",name:"Picture Setup - ND Filter",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:3,default:2}}}]},noise_reduction:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["NoiseReduction"],variableId:"noise_reduction",name:"Picture Setup - Noise Reduction",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",value:{choices:b.OFF_1_to_5,default:"0"},range:{min:0,max:5}}}]},picFlip:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["Flip"],variableId:"flip",name:"Picture Setup - Flip",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"On"}}]},picMirror:{camera:["All"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["Mirror"],variableId:"mirror",name:"Picture Setup - Mirror",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"On"}}]},pictureEffect:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["Effect"],variableId:"bw_effect",name:"Picture Setup - BW Effect",action:[{camera:["common"],action:{choices:b.PICTURE_EFFECT,default:"BW"}}]},saturation:{camera:["P100","P110","P120","PF120"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["Color"],variableId:"saturation",name:"Picture Setup - Saturation",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:15,default:8}}}]},sharpness:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["Sharpness"],variableId:"sharpness",name:"Picture Setup - Sharpness",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up"}},{camera:["P100","P110","P120","PF120"],action:{range:{min:0,max:15,default:8}}},{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],action:{range:{min:-128,max:127,default:0}}}]},stabilizer:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2","P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["Stabilizer"],variableId:"stabilizer",name:"Picture Setup - Stabilizer",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},threed_nr:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["ThreeDNR"],variableId:"threed_nr",name:"Picture Setup - 3D Noise Reduction",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",value:{choices:b.OFF_1_to_5,default:"0"},range:{min:0,max:5}}}]},twod_nr:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["TWODNR"],variableId:"twod_nr",name:"Picture Setup - 2D Noise Reduction",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",value:{choices:b.OFF_1_to_5,default:"0"},range:{min:0,max:5}}}]},wide_dynamic_range:{camera:["P100","P110","P120","PF120"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogpicsetup"],api_variable:["WideDynamicRange"],variableId:"wide_dynamic_range",name:"Picture Setup - Wide Dynamic Range",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",value:{choices:b.OFF_1_to_6,default:"0"},range:{min:0,max:6}}}]},cm_blue_gain:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_blu_gain","BlueGain"],variableId:"cm_blue_gain",name:"Color Matrix - Blue Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},cm_blue_hue:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_blu_hue","BlueHue"],variableId:"cm_blue_hue",name:"Color Matrix - Blue Hue",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},cm_color_gain:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["ColourGain"],variableId:"cm_color_gain",name:"Color Matrix - Color Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:255,default:128}}}]},cm_cyan_gain:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_cya_gain","CyanGain"],variableId:"cm_cyan_gain",name:"Color Matrix - Cyan Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},cm_cyan_hue:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_cya_hue","CyanHue"],variableId:"cm_cyan_hue",name:"Color Matrix - Cyan Hue",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},cm_green_gain:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_gre_gain","GreenGain"],variableId:"cm_green_gain",name:"Color Matrix - Green Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},cm_green_hue:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_gre_hue","GreenHue"],variableId:"cm_green_hue",name:"Color Matrix - Green Hue",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},cm_hue_phase:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["HuePhase"],variableId:"cm_hue_phase",name:"Color Matrix - Hue Phase",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:255,default:128}}}]},cm_mag_gain:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_mag_gain","MagGain"],variableId:"cm_mag_gain",name:"Color Matrix - Magenta Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},cm_mag_hue:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_mag_hue","MagHue"],variableId:"cm_mag_hue",name:"Color Matrix - Magenta Hue",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},cm_red_gain:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_red_gain","RedGain"],variableId:"cm_red_gain",name:"Color Matrix - Red Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},cm_red_hue:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_red_hue","RedHue"],variableId:"cm_red_hue",name:"Color Matrix - Red Hue",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},cm_yellow_gain:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_yel_gain","YellowGain"],variableId:"cm_yellow_gain",name:"Color Matrix - Yellow Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},cm_yellow_hue:{camera:["P100","P110","P120","PF120","P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogcmsetup"],api_variable:["cam_cm_yel_hue","YellowHue"],variableId:"cm_yellow_hue",name:"Color Matrix - Yellow Hue",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:64,default:32}}}]},brightness:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogadvancesetup"],api_variable:["Brightness"],variableId:"brightness",name:"Advanced Setup - Brightness",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:6,default:3}}}]},brightness_comp:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogadvancesetup"],api_variable:["BrightnessComp"],variableId:"brightness_comp",name:"Advanced Setup - Brightness Comp",action:[{camera:["common"],action:{choices:b.BRIGHTNESS_COMP,default:"STANDARD"}}]},comp_level:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogadvancesetup"],api_variable:["CompLevel"],variableId:"comp_level",name:"Advanced Setup - Comp Level",action:[{camera:["common"],action:{choices:b.L_Mid_H,default:"LOW"}}]},gamma_offset:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogadvancesetup"],api_variable:["GammaOffset"],variableId:"gamma_offset",name:"Advanced Setup - Gamma Offset",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-16,max:64,default:40}}}]},high_resolution:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogadvancesetup"],api_variable:["HighResolution"],variableId:"high_resolution",name:"Advanced Setup - High Resolution",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},video_enhancement:{camera:["P200A2A3","P200A4A5","A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogadvancesetup"],api_variable:["VideoEnhancement"],variableId:"video_enhancement",name:"Advanced Setup - Video Enhancement",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},aux:{camera:["A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexternalsetup"],api_variable:["Aux"],variableId:"aux",name:"External Setup - Aux",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},rain_wiper:{camera:["A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexternalsetup"],api_variable:["RainWiper"],variableId:"rain_wiper",name:"External Setup - Rain Wiper",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},v12vout:{camera:["A200GEN1","A200GEN2","A300GEN1","A300GEN2"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogexternalsetup"],api_variable:["V12vOut"],variableId:"v12vout",name:"External Setup - 12v Out",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},bandwidth:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogdetsetup"],api_variable:["Bandwidth"],variableId:"bandwidth",name:"Detail Setup - Bandwidth",action:[{camera:["common"],action:{choices:b.BANDWIDTH_4K,default:"DEFAULT"}}]},bw_balance:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogdetsetup"],api_variable:["BwBalance"],variableId:"bw_balance",name:"Detail Setup - BW Balance",action:[{camera:["common"],action:{choices:b.BW_BALANCE_4K,default:"TYPE1"}}]},crispening:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogdetsetup"],api_variable:["Crispening"],variableId:"crispening",name:"Detail Setup - Crispening",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:7,default:4}}}]},detail:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogdetsetup"],api_variable:["Detail"],variableId:"detail",name:"Detail Setup - Detail",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},highlight_detail:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogdetsetup"],api_variable:["HighLightDetail"],variableId:"highlight_detail",name:"Detail Setup - Highlight Detail",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:4,default:0}}}]},hv_balance:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogdetsetup"],api_variable:["HvBalance"],variableId:"hv_balance",name:"Detail Setup - Hv Balance",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-2,max:2,default:0}}}]},limit:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogdetsetup"],api_variable:["Limit"],variableId:"limit",name:"Detail Setup - Limit",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:7,default:4}}}]},super_low:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddogdetsetup"],api_variable:["SuperLow"],variableId:"super_low",name:"Detail Setup - Super Low",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:7,default:4}}}]},black_gamma_level:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddoggammasetup"],api_variable:["BlackGammaLevel"],variableId:"black_gamma_level",name:"Gamma Setup - Black Gamma Level",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:14,default:7}}}]},black_level:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddoggammasetup"],api_variable:["BlackLevel"],variableId:"black_level",name:"Gamma Setup - Black Level",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:96,default:48}}}]},black_level_range:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddoggammasetup"],api_variable:["BlackLevelRange"],variableId:"black_level_range",name:"Gamma Setup - Black Level Range",action:[{camera:["common"],action:{choices:b.L_Mid_H,default:"LOW"}}]},effect:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddoggammasetup"],api_variable:["Effect"],variableId:"effect",name:"Gamma Setup - Effect",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-3,max:3,default:0}}}]},level:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddoggammasetup"],api_variable:["Level"],variableId:"level",name:"Gamma Setup - Level",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:14,default:0}}}]},offset:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddoggammasetup"],api_variable:["Offset"],variableId:"offset",name:"Gamma Setup - Offset",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:-64,max:64,default:0}}}]},pattern:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddoggammasetup"],api_variable:["Pattern"],variableId:"pattern",name:"Gamma Setup - Pattern",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:512,default:256}}}]},pattern_fine:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddoggammasetup"],api_variable:["PatternFine"],variableId:"pattern_fine",name:"Gamma Setup - Pattern Fine",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:9,default:5}}}]},settings:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddoggammasetup"],api_variable:["Settings"],variableId:"settings",name:"Gamma Setup - Settings",action:[{camera:["common"],action:{choices:b.GAMMA_SETTINGS,default:"PATTERN"}}]},visibility_enhancer:{camera:["P240","P400","P4K"],firmware:["4","5"],store_state:!0,api_endpoint:["birddoggammasetup"],api_variable:["VisibilityEnhancer"],variableId:"visibility_enhancer",name:"Gamma Setup - Visibilty Enhancer",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},scope_gamma_gain:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogscope"],api_variable:["GammaGain"],variableId:"scope_gamma_gain",name:"Scope - Gamma Gain",action:[{camera:["common"],action:{choices:b.UP_DOWN_VALUE,default:"up",range:{min:0,max:7,default:4}}}]},scope_mode:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogscope"],api_variable:["Mode"],variableId:"scope_mode",name:"Scope - Mode",action:[{camera:["common"],action:{choices:b.SCOPE_MODE,default:"Histogram"}}]},scope_position:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogscope"],api_variable:["Position"],variableId:"scope_position",name:"Scope - Position",action:[{camera:["common"],action:{choices:b.SCOPE_POSITION,default:"TopLeft"}}]},scope_preview:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogscope"],api_variable:["PreviewEnable"],variableId:"scope_preview",name:"Scope - Preview",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},scope_program:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogscope"],api_variable:["ProgramEnable"],variableId:"scope_program",name:"Scope - Program",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},scope_size:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogscope"],api_variable:["DoubleSizeEnable"],variableId:"scope_size",name:"Scope - Size",action:[{camera:["common"],action:{choices:b.SCOPE_SIZE,default:"Off"}}]},scope_transparency:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["birddogscope"],api_variable:["TransparencyEnable"],variableId:"scope_transparency",name:"Scope - Transparency",action:[{camera:["common"],action:{choices:b.ON_OFF,default:"Off"}}]},avbr:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["avbr"],variableId:"avbr",name:"Dashboard - Average Bitrate"},aud_ch:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["aud_ch"],variableId:"aud_ch",name:"Dashboard - Audio Channels"},aud_sr:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["aud_sr"],variableId:"aud_sr",name:"Dashboard - Audio Sample Rate"},aud_stat:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["aud_stat"],variableId:"aud_stat",name:"Dashboard - Audio Status"},dashboard_vid_status:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["dashboard_vid_status"],variableId:"dashboard_vid_status",name:"Dashboard - Status"},dev_mode:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["dev_mode"],variableId:"dev_mode",name:"Dashboard - Device Mode"},gen_status:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["gen_status"],variableId:"gen_status",name:"Dashboard - Genlock Status"},mcu_ver:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["mcu_ver"],variableId:"mcu_ver",name:"Dashboard - MCU Version"},net_band_perc:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["net_band_perc"],variableId:"net_band_perc",name:"Dashboard - Network Bandwidth"},net_mode:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["net_mode"],variableId:"net_mode",name:"Dashboard - Network Mode"},net_speed:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["net_speed"],variableId:"net_speed",name:"Dashboard - Network Speed"},src_stat:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["src_stat"],variableId:"src_stat",name:"Dashboard - Source Status"},sys_info_perc:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["sys_info_perc"],variableId:"sys_info_perc",name:"Dashboard - CPU Usage"},vid_fmt:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["vid_fmt"],variableId:"vid_fmt",name:"Dashboard - Video Format"},vid_fr:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["vid_fr"],variableId:"vid_fr",name:"Dashboard - Video Frame Rate"},vid_res:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["vid_res"],variableId:"vid_res",name:"Dashboard - Video Resolution"},vid_sra:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["vid_sra"],variableId:"vid_sra",name:"Dashboard - Video Sample Rate"},vid_str_name:{camera:["All"],firmware:["5"],store_state:!0,api_endpoint:["WebSocket"],api_variable:["vid_str_name"],variableId:"vid_str_name",name:"Dashboard - NDI Video Stream Name"},custom:{camera:["All"],firmware:["4","5"],name:"Custom Visca Command",action:[{camera:["common"],action:!0}]}},w={MSG_CAM:"",MSG_OPERATION:"",MSG_QRY:"\t",MSG_QRY_OPERATION:"\t",END_MSG:"ÿ",CMD_CAM_VAL_RESET:"\0",CMD_CAM_VAL_CLEAR:"",CMD_CAM_VAL_UP:"",CMD_CAM_VAL_DOWN:"",CMD_CAM_ZOOM_STOP:"\0",CMD_CAM_ZOOM_TELE:"",CMD_CAM_ZOOM_WIDE:"",CMD_CAM_ZOOM_TELE_WITH_SPEED:" ",CMD_CAM_ZOOM_WIDE_WITH_SPEED:"0",CMD_CAM_FOCUS_STOP:"\0",CMD_CAM_FOCUS_FAR:"",CMD_CAM_FOCUS_NEAR:"",CMD_CAM_FOCUS_FAR_WITH_SPEED:" ",CMD_CAM_FOCUS_NEAR_WITH_SPEED:"0",CMD_CAM_FOCUS_TRIGGER_NOW:"",CMD_CAM_FOCUS_TRIGGER_INF:"",CMD_CAM_WB_TRIGGER_NOW:"",DATA_RESET:"\0",DATA_UP:"",DATA_DOWN:"",DATA_ONVAL:"",DATA_OFFVAL:"",DATA_TOGGLEVAL:"",DATA_PANSTOP:"\0",DATA_PANLEFT:"",DATA_PANRIGHT:"",DATA_NOPAN:"",DATA_TILTSTOP:"\0",DATA_TILTUP:"",DATA_TILTDOWN:"",DATA_NOTILT:"",CAM_POWER:"\0",CAM_ZOOM:"",CAM_ZOOM_DIRECT:"G",CAM_FOCUS:"\b",CAM_FOCUS_TRIGGER:"",CAM_FOCUS_INFINITY:"",CAM_FOCUS_AUTO:"8",CAM_FOCUS_DIRECT:"H",CAM_WB_TRIGGER:"",CAM_FREEZE:"b",OP_PAN_DRIVE:"",OP_PAN_ABSOLUTE:"",OP_PAN_RELATIVE:"",OP_PAN_MAX_SPEED:"",OP_PAN_POS:"",OP_PAN_HOME:"",OP_PAN_RESET:""};function S(){let e,t,a="",n={},o=m(v,this.camera.firmware.major,this.camera.model);o||(this.log("error",`Unrecognized camera model: ${this.camera.model}`),this.status(this.STATUS_ERROR),void 0!==this.poll_interval&&clearInterval(this.poll_interval));let i={};return o?.standby&&(i.standby={name:o.standby.name,options:[{type:"dropdown",label:"On/Standby",id:"val",choices:o.standby.choices,default:o.standby.default}],callback:e=>{switch(e.options.val){case"on":a=w.MSG_CAM+w.CAM_POWER+w.DATA_ONVAL+w.END_MSG;break;case"standby":a=w.MSG_CAM+w.CAM_POWER+w.DATA_OFFVAL+w.END_MSG}this.sendVISCACommand(a)}}),o?.freeze&&(i.freeze={name:o.freeze.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.freeze.choices,{id:"Toggle",label:"Toggle"}],default:o.freeze.default}],callback:e=>{switch(e.options.val){case"On":a=w.MSG_CAM+w.CAM_FREEZE+w.DATA_ONVAL+w.END_MSG;break;case"Off":a=w.MSG_CAM+w.CAM_FREEZE+w.DATA_OFFVAL+w.END_MSG;break;case"Toggle":a=w.MSG_CAM+w.CAM_FREEZE+w.DATA_TOGGLEVAL+w.END_MSG}this.sendVISCACommand(a)}}),o?.analogAudioInGain&&(i.analogAudioInGain={name:o.analogAudioInGain.name,options:[{type:"dropdown",label:"Action",id:"val",choices:o.analogAudioInGain.choices,default:o.analogAudioInGain.default},{type:"number",label:"Analog Audio In Gain (dB) ("+o.analogAudioInGain.range.min+" to "+o.analogAudioInGain.range.max+")",id:"value",default:o.analogAudioInGain.range.default,min:o.analogAudioInGain.range.min,max:o.analogAudioInGain.range.max,range:!0,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.analogAudioInGain?this.camera.analogAudioInGain:o.analogAudioInGain.range.default,a.options.val){case"up":e=t<o.analogAudioInGain.range.max+50?++t:o.analogAudioInGain.range.max;break;case"down":e=t>o.analogAudioInGain.range.min+50?--t:o.analogAudioInGain.range.min;break;case"value":e=a.options.value+50}n={AnalogAudioInGain:String(e)},this.sendCommand("analogaudiosetup","POST",n)}}),o?.analogAudioOutGain&&(i.analogAudioOutGain={name:o.analogAudioOutGain.name,options:[{type:"dropdown",label:"Action",id:"val",choices:o.analogAudioOutGain.choices,default:o.analogAudioOutGain.default},{type:"number",label:"Analog Audio Out Gain (dB) ("+o.analogAudioOutGain.range.min+" to "+o.analogAudioOutGain.range.max+")",id:"value",default:o.analogAudioOutGain.range.default,min:o.analogAudioOutGain.range.min,max:o.analogAudioOutGain.range.max,range:!0,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.analogAudioOutGain?this.camera.analogAudioOutGain:o.analogAudioOutGain.range.default,a.options.val){case"up":e=t<o.analogAudioOutGain.range.max+50?++t:o.analogAudioOutGain.range.max;break;case"down":e=t>o.analogAudioOutGain.range.min+50?--t:o.analogAudioOutGain.range.min;break;case"value":e=a.options.value+50}n={AnalogAudioOutGain:String(e)},this.sendCommand("analogaudiosetup","POST",n)}}),o?.analogAudioOutput&&(i.analogAudioOutput={name:o.analogAudioOutput.name,options:[{type:"dropdown",label:"Mode",id:"val",choices:[...o.analogAudioOutput.choices,{id:"Toggle",label:"Toggle"}],default:o.analogAudioOutput.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.analogAudioOutput,o.analogAudioOutput.choices)),n={AnalogAudiooutputselect:String(t)},this.sendCommand("analogaudiosetup","POST",n)}}),o?.video_output&&(i.video_output={name:o.video_output.name,options:[{type:"dropdown",label:"Mode",id:"val",choices:[...o.video_output.choices,{id:"Toggle",label:"Toggle"}],default:o.video_output.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.video_output,o.video_output.choices)),n={videooutput:String(t)},this.sendCommand("videooutputinterface","POST",n)}}),o?.bandwidth_mode&&(i.bandwidth_mode={name:o.bandwidth_mode.name,options:[{type:"dropdown",label:"Manual / NDI Managed",id:"val",choices:o.bandwidth_mode.choices,default:o.bandwidth_mode.default},{type:"number",label:"Bandwidth Select ("+o.bandwidth_select.range.min+" to "+o.bandwidth_select.range.max+")",id:"bandwidth",default:o.bandwidth_select.range.default,min:o.bandwidth_select.range.min,max:o.bandwidth_select.range.max,isVisible:e=>"Manual"===e.val}],callback:e=>{switch(e.options.val){case"NDIManaged":n={BandwidthMode:String(e.options.val)};break;case"Manual":n={BandwidthMode:String(e.options.val),BandwidthSelect:String(e.options.bandwidth)}}this.sendCommand("encodesetup","POST",n)}}),o?.ndiAudio&&(i.ndiAudio={name:o.ndiAudio.name,options:[{type:"dropdown",label:"Analog / Mute",id:"val",choices:[...o.ndiAudio.choices,{id:"Toggle",label:"Toggle"}],default:o.ndiAudio.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.ndiAudio,o.ndiAudio.choices)),n={NDIAudio:String(t)},this.sendCommand("encodesetup","POST",n)}}),o?.ndiGroupEnable&&(i.ndiGroupEnable={name:o.ndiGroupEnable.name,options:[{type:"dropdown",label:"NDI Group Enable",id:"val",choices:[...o.ndiGroupEnable.choices,{id:"Toggle",label:"Toggle"}],default:o.ndiGroupEnable.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.ndiGroupEnable,o.ndiGroupEnable.choices)),n={NDIGroup:String(t)},this.sendCommand("encodesetup","POST",n)}}),o?.screensaver_mode&&(i.screensaver_mode={name:o.screensaver_mode.name,options:[{type:"dropdown",label:"ScreenSaver Mode",id:"val",choices:o.screensaver_mode.choices,default:o.screensaver_mode.default}],callback:e=>{n={ScreenSaverMode:String(e.options.val)},this.sendCommand("encodesetup","POST",n)}}),o?.stream_to_network&&(i.stream_to_network={name:o.stream_to_network.name,options:[{type:"dropdown",label:"On/Off",id:"val",choices:[...o.stream_to_network.choices,{id:"Toggle",label:"Toggle"}],default:o.stream_to_network.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.stream_to_network,o.stream_to_network.choices)),n={StreamToNetwork:String(t)},this.sendCommand("encodesetup","POST",n)}}),o?.tally_mode&&(i.tally_mode={name:o.tally_mode.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.tally_mode.choices,{id:"Toggle",label:"Toggle"}],default:o.tally_mode.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.tally_mode,o.tally_mode.choices)),n={TallyMode:String(t)},this.sendCommand("encodesetup","POST",n)}}),o?.transmit_method&&(i.transmit_method={name:o.transmit_method.name,options:[{type:"dropdown",label:"Method",id:"val",choices:o.transmit_method.choices,default:o.transmit_method.default}],callback:e=>{n="4"===this.camera.firmware.major?{txpm:String(e.options.val)}:{Txpm:String(e.options.val)},this.sendCommand("encodeTransport","POST",n)}}),o?.capture_screensaver&&(i.capture_screensaver={name:o.capture_screensaver.name,options:[],callback:e=>{this.sendCommand("capture?ChNum=1&status=Encode","GET")}}),o?.ndi_discovery_server&&(i.ndi_discovery_server={name:o.ndi_discovery_server.name,options:[{type:"dropdown",label:"Enabled / Disabled",id:"val",choices:[...o.ndi_discovery_server.choices,{id:"Toggle",label:"Toggle"}],default:o.ndi_discovery_server.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.ndi_discovery_server,o.ndi_discovery_server.choices)),n={NDIDisServ:String(t)},this.sendCommand("NDIDisServer","POST",n)}}),o?.pt&&(i.pt={name:o.pt.name,options:[{type:"dropdown",label:"Direction",id:"val",choices:o.pt.choices,default:o.pt.default},{type:"dropdown",label:"Pan Position",id:"posPan",choices:o.pt.posPanChoices,default:o.pt.posPanDefault,isVisible:e=>"direct"===e.val},{type:"dropdown",label:"Tilt Position",id:"posTilt",choices:o.pt.posTiltChoices,default:o.pt.posTiltDefault,isVisible:e=>"direct"===e.val},{type:"checkbox",label:"Speed Override",id:"override",default:!1,isVisible:e=>"direct"!==e.val},{type:"number",label:"Pan Speed("+o.panSpeed.range.min+" to "+o.panSpeed.range.max+")",id:"panSpeed",default:o.panSpeed.range.default,min:o.panSpeed.range.min,max:o.panSpeed.range.max,isVisible:e=>!0===e.override||"direct"===e.val},{type:"number",label:"Tilt Speed ("+o.tiltSpeed.range.min+" to "+o.tiltSpeed.range.max+")",id:"tiltSpeed",default:o.tiltSpeed.range.default,min:o.tiltSpeed.range.min,max:o.tiltSpeed.range.max,isVisible:e=>!0===e.override||"direct"===e.val}],callback:e=>{let t=this.camera?.panSpeed?this.camera.panSpeed:o.panSpeed.range.default,n=this.camera?.tiltSpeed?this.camera.tiltSpeed:o.tiltSpeed.range.default;switch(t=!0===e.options.override?e.options.panSpeed:t,n=!0===e.options.override?e.options.tiltSpeed:n,e.options.val){case"left":a=w.MSG_OPERATION+w.OP_PAN_DRIVE+String.fromCharCode(t)+String.fromCharCode(n)+w.DATA_PANLEFT+w.DATA_NOTILT+w.END_MSG;break;case"right":a=w.MSG_OPERATION+w.OP_PAN_DRIVE+String.fromCharCode(t)+String.fromCharCode(n)+w.DATA_PANRIGHT+w.DATA_NOTILT+w.END_MSG;break;case"up":a=w.MSG_OPERATION+w.OP_PAN_DRIVE+String.fromCharCode(t)+String.fromCharCode(n)+w.DATA_NOPAN+w.DATA_TILTUP+w.END_MSG;break;case"down":a=w.MSG_OPERATION+w.OP_PAN_DRIVE+String.fromCharCode(t)+String.fromCharCode(n)+w.DATA_NOPAN+w.DATA_TILTDOWN+w.END_MSG;break;case"up_left":a=w.MSG_OPERATION+w.OP_PAN_DRIVE+String.fromCharCode(t)+String.fromCharCode(n)+w.DATA_PANLEFT+w.DATA_TILTUP+w.END_MSG;break;case"up_right":a=w.MSG_OPERATION+w.OP_PAN_DRIVE+String.fromCharCode(t)+String.fromCharCode(n)+w.DATA_PANRIGHT+w.DATA_TILTUP+w.END_MSG;break;case"down_left":a=w.MSG_OPERATION+w.OP_PAN_DRIVE+String.fromCharCode(t)+String.fromCharCode(n)+w.DATA_PANLEFT+w.DATA_TILTDOWN+w.END_MSG;break;case"down_right":a=w.MSG_OPERATION+w.OP_PAN_DRIVE+String.fromCharCode(t)+String.fromCharCode(n)+w.DATA_PANRIGHT+w.DATA_TILTDOWN+w.END_MSG;break;case"stop":a=w.MSG_OPERATION+w.OP_PAN_DRIVE+String.fromCharCode(t)+String.fromCharCode(n)+w.DATA_NOPAN+w.DATA_NOTILT+w.END_MSG;break;case"home":a=w.MSG_OPERATION+w.OP_PAN_HOME+w.END_MSG;break;case"direct":a=w.MSG_OPERATION+w.OP_PAN_ABSOLUTE+String.fromCharCode(e.options.panSpeed)+String.fromCharCode(e.options.tiltSpeed)+this.strToPQRS(e.options.posPan)+this.strToPQRS(e.options.posTilt)+w.END_MSG}this.sendVISCACommand(a)}}),o?.panSpeed&&(i.panSpeed={name:o.panSpeed.name,options:[{type:"dropdown",label:"Action",id:"type",choices:o.panSpeed.choices,default:o.panSpeed.default},{type:"number",label:"Speed ("+o.panSpeed.range.min+" to "+o.panSpeed.range.max+")",id:"value",default:o.panSpeed.range.default,min:o.panSpeed.range.min,max:o.panSpeed.range.max,isVisible:e=>"value"===e.type}],callback:a=>{switch(t=this.camera?.panSpeed?this.camera.panSpeed:o.panSpeed.range.default,a.options.type){case"up":e=t<o.panSpeed.range.max?++t:o.panSpeed.range.max;break;case"down":e=t>o.panSpeed.range.min?--t:o.panSpeed.range.min;break;case"value":e=a.options.value}n={PanSpeed:String(e)},this.sendCommand("birddogptzsetup","POST",n)}}),o?.preset&&(i.preset={name:o.preset.name,options:[{type:"dropdown",label:"Preset Mode",id:"val",choices:o.preset.choices,default:o.preset.default}],callback:e=>{n={Preset:String(e.options.val)},this.sendCommand("birddogptzsetup","POST",n)}}),o?.preset_speed&&(i.preset_speed={name:o.preset_speed.name,options:[{type:"dropdown",label:"Action",id:"type",choices:o.preset_speed.choices,default:o.preset_speed.default},{type:"number",label:"Speed ("+o.preset_speed.range.min+" to "+o.preset_speed.range.max+")",id:"value",default:o.preset_speed.range.default,min:o.preset_speed.range.min,max:o.preset_speed.range.max,isVisible:e=>"value"===e.type}],callback:a=>{switch(t=this.camera?.preset_speed?this.camera.preset_speed:o.preset_speed.default,a.options.type){case"up":e=t<o.preset_speed.range.max?++t:o.preset_speed.range.max;break;case"down":e=t>o.preset_speed.range.min?--t:o.preset_speed.range.min;break;case"value":e=a.options.value}n={PresetSpeed:String(e)},this.sendCommand("birddogptzsetup","POST",n)}}),o?.recallPset&&(i.recallPset={name:o.recallPset.name,options:[{type:"number",label:"Preset Number ("+o.savePset.range.min+" to "+o.savePset.range.max+")",id:"val",default:o.savePset.range.default,min:o.savePset.range.min,max:o.savePset.range.max}],callback:e=>{n={Preset:String("Preset-"+e.options.val)},this.sendCommand("recall","POST",n)}}),o?.savePset&&(i.savePset={name:o.savePset.name,options:[{type:"number",label:"Preset Number ("+o.savePset.range.min+" to "+o.savePset.range.max+")",id:"val",default:o.savePset.range.default,min:o.savePset.range.min,max:o.savePset.range.max}],callback:e=>{n={Preset:String("Preset-"+e.options.val)},this.sendCommand("save","POST",n)}}),o?.tiltSpeed&&(i.tiltSpeed={name:o.tiltSpeed.name,options:[{type:"dropdown",label:"Action",id:"type",choices:o.tiltSpeed.choices,default:o.tiltSpeed.default},{type:"number",label:"Speed ("+o.tiltSpeed.range.min+" to "+o.tiltSpeed.range.max+")",id:"value",default:o.tiltSpeed.range.default,min:o.tiltSpeed.range.min,max:o.tiltSpeed.range.max,isVisible:e=>"value"===e.type}],callback:a=>{switch(t=this.camera?.tiltSpeed?this.camera.tiltSpeed:o.tiltSpeed.range.default,a.options.type){case"up":e=t<o.tiltSpeed.range.max?++t:o.tiltSpeed.range.max;break;case"down":e=t>o.tiltSpeed.range.min?--t:o.tiltSpeed.range.min;break;case"value":e=a.options.value}n={TiltSpeed:String(e)},this.sendCommand("birddogptzsetup","POST",n)}}),o?.zoom&&(i.zoom={name:o.zoom.name,options:[{type:"dropdown",label:"Direction",id:"val",choices:b.PTZ_ZOOM,default:"in"},{type:"dropdown",label:"Zoom Position",id:"posZoom",choices:o.zoom.posZoomChoices,default:o.zoom.posZoomDefault,isVisible:e=>"direct"===e.val},{type:"checkbox",label:"Speed Overide",id:"override",default:!1,isVisible:e=>"direct"!==e.val},{type:"number",label:"Speed ("+o.zoomSpeed.range.min+" to "+o.zoomSpeed.range.max+")",id:"speed",default:o.zoomSpeed.range.default,min:o.zoomSpeed.range.min,max:o.zoomSpeed.range.max,isVisible:e=>!0===e.override}],callback:e=>{let t=this.camera?.zoomSpeed?this.camera.zoomSpeed:o.zoomSpeed.range.default;switch(t=!0===e.options.override?e.options.speed:t,e.options.val){case"in":a=w.MSG_CAM+w.CAM_ZOOM+this.addStringToBinary(w.CMD_CAM_ZOOM_TELE_WITH_SPEED,t)+w.END_MSG;break;case"out":a=w.MSG_CAM+w.CAM_ZOOM+this.addStringToBinary(w.CMD_CAM_ZOOM_WIDE_WITH_SPEED,t)+w.END_MSG;break;case"direct":a=w.MSG_CAM+w.CAM_ZOOM_DIRECT+this.strToPQRS(e.options.posZoom)+w.END_MSG;break;case"stop":a=w.MSG_CAM+w.CAM_ZOOM+w.CMD_CAM_ZOOM_STOP+w.END_MSG}this.sendVISCACommand(a)}}),o?.zoomSpeed&&(i.zoomSpeed={name:o.zoomSpeed.name,options:[{type:"dropdown",label:"Action",id:"type",choices:o.zoomSpeed.choices,default:o.zoomSpeed.default},{type:"number",label:"Speed ("+o.zoomSpeed.range.min+" to "+o.zoomSpeed.range.max+")",id:"value",default:o.zoomSpeed.range.default,min:o.zoomSpeed.range.min,max:o.zoomSpeed.range.max,isVisible:e=>"value"===e.type}],callback:a=>{switch(t=this.camera?.zoomSpeed?this.camera.zoomSpeed:o.zoomSpeed.range.default,a.options.type){case"up":e=t<o.zoomSpeed.range.max?++t:o.zoomSpeed.range.max;break;case"down":e=t>o.zoomSpeed.range.min?--t:o.zoomSpeed.range.min;break;case"value":e=a.options.value}n={ZoomSpeed:String(e)},this.sendCommand("birddogptzsetup","POST",n)}}),o?.onScreenMenu&&(i.onScreenMenu={name:o.onScreenMenu.name,options:[],callback:e=>{n={Menu:String("On/Off")},this.sendCommand("birddogptz","POST",n)}}),o?.focus&&(i.focus={name:o.focus.name,options:[{type:"dropdown",label:"Direction",id:"val",choices:o.focus.choices,default:o.focus.default}],callback:e=>{switch(e.options.val){case"near":a=w.MSG_CAM+w.CAM_FOCUS+w.CMD_CAM_FOCUS_NEAR+w.END_MSG;break;case"far":a=w.MSG_CAM+w.CAM_FOCUS+w.CMD_CAM_FOCUS_FAR+w.END_MSG;break;case"stop":a=w.MSG_CAM+w.CAM_FOCUS+w.CMD_CAM_FOCUS_STOP+w.END_MSG;break;case"trigger":a=w.MSG_CAM+w.CAM_FOCUS_TRIGGER+w.CMD_CAM_FOCUS_TRIGGER_NOW+w.END_MSG}this.sendVISCACommand(a)}}),o?.focusM&&(i.focusM={name:o.focusM.name,options:[{type:"dropdown",label:"Mode",id:"val",choices:[...o.focusM.choices,{id:"Toggle",label:"Toggle"}],default:o.focusM.default}],callback:e=>{switch(e.options.val){case"Auto":a=w.MSG_CAM+w.CAM_FOCUS_AUTO+w.DATA_ONVAL+w.END_MSG;break;case"Manual":a=w.MSG_CAM+w.CAM_FOCUS_AUTO+w.DATA_OFFVAL+w.END_MSG;break;case"Toggle":a=w.MSG_CAM+w.CAM_FOCUS_AUTO+w.DATA_TOGGLEVAL+w.END_MSG}this.sendVISCACommand(a)}}),o?.ae_response&&(i.ae_response={name:o.ae_response.name,options:[{type:"dropdown",label:"Ae Response",id:"val",hoices:o.ae_response.choices,default:o.ae_response.default},{type:"number",label:"Ae Response ("+o.ae_response.range.min+" to "+o.ae_response.range.max+")",id:"value",default:o.ae_response.range.default,min:o.ae_response.range.min,max:o.ae_response.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.ae_response?this.camera.ae_response:o.ae_response.range.default,a.options.val){case"up":e=t<o.ae_response.range.max?++t:o.ae_response.range.max;break;case"down":e=t>o.ae_response.range.min?--t:o.ae_response.range.min;break;case"value":e=a.options.value}n={AeResponse:String(e)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.backlight&&(i.backlight={name:o.backlight.name,options:[{type:"dropdown",label:"On / Off",id:"mode",choices:[...o.backlight.choices,{id:"Toggle",label:"Toggle"}],default:o.backlight.default}],callback:e=>{let t=e.options.mode;"Toggle"==t&&(t=f(this.camera.backlight,o.backlight.choices)),n={Backlight:String(t)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.bright_level&&(i.bright_level={name:o.bright_level.name,options:[{type:"dropdown",label:"Bright Level",id:"val",choices:o.bright_level.choices,default:o.bright_level.default},{type:"number",label:"Level ("+o.bright_level.range.min+" to "+o.bright_level.range.max+")",id:"value",default:o.bright_level.range.default,min:o.bright_level.range.min,max:o.bright_level.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.bright_level?this.camera.bright_level:o.bright_level.range.default,a.options.val){case"up":e=t<o.bright_level.range.max?++t:o.bright_level.range.max;break;case"down":e=t>o.bright_level.range.min?--t:o.bright_level.range.min;break;case"value":e=a.options.value}n={BrightLevel:String(e)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.expComp&&(i.expComp={name:o.expComp.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:o.expComp.choices,default:o.expComp.default},{type:"number",label:"Exposure Compensation Level ("+o.expCompLvl.range.min+" to "+o.expCompLvl.range.max+")",id:"level",default:o.expCompLvl.range.default,min:o.expCompLvl.range.min,max:o.expCompLvl.range.max,isVisible:e=>"On"===e.val}],callback:e=>{switch(e.options.val){case"Off":n={ExpCompEn:String(e.options.val)};break;case"On":let t="P100"===this.camera.model||"PF120"===this.camera.model?String(e.options.level+7):String(e.options.level);n={ExpCompEn:String(e.options.val),ExpCompLvl:String(t)}}this.sendCommand("birddogexpsetup","POST",n)}}),o?.exposure_mode&&(i.expM={name:o.exposure_mode.name,options:[{type:"dropdown",label:"Mode",id:"val",choices:o.exposure_mode.choices,default:o.exposure_mode.default}],callback:e=>{n={ExpMode:String(e.options.val)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.gain&&(i.gain={name:o.gain.name,options:[{type:"dropdown",label:"Gain",id:"val",choices:o.gain.choices,default:o.gain.default},{type:"dropdown",label:"Value",id:"value",choices:o.gain.value.choices,default:o.gain.value.default,isVisible:e=>"value"===e.val}],callback:t=>{let a=this.camera?.gain?this.camera.gain:o.gain.default,i=this.camera?.gain_limit?this.camera.gain_limit:o.gain.value.choices[o.gain.value.choices.length-1].id;switch(t.options.val){case"up":e=parseInt(a)<parseInt(i)?++a:i;break;case"down":e=a>o.gain.value.choices[0]?.id?--a:o.gain.value.choices[0].id;break;case"value":e=parseFloat(t.options.value)<=i?t.options.value:i}n={GainLevel:String(e)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.gain_limit&&(i.gainLimit={name:o.gain_limit.name,options:[{type:"dropdown",label:"Gain Limit",id:"val",choices:o.gain_limit.choices,default:o.gain_limit.default},{type:"dropdown",label:"Value",id:"value",choices:o.gain.value.choices.slice(o.gain_limit.range.min-1,o.gain_limit.range.max+1),default:o.gain_limit.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.gain_limit?this.camera.gain_limit:o.gain_limit.range.default,a.options.val){case"up":e=t<o.gain_limit.range.max?++t:o.gain_limit.range.max;break;case"down":e=t>o.gain_limit.range.min?--t:o.gain_limit.range.min;break;case"value":e=a.options.value}n={GainLimit:String(e)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.gain_point&&(i.gainPoint={name:o.gain_point.name,options:[{type:"dropdown",label:"Gain Point",id:"val",choices:[...o.gain_point.choices,{id:"Toggle",label:"Toggle"}],default:o.gain_point.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.gain_point,o.gain_point.choices)),n={GainPoint:String(t)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.gain_point_position&&(i.gainPointPosition={name:o.gain_point_position.name,options:[{type:"dropdown",label:"Gain Point",id:"val",choices:o.gain_point_position.choices,default:o.gain_point_position.default},{type:"dropdown",label:"Value",id:"value",choices:o.gain.value.choices.slice(0,parseInt(this.camera.expsetup?.GainLimit?this.camera.expsetup?.GainLimit:o.gain.value.default,10)+1),default:o.gain.value.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.gain_point_position?this.camera.gain_point_position:o.gain.default,a.options.val){case"up":e=t<this.camera.gain_limit?++t:this.camera.gain_limit;break;case"down":e=t>o.gain.value.choices[0].id?--t:o.gain.value.choices[0].id;break;case"value":e=a.options.value}n={GainPointPosition:String(e)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.high_sensitivity&&(i.highSensitivity={name:o.high_sensitivity.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.high_sensitivity.choices,{id:"Toggle",label:"Toggle"}],default:o.high_sensitivity.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.high_sensitivity,o.high_sensitivity.choices)),n={HighSensitivity:String(t)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.iris&&(i.iris={name:o.iris.name,options:[{type:"dropdown",label:"Iris",id:"val",choices:o.iris.choices,default:o.iris.default},{type:"dropdown",label:"Value",id:"value",choices:o.iris.value.choices,default:o.iris.value.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.iris?this.camera.iris:o.iris.default,a.options.val){case"up":e=t===o.iris.value.range.closed?o.iris.value.range.min:t<o.iris.value.range.max?++t:o.iris.value.range.max;break;case"down":e=t===o.iris.value.range.min?o.iris.value.range.closed:t>o.iris.value.range.min?--t:o.iris.value.range.closed;break;case"value":e=a.options.value}n={IrisLevel:String(e)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.shutter_control_overwrite&&(i.shutter_control_overwrite={name:o.shutter_control_overwrite.name,options:[{type:"dropdown",label:"On/Off",id:"val",choices:[...o.shutter_control_overwrite.choices,{id:"Toggle",label:"Toggle"}],default:o.shutter_control_overwrite.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.shutter_control_overwrite,o.shutter_control_overwrite.choices)),n={ShutterControlOverwrite:String(t)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.shutter_max_speed&&(i.shutter_max_speed={name:o.shutter_max_speed.name,options:[{type:"dropdown",label:"Shutter Max Speed",id:"val",choices:o.shutter_max_speed.choices,default:o.shutter_max_speed.default},{type:"dropdown",label:"Value",id:"value",choices:o.shut?.["shutter_"+[this.camera.shutter_table]].slice(o.shutter_max_speed.range.min,o.shutter_max_speed.range.max+1),default:o.shutter_max_speed.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.shutter_max_speed?this.camera.shutter_max_speed:o.shutter_max_speed.range.default,a.options.val){case"up":e=t<o.shutter_max_speed.range.max?++t:o.shutter_max_speed.range.max;break;case"down":e=t>o.shutter_max_speed.range.min?--t:o.shutter_max_speed.range.min;break;case"value":e=a.options.value}n={ShutterMaxSpeed:String(e)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.shutter_min_speed&&(i.shutter_min_speed={name:o.shutter_min_speed.name,options:[{type:"dropdown",label:"Shutter Min Speed",id:"val",choices:o.shutter_min_speed.choices,default:o.shutter_min_speed.default},{type:"dropdown",label:"Value",id:"value",choices:o.shut?.["shutter_"+[this.camera.shutter_table]].slice(o.shutter_min_speed.range.min,parseInt(this.camera.expsetup?.ShutterMaxSpeed,10)+1),default:o.shutter_min_speed.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.shutter_min_speed?this.camera.shutter_min_speed:o.shutter_min_speed.range.default,a.options.val){case"up":e=t<this.camera.expsetup.ShutterMaxSpeed?++t:this.camera.expsetup.ShutterMaxSpeed;break;case"down":e=t>o.shutter_min_speed.range.min?--t:o.shutter_min_speed.range.min;break;case"value":e=a.options.value}n={ShutterMinSpeed:String(e)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.shutter_speed&&(i.shut={name:o.shutter_speed.name,options:[{type:"dropdown",label:"Shutter",id:"val",choices:o.shutter_speed.choices,default:o.shutter_speed.default},{type:"dropdown",label:"Value",id:"value",choices:o.shutter_speed?.["shutter_"+[this.camera.shutter_table]],default:o.shutter_speed.shutter_default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.shutter_speed?this.camera.shutter_speed:o.shutter_speed.shutter_default,a.options.val){case"up":e=t<o.shutter_speed.range.max?++t:o.shutter_speed.range.max;break;case"down":e=t>o.shutter_speed.range.min?--t:o.shutter_speed.range.min;break;case"value":e=a.options.value}n={ShutterSpeed:String(e)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.shutter_speed_overwrite&&(i.shutter_speed_overwrite={name:o.shutter_speed_overwrite.name,options:[{type:"dropdown",label:"Shutter Speed Overwrite",id:"val",choices:o.shutter_speed.choices,default:o.shutter_speed.default},{type:"number",label:"Hz ("+o.shutter_speed_overwrite.range.min+" to "+o.shutter_speed_overwrite.range.max+")",id:"value",default:o.shutter_speed_overwrite.range.default,min:o.shutter_speed_overwrite.range.min,max:o.shutter_speed_overwrite.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.shutter_speed_overwrite?this.camera.shutter_speed_overwrite:o.shutter_speed_overwrite.shutter_default,a.options.val){case"up":e=t<o.shutter_speed_overwrite.range.max?++t:o.shutter_speed_overwrite.range.max;break;case"down":e=t>o.shutter_speed_overwrite.range.min?--t:o.shutter_speed_overwrite.range.min;break;case"value":e=a.options.value}n={ShutterSpeedOverwrite:String(e)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.slow_shutter_en&&(i.slow_shutter_en={name:o.slow_shutter_en.name,options:[{type:"dropdown",label:"On/Off",id:"val",choices:[...o.slow_shutter_en.choices,{id:"Toggle",label:"Toggle"}],default:o.slow_shutter_en.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.slow_shutter_en,o.slow_shutter_en.choices)),n={SlowShutterEn:String(t)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.slow_shutter_limit&&(i.slow_shutter_limit={name:o.slow_shutter_limit.name,options:[{type:"dropdown",label:"Slow Shutter Limit",id:"val",choices:o.shutter_speed.choices,default:o.shutter_speed.default},{type:"dropdown",label:"Value",id:"value",choices:o.shutter_speed?.["shutter_"+[this.camera.shutter_table]].slice(o.slow_shutter_limit.range.min,o.slow_shutter_limit.range.max+1),default:o.slow_shutter_limit.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.slow_shutter_limit?this.camera.slow_shutter_limit:o.slow_shutter_limit.range.default,a.options.val){case"up":e=t<o.slow_shutter_limit.range.max?++t:o.slow_shutter_limit.range.max;break;case"down":e=t>o.slow_shutter_limit.range.min?--t:o.slow_shutter_limit.range.min;break;case"value":e=a.options.value}n={SlowShutterLimit:String(e)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.spotlight&&(i.spotlight={name:o.spotlight.name,options:[{type:"dropdown",label:"On/Off",id:"val",choices:[...o.spotlight.choices,{id:"Toggle",label:"Toggle"}],default:o.spotlight.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.spotlight,o.spotlight.choices)),n={Spotlight:String(t)},this.sendCommand("birddogexpsetup","POST",n)}}),o?.bg&&(i.bg={name:o.bg.name,options:[{type:"dropdown",label:"BG",id:"val",choices:o.bg.choices,default:o.bg.default},{type:"number",label:"Value ("+o.bg.range.min+" to "+o.bg.range.max+")",id:"value",default:o.bg.range.default,min:o.bg.range.min,max:o.bg.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.bg?this.camera.bg:o.bg.range.default,a.options.val){case"up":e=t<o.bg.range.max?++t:o.bg.range.max;break;case"down":e=t>o.bg.range.min?--t:o.bg.range.min;break;case"value":e=a.options.value}n={BG:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.br&&(i.br={name:o.br.name,options:[{type:"dropdown",label:"BR",id:"val",choices:o.br.choices,default:o.br.default},{type:"number",label:"Value ("+o.br.range.min+" to "+o.br.range.max+")",id:"value",default:o.br.range.default,min:o.br.range.min,max:o.br.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.br?this.camera.br:o.br.range.default,a.options.val){case"up":e=t<o.br.range.max?++t:o.br.range.max;break;case"down":e=t>o.br.range.min?--t:o.br.range.min;break;case"value":e=a.options.value}n={BR:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.blue_gain&&(i.blue_gain={name:o.blue_gain.name,options:[{type:"dropdown",label:"Blue Gain",id:"val",choices:o.blue_gain.choices,default:o.blue_gain.default},{type:"number",label:"Value ("+o.blue_gain.range.min+" to "+o.blue_gain.range.max+")",id:"value",default:o.blue_gain.range.default,min:o.blue_gain.range.min,max:o.blue_gain.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.blue_gain?this.camera.blue_gain:o.blue_gain.range.default,a.options.val){case"up":e=t<o.blue_gain.range.max?++t:o.blue_gain.range.max;break;case"down":e=t>o.blue_gain.range.min?--t:o.blue_gain.range.min;break;case"value":e=a.options.value}n={BlueGain:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.color_temp&&(i.color_temp={name:o.color_temp.name,options:[{type:"dropdown",label:"Color Temperature (k)",id:"val",choices:o.color_temp.choices,default:o.color_temp.default},{type:"dropdown",label:"Value",id:"value",choices:o.color_temp.value.choices,default:o.color_temp.value.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.color_temp?this.camera.color_temp.slice(0,2):o.color_temp.range.default,a.options.val){case"up":e=t<o.color_temp.range.max?++t:o.color_temp.range.max,e+="00";break;case"down":e=t>o.color_temp.range.min?--t:o.color_temp.range.min,e+="00";break;case"value":e=a.options.value}n={ColorTemp:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.gb&&(i.gb={name:o.gb.name,options:[{type:"dropdown",label:"GB",id:"val",choices:o.gb.choices,default:o.gb.default},{type:"number",label:"Value ("+o.gb.range.min+" to "+o.gb.range.max+")",id:"value",default:o.gb.range.default,min:o.gb.range.min,max:o.gr.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.gb?this.camera.gb:o.gb.range.default,a.options.val){case"up":e=t<o.gb.range.max?++t:o.gb.range.max;break;case"down":e=t>o.gb.range.min?--t:o.gb.range.min;break;case"value":e=a.options.value}n={GB:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.gr&&(i.gr={name:o.gr.name,options:[{type:"dropdown",label:"GR",id:"val",choices:o.gr.choices,default:o.gr.default},{type:"number",label:"Value ("+o.gr.range.min+" to "+o.gr.range.max+")",id:"value",default:o.gr.range.default,min:o.gr.range.min,max:o.gr.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.gr?this.camera.gr:o.gr.range.default,a.options.val){case"up":e=t<o.gr.range.max?++t:o.gr.range.max;break;case"down":e=t>o.gr.range.min?--t:o.gr.range.min;break;case"value":e=a.options.value}n={GR:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.level&&(i.level={name:o.level.name,options:[{type:"dropdown",label:"Level",id:"val",choices:o.level.choices,default:o.level.default},{type:"number",label:"Level ("+o.level.range.min+" to "+o.level.range.max+")",id:"value",default:o.level.range.default,min:o.level.range.min,max:o.level.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.level?this.camera.level:o.level.range.default,a.options.val){case"up":e=t<o.level.range.max?++t:o.level.range.max;break;case"down":e=t>o.level.range.min?--t:o.level.range.min;break;case"value":e=a.options.value}n={Level:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.matrix&&(i.matrix={name:o.matrix.name,options:[{type:"dropdown",label:"On/Off",id:"val",choices:[...o.matrix.choices,{id:"Toggle",label:"Toggle"}],default:o.matrix.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.matrix,o.matrix.choices)),n={Matrix:String(t)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.offset&&(i.offset={name:o.offset.name,options:[{type:"dropdown",label:"Offset",id:"val",choices:o.level.choices,default:o.level.default},{type:"number",label:"Value ("+o.offset.range.min+" to "+o.offset.range.max+")",id:"value",default:o.offset.range.default,min:o.offset.range.min,max:o.offset.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.offset?this.camera.offset:o.offset.range.default,a.options.val){case"up":e=t<o.offset.range.max?++t:o.offset.range.max;break;case"down":e=t>o.offset.range.min?--t:o.offset.range.min;break;case"value":e=a.options.value}n={Offset:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.phase&&(i.phase={name:o.phase.name,options:[{type:"dropdown",label:"Phase",id:"val",choices:o.level.choices,default:o.level.default},{type:"number",label:"Value ("+o.phase.range.min+" to "+o.phase.range.max+")",id:"value",default:o.phase.range.default,min:o.phase.range.min,max:o.phase.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.phase?this.camera.phase:o.phase.range.default,a.options.val){case"up":e=t<o.phase.range.max?++t:o.phase.range.max;break;case"down":e=t>o.phase.range.min?--t:o.phase.range.min;break;case"value":e=a.options.value}n={Phase:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.rb&&(i.rb={name:o.rb.name,options:[{type:"dropdown",label:"RB",id:"val",choices:o.level.choices,default:o.level.default},{type:"number",label:"Value ("+o.rb.range.min+" to "+o.rb.range.max+")",id:"value",default:o.rb.range.default,min:o.rb.range.min,max:o.rb.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.rb?this.camera.rb:o.rb.range.default,a.options.val){case"up":e=t<o.rb.range.max?++t:o.rb.range.max;break;case"down":e=t>o.rb.range.min?--t:o.rb.range.min;break;case"value":e=a.options.value}n={RB:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.rg&&(i.rg={name:o.rg.name,options:[{type:"dropdown",label:"RG",id:"val",choices:o.level.choices,default:o.level.default},{type:"number",label:"Value ("+o.rg.range.min+" to "+o.rg.range.max+")",id:"value",default:o.rg.range.default,min:o.rg.range.min,max:o.rg.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.rg?this.camera.rg:o.rg.range.default,a.options.val){case"up":e=t<o.rg.range.max?++t:o.rg.range.max;break;case"down":e=t>o.rg.range.min?--t:o.rg.range.min;break;case"value":e=a.options.value}n={RG:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.red_gain&&(i.red_gain={name:o.red_gain.name,options:[{type:"dropdown",label:"Red Gain",id:"val",choices:o.red_gain.choices,default:o.red_gain.default},{type:"number",label:"Value ("+o.red_gain.range.min+" to "+o.red_gain.range.max+")",id:"value",default:o.red_gain.range.default,min:o.red_gain.range.min,max:o.red_gain.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.red_gain?this.camera.red_gain:o.red_gain.range.default,a.options.val){case"up":e=t<o.red_gain.range.max?++t:o.red_gain.range.max;break;case"down":e=t>o.red_gain.range.min?--t:o.red_gain.range.min;break;case"value":e=a.options.value}n={RedGain:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.select&&(i.select={name:o.select.name,options:[{type:"dropdown",label:"On/Off",id:"val",choices:o.select.choices,default:o.select.default}],callback:e=>{n={Select:String(e.options.val)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.speed&&(i.speed={name:o.speed.name,options:[{type:"dropdown",label:"Speed",id:"val",choices:o.level.choices,default:o.level.default},{type:"number",label:"Value ("+o.speed.range.min+" to "+o.speed.range.max+")",id:"value",default:o.speed.range.default,min:o.speed.range.min,max:o.speed.range.max,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.speed?this.camera.speed:o.speed.range.default,a.options.val){case"up":e=t<o.speed.range.max?++t:o.speed.range.max;break;case"down":e=t>o.speed.range.min?--t:o.speed.range.min;break;case"value":e=a.options.value}n={Speed:String(e)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.wb_mode&&(i.wb_mode={name:o.wb_mode.name,options:[{type:"dropdown",label:"Mode",id:"val",choices:o.wb_mode.choices,default:o.wb_mode.default}],callback:e=>{n={WbMode:String(e.options.val)},this.sendCommand("birddogwbsetup","POST",n)}}),o?.wbOnePush&&(i.wbOnePush={name:o.wbOnePush.name,options:[],description:"Camera must be in One Push mode in order to use this action",callback:e=>{a=w.MSG_CAM+w.CAM_WB_TRIGGER+w.CMD_CAM_WB_TRIGGER_NOW+w.END_MSG,this.sendVISCACommand(a)}}),o?.backlight_com&&(i.backlight_com={name:o.backlight_com.name,options:[{type:"dropdown",label:"On/Off",id:"val",choices:[...o.backlight_com.choices,{id:"Toggle",label:"Toggle"}],default:o.backlight_com.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.backlight_com,o.backlight_com.choices)),n={BackLightCom:String(t)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.chroma_suppress&&(i.chroma_suppress={name:o.chroma_suppress.name,options:[{type:"dropdown",label:"Mode",id:"val",choices:o.chroma_suppress.choices,default:o.chroma_suppress.default}],callback:e=>{n={ChromeSuppress:String(e.options.val)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.saturation&&(i.saturation={name:o.saturation.name,options:[{type:"dropdown",label:"Saturation",id:"val",choices:o.saturation.choices,default:o.saturation.default},{type:"number",label:"Value ("+o.saturation.range.min+" to "+o.saturation.range.max+")",id:"value",min:o.saturation.range.min,max:o.saturation.range.max,default:o.saturation.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.saturation?this.camera.saturation:o.saturation.range.default,a.options.val){case"up":e=t<o.saturation.range.max?++t:o.saturation.range.max;break;case"down":e=t>o.saturation.range.min?--t:o.saturation.range.min;break;case"value":e=a.options.value}n={Color:String(e)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.contrast&&(i.contrast={name:o.contrast.name,options:[{type:"dropdown",label:"Contrast",id:"val",choices:o.contrast.choices,default:o.contrast.default},{type:"number",label:"Value ("+o.contrast.range.min+" to "+o.contrast.range.max+")",id:"value",min:o.contrast.range.min,max:o.contrast.range.max,default:o.contrast.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.contrast?this.camera.contrast:o.contrast.range.default,a.options.val){case"up":e=t<o.contrast.range.max?++t:o.contrast.range.max;break;case"down":e=t>o.contrast.range.min?--t:o.contrast.range.min;break;case"value":e=a.options.value}n={Contrast:String(e)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.pictureEffect&&(i.pictureEffect={name:o.pictureEffect.name,options:[{type:"dropdown",label:"Effect",id:"val",choices:[...o.pictureEffect.choices,{id:"Toggle",label:"Toggle"}],default:o.pictureEffect.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.pictureEffect,o.pictureEffect.choices)),n={Effect:String(t)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.picFlip&&(i.picFlip={name:o.picFlip.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.picFlip.choices,{id:"Toggle",label:"Toggle"}],default:o.picFlip.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.picFlip,o.picFlip.choices)),n={Flip:String(t)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.gamma&&(i.gamma={name:o.gamma.name,options:[{type:"dropdown",label:"Gamma",id:"val",choices:o.gamma.choices,default:o.gamma.default},{type:"number",label:"Value ("+o.gamma.range.min+" to "+o.gamma.range.max+")",id:"value",min:o.gamma.range.min,max:o.gamma.range.max,default:o.gamma.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.gamma?this.camera.gamma:o.gamma.range.default,a.options.val){case"up":e=t<o.gamma.range.max?++t:o.gamma.range.max;break;case"down":e=t>o.gamma.range.min?--t:o.gamma.range.min;break;case"value":e=a.options.value}n={Gamma:String(e)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.highlight_comp&&(i.highlight_comp={name:o.highlight_comp.name,options:[{type:"dropdown",label:"Highlight Compensation",id:"val",choices:o.highlight_comp.choices,default:o.highlight_comp.default}],callback:e=>{n={HighlightComp:String(e.options.val)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.highlight_comp_mask&&(i.highlight_comp_mask={name:o.highlight_comp_mask.name,options:[{type:"dropdown",label:"Highlight Compensation Mask",id:"val",choices:o.highlight_comp_mask.choices,default:o.highlight_comp_mask.default},{type:"number",label:"Value ("+o.highlight_comp_mask.range.min+" to "+o.highlight_comp_mask.range.max+")",id:"value",min:o.highlight_comp_mask.range.min,max:o.highlight_comp_mask.range.max,default:o.highlight_comp_mask.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.highlight_comp_mask?this.camera.highlight_comp_mask:o.highlight_comp_mask.range.default,a.options.val){case"up":e=t<o.highlight_comp_mask.range.max?++t:o.highlight_comp_mask.range.max;break;case"down":e=t>o.highlight_comp_mask.range.min?--t:o.highlight_comp_mask.range.min;break;case"value":e=a.options.value}n={HighlightCompMask:String(e)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.hue&&(i.hue={name:o.hue.name,options:[{type:"dropdown",label:"Hue",id:"val",choices:o.hue.choices,default:o.hue.default},{type:"number",label:"Value ("+o.hue.range.min+" to "+o.hue.range.max+")",id:"value",min:o.hue.range.min,max:o.hue.range.max,default:o.hue.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.hue?this.camera.hue:o.hue.range.default,a.options.val){case"up":e=t<o.hue.range.max?++t:o.hue.range.max;break;case"down":e=t>o.hue.range.min?--t:o.hue.range.min;break;case"value":e=a.options.value}n={Hue:String(e)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.ir_cutfilter&&(i.ir_cutfilter={name:o.ir_cutfilter.name,options:[{type:"dropdown",label:"Mode",id:"val",choices:o.ir_cutfilter.choices,default:o.ir_cutfilter.default}],callback:e=>{n={IRCutFilter:String(e.options.val)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.low_latency&&(i.low_latency={name:o.low_latency.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.low_latency.choices,{id:"Toggle",label:"Toggle"}],default:o.low_latency.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.low_latency,o.low_latency.choices)),n={LowLatency:String(t)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.picMirror&&(i.picMirror={name:o.picMirror.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.picMirror.choices,{id:"Toggle",label:"Toggle"}],default:o.picMirror.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.picMirror,o.picMirror.choices)),n={Mirror:String(t)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.nd_filter&&(i.nd_filter={name:o.nd_filter.name,options:[{type:"dropdown",label:"ND Filter",id:"val",choices:o.nd_filter.choices,default:o.nd_filter.default},{type:"number",label:"Value ("+o.nd_filter.range.min+" to "+o.nd_filter.range.max+")",id:"value",min:o.nd_filter.range.min,max:o.nd_filter.range.max,default:o.nd_filter.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.nd_filter?this.camera.nd_filter:o.nd_filter.range.default,a.options.val){case"up":e=t<o.nd_filter.range.max?++t:o.nd_filter.range.max;break;case"down":e=t>o.nd_filter.range.min?--t:o.nd_filter.range.min;break;case"value":e=a.options.value}n={NDFilter:String(e)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.noise_reduction&&(i.noise_reduction={name:o.noise_reduction.name,options:[{type:"dropdown",label:"Noise Reduction",id:"val",choices:o.noise_reduction.choices,default:o.noise_reduction.default},{type:"dropdown",label:"Value",id:"value",choices:o.noise_reduction.value.choices,default:o.noise_reduction.value.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.noise_reduction?this.camera.noise_reduction:o.noise_reduction.value.default,a.options.val){case"up":e=t<o.noise_reduction.range.max?++t:o.noise_reduction.range.max;break;case"down":e=t>o.noise_reduction.range.min?--t:o.noise_reduction.range.min;break;case"value":e=a.options.value}n={NoiseReduction:String(e)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.sharpness&&(i.sharpness={name:o.sharpness.name,options:[{type:"dropdown",label:"Sharpness",id:"val",choices:o.sharpness.choices,default:o.sharpness.default},{type:"number",label:"Value ("+o.sharpness.range.min+" to "+o.sharpness.range.max+")",id:"value",min:o.sharpness.range.min,max:o.sharpness.range.max,default:o.sharpness.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.sharpness?this.camera.sharpness:o.sharpness.range.default,a.options.val){case"up":e=t<o.sharpness.range.max?++t:o.sharpness.range.max;break;case"down":e=t>o.sharpness.range.min?--t:o.sharpness.range.min;break;case"value":e=a.options.value}n={Sharpness:String(e)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.stabilizer&&(i.stabilizer={name:o.stabilizer.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.stabilizer.choices,{id:"Toggle",label:"Toggle"}],default:o.stabilizer.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.stabilizer,o.stabilizer.choices)),n={Stabilizer:String(t)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.threed_nr&&(i.threed_nr={name:o.threed_nr.name,options:[{type:"dropdown",label:"3D NR",id:"val",choices:o.threed_nr.choices,default:o.threed_nr.default},{type:"dropdown",label:"Value",id:"val",choices:o.threed_nr.value.choices,default:o.threed_nr.value.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.threed_nr?this.camera.threed_nr:o.threed_nr.value.default,a.options.val){case"up":e=t<o.threed_nr.range.max?++t:o.threed_nr.range.max;break;case"down":e=t>o.threed_nr.range.min?--t:o.threed_nr.range.min;break;case"value":e=a.options.value}n={ThreeDNR:String(e)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.twod_nr&&(i.twod_nr={name:o.twod_nr.name,options:[{type:"dropdown",label:"2D NR",id:"val",choices:o.twod_nr.choices,default:o.twod_nr.default},{type:"dropdown",label:"Value",id:"val",choices:o.twod_nr.value.choices,default:o.twod_nr.value.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.twod_nr?this.camera.twod_nr:o.twod_nr.value.default,a.options.val){case"up":e=t<o.twod_nr.range.max?++t:o.twod_nr.range.max;break;case"down":e=t>o.twod_nr.range.min?--t:o.twod_nr.range.min;break;case"value":e=a.options.value}n={TWODNR:String(e)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.wide_dynamic_range&&(i.wide_dynamic_range={name:o.wide_dynamic_range.name,options:[{type:"dropdown",label:"Wide Dynamic Range",id:"val",choices:o.wide_dynamic_range.choices,default:o.wide_dynamic_range.default},{type:"dropdown",label:"Value",id:"value",choices:o.wide_dynamic_range.value.choices,default:o.wide_dynamic_range.value.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.wide_dynamic_range?this.camera.wide_dynamic_range:o.wide_dynamic_range.value.default,a.options.val){case"up":e=t<o.wide_dynamic_range.range.max?++t:o.wide_dynamic_range.range.max;break;case"down":e=t>o.wide_dynamic_range.range.min?--t:o.wide_dynamic_range.range.min;break;case"value":e=a.options.value}n={WideDynamicRange:String(e)},this.sendCommand("birddogpicsetup","POST",n)}}),o?.cm_blue_gain&&(i.cm_blue_gain={name:o.cm_blue_gain.name,options:[{type:"dropdown",label:"Blue Gain",id:"val",choices:o.cm_blue_gain.choices,default:o.cm_blue_gain.default},{type:"number",label:"Value ("+o.cm_blue_gain.range.min+" to "+o.cm_blue_gain.range.max+")",id:"value",min:o.cm_blue_gain.range.min,max:o.cm_blue_gain.range.max,default:o.cm_blue_gain.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_blue_gain?this.camera.cm_blue_gain:o.cm_blue_gain.range.default,a.options.val){case"up":e=t<o.cm_blue_gain.range.max?++t:o.cm_blue_gain.range.max;break;case"down":e=t>o.cm_blue_gain.range.min?--t:o.cm_blue_gain.range.min;break;case"value":e=a.options.value}n={BlueGain:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_blue_hue&&(i.cm_blue_hue={name:o.cm_blue_hue.name,options:[{type:"dropdown",label:"Blue Hue",id:"val",choices:o.cm_blue_hue.choices,default:o.cm_blue_hue.default},{type:"number",label:"Value ("+o.cm_blue_hue.range.min+" to "+o.cm_blue_hue.range.max+")",id:"value",min:o.cm_blue_hue.range.min,max:o.cm_blue_hue.range.max,default:o.cm_blue_hue.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_blue_hue?this.camera.cm_blue_hue:o.cm_blue_hue.range.default,a.options.val){case"up":e=t<o.cm_blue_hue.range.max?++t:o.cm_blue_hue.range.max;break;case"down":e=t>o.cm_blue_hue.range.min?--t:o.cm_blue_hue.range.min;break;case"value":e=a.options.value}n={BlueHue:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_color_gain&&(i.cm_color_gain={name:o.cm_color_gain.name,options:[{type:"dropdown",label:"Color Gain",id:"val",choices:o.cm_color_gain.choices,default:o.cm_color_gain.default},{type:"number",label:"Value ("+o.cm_color_gain.range.min+" to "+o.cm_color_gain.range.max+")",id:"value",min:o.cm_color_gain.range.min,max:o.cm_color_gain.range.max,default:o.cm_color_gain.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_color_gain?this.camera.cm_color_gain:o.cm_color_gain.range.default,a.options.val){case"up":e=t<o.cm_color_gain.range.max?++t:o.cm_color_gain.range.max;break;case"down":e=t>o.cm_color_gain.range.min?--t:o.cm_color_gain.range.min;break;case"value":e=a.options.value}n={ColourGain:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_cyan_gain&&(i.cm_cyan_gain={name:o.cm_cyan_gain.name,options:[{type:"dropdown",label:"Cyan Gain",id:"val",choices:o.cm_cyan_gain.choices,default:o.cm_cyan_gain.default},{type:"number",label:"Value ("+o.cm_cyan_gain.range.min+" to "+o.cm_cyan_gain.range.max+")",id:"value",min:o.cm_cyan_gain.range.min,max:o.cm_cyan_gain.range.max,default:o.cm_cyan_gain.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_cyan_gain?this.camera.cm_cyan_gain:o.cm_cyan_gain.range.default,a.options.val){case"up":e=t<o.cm_cyan_gain.range.max?++t:o.cm_cyan_gain.range.max;break;case"down":e=t>o.cm_cyan_gain.range.min?--t:o.cm_cyan_gain.range.min;break;case"value":e=a.options.value}n={CyanGain:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_cyan_hue&&(i.cm_cyan_hue={name:o.cm_cyan_hue.name,options:[{type:"dropdown",label:"Cyan Hue",id:"val",choices:o.cm_cyan_hue.choices,default:o.cm_cyan_hue.default},{type:"number",label:"Value ("+o.cm_cyan_hue.range.min+" to "+o.cm_cyan_hue.range.max+")",id:"value",min:o.cm_cyan_hue.range.min,max:o.cm_cyan_hue.range.max,default:o.cm_cyan_hue.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_cyan_hue?this.camera.cm_cyan_hue:o.cm_cyan_hue.range.default,a.options.val){case"up":e=t<o.cm_cyan_hue.range.max?++t:o.cm_cyan_hue.range.max;break;case"down":e=t>o.cm_cyan_hue.range.min?--t:o.cm_cyan_hue.range.min;break;case"value":e=a.options.value}n={CyanHue:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_green_gain&&(i.cm_green_gain={name:o.cm_green_gain.name,options:[{type:"dropdown",label:"Green Gain",id:"val",choices:o.cm_green_gain.choices,default:o.cm_green_gain.default},{type:"number",label:"Value ("+o.cm_green_gain.range.min+" to "+o.cm_green_gain.range.max+")",id:"value",min:o.cm_green_gain.range.min,max:o.cm_green_gain.range.max,default:o.cm_green_gain.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_green_gain?this.camera.cm_green_gain:o.cm_green_gain.range.default,a.options.val){case"up":e=t<o.cm_green_gain.range.max?++t:o.cm_green_gain.range.max;break;case"down":e=t>o.cm_green_gain.range.min?--t:o.cm_green_gain.range.min;break;case"value":e=a.options.value}n={GreenGain:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_green_hue&&(i.cm_green_hue={name:o.cm_green_hue.name,options:[{type:"dropdown",label:"Green Hue",id:"val",choices:o.cm_green_hue.choices,default:o.cm_green_hue.default},{type:"number",label:"Value ("+o.cm_green_hue.range.min+" to "+o.cm_green_hue.range.max+")",id:"value",min:o.cm_green_hue.range.min,max:o.cm_green_hue.range.max,default:o.cm_green_hue.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_green_hue?this.camera.cm_green_hue:o.cm_green_hue.range.default,a.options.val){case"up":e=t<o.cm_green_hue.range.max?++t:o.cm_green_hue.range.max;break;case"down":e=t>o.cm_green_hue.range.min?--t:o.cm_green_hue.range.min;break;case"value":e=a.options.value}n={GreenHue:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_hue_phase&&(i.cm_hue_phase={name:o.cm_hue_phase.name,options:[{type:"dropdown",label:"Hue Phase",id:"val",choices:o.cm_hue_phase.choices,default:o.cm_hue_phase.default},{type:"number",label:"Value ("+o.cm_hue_phase.range.min+" to "+o.cm_hue_phase.range.max+")",id:"value",min:o.cm_hue_phase.range.min,max:o.cm_hue_phase.range.max,default:o.cm_hue_phase.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_hue_phase?this.camera.cm_hue_phase:o.cm_hue_phase.range.default,a.options.val){case"up":e=t<o.cm_hue_phase.range.max?++t:o.cm_hue_phase.range.max;break;case"down":e=t>o.cm_hue_phase.range.min?--t:o.cm_hue_phase.range.min;break;case"value":e=a.options.value}n={HuePhase:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_mag_gain&&(i.cm_mag_gain={name:o.cm_mag_gain.name,options:[{type:"dropdown",label:"Magenta Gain",id:"val",choices:o.cm_mag_gain.choices,default:o.cm_mag_gain.default},{type:"number",label:"Value ("+o.cm_mag_gain.range.min+" to "+o.cm_mag_gain.range.max+")",id:"value",min:o.cm_mag_gain.range.min,max:o.cm_mag_gain.range.max,default:o.cm_mag_gain.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_mag_gain?this.camera.cm_mag_gain:o.cm_mag_gain.range.default,a.options.val){case"up":e=t<o.cm_mag_gain.range.max?++t:o.cm_mag_gain.range.max;break;case"down":e=t>o.cm_mag_gain.range.min?--t:o.cm_mag_gain.range.min;break;case"value":e=a.options.value}n={MagGain:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_mag_hue&&(i.cm_mag_hue={name:o.cm_mag_hue.name,options:[{type:"dropdown",label:"Magenta Hue",id:"val",choices:o.cm_mag_hue.choices,default:o.cm_mag_hue.default},{type:"number",label:"Value ("+o.cm_mag_hue.range.min+" to "+o.cm_mag_hue.range.max+")",id:"value",min:o.cm_mag_hue.range.min,max:o.cm_mag_hue.range.max,default:o.cm_mag_hue.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_mag_hue?this.camera.cm_mag_hue:o.cm_mag_hue.range.default,a.options.val){case"up":e=t<o.cm_mag_hue.range.max?++t:o.cm_mag_hue.range.max;break;case"down":e=t>o.cm_mag_hue.range.min?--t:o.cm_mag_hue.range.min;break;case"value":e=a.options.value}n={MagHue:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_red_gain&&(i.cm_red_gain={name:o.cm_red_gain.name,options:[{type:"dropdown",label:"Red Gain",id:"val",choices:o.cm_red_gain.choices,default:o.cm_red_gain.default},{type:"number",label:"Value ("+o.cm_red_gain.range.min+" to "+o.cm_red_gain.range.max+")",id:"value",min:o.cm_red_gain.range.min,max:o.cm_red_gain.range.max,default:o.cm_red_gain.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_red_gain?this.camera.cm_red_gain:o.cm_red_gain.range.default,a.options.val){case"up":e=t<o.cm_red_gain.range.max?++t:o.cm_red_gain.range.max;break;case"down":e=t>o.cm_red_gain.range.min?--t:o.cm_red_gain.range.min;break;case"value":e=a.options.value}n={RedGain:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_red_hue&&(i.cm_red_hue={name:o.cm_red_hue.name,options:[{type:"dropdown",label:"Red Hue",id:"val",choices:o.cm_red_hue.choices,default:o.cm_red_hue.default},{type:"number",label:"Value ("+o.cm_red_hue.range.min+" to "+o.cm_red_hue.range.max+")",id:"value",min:o.cm_red_hue.range.min,max:o.cm_red_hue.range.max,default:o.cm_red_hue.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_red_hue?this.camera.cm_red_hue:o.cm_red_hue.range.default,a.options.val){case"up":e=t<o.cm_red_hue.range.max?++t:ODEL_ACTIONS.cm_red_hue.range.max;break;case"down":e=t>o.cm_red_hue.range.min?--t:ODEL_ACTIONS.cm_red_hue.range.min;break;case"value":e=a.options.value}n={RedHue:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_yellow_gain&&(i.cm_yellow_gain={name:o.cm_yellow_gain.name,options:[{type:"dropdown",label:"Yellow Gain",id:"val",choices:o.cm_yellow_gain.choices,default:o.cm_yellow_gain.default},{type:"number",label:"Value ("+o.cm_yellow_gain.range.min+" to "+o.cm_yellow_gain.range.max+")",id:"value",min:o.cm_yellow_gain.range.min,max:o.cm_yellow_gain.range.max,default:o.cm_yellow_gain.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_yellow_gain?this.camera.cm_yellow_gain:o.cm_yellow_gain.range.default,a.options.val){case"up":e=t<o.cm_yellow_gain.range.max?++t:o.cm_yellow_gain.range.max;break;case"down":e=t>o.cm_yellow_gain.range.min?--t:o.cm_yellow_gain.range.min;break;case"value":e=a.options.value}n={YellowGain:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.cm_yellow_hue&&(i.cm_yellow_hue={name:o.cm_yellow_hue.name,options:[{type:"dropdown",label:"Yellow Hue",id:"val",choices:o.cm_yellow_hue.choices,default:o.cm_yellow_hue.default},{type:"number",label:"Value ("+o.cm_yellow_hue.range.min+" to "+o.cm_yellow_hue.range.max+")",id:"value",min:o.cm_yellow_hue.range.min,max:o.cm_yellow_hue.range.max,default:o.cm_yellow_hue.range.default,isVisible:e=>"value"==e.val}],callback:a=>{switch(t=this.camera?.cm_yellow_hue?this.camera.cm_yellow_hue:o.cm_yellow_hue.range.default,a.options.val){case"up":e=t<o.cm_yellow_hue.range.max?++t:o.cm_yellow_hue.range.max;break;case"down":e=t>o.cm_yellow_hue.range.min?--t:o.cm_yellow_hue.range.min;break;case"value":e=a.options.value}n={YellowHue:String(e)},this.sendCommand("birddogcmsetup","POST",n)}}),o?.brightness&&(i.brightness={name:o.brightness.name,options:[{type:"dropdown",label:"Brightness",id:"val",choices:o.brightness.choices,default:o.brightness.default},{type:"number",label:"Value ("+o.brightness.range.min+" to "+o.brightness.range.max+")",id:"value",min:o.brightness.range.min,max:o.brightness.range.max,default:o.brightness.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.brightness?this.camera.brightness:o.brightness.range.default,a.options.val){case"up":e=t<o.brightness.range.max?++t:o.brightness.range.max;break;case"down":e=t>o.brightness.range.min?--t:o.brightness.range.min;break;case"value":e=a.options.value}n={Brightness:String(e)},this.sendCommand("birddogadvancesetup","POST",n)}}),o?.brightness_comp&&(i.brightness_comp={name:o.brightness_comp.name,options:[{type:"dropdown",label:"Mode",id:"val",choices:o.brightness_comp.choices,default:o.brightness_comp.default}],callback:e=>{n={BrightnessComp:String(e.options.val)},this.sendCommand("birddogadvancesetup","POST",n)}}),o?.comp_level&&(i.comp_level={name:o.comp_level.name,options:[{type:"dropdown",label:"Level",id:"val",choices:o.comp_level.choices,default:o.comp_level.default}],callback:e=>{n={CompLevel:String(e.options.val)},this.sendCommand("birddogadvancesetup","POST",n)}}),o?.gamma_offset&&(i.gamma_offset={name:o.gamma_offset.name,options:[{type:"dropdown",label:"Gamma Offset",id:"val",choices:o.gamma_offset.choices,default:o.gamma_offset.default},{type:"number",label:"Value ("+o.gamma_offset.range.min+" to "+o.gamma_offset.range.max+")",id:"value",min:o.gamma_offset.range.min,max:o.gamma_offset.range.max,default:o.gamma_offset.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.gamma_offset?this.camera.gamma_offset:o.gamma_offset.range.default,a.options.val){case"up":e=t<o.gamma_offset.range.max?++t:o.gamma_offset.range.max;break;case"down":e=t>o.gamma_offset.range.min?--t:o.gamma_offset.range.min;break;case"value":e=a.options.value}n={GammaOffset:String(e)},this.sendCommand("birddogadvancesetup","POST",n)}}),o?.high_resolution&&(i.high_resolution={name:o.high_resolution.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.high_resolution.choices,{id:"Toggle",label:"Toggle"}],default:o.high_resolution.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.high_resolution,o.high_resolution.choices)),n={HighResolution:String(t)},this.sendCommand("birddogadvancesetup","POST",n)}}),o?.video_enhancement&&(i.video_enhancement={name:o.video_enhancement.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.video_enhancement.choices,{id:"Toggle",label:"Toggle"}],default:o.video_enhancement.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.video_enhancement,o.video_enhancement.choices)),n={VideoEnhancement:String(t)},this.sendCommand("birddogadvancesetup","POST",n)}}),o?.aux&&(i.aux={name:o.aux.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.aux.choices,{id:"Toggle",label:"Toggle"}],default:o.aux.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.aux,o.aux.choices)),n={Aux:String(t)},this.sendCommand("birddogexternalsetup","POST",n)}}),o?.rain_wiper&&(i.rain_wiper={name:o.rain_wiper.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.rain_wiper.choices,{id:"Toggle",label:"Toggle"}],default:o.rain_wiper.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.rain_wiper,o.rain_wiper.choices)),n={RainWiper:String(t)},this.sendCommand("birddogexternalsetup","POST",n)}}),o?.v12vout&&(i.v12vout={name:o.v12vout.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.v12vout.choices,{id:"Toggle",label:"Toggle"}],default:o.v12vout.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.v12vout,o.v12vout.choices)),n={V12vOut:String(t)},this.sendCommand("birddogexternalsetup","POST",n)}}),o?.bandwidth&&(i.bandwidth={name:o.bandwidth.name,options:[{type:"dropdown",label:"Mode",id:"val",choices:o.bandwidth.choices,default:o.bandwidth.default}],callback:e=>{n={Bandwidth:String(e.options.val)},this.sendCommand("birddogdetsetup","POST",n)}}),o?.bw_balance&&(i.bw_balance={name:o.bw_balance.name,options:[{type:"dropdown",label:"Mode",id:"val",choices:o.bw_balance.choices,default:o.bw_balance.default}],callback:e=>{n={BwBandwidth:String(e.options.val)},this.sendCommand("birddogdetsetup","POST",n)}}),o?.crispening&&(i.crispening={name:o.crispening.name,options:[{type:"dropdown",label:"Crispening",id:"val",choices:o.crispening.choices,default:o.crispening.default},{type:"number",label:"Value ("+o.crispening.range.min+" to "+o.crispening.range.max+")",id:"value",min:o.crispening.range.min,max:o.crispening.range.max,default:o.crispening.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.crispening?this.camera.crispening:o.crispening.range.default,a.options.val){case"up":e=t<o.crispening.range.max?++t:o.crispening.range.max;break;case"down":e=t>o.crispening.range.min?--t:o.crispening.range.min;break;case"value":e=a.options.value}n={Crispening:String(e)},this.sendCommand("birddogdetsetup","POST",n)}}),o?.detail&&(i.detail={name:o.detail.name,options:[{type:"dropdown",label:"On / Off",id:"val",choices:[...o.detail.choices,{id:"Toggle",label:"Toggle"}],default:o.detail.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.detail,o.detail.choices)),n={Detail:String(t)},this.sendCommand("birddogdetsetup","POST",n)}}),o?.highlight_detail&&(i.highlight_detail={name:o.highlight_detail.name,options:[{type:"dropdown",label:"Highlight Detail",id:"val",choices:o.highlight_detail.choices,default:o.highlight_detail.default},{type:"number",label:"Value ("+o.highlight_detail.range.min+" to "+o.highlight_detail.range.max+")",id:"value",min:o.highlight_detail.range.min,max:o.highlight_detail.range.max,default:o.highlight_detail.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.highlight_detail?this.camera.highlight_detail:o.highlight_detail.range.default,a.options.val){case"up":e=t<o.highlight_detail.range.max?++t:o.highlight_detail.range.max;break;case"down":e=t>o.highlight_detail.range.min?--t:o.highlight_detail.range.min;break;case"value":e=a.options.value}n={HighlightDetail:String(e)},this.sendCommand("birddogdetsetup","POST",n)}}),o?.hv_balance&&(i.hv_balance={name:o.hv_balance.name,options:[{type:"dropdown",label:"Hv Balance",id:"val",choices:o.hv_balance.choices,default:o.hv_balance.default},{type:"number",label:"Value ("+o.hv_balance.range.min+" to "+o.hv_balance.range.max+")",id:"value",min:o.hv_balance.range.min,max:o.hv_balance.range.max,default:o.hv_balance.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.hv_balance?this.camera.hv_balance:o.hv_balance.range.default,a.options.val){case"up":e=t<o.hv_balance.range.max?++t:o.hv_balance.range.max;break;case"down":e=t>o.hv_balance.range.min?--t:o.hv_balance.range.min;break;case"value":e=a.options.value}n={HvBalance:String(e)},this.sendCommand("birddogdetsetup","POST",n)}}),o?.limit&&(i.limit={name:o.limit.name,options:[{type:"dropdown",label:"Limit",id:"val",choices:o.limit.choices,default:o.limit.default},{type:"number",label:"Value ("+o.limit.range.min+" to "+o.limit.range.max+")",id:"value",min:o.limit.range.min,max:o.limit.range.max,default:o.limit.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.limit?this.camera.limit:o.limit.range.default,a.options.val){case"up":e=t<o.limit.range.max?++t:o.limit.range.max;break;case"down":e=t>o.limit.range.min?--t:o.limit.range.min;break;case"value":e=a.options.value}n={Limit:String(e)},this.sendCommand("birddogdetsetup","POST",n)}}),o?.super_low&&(i.super_low={name:o.super_low.name,options:[{type:"dropdown",label:"Super Low",id:"val",choices:o.super_low.choices,default:o.super_low.default},{type:"number",label:"Value ("+o.super_low.range.min+" to "+o.super_low.range.max+")",id:"value",min:o.super_low.range.min,max:o.super_low.range.max,default:o.super_low.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.super_low?this.camera.super_low:o.super_low.range.default,a.options.val){case"up":e=t<o.super_low.range.max?++sucurrentValueper_low:o.super_low.range.max;break;case"down":e=t>o.super_low.range.min?--t:o.super_low.range.min;break;case"value":e=a.options.value}n={SuperLow:String(e)},this.sendCommand("birddogdetsetup","POST",n)}}),o?.black_gamma_level&&(i.black_gamma_level={name:o.black_gamma_level.name,options:[{type:"dropdown",label:"Black Gamma Level",id:"val",choices:o.black_gamma_level.choices,default:o.black_gamma_level.default},{type:"number",label:"Value ("+o.black_gamma_level.range.min+" to "+o.black_gamma_level.range.max+")",id:"value",min:o.black_gamma_level.range.min,max:o.black_gamma_level.range.max,default:o.black_gamma_level.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.black_gamma_level?this.camera.black_gamma_level:o.black_gamma_level.range.default,a.options.val){case"up":e=t<o.black_gamma_level.range.max?++t:o.black_gamma_level.range.max;break;case"down":e=t>o.black_gamma_level.range.max?--t:o.black_gamma_level.range.min;break;case"value":e=a.options.value}n={BlackGammaLevel:String(e)},this.sendCommand("birddoggammasetup","POST",n)}}),o?.black_level&&(i.black_level={name:o.black_level.name,options:[{type:"dropdown",label:"Black Level",id:"val",choices:o.black_level.choices,default:o.black_level.default},{type:"number",label:"Value ("+o.black_level.range.min+" to "+o.black_level.range.max+")",id:"value",min:o.black_level.range.min,max:o.black_level.range.max,default:o.black_level.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.black_level?this.camera.black_level:o.black_level.range.default,a.options.val){case"up":e=t<o.black_level.range.max?++t:o.black_level.range.max;break;case"down":e=t>o.black_level.range.max?--t:o.black_level.range.min;break;case"value":e=a.options.value}n={BlackLevel:String(e)},this.sendCommand("birddoggammasetup","POST",n)}}),o?.black_level_range&&(i.black_level_range={name:o.black_level_range.name,options:[{type:"dropdown",label:"Black Level Range",id:"val",choices:o.black_level_range.choices,default:o.black_level_range.default}],callback:e=>{n={BlackLevelRange:String(e.options.val)},this.sendCommand("birddoggammasetup","POST",n)}}),o?.effect&&(i.effect={name:o.effect.name,options:[{type:"dropdown",label:"Effect",id:"val",choices:o.effect.choices,default:o.effect.default},{type:"number",label:"Value ("+o.effect.range.min+" to "+o.effect.range.max+")",id:"value",min:o.effect.range.min,max:o.effect.range.max,default:o.effect.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.effect?this.camera.effect:o.effect.range.default,a.options.val){case"up":e=t<o.effect.range.max?++t:o.effect.range.max;break;case"down":e=t>o.effect.range.max?--t:o.effect.range.min;break;case"value":e=a.options.value}n={Effect:String(e)},this.sendCommand("birddoggammasetup","POST",n)}}),o?.level&&(i.level={name:o.level.name,options:[{type:"dropdown",label:"Level",id:"val",choices:o.level.choices,default:o.level.default},{type:"number",label:"Value ("+o.level.range.min+" to "+o.level.range.max+")",id:"value",min:o.level.range.min,max:o.level.range.max,default:o.level.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.level?this.camera.level:o.level.range.default,a.options.val){case"up":e=t<o.level.range.max?++t:o.level.range.max;break;case"down":e=t>o.level.range.max?--t:o.level.range.min;break;case"value":e=a.options.value}n={Level:String(e)},this.sendCommand("birddoggammasetup","POST",n)}}),o?.offset&&(i.offset={name:o.offset.name,options:[{type:"dropdown",label:"Offset",id:"val",choices:o.offset.choices,default:o.offset.default},{type:"number",label:"Value ("+o.offset.range.min+" to "+o.offset.range.max+")",id:"value",min:o.offset.range.min,max:o.offset.range.max,default:o.offset.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.offset?this.camera.offset:o.offset.range.default,a.options.val){case"up":e=t<o.offset.range.max?++t:o.offset.range.max;break;case"down":e=t>o.offset.range.max?--t:o.offset.range.min;break;case"value":e=a.options.value}n={Offset:String(e)},this.sendCommand("birddoggammasetup","POST",n)}}),o?.pattern&&(i.pattern={name:o.pattern.name,options:[{type:"dropdown",label:"Pattern",id:"val",choices:o.pattern.choices,default:o.pattern.default},{type:"number",label:"Value ("+o.pattern.range.min+" to "+o.pattern.range.max+")",id:"value",min:o.pattern.range.min,max:o.pattern.range.max,default:o.pattern.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.pattern?this.camera.pattern:o.pattern.range.default,a.options.val){case"up":e=t<o.pattern.range.max?++t:o.pattern.range.max;break;case"down":e=t>o.pattern.range.max?--t:o.pattern.range.min;break;case"value":e=a.options.value}n={Pattern:String(e)},this.sendCommand("birddoggammasetup","POST",n)}}),o?.pattern_fine&&(i.pattern_fine={name:o.pattern_fine.name,options:[{type:"dropdown",label:"Pattern Fine",id:"val",choices:o.pattern_fine.choices,default:o.pattern_fine.default},{type:"number",label:"Value ("+o.pattern_fine.range.min+" to "+o.pattern_fine.range.max+")",id:"value",min:o.pattern_fine.range.min,max:o.pattern_fine.range.max,default:o.pattern_fine.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.pattern_fine?this.camera.pattern_fine:o.pattern_fine.range.default,a.options.val){case"up":e=t<o.pattern_fine.range.max?++t:o.pattern_fine.range.max;break;case"down":e=t>o.pattern_fine.range.max?--t:o.pattern_fine.range.min;break;case"value":e=a.options.value}n={PatternFine:String(e)},this.sendCommand("birddoggammasetup","POST",n)}}),o?.settings&&(i.settings={name:o.settings.name,options:[{type:"dropdown",label:"Settings",id:"val",choices:o.settings.choices,default:o.settings.default}],callback:e=>{n={Settings:String(e.options.val)},this.sendCommand("birddoggammasetup","POST",n)}}),o?.visibility_enhancer&&(i.visibility_enhancer={name:o.visibility_enhancer.name,options:[{type:"dropdown",label:"Settings",id:"val",choices:[...o.visibility_enhancer.choices,{id:"Toggle",label:"Toggle"}],default:o.visibility_enhancer.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.visibility_enhancer,o.visibility_enhancer.choices)),n={VisibilityEnhancer:String(t)},this.sendCommand("birddoggammasetup","POST",n)}}),o?.scope_gamma_gain&&(i.scope_gamma_gain={name:o.scope_gamma_gain.name,options:[{type:"dropdown",label:"Gamma Gain",id:"val",choices:o.scope_gamma_gain.choices,default:o.scope_gamma_gain.default},{type:"number",label:"Value ("+o.scope_gamma_gain.range.min+" to "+o.scope_gamma_gain.range.max+")",id:"value",min:o.scope_gamma_gain.range.min,max:o.scope_gamma_gain.range.max,default:o.scope_gamma_gain.range.default,isVisible:e=>"value"===e.val}],callback:a=>{switch(t=this.camera?.scope_gamma_gain?this.camera.scope_gamma_gain:o.scope_gamma_gain.range.default,a.options.val){case"up":e=t<o.scope_gamma_gain.range.max?++t:o.scope_gamma_gain.range.max;break;case"down":e=t>o.scope_gamma_gain.range.min?--t:o.scope_gamma_gain.range.min;break;case"value":e=a.options.value}n={GammaGain:String(e)},this.sendCommand("birddogscope","POST",n)}}),o?.scope_mode&&(i.scope_mode={name:o.scope_mode.name,options:[{type:"dropdown",label:"Mode",id:"val",choices:o.scope_mode.choices,default:o.scope_mode.default}],callback:e=>{n={Mode:String(e.options.val)},this.sendCommand("birddogscope","POST",n)}}),o?.scope_position&&(i.scope_position={name:o.scope_position.name,options:[{type:"dropdown",label:"Position",id:"val",choices:o.scope_position.choices,default:o.scope_position.default}],callback:e=>{n={Position:String(e.options.val)},this.sendCommand("birddogscope","POST",n)}}),o?.scope_preview&&(i.scope_preview={name:o.scope_preview.name,options:[{type:"dropdown",label:"On/Off",id:"val",choices:[...o.scope_preview.choices,{id:"Toggle",label:"Toggle"}],default:o.scope_preview.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.scope_preview,o.scope_preview.choices)),n={PreviewEnable:String(t)},this.sendCommand("birddogscope","POST",n)}}),o?.scope_program&&(i.scope_program={name:o.scope_program.name,options:[{type:"dropdown",label:"On/Off",id:"val",choices:[...o.scope_program.choices,{id:"Toggle",label:"Toggle"}],default:o.scope_program.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.scope_program,o.scope_program.choices)),n={ProgramEnable:String(t)},this.sendCommand("birddogscope","POST",n)}}),o?.scope_size&&(i.scope_size={name:o.scope_size.name,options:[{type:"dropdown",label:"Small/Large",id:"val",choices:[...o.scope_size.choices,{id:"Toggle",label:"Toggle"}],default:o.scope_size.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.scope_size,o.scope_size.choices)),n={DoubleSizeEnable:String(t)},this.sendCommand("birddogscope","POST",n)}}),o?.scope_transparency&&(i.scope_transparency={name:o.scope_transparency.name,options:[{type:"dropdown",label:"On/Off",id:"val",choices:[...o.scope_transparency.choices,{id:"Toggle",label:"Toggle"}],default:o.scope_transparency.default}],callback:e=>{let t=e.options.val;"Toggle"==t&&(t=f(this.camera.scope_transparency,o.scope_transparency.choices)),n={TransparencyEnable:String(t)},this.sendCommand("birddogscope","POST",n)}}),i.custom={name:o.custom.name,options:[{type:"textinput",label:"Custom command, must start with 8",id:"custom",regex:"/^8[0-9a-fA-F]\\s*([0-9a-fA-F]\\s*)+$/",width:6}],callback:e=>{let t=e.options.custom.replace(/\s+/g,""),n=Buffer.from(t,"hex");a=n.toString("binary"),128==(240&n[0])?this.sendVISCACommand(a):this.log("error",'Error, command "'+e.options.custom+'" does not start with 8')}},o?.defog&&(i.defog={name:"VISCA - Defog",options:[{type:"dropdown",label:"On / Off",id:"val",choices:[{id:"0",label:"Off"},{id:"1",label:"low"},{id:"2",label:"mid"},{id:"3",label:"high"}],default:"0"}],callback:e=>{switch(e.options.val){case"0":case"3":a=w.MSG_CAM+"7ÿ";break;case"1":a=w.MSG_CAM+"7ÿ";break;case"2":a=w.MSG_CAM+"7ÿ"}this.sendVISCACommand(a)}}),o?.hrMode&&(i.hrMode={name:"VISCA - High Resolution Mode",options:[{type:"dropdown",label:"On / Off",id:"val",choices:b.ON_OFF,default:"On"}],callback:e=>{switch(e.options.val){case"On":a=w.MSG_CAM+"Rÿ";break;case"Off":a=w.MSG_CAM+"Rÿ"}this.sendVISCACommand(a)}}),Object.fromEntries(Object.entries(i).sort(u))}function A(){const e=(0,n.combineRgb)(255,255,255),t=(0,n.combineRgb)(0,0,0),a=((0,n.combineRgb)(255,0,0),(0,n.combineRgb)(0,255,0));(0,n.combineRgb)(255,102,0);let o=m(v,this.camera.firmware.major,this.camera.model),i=p(v,this.camera.firmware.major,this.camera.model),r={};if(i.some((e=>"firmware"===e.name))&&(r.firmware={type:"button",category:"General Camera",name:"Firmware",options:{},style:{text:"FW\\n$(birddog-ptz:firmware)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),i.some((e=>"model"===e.name))&&(r.model={type:"button",category:"General Camera",name:"Model",options:{},style:{text:"Model\\n$(birddog-ptz:model)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),i.some((e=>"hostname"===e.name))&&(r.hostname={type:"button",category:"General Camera",name:"Hostname",options:{},style:{text:"Hostname\\n$(birddog-ptz:hostname)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),i.some((e=>"ipaddress"===e.name))&&(r.ipaddress={type:"button",category:"General Camera",name:"IP Address",options:{},style:{text:"IP Address\\n$(birddog-ptz:ipaddress)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),i.some((e=>"netmask"===e.name))&&(r.netmask={type:"button",category:"General Camera",name:"Netmask",options:{},style:{text:"Netmask\\n$(birddog-ptz:netmask)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),i.some((e=>"network_config"===e.name))&&(r.network_config={type:"button",category:"General Camera",name:"Network Config",options:{},style:{text:"Network Config\\n$(birddog-ptz:network_config)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),i.some((e=>"serial_number"===e.name))&&(r.serial_number={type:"button",category:"General Camera",name:"Serial Number",options:{},style:{text:"SN\\n$(birddog-ptz:serial_number)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),i.some((e=>"status"===e.name))&&(r.status={type:"button",category:"General Camera",name:"Status",options:{},style:{text:"Status\\n$(birddog-ptz:status)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),o?.standby&&(r.standby={type:"button",category:"VISCA Actions",name:"Standby",options:{},style:{text:"Cam Standby",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"standby",options:{val:"standby"}}],up:[]}],feedbacks:[{feedbackId:"standby_status",options:{val:"standby"},style:{color:t,bgcolor:a}}]},r.camOn={type:"button",category:"VISCA Actions",name:"Cam On",options:{},style:{text:"Cam On",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"standby",options:{val:"on"}}],up:[]}],feedbacks:[{feedbackId:"standby_status",options:{val:"on"},style:{color:t,bgcolor:a}}]}),o?.freeze&&(r.freeze={type:"button",category:"VISCA Actions",name:"Freeze",options:{},style:{text:"Freeze\\n$(birddog-ptz:freeze)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"freeze",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"freeze_status",options:{val:o.freeze.default},style:{color:t,bgcolor:a}}]}),o?.analogAudioInGain&&(r.analogAudioInGainUp={type:"button",category:"Analog Audio",name:"Analog Audio In Gain Up",options:{},style:{text:"⯅\\nAudio In\\nGain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"analogAudioInGain",options:{val:"up"}}],up:[]}],feedbacks:[]},r.analogAudioInGainDown={type:"button",category:"Analog Audio",name:"Analog Audio In Gain Down",options:{},style:{text:"$(birddog-ptz:audio_in_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"analogAudioInGain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.analogAudioOutGain&&(r.analogAudioOutGainUp={type:"button",category:"Analog Audio",name:"Analog Audio Out Gain Up",options:{},style:{text:"⯅\\nAudio Out\\nGain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"analogAudioOutGain",options:{val:"up"}}],up:[]}],feedbacks:[]},r.analogAudioOutGainDown={type:"button",category:"Analog Audio",name:"Analog Audio Out Gain Down",options:{},style:{text:"$(birddog-ptz:audio_out_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"analogAudioOutGain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.analogAudioOutput&&(r.analogAudioOutput={type:"button",category:"Analog Audio",name:"Analog Audio Output",options:{},style:{text:"Audio Output\\n$(birddog-ptz:audio_output)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"analogAudioOutput",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"analogAudioOutput",options:{val:o.analogAudioOutput.default},style:{color:t,bgcolor:a}}]}),i.some((e=>"oled"===e.name))&&(r.oled={type:"button",category:"Device Settings",name:"OLED",options:{},style:{text:"OLED\\n$(birddog-ptz:oled)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),o?.video_output&&(r.video_output={type:"button",category:"Video Output",name:"Video Output",options:{},style:{text:"Video Output\\n\\n$(birddog-ptz:video_output)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"video_output",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"video_output",options:{val:o.video_output.default},style:{color:t,bgcolor:a}}]}),o?.bandwidth_mode&&(r.bandwidth_mode={type:"button",category:"Encode Setup",name:"Bandwidth Mode",options:{},style:{text:"BW Mode\\n$(birddog-ptz:bandwidth_mode)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"bandwidth_mode",options:{val:o.bandwidth_mode.default}}],up:[]}],feedbacks:[{feedbackId:"bandwidth_mode",options:{val:o.bandwidth_mode.default},style:{color:t,bgcolor:a}}]}),i.some((e=>"bandwidth_select"===e.name))&&(r.bandwidth_select={type:"button",category:"Encode Setup",name:"BW Select",options:{},style:{text:"NDI BW\\n$(birddog-ptz:bandwidth_select)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),i.some((e=>"color_bitdepth"===e.name))&&(r.color_bitdepth={type:"button",category:"Encode Setup",name:"Color Bitdepth",options:{},style:{text:"Color Bitdepth\\n$(birddog-ptz:color_bitdepth)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),o?.ndiAudio&&(r.ndiAudio={type:"button",category:"Encode Setup",name:"NDI Audio",options:{},style:{text:"NDI Audio\\n$(birddog-ptz:ndi_audio)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"ndiAudio",options:{val:o.ndiAudio.default}}],up:[]}],feedbacks:[{feedbackId:"ndiAudio",options:{val:o.ndiAudio.default},style:{color:t,bgcolor:a}}]}),o?.ndiGroupEnable&&(r.ndiGroupEnable={type:"button",category:"Encode Setup",name:"NDI Group",options:{},style:{text:"NDI Group\\n$(birddog-ptz:ndi_group)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"ndiGroupEnable",options:{val:o.ndiGroupEnable.default}}],up:[]}],feedbacks:[{feedbackId:"ndiGroupEnable",options:{val:o.ndiGroupEnable.default},style:{color:t,bgcolor:a}}]}),i.some((e=>"ndi_group_name"===e.name))&&(r.ndi_group_name={type:"button",category:"Encode Setup",name:"NDI Group Name",options:{},style:{text:"NDI Group Name\\n$(birddog-ptz:ndi_group_name)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),o?.screensaver_mode&&(r.screensaver_mode={type:"button",category:"Encode Setup",name:"Screensaver Mode ",options:{},style:{text:"SS Mode\\n$(birddog-ptz:screensaver_mode)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"screensaver_mode",options:{val:o.screensaver_mode.default}}],up:[]}],feedbacks:[{feedbackId:"screensaver_mode",options:{val:o.screensaver_mode.default},style:{color:t,bgcolor:a}}]}),i.some((e=>"stream_name"===e.name))&&(r.stream_name={type:"button",category:"Encode Setup",name:"Stream Name",options:{},style:{text:"Stream Name\\n$(birddog-ptz:stream_name)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),o?.stream_to_network&&(r.stream_to_network={type:"button",category:"Encode Setup",name:"Stream to Network ",options:{},style:{text:"Stream to Network\\n$(birddog-ptz:stream_to_network)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"stream_to_network",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"stream_to_network",options:{val:o.stream_to_network.default},style:{color:t,bgcolor:a}}]}),o?.tally_mode&&(r.tally_mode={type:"button",category:"Encode Setup",name:"Tally Mode",options:{},style:{text:"Tally Mode\\n$(birddog-ptz:tally_mode)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"tally_mode",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"tally_mode",options:{val:o.tally_mode.default},style:{color:t,bgcolor:a}}]}),i.some((e=>"video_csc"===e.name))&&(r.video_csc={type:"button",category:"Encode Setup",name:"Video CSC",options:{},style:{text:"VideoCSC\\n$(birddog-ptz:video_csc)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),i.some((e=>"video_format"===e.name))&&(r.video_format={type:"button",category:"Encode Setup",name:"Video Format",options:{},style:{text:"Video Format\\n$(birddog-ptz:video_format)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),i.some((e=>"video_sample_rate"===e.name))&&(r.video_sample_rate={type:"button",category:"Encode Setup",name:"Video Sample Rate",options:{},style:{text:"Video Sample Rate\\n$(birddog-ptz:video_sample_rate)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),o?.transmit_method&&(r.transmit_method={type:"button",category:"Encode Transport",name:"Transmit Method",options:{},style:{text:"TX Method\\n$(birddog-ptz:transmit_method)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"transmit_method",options:{val:o.transmit_method.default}}],up:[]}],feedbacks:[{feedbackId:"transmit_method",options:{val:o.transmit_method.default},style:{color:t,bgcolor:a}}]}),i.some((e=>"transmit_netprefix"===e.name))&&(r.transmit_netprefix={type:"button",category:"Encode Transport",name:"Multicast Net Prefix",options:{},style:{text:"Multicast\\nNet Prefix\\n$(birddog-ptz:transmit_netprefix)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),i.some((e=>"transmit_netmask"===e.name))&&(r.transmit_netmask={type:"button",category:"Encode Transport",name:"Multicast Netmask",options:{},style:{text:"Multicast\\nNetmask\\n$(birddog-ptz:transmit_netmask)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),i.some((e=>"transmit_ttl"===e.name))&&(r.transmit_ttl={type:"button",category:"Encode Transport",name:"Multicast TTL",options:{},style:{text:"Multicast\\nTTL\\n$(birddog-ptz:transmit_ttl)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),o?.capture_screensaver&&(r.capture_screensaver={type:"button",category:"Encode Transport",name:"Capture Screensaver",options:{},style:{text:"Capture Screensaver",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"capture_screensaver"}],up:[]}],feedbacks:[]}),o?.ndi_discovery_server&&(r.ndi_discovery_server={type:"button",category:"NDI Discovery",name:"NDI Discovery Server",options:{},style:{text:"NDI Discovery\\nServer\\n$(birddog-ptz:ndi_discovery_server)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"ndi_discovery_server",options:{val:o.ndi_discovery_server.default}}],up:[]}],feedbacks:[{feedbackId:"ndi_discovery_server",options:{val:o.ndi_discovery_server.default},style:{color:t,bgcolor:a}}]}),i.some((e=>"ndi_discovery_server_ip"===e.name))&&(r.ndi_discovery_server_ip={type:"button",category:"NDI Discovery",name:"NDI Discovery Server IP",options:{},style:{text:"NDI Discovery\\nServer IP\\n$(birddog-ptz:ndi_discovery_server_ip)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),i.some((e=>"freed"===e.name))&&(r.freed={type:"button",category:"FreeD",name:"FreeD",options:{},style:{text:"FreeD\\n$(birddog-ptz:freed)",size:"auto",color:e,bgcolor:t}}),i.some((e=>"freed_ip_address"===e.name))&&(r.freed_ip_address={type:"button",category:"FreeD",name:"FreeD IP Address",options:{},style:{text:"FreeD\\nIP Address\\n$(birddog-ptz:freed_ip_address)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),i.some((e=>"freed_port"===e.name))&&(r.freed_port={type:"button",category:"FreeD",name:"FreeD Port",options:{},style:{text:"FreeD\\nPort\\n$(birddog-ptz:freed_port)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),o?.pt&&(r.ptUp={type:"button",category:"Camera Control",name:"UP",options:{},style:{text:"",png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6AQMAAAApyY3OAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAAABlBMVEUAAAD///+l2Z/dAAAAAXRSTlMAQObYZgAAAIFJREFUKM+90EEKgzAQRmFDFy49ghcp5FquVPBighcRegHBjWDJ68D8U6F7m00+EnhkUlW3ru6rdyCV0INQzSg1zFLLKmU2aeCQQMEEJXIQORRsTLNyKJhNm3IoaPBg4mQorp2Mh1+00kKN307o/bZrpt5O/FlPU/c75X91/fPd6wPRD1eHyHEL4wAAAABJRU5ErkJggg==",pngalignment:"center:center",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pt",options:{val:"up",posPan:"0000",posTilt:"0000",override:!1,panSpeed:9,tiltSpeed:9}}],up:[{actionId:"pt",options:{val:"stop"}}]}],feedbacks:[]},r.ptDown={type:"button",category:"Camera Control",name:"DOWN",options:{},style:{text:"",png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6AQMAAAApyY3OAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAAABlBMVEUAAAD///+l2Z/dAAAAAXRSTlMAQObYZgAAAIlJREFUKM/F0DEOwyAMBVAjDxk5Qo7CtdiClIv1KJF6gUpZIhXxY2zTDJ2benoS8LFN9MsKbYjxF2XRS1UZ4bCeGFztFmNqphURpidm146kpwFvLDYJpPQtLSLNoySyP2bRpoqih2oSFW8K3lYAxmJGXA88XMnjeuDmih7XA8vXvNeeqX6U6aY6AacbWAQNWOPUAAAAAElFTkSuQmCC",pngalignment:"center:center",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pt",options:{val:"down",posPan:"0000",posTilt:"0000",override:!1,panSpeed:9,tiltSpeed:9}}],up:[{actionId:"pt",options:{val:"stop"}}]}],feedbacks:[]},r.ptLeft={type:"button",category:"Camera Control",name:"LEFT",options:{},style:{text:"",png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6AQMAAAApyY3OAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAAABlBMVEUAAAD///+l2Z/dAAAAAXRSTlMAQObYZgAAAHpJREFUKM+1kTEOgCAQBM9Q2JjwA/mJPA2fxlN4giWF8TRBBhMpbKSaZie3i8gPb4Y8FNZKGm8YIAONkNWacIruQLejy+gyug1dQhfRqZa0v6gYA6QfqSWapZnto1B6XdUuFaVHoJunr2MD21nIdJYUEhLYfoGmP777BKKIXC0eYSD5AAAAAElFTkSuQmCC",pngalignment:"center:center",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pt",options:{val:"left",posPan:"0000",posTilt:"0000",override:!1,panSpeed:9,tiltSpeed:9}}],up:[{actionId:"pt",options:{val:"stop"}}]}],feedbacks:[]},r.ptRight={type:"button",category:"Camera Control",name:"RIGHT",options:{},style:{text:"",png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6AQMAAAApyY3OAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAAABlBMVEUAAAD///+l2Z/dAAAAAXRSTlMAQObYZgAAAHhJREFUKM+10LERgCAMQFE4CktHcBRWcRMYzVEcwdKCI+od+fGksVCq3/AuiXOfvZnaNXzRClVrEKtMLdSqP2RTRQAFMAFGwAlw7MAk0sAzGnhVoerLKg/F5Pv4NoFNZZNGpk9sxJYeLsDdL5T7S8IFOM/R3OZ+fQeQZV9pMy+bVgAAAABJRU5ErkJggg==",pngalignment:"center:center",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pt",options:{val:"right",posPan:"0000",posTilt:"0000",override:!1,panSpeed:9,tiltSpeed:9}}],up:[{actionId:"pt",options:{val:"stop"}}]}],feedbacks:[]},r.ptUpRight={type:"button",category:"Camera Control",name:"UP RIGHT",options:{},style:{text:"",png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAMAAAAk2e+/AAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAABhlBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+X02G5AAAAgXRSTlMAAte32QZhZx7d+TywDTf8/d5VstYPOxULNvKmSY8TFBrxyeGCluJeELQ5uw7ULND4BedlKuv2P/vDA8UgCk30WO41s8+5X8dABAz6QhHVaR156JpPnihSfTJDNOMBm4bzSICqr23NsRjcGRbtjTCS2lzsOmyu9+WLKb2fTL8+RPDhqO4yAAABfElEQVRYw+3WZW/CUBQG4AO0FBsOwwcMm7sLc3d3d3e388/HGGs7lpD0tsm+9P3S5CT3SdPec+8BkCNHzv9FAVAAEABYdQDkA7jo9GNUIDMBzstb5vr0/Gx8Z35zOjI36R2xbu+619eWa2xCoK0FClF5h1cWxDHEwilEOyLlQc8hokoAlMRcESBh7siQlJBWKkijNaHuPrWBED9iYiDQ7Pv1D4Z4/DXyFo2JgeAghQEkEgAvT6IgNo/PIUmgd62oj80mqEIpINoXRkmg2j2UBDIWVXKLTSXEUIOF/xbV5aRQsJvvUOoqMqjZZ+c7FcX8ThYCtTbxHV0fkEGDA73D3Dpzi/6rWEYAdSn579PZ/t3IBJChkef0dLRlHXdkJ6TSmSnmiYPq1LQIiGHX9BvZYinJ7/+R6q1czUG0j9KSOTxDc6UhshZhMIQrS78mncwZtzErrNcYL6V2Zd0tJ6i7QFtAYPcvHv25W6J+/Y3BrRA/x6WGuGN5mpUjhyyfsGtrpKE95HoAAAAASUVORK5CYII=",pngalignment:"center:center",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pt",options:{val:"up_right",posPan:"0000",posTilt:"0000",override:!1,panSpeed:9,tiltSpeed:9}}],up:[{actionId:"pt",options:{val:"stop"}}]}],feedbacks:[]},r.ptUpLeft={type:"button",category:"Camera Control",name:"UP LEFT",options:{},style:{text:"",png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAMAAAAk2e+/AAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAABLFBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9PVkEkAAAAY3RSTlMAAQ/6Uc0OEAvHTzL7TcudsMHvdwnfUwMcG8UGiIfTrIkg9QI+/ZTDe460km73LNovCo1vQUuR4Lwk45/OK+3UERTkekziZlSK8QQnoOsFaaXmLqOylvPZLYDRZTUWUpiTDfAuEmiSAAABUklEQVRYw+3WZ2+DMBAG4EtTygrQ7NHsJt1777333vv+/38o6gIMSo0dqf3AK1lIZ/mRjPEJgCBBgvxtQr8WqDKbCiWUG1AnYXU7C7UJqKQSR5oKQwqIPphsYW24nEPjJCYXilf9F+G+qeTmThTP5w8X8gK9NLqOGMGPhD8fdXtBkGihlmlsmF5aqK2xg9FmQe3/DupuEhTpoT41z/V1HVHfxWRRo/6ORBfyjILx9mRo+2MDlS3ggF5q4uP9qzmVNjfOA+EDdDLcWA8IW6FJEJPkCbFI3hCDZEFVPsmC7mQuyYJ0iUuyIAG4JDvEJTkgHskJcUgExC6RECmxQ4REDa24ILsU6wL/rfYHskmX9C87Pfi9aA5cUmnRx/kffDmncSCkat7X342KSzOIuesNR1WSl7GU8Xfbbs9Gyoo0TvRp6Tie8d2TOsyx51UMEiQIS94B13oTqqYgGGoAAAAASUVORK5CYII=",pngalignment:"center:center",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pt",options:{val:"up_left",posPan:"0000",posTilt:"0000",override:!1,panSpeed:9,tiltSpeed:9}}],up:[{actionId:"pt",options:{val:"stop"}}]}],feedbacks:[]},r.ptDownLeft={type:"button",category:"Camera Control",name:"DOWN LEFT",options:{},style:{text:"",png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAMAAAAk2e+/AAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAABg1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8aT76cAAAAgHRSTlMAafwJfflezc+3WA7Z5Rk6PAvpBNE73kJT89QxZ48czNIv9A1DnI3qKQUaymjT4a7HdVuGf85LR20CVHr+tLBlA0GvYSTYZEnbAcazNPX4yB4GrAgnmL6Bcj4qIVKIe8kdVadIEe27B90bOG/3Er1rYJq1wibyh+4Q5CMzRllMXDo5euMAAAGfSURBVFjD7dblUwJBGAbw5aSlBJRGQERBkLC7u7u7u7veP90jDnaEcdhjP+k9X5h9Zu43O7PLe4eQECH/KGsIaUooOEcLK75LpehH628idSrE+nMANfyQ3MY2BRm0C6mM462tUwJAJtVyUB1WmsoSFZEk46D6TBcYS3UKPpCYawxD5VxHImVD/RHIxMQbGintkGQcppkcOkuutQPYfkDfmjck556ZTSydve2YY5UWk0Mww672VPh+XFqCU8tA+whtL+KOpa+bF3Rh8B4ymDNaSnSzG9IPIpsL34/HTPZfS58auMPYuYNMWcQXOsD3U9ZDOkZkkCvqwSIqUI2WfEDmgiQxRANiIp8GKtDLO6/Znw19oOdXhKoROtEUBr1F5Y9f4dt1XygqKgh6YqcHwMQkQBWICr1H6czTgrpoQde0IGnekJEWNEwLMv/GPDDB/M/fDioVeLYA5GqoYt+xNRY4toJkCiBUG7vTEVxJu2Z549RbqXQuba7uVDZWO66mgw6d7kYaEPvvCb+REIp/srGzLP4aa0n8zKFkKUSIkD+Qb9QrYMvxAbaBAAAAAElFTkSuQmCC",pngalignment:"center:center",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pt",options:{val:"down_left",posPan:"0000",posTilt:"0000",override:!1,panSpeed:9,tiltSpeed:9}}],up:[{actionId:"pt",options:{val:"stop"}}]}],feedbacks:[]},r.ptDownRight={type:"button",category:"Camera Control",name:"DOWN RIGHT",options:{},style:{text:"",png64:"iVBORw0KGgoAAAANSUhEUgAAAEgAAAA6CAMAAAAk2e+/AAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAAARnQU1BAACxjwv8YQUAAAABc1JHQgCuzhzpAAABXFBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9jYfXuAAAAc3RSTlMAQ98Ox1j9gAtRNTqBPfgu9p/MTQ+G1Qfx7Y0VBYyJgjkGd3ysU+Zz1IQvMM20PgwBp8Mi4TSUiDvlPxylsaF2WfcjJh0S+wLzQLmY4l/ovX3ra1rPLAOSKa4RUEvgcZwbFHqPzodGbX7qPMvCtsEq1laguT+HEwAAAVlJREFUWMPt1sduwkAQgOGxDfFCIITe0nvvvZHee++992TeX4pJQIC9hPWaQ6T41x6skfY7WGPJAGZm/6qgZjIH4AMgOp2Lq32batTkdW/trPt9+qC70DVmSKS2BXF7A1fX9DDnN2FUSpe8y5hID3SZuJMmrcwmoSFm5vD0BDWSNTnCUmZoD1PZtJCDGfIgRUpBMjPkR4rEAwUtFIkHAkKRuCCaxAdRJE5IK/FCGumWF1JLEW5ILfFD2ST9UBaJA6JLPBCQ57xAJcp5NQbtSgBReJSsH8QI5No8ODo+u397ecL3T35IGhcRA4jig8E9qmjAX2OGnAV5ggrxr0ELOaByVmg6B1TGvEYyTvxcKUaMv/ii7xN/VAZYY2dfSHkkPOYY7Kpf7OmLzLfGPIFGd6izWrRUjdYt9Xfo+ULsLpgRKqGtGyadAEIUmnuhXSAwMAXD5j+omZlZRl+X30CWTm2dHwAAAABJRU5ErkJggg==",pngalignment:"center:center",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pt",options:{val:"down_right",posPan:"0000",posTilt:"0000",override:!1,panSpeed:9,tiltSpeed:9}}],up:[{actionId:"pt",options:{val:"stop"}}]}],feedbacks:[]},r.ptHome={type:"button",category:"Camera Control",name:"Home",options:{},style:{text:"HOME",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pt",options:{val:"home",posPan:"0000",posTilt:"0000",override:!1,panSpeed:9,tiltSpeed:9}}],up:[]}],feedbacks:[]}),o?.panSpeed&&(r.panSpeedUp={type:"button",category:"Camera Control",name:"Pan Speed Up",options:{},style:{text:"⯅\\nPan Speed",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"panSpeed",options:{type:"up"}}],up:[]}],feedbacks:[]},r.panSpeedDown={type:"button",category:"Camera Control",name:"Pan Speed Down",options:{},style:{text:"$(birddog-ptz:pan_speed)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"panSpeed",options:{type:"down"}}],up:[]}],feedbacks:[]}),o?.preset&&(r.presetMode={type:"button",category:"Preset",name:"Preset Mode",options:{},style:{text:"Preset $(birddog-ptz:preset)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"preset",options:{val:o.preset.default}}],up:[]}],feedbacks:[]}),o?.preset_speed&&(r.preset_speedUp={type:"button",category:"Preset",name:"Preset Speed Up",options:{},style:{text:"⯅\\nPreset Speed",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"preset_speed",options:{type:"up"}}],up:[]}],feedbacks:[]},r.preset_speedDown={type:"button",category:"Preset",name:"Preset Speed Down",options:{},style:{text:"$(birddog-ptz:preset_speed)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"preset_speed",options:{type:"down"}}],up:[]}],feedbacks:[]}),o?.recallPset){let a;for(a=1;a<10;a++)r[`recallPset_${a}`]={type:"button",category:"Preset",label:"Recall Preset "+parseInt(a),style:{text:"Recall\\nPreset\\n"+parseInt(a),size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"recallPset",options:{val:parseInt(a)}}],up:[]}],feedbacks:[]}}if(o?.savePset){let a;for(a=1;a<10;a++)r[`savePset${a}`]={type:"button",category:"Preset",label:"Save Preset "+parseInt(a),style:{text:"Save\\nPreset\\n"+parseInt(a),size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"savePset",options:{val:parseInt(a)}}],up:[]}],feedbacks:[]}}return o?.tiltSpeed&&(r.tiltSpeedUp={type:"button",category:"Camera Control",name:"Tilt Speed Up",options:{},style:{text:"⯅\\nTilt Speed",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"tiltSpeed",options:{type:"up"}}],up:[]}],feedbacks:[]},r.tiltSpeedDown={type:"button",category:"Camera Control",name:"Tilt Speed Down",options:{},style:{text:"$(birddog-ptz:tilt_speed)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"tiltSpeed",options:{type:"down"}}],up:[]}],feedbacks:[]}),o?.zoom&&(r.zoomIn={type:"button",category:"Camera Control",name:"Zoom In",options:{},style:{text:"Tele",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"zoom",options:{val:"in"}}],up:[{actionId:"zoom",options:{val:"stop"}}]}],feedbacks:[]},r.zoomOut={type:"button",category:"Camera Control",name:"Zoom Out",options:{},style:{text:"Wide",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"zoom",options:{val:"out"}}],up:[{actionId:"zoom",options:{val:"stop"}}]}],feedbacks:[]}),o?.zoomSpeed&&(r.zoomSpeedUp={type:"button",category:"Camera Control",name:"Zoom Speed Up",options:{},style:{text:"⯅\\nZoom Speed",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"zoomSpeed",options:{type:"up"}}],up:[]}],feedbacks:[]},r.zoomSpeedDown={type:"button",category:"Camera Control",name:"Zoom Speed Down",options:{},style:{text:"$(birddog-ptz:zoom_speed)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"zoomSpeed",options:{type:"down"}}],up:[]}],feedbacks:[]}),o?.onScreenMenu&&(r.onScreenMenu={type:"button",category:"Camera Control",name:"On Screen Menu",options:{},style:{text:"Menu ON/OFF",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"onScreenMenu"}],up:[]}],feedbacks:[]}),o?.focus&&(r.focusIn={type:"button",category:"Camera Control",name:"Focus In",options:{},style:{text:"Focus\\nIn",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"focus",options:{val:"near"}}],up:[{actionId:"focus",options:{val:"stop"}}]}],feedbacks:[]},r.focusFar={type:"button",category:"Camera Control",name:"Focus Far",options:{},style:{text:"Focus\\nOut",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"focus",options:{val:"far"}}],up:[{actionId:"focus",options:{val:"stop"}}]}],feedbacks:[]},r.focusMode={type:"button",category:"Camera Control",name:"Focus Mode",options:{},style:{text:"Focus Mode\\n$(birddog-ptz:focus_mode)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"focusM",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"focusMode",options:{val:o.focusM.default},style:{color:t,bgcolor:a}}]},r.focusOnePush={type:"button",category:"Camera Control",name:"One Push Auto Focus",options:{},style:{text:"O.P.\\nAF",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"focus",options:{val:"trigger"}}],up:[]}],feedbacks:[]}),o?.ae_response&&(r.ae_response={type:"button",category:"Exposure",name:"Ae Response",options:{},style:{text:"Ae Response\\n$(birddog-ptz:ae_response)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"ae_response",options:{val:o.ae_response.default}}],up:[]}],feedbacks:[{feedbackId:"ae_response",options:{val:o.ae_response.default},style:{color:t,bgcolor:a}}]}),o?.backlight&&(r.backlight={type:"button",category:"Exposure",name:"Backlight",options:{},style:{text:"Backlight\\n$(birddog-ptz:backlight)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"backlight",options:{mode:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"backlight",options:{mode:o.backlight.default},style:{color:t,bgcolor:a}}]}),o?.bright_level&&(r.bright_level={type:"button",category:"Exposure",name:"Bright Level",options:{},style:{text:"Bright Level\\n$(birddog-ptz:bright_level)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"bright_level",options:{val:o.bright_level.default}}],up:[]}],feedbacks:[{feedbackId:"bright_level",options:{val:o.bright_level.default},style:{color:t,bgcolor:a}}]}),o?.expComp&&(r.expComp={type:"button",category:"Exposure",name:"Exposure Compensation",options:{},style:{text:"Exposure Compensation\\n$(birddog-ptz:exposure_comp)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"expComp",options:{val:o.expComp.default}}],up:[]}],feedbacks:[{feedbackId:"exposureoCmpEn",options:{val:o.expComp.default},style:{color:t,bgcolor:a}}]}),i.some((e=>"exposure_comp_level"===e.name))&&(r.exposure_comp_level={type:"button",category:"Exposure",name:"Exposure Compensation Level",options:{},style:{text:"Exposure\\nCompensation\\nLevel\\n$(birddog-ptz:exposure_comp_level)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),o?.exposure_mode&&(r.exposure_mode={type:"button",category:"Exposure",name:"Exposure Mode",options:{},style:{text:"Exposure\\nMode\\n$(birddog-ptz:exposure_mode)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"expM",options:{val:o.exposure_mode.default}}],up:[]}],feedbacks:[{feedbackId:"exposureMode",options:{mode:o.exposure_mode.default},style:{color:t,bgcolor:a}}]}),o?.gain&&(r.gainUp={type:"button",category:"Exposure",name:"Gain Up",options:{},style:{text:"⯅\\nGain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gain",options:{val:"up"}}],up:[]}],feedbacks:[]},r.gainDown={type:"button",category:"Exposure",name:"Gain Down",options:{},style:{text:"$(birddog-ptz:gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.gain_limit&&(r.gain_limitUp={type:"button",category:"Exposure",name:"Gain Limit Up",options:{},style:{text:"⯅\\nGain Limit",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gainLimit",options:{val:"up"}}],up:[]}],feedbacks:[]},r.gain_limitDown={type:"button",category:"Exposure",name:"Gain Limit Down",options:{},style:{text:"$(birddog-ptz:gain_limit)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gainLimit",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.gain_point&&(r.gain_point={type:"button",category:"Exposure",name:"Gain Point",options:{},style:{text:"Gain point\\n$(birddog-ptz:gain_point)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gainPoint",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"gain_point",options:{val:o.gain_point.default},style:{color:t,bgcolor:a}}]}),o?.gain_point_position&&(r.gain_point_positionUp={type:"button",category:"Exposure",name:"Gain Point Position Up",options:{},style:{text:"⯅\\nGain Point\\nPosition",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gainPointPosition",options:{val:"up"}}],up:[]}],feedbacks:[]},r.gain_point_positionDown={type:"button",category:"Exposure",name:"Gain Point Position Down",options:{},style:{text:"$(birddog-ptz:gain_point_position)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gainPointPosition",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.high_sensitivity&&(r.high_sensitivity={type:"button",category:"Exposure",name:"High Sensitivity",options:{},style:{text:"High Sensitivity\\n$(birddog-ptz:high_sensitivity)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"highSensitivity",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"highSensitivity",options:{val:o.high_sensitivity.default},style:{color:t,bgcolor:a}}]}),o?.iris&&(r.irisUp={type:"button",category:"Exposure",name:"Iris Up",options:{},style:{text:"⯅\\nIris",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"iris",options:{val:"up"}}],up:[]}],feedbacks:[]},r.irisDown={type:"button",category:"Exposure",name:"Iris Down",options:{},style:{text:"$(birddog-ptz:iris)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"iris",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.shutter_control_overwrite&&(r.shutter_control_overwrite={type:"button",category:"Exposure",name:"Shutter Control Overwrite",options:{},style:{text:"Shutter Control\\nOverwrite\\n$(birddog-ptz:shutter_control_overwrite)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"shutter_control_overwrite",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"shutter_control_overwrite",options:{val:o.shutter_control_overwrite.default},style:{color:t,bgcolor:a}}]}),o?.shutter_max_speed&&(r.shutter_max_speedUp={type:"button",category:"Exposure",name:"Shutter Max Speed Up",options:{},style:{text:"⯅\\nShutter\\nMax Speed",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"shutter_max_speed",options:{val:"up"}}],up:[]}],feedbacks:[]},r.shutter_max_speedDown={type:"button",category:"Exposure",name:"Shutter Max Speed Down",options:{},style:{text:"$(birddog-ptz:shutter_max_speed)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"shutter_max_speed",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.shutter_min_speed&&(r.shutter_min_speedUp={type:"button",category:"Exposure",name:"Shutter Min Speed Up",options:{},style:{text:"⯅\\nShutter\\nMin Speed",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"shutter_min_speed",options:{val:"up"}}],up:[]}],feedbacks:[]},r.shutter_min_speedDown={type:"button",category:"Exposure",name:"Shutter Min Speed Down",options:{},style:{text:"$(birddog-ptz:shutter_min_speed)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"shutter_min_speed",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.shutter_speed&&(r.shutter_speedUp={type:"button",category:"Exposure",name:"Shutter Up",options:{},style:{text:"⯅\\nShutter",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"shut",options:{val:"up"}}],up:[]}],feedbacks:[]},r.shutter_speedDown={type:"button",category:"Exposure",name:"Shutter Down",options:{},style:{text:"$(birddog-ptz:shutter_speed)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"shut",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.shutter_speed_overwrite&&(r.shutter_speed_overwriteUp={type:"button",category:"Exposure",name:"Shutter Speed Overwrite Up",options:{},style:{text:"⯅\\nShutter Speed\\nOverwrite",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"shutter_speed_overwrite",options:{val:"up"}}],up:[]}],feedbacks:[]},r.shutter_speed_overwriteDown={type:"button",category:"Exposure",name:"Shutter Speed Overwrite Down",options:{},style:{text:"$(birddog-ptz:shutter_speed_overwrite)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"shutter_speed_overwrite",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.slow_shutter_en&&(r.slow_shutter_en={type:"button",category:"Exposure",name:"Slow Shutter Enable",options:{},style:{text:"Slow Shutter\\nEnable\\n$(birddog-ptz:slow_shutter_en)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"slow_shutter_en",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"slow_shutter_en",options:{val:o.slow_shutter_en.default},style:{color:t,bgcolor:a}}]}),o?.slow_shutter_limit&&(r.slow_shutter_limitUp={type:"button",category:"Exposure",name:"Slow Shutter Limit Up",options:{},style:{text:"⯅\\nSlow Shutter\\nLimit",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"slow_shutter_limit",options:{val:"up"}}],up:[]}],feedbacks:[]},r.slow_shutter_limitDown={type:"button",category:"Exposure",name:"Slow Shutter Limit Down",options:{},style:{text:"$(birddog-ptz:slow_shutter_limit)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"slow_shutter_limit",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.spotlight&&(r.spotlight={type:"button",category:"Exposure",name:"Spotlight",options:{},style:{text:"Spotlight\\n$(birddog-ptz:spotlight)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"spotlight",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"spotlight",options:{val:o.spotlight.default},style:{color:t,bgcolor:a}}]}),o?.bg&&(r.bgUp={type:"button",category:"White Balance",name:"BG Up",options:{},style:{text:"⯅\\nBG",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"bg",options:{val:"up"}}],up:[]}],feedbacks:[]},r.bgDown={type:"button",category:"White Balance",name:"BG Down",options:{},style:{text:"$(birddog-ptz:bg)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"bg",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.br&&(r.brUp={type:"button",category:"White Balance",name:"BR Up",options:{},style:{text:"⯅\\nBR",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"br",options:{val:"up"}}],up:[]}],feedbacks:[]},r.brDown={type:"button",category:"White Balance",name:"BR Down",options:{},style:{text:"$(birddog-ptz:br)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"br",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.blue_gain&&(r.blue_gainUp={type:"button",category:"White Balance",name:"Blue Gain Up",options:{},style:{text:"⯅\\nBlue Gain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"blue_gain",options:{val:"up"}}],up:[]}],feedbacks:[]},r.blue_gainDown={type:"button",category:"White Balance",name:"Blue Gain Down",options:{},style:{text:"$(birddog-ptz:blue_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"blue_gain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.color_temp&&(r.color_tempUp={type:"button",category:"White Balance",name:"Color Temp Up",options:{},style:{text:"⯅\\nColor Temp",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"color_temp",options:{val:"up"}}],up:[]}],feedbacks:[]},r.color_tempDown={type:"button",category:"White Balance",name:"Color Temp Down",options:{},style:{text:"$(birddog-ptz:color_temp)K\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"color_temp",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.gb&&(r.gbUp={type:"button",category:"White Balance",name:"GB Up",options:{},style:{text:"⯅\\nGB",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gb",options:{val:"up"}}],up:[]}],feedbacks:[]},r.gbDown={type:"button",category:"White Balance",name:"GB Down",options:{},style:{text:"$(birddog-ptz:gb)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gb",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.gr&&(r.grUp={type:"button",category:"White Balance",name:"GR Up",options:{},style:{text:"⯅\\nGR",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gr",options:{val:"up"}}],up:[]}],feedbacks:[]},r.grDown={type:"button",category:"White Balance",name:"GR Down",options:{},style:{text:"$(birddog-ptz:gr)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gr",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.level&&(r.levelUp={type:"button",category:"White Balance",name:"Level Up",options:{},style:{text:"⯅\\nLevel",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"level",options:{val:"up"}}],up:[]}],feedbacks:[]},r.levelDown={type:"button",category:"White Balance",name:"Level Down",options:{},style:{text:"$(birddog-ptz:level)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"level",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.matrix&&(r.matrix={type:"button",category:"White Balance",name:"Matrix",options:{},style:{text:"Matrix\\n$(birddog-ptz:matrix)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"matrix",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"matrix",options:{val:o.matrix.default},style:{color:t,bgcolor:a}}]}),o?.offset&&(r.offsetUp={type:"button",category:"White Balance",name:"Offset Up",options:{},style:{text:"⯅\\nOffset",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"offset",options:{val:"up"}}],up:[]}],feedbacks:[]},r.offsetDown={type:"button",category:"White Balance",name:"Offset Down",options:{},style:{text:"$(birddog-ptz:offset)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"offset",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.phase&&(r.phaseUp={type:"button",category:"White Balance",name:"Phase Up",options:{},style:{text:"⯅\\nPhase",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"phase",options:{val:"up"}}],up:[]}],feedbacks:[]},r.phaseDown={type:"button",category:"White Balance",name:"Phase Down",options:{},style:{text:"$(birddog-ptz:phase)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"phase",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.rb&&(r.rbUp={type:"button",category:"White Balance",name:"RB Up",options:{},style:{text:"⯅\\nRB",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"rb",options:{val:"up"}}],up:[]}],feedbacks:[]},r.rbDown={type:"button",category:"White Balance",name:"RB Down",options:{},style:{text:"$(birddog-ptz:rb)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"rb",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.rg&&(r.rgUp={type:"button",category:"White Balance",name:"RG Up",options:{},style:{text:"⯅\\nRG",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"rg",options:{val:"up"}}],up:[]}],feedbacks:[]},r.rgDown={type:"button",category:"White Balance",name:"RG Down",options:{},style:{text:"$(birddog-ptz:rg)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"rg",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.red_gain&&(r.red_gainUp={type:"button",category:"White Balance",name:"Red Gain Up",options:{},style:{text:"⯅\\nRed Gain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"red_gain",options:{val:"up"}}],up:[]}],feedbacks:[]},r.red_gainDown={type:"button",category:"White Balance",name:"Red Gain Down",options:{},style:{text:"$(birddog-ptz:red_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"red_gain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.select&&(r.select={type:"button",category:"White Balance",name:"Select",options:{},style:{text:"Select\\n$(birddog-ptz:select)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"select",options:{val:o.select.default}}],up:[]}],feedbacks:[{feedbackId:"select",options:{val:o.select.default},style:{color:t,bgcolor:a}}]}),o?.speed&&(r.speedUp={type:"button",category:"White Balance",name:"Speed Up",options:{},style:{text:"⯅\\nSpeed",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"speed",options:{val:"up"}}],up:[]}],feedbacks:[]},r.speedDown={type:"button",category:"White Balance",name:"Speed Down",options:{},style:{text:"$(birddog-ptz:speed)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"speed",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.wb_mode&&(r.wb_mode={type:"button",category:"White Balance",name:"White Balance Mode",options:{},style:{text:"WB Mode\\n$(birddog-ptz:wb_mode)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"wb_mode",options:{val:o.wb_mode.default}}],up:[]}],feedbacks:[{feedbackId:"wb_mode",options:{mode:o.wb_mode.default},style:{color:t,bgcolor:a}}]}),o?.wbOnePush&&(r.wbOnePush={type:"button",category:"White Balance",name:"WB One Push",options:{},style:{text:"WB\\nONE PUSH",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"wbOnePush"}],up:[]}],feedbacks:[]}),o?.backlight_com&&(r.backlight_com={type:"button",category:"Picture",name:"Backlight Compensation",options:{},style:{text:"Backlight\\nComp\\n$(birddog-ptz:backlight_com)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"backlight_com",options:{val:o.backlight_com.default}}],up:[]}],feedbacks:[{feedbackId:"backlight_com",options:{val:o.backlight_com.default},style:{color:t,bgcolor:a}}]}),o?.chroma_suppress&&(r.chroma_suppress={type:"button",category:"Picture",name:"Backlight Compensation",options:{},style:{text:"Chroma\\nSuppress\\n$(birddog-ptz:chroma_suppress)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"chroma_suppress",options:{val:o.chroma_suppress.default}}],up:[]}],feedbacks:[{feedbackId:"chroma_suppress",options:{val:o.chroma_suppress.default},style:{color:t,bgcolor:a}}]}),o?.saturation&&(r.saturationUp={type:"button",category:"Picture",name:"Saturation Up",options:{},style:{text:"⯅\\nSaturation",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"saturation",options:{val:"up"}}],up:[]}],feedbacks:[]},r.saturationDown={type:"button",category:"Picture",name:"Saturation Down",options:{},style:{text:"$(birddog-ptz:saturation)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"saturation",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.contrast&&(r.contrastUp={type:"button",category:"Picture",name:"Contrast Up",options:{},style:{text:"⯅\\nContrast",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"contrast",options:{val:"up"}}],up:[]}],feedbacks:[]},r.contrastDown={type:"button",category:"Picture",name:"Contrast Down",options:{},style:{text:"$(birddog-ptz:contrast)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"contrast",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.pictureEffect&&(r.pictureEffect={type:"button",category:"Picture",name:"Effect",options:{},style:{text:"Effect\\n$(birddog-ptz:bw_effect)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pictureEffect",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"pictureEffect",options:{val:o.pictureEffect.default},style:{color:t,bgcolor:a}}]}),o?.picFlip&&(r.picFlip={type:"button",category:"Picture",name:"Flip",options:{},style:{text:"Flip\\n$(birddog-ptz:flip)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"picFlip",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"picFlip",options:{val:o.picFlip.default},style:{color:t,bgcolor:a}}]}),o?.gamma&&(r.gammaUp={type:"button",category:"Picture",name:"Gamma Up",options:{},style:{text:"⯅\\nGamma",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gamma",options:{val:"up"}}],up:[]}],feedbacks:[]},r.gammaDown={type:"button",category:"Picture",name:"Gamma Down",options:{},style:{text:"$(birddog-ptz:gamma)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gamma",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.highlight_comp&&(r.highlight_comp={type:"button",category:"Picture",name:"Highlight Compensation",options:{},style:{text:"Highlight Comp.\\n$(birddog-ptz:highlight_comp)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"highlight_comp",options:{val:o.highlight_comp.default}}],up:[]}],feedbacks:[{feedbackId:"highlight_comp",options:{val:o.highlight_comp.default},style:{color:t,bgcolor:a}}]}),o?.highlight_comp_mask&&(r.highlight_comp_maskUp={type:"button",category:"Picture",name:"Highlight Comp. Mask Up",options:{},style:{text:"⯅\\nHigh Comp\\n Mask",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"highlight_comp_mask",options:{val:"up"}}],up:[]}],feedbacks:[]},r.highlight_comp_maskDown={type:"button",category:"Picture",name:"Highlight Comp. Mask Down",options:{},style:{text:"$(birddog-ptz:highlight_comp_mask)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"highlight_comp_mask",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.hue&&(r.hueUp={type:"button",category:"Picture",name:"Hue Up",options:{},style:{text:"⯅\\nHue",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"hue",options:{val:"up"}}],up:[]}],feedbacks:[]},r.hueDown={type:"button",category:"Picture",name:"Hue Down",options:{},style:{text:"$(birddog-ptz:hue)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"hue",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.ir_cutfilter&&(r.ir_cutfilter={type:"button",category:"Picture",name:"IR Cutfilter",options:{},style:{text:"IR Cut Filter\\n$(birddog-ptz:ir_cutfilter)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"ir_cutfilter",options:{val:o.ir_cutfilter.default}}],up:[]}],feedbacks:[{feedbackId:"ir_cutfilter",options:{val:o.ir_cutfilter.default},style:{color:t,bgcolor:a}}]}),o?.low_latency&&(r.low_latency={type:"button",category:"Picture",name:"Low Latency",options:{},style:{text:"Low Latency\\n$(birddog-ptz:low_latency)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"low_latency",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"low_latency",options:{val:o.low_latency.default},style:{color:t,bgcolor:a}}]}),o?.picMirror&&(r.picMirror={type:"button",category:"Picture",name:"Mirror",options:{},style:{text:"Mirror\\n$(birddog-ptz:mirror)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"picMirror",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"picMirror",options:{val:o.picMirror.default},style:{color:t,bgcolor:a}}]}),o?.nd_filter&&(r.nd_filterUp={type:"button",category:"Picture",name:"ND Filter Up",options:{},style:{text:"⯅\\nND Filter",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"nd_filter",options:{val:"up"}}],up:[]}],feedbacks:[]},r.nd_filterDown={type:"button",category:"Picture",name:"ND Filter Down",options:{},style:{text:"$(birddog-ptz:nd_filter)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"nd_filter",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.noise_reduction&&(r.noise_reductionUp={type:"button",category:"Picture",name:"Noise Reduction Up",options:{},style:{text:"⯅\\nNR",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"noise_reduction",options:{val:"up"}}],up:[]}],feedbacks:[]},r.noise_reductionDown={type:"button",category:"Picture",name:"Noise Reduction Down",options:{},style:{text:"$(birddog-ptz:noise_reduction)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"noise_reduction",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.sharpness&&(r.sharpnessUp={type:"button",category:"Picture",name:"Sharpness Up",options:{},style:{text:"⯅\\nSharpness",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"sharpness",options:{val:"up"}}],up:[]}],feedbacks:[]},r.sharpnessDown={type:"button",category:"Picture",name:"Sharpness Down",options:{},style:{text:"$(birddog-ptz:sharpness)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"sharpness",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.stabilizer&&(r.stabilizer={type:"button",category:"Picture",name:"Stabilizer",options:{},style:{text:"Mirror\\n$(birddog-ptz:stabilizer)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"stabilizer",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"stabilizer",options:{val:o.stabilizer.default},style:{color:t,bgcolor:a}}]}),o?.threed_nr&&(r.threed_nrUp={type:"button",category:"Picture",name:"3D Noise Reduction Up",options:{},style:{text:"⯅\\n3D NR",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"threed_nr",options:{val:"up"}}],up:[]}],feedbacks:[]},r.threed_nrDown={type:"button",category:"Picture",name:"3D Noise Reduction Down",options:{},style:{text:"$(birddog-ptz:threed_nr)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"threed_nr",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.twod_nr&&(r.twod_nrUp={type:"button",category:"Picture",name:"2D Noise Reduction Up",options:{},style:{text:"⯅\\n2D NR",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"twod_nr",options:{val:"up"}}],up:[]}],feedbacks:[]},r.twod_nrDown={type:"button",category:"Picture",name:"2D Noise Reduction Down",options:{},style:{text:"$(birddog-ptz:twod_nr)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"twod_nr",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.wide_dynamic_range&&(r.wide_dynamic_rangeUp={type:"button",category:"Picture",name:"Wide Dynamics Range Up",options:{},style:{text:"⯅\\nWDR",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"wide_dynamic_range",options:{val:"up"}}],up:[]}],feedbacks:[]},r.wide_dynamic_rangeDown={type:"button",category:"Picture",name:"Wide Dynamics Range Down",options:{},style:{text:"$(birddog-ptz:wide_dynamic_range)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"wide_dynamic_range",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_blue_gain&&(r.cm_blue_gainUp={type:"button",category:"Color Matrix",name:"Blue Gain Up",options:{},style:{text:"⯅\\nBlue Gain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_blue_gain",options:{val:"up"}}],up:[]}],feedbacks:[]},r.cm_blue_gainDown={type:"button",category:"Color Matrix",name:"Blue Gain Down",options:{},style:{text:"$(birddog-ptz:cm_blue_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_blue_gain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_blue_hue&&(r.cm_blue_hueUp={type:"button",category:"Color Matrix",name:"Blue Hue Up",options:{},style:{text:"⯅\\nBlue Hue",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_blue_hue",options:{val:"up"}}],up:[]}],feedbacks:[]},r.cm_blue_hueDown={type:"button",category:"Color Matrix",name:"Blue Hue Down",options:{},style:{text:"$(birddog-ptz:cm_blue_hue)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_blue_hue",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_color_gain&&(r.cm_color_gainUp={type:"button",category:"Color Matrix",name:"Color Gain Up",options:{},style:{text:"⯅\\nColor Gain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_color_gain",options:{val:"up"}}],up:[]}],feedbacks:[]},r.cm_color_gainDown={type:"button",category:"Color Matrix",name:"Color Gain Down",options:{},style:{text:"$(birddog-ptz:cm_color_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_color_gain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_cyan_gain&&(r.cm_cyan_gainUp={type:"button",category:"Color Matrix",name:"Cyan Gain Up",options:{},style:{text:"⯅\\nCyan Gain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_cyan_gain",options:{val:"up"}}],up:[]}],feedbacks:[]},r.cm_cyan_gainDown={type:"button",category:"Color Matrix",name:"Cyan Gain Down",options:{},style:{text:"$(birddog-ptz:cm_cyan_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_cyan_gain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_cyan_hue&&(r.cm_cyan_hueUp={type:"button",category:"Color Matrix",name:"Cyan Hue Up",options:{},style:{text:"⯅\\nCyan Hue",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_cyan_hue",options:{val:"up"}}],up:[]}],feedbacks:[]},r.cm_cyan_hueDown={type:"button",category:"Color Matrix",name:"Cyan Hue Down",options:{},style:{text:"$(birddog-ptz:cm_cyan_hue)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_cyan_hue",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_green_gain&&(r.cm_green_gainUp={type:"button",category:"Color Matrix",name:"Green Gain Up",options:{},style:{text:"⯅\\nGreen Gain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_green_gain",options:{val:"up"}}],up:[]}],feedbacks:[]},r.cm_green_gainDown={type:"button",category:"Color Matrix",name:"Green Gain Down",options:{},style:{text:"$(birddog-ptz:cm_green_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_green_gain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_green_hue&&(r.cm_green_hueUp={type:"button",category:"Color Matrix",name:"Green Hue Up",options:{},style:{text:"⯅\\nGreen Hue",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_green_hue",options:{val:"up"}}],up:[]}],feedbacks:[]},r.cm_green_hueDown={type:"button",category:"Color Matrix",name:"Green Hue Down",options:{},style:{text:"$(birddog-ptz:cm_green_hue)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_green_hue",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_hue_phase&&(r.cm_hue_phaseUp={type:"button",category:"Color Matrix",name:"Hue Phase Up",options:{},style:{text:"⯅\\nHue Phase",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_hue_phase",options:{val:"up"}}],up:[]}],feedbacks:[]},r.cm_hue_phaseDown={type:"button",category:"Color Matrix",name:"Hue Phase Down",options:{},style:{text:"$(birddog-ptz:cm_hue_phase)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_hue_phase",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_mag_gain&&(r.cm_mag_gainUp={type:"button",category:"Color Matrix",name:"Magenta Gain Up",options:{},style:{text:"⯅\\nMagenta Gain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_mag_gain",options:{val:"up"}}],up:[]}],feedbacks:[]},r.cm_mag_gainDown={type:"button",category:"Color Matrix",name:"Magenta Gain Down",options:{},style:{text:"$(birddog-ptz:cm_mag_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_mag_gain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_mag_hue&&(r.cm_mag_hueUp={type:"button",category:"Color Matrix",name:"Magenta Hue Up",options:{},style:{text:"⯅\\nMagenta Hue",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_mag_hue",options:{val:"up"}}],up:[]}],feedbacks:[]},r.cm_mag_hueDown={type:"button",category:"Color Matrix",name:"Magenta Hue Down",options:{},style:{text:"$(birddog-ptz:cm_mag_hue)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_mag_hue",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_red_gain&&(r.cm_red_gainUp={type:"button",category:"Color Matrix",name:"Red Gain Up",options:{},style:{text:"⯅\\nRed Gain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_red_gain",options:{val:"up"}}],up:[]}],feedbacks:[]},r.cm_red_gainDown={type:"button",category:"Color Matrix",name:"Red Gain Down",options:{},style:{text:"$(birddog-ptz:cm_red_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_red_gain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_red_hue&&(r.cm_red_hueUp={type:"button",category:"Color Matrix",name:"Red Hue Up",options:{},style:{text:"⯅\\nRed Hue",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_red_hue",options:{val:"up"}}],up:[]}],feedbacks:[]},r.cm_red_hueDown={type:"button",category:"Color Matrix",name:"Red Hue Down",options:{},style:{text:"$(birddog-ptz:cm_red_hue)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_red_hue",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_yellow_gain&&(r.cm_yellow_gainUp={type:"button",category:"Color Matrix",name:"Yellow Gain Up",options:{},style:{text:"⯅\\nYellow Gain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_yellow_gain",options:{val:"up"}}],up:[]}],feedbacks:[]},r.cm_yellow_gainDown={type:"button",category:"Color Matrix",name:"Yellow Gain Down",options:{},style:{text:"$(birddog-ptz:cm_yellow_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_yellow_gain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.cm_yellow_hue&&(r.cm_yellow_hueUp={type:"button",category:"Color Matrix",name:"Yellow Hue Up",options:{},style:{text:"⯅\\nYellow Hue",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_yellow_hue",options:{val:"up"}}],up:[]}],feedbacks:[]},r.cm_yellow_hueDown={type:"button",category:"Color Matrix",name:"Yellow Hue Down",options:{},style:{text:"$(birddog-ptz:cm_yellow_hue)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"cm_yellow_hue",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.brightness&&(r.brightnessUp={type:"button",category:"Advanced Setup",name:"Brightness Up",options:{},style:{text:"⯅\\nBrightness",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"brightness",options:{val:"up"}}],up:[]}],feedbacks:[]},r.brightnessDown={type:"button",category:"Advanced Setup",name:"Brightness Down",options:{},style:{text:"$(birddog-ptz:brightness)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"brightness",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.brightness_comp&&(r.brightness_comp={type:"button",category:"Advanced Setup",name:"Brightness Compensation",options:{},style:{text:"Brightness\\nCompensation\\n$(birddog-ptz:brightness_comp)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"brightness_comp",options:{val:o.brightness_comp.default}}],up:[]}],feedbacks:[{feedbackId:"brightness_comp",options:{val:o.brightness_comp.default},style:{color:t,bgcolor:a}}]}),o?.comp_level&&(r.comp_level={type:"button",category:"Advanced Setup",name:"Compensation Level",options:{},style:{text:"Compensation\\nLevel\\n$(birddog-ptz:comp_level)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"comp_level",options:{val:o.comp_level.default}}],up:[]}],feedbacks:[{feedbackId:"comp_level",options:{val:o.comp_level.default},style:{color:t,bgcolor:a}}]}),o?.gamma_offset&&(r.gamma_offsetUp={type:"button",category:"Advanced Setup",name:"Gamma Offset Up",options:{},style:{text:"⯅\\nGamma\\nOffset",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gamma_offset",options:{val:"up"}}],up:[]}],feedbacks:[]},r.gamma_offsetDown={type:"button",category:"Advanced Setup",name:"Gamma Offset Down",options:{},style:{text:"$(birddog-ptz:gamma_offset)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"gamma_offset",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.high_resolution&&(r.high_resolution={type:"button",category:"Advanced Setup",name:"High Resolution",options:{},style:{text:"High\\nResolution\\n$(birddog-ptz:high_resolution)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"high_resolution",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"high_resolution",options:{val:o.high_resolution.default},style:{color:t,bgcolor:a}}]}),o?.video_enhancement&&(r.video_enhancement={type:"button",category:"Advanced Setup",name:"Video Enhancement",options:{},style:{text:"Video\\nEnhancement\\n$(birddog-ptz:video_enhancement)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"video_enhancement",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"video_enhancement",options:{val:o.video_enhancement.default},style:{color:t,bgcolor:a}}]}),o?.aux&&(r.aux={type:"button",category:"External Setup",name:"Aux",options:{},style:{text:"Aux\\n$(birddog-ptz:aux)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"aux",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"aux",options:{val:o.aux.default},style:{color:t,bgcolor:a}}]}),o?.rain_wiper&&(r.rain_wiper={type:"button",category:"External Setup",name:"Rain Wiper",options:{},style:{text:"Rain Wiper\\n$(birddog-ptz:rain_wiper)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"rain_wiper",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"rain_wiper",options:{val:o.rain_wiper.default},style:{color:t,bgcolor:a}}]}),o?.v12vout&&(r.v12vout={type:"button",category:"External Setup",name:"12v Out",options:{},style:{text:"12v Out\\n$(birddog-ptz:v12vout)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"v12vout",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"v12vout",options:{val:o.v12vout.default},style:{color:t,bgcolor:a}}]}),o?.bandwidth&&(r.bandwidth={type:"button",category:"Detail Setup",name:"Bandwidth",options:{},style:{text:"Bandwidth\\n$(birddog-ptz:bandwidth)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"bandwidth",options:{val:o.bandwidth.default}}],up:[]}],feedbacks:[{feedbackId:"bandwidth",options:{val:o.bandwidth.default},style:{color:t,bgcolor:a}}]}),o?.bw_balance&&(r.bw_balance={type:"button",category:"Detail Setup",name:"BW Balance",options:{},style:{text:"BW Balance\\n$(birddog-ptz:bw_balance)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"bw_balance",options:{val:o.bw_balance.default}}],up:[]}],feedbacks:[{feedbackId:"bw_balance",options:{val:o.bw_balance.default},style:{color:t,bgcolor:a}}]}),o?.crispening&&(r.crispeningUp={type:"button",category:"Detail Setup",name:"Crispening Up",options:{},style:{text:"⯅\\nCrispening",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"crispening",options:{val:"up"}}],up:[]}],feedbacks:[]},r.crispeningDown={type:"button",category:"Advanced Setup",name:"Crispening Down",options:{},style:{text:"$(birddog-ptz:crispening)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"crispening",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.detail&&(r.detail={type:"button",category:"Detail Setup",name:"Detail",options:{},style:{text:"Detail\\n$(birddog-ptz:detail)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"detail",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"detail",options:{val:o.detail.default},style:{color:t,bgcolor:a}}]}),o?.highlight_detail&&(r.highlight_detailUp={type:"button",category:"Detail Setup",name:"Highlight Detail Up",options:{},style:{text:"⯅\\nHighlight\\nDetail",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"highlight_detail",options:{val:"up"}}],up:[]}],feedbacks:[]},r.highlight_detailDown={type:"button",category:"Advanced Setup",name:"Highlight Detail Down",options:{},style:{text:"$(birddog-ptz:highlight_detail)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"highlight_detail",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.hv_balance&&(r.hv_balanceUp={type:"button",category:"Detail Setup",name:"Hv Balance Up",options:{},style:{text:"⯅\\nHv Balance",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"hv_balance",options:{val:"up"}}],up:[]}],feedbacks:[]},r.hv_balanceDown={type:"button",category:"Advanced Setup",name:"Hv Balance Down",options:{},style:{text:"$(birddog-ptz:hv_balance)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"hv_balance",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.limit&&(r.limitUp={type:"button",category:"Detail Setup",name:"Limit Up",options:{},style:{text:"⯅\\nLimit",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"limit",options:{val:"up"}}],up:[]}],feedbacks:[]},r.limitDown={type:"button",category:"Advanced Setup",name:"Limit Down",options:{},style:{text:"$(birddog-ptz:limit)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"limit",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.super_low&&(r.super_lowUp={type:"button",category:"Detail Setup",name:"Super Low Up",options:{},style:{text:"⯅\\nSuper Low",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"super_low",options:{val:"up"}}],up:[]}],feedbacks:[]},r.super_lowDown={type:"button",category:"Advanced Setup",name:"Super Low Down",options:{},style:{text:"$(birddog-ptz:super_low)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"super_low",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.black_gamma_level&&(r.black_gamma_levelUp={type:"button",category:"Gamma Setup",name:"Black Gamma Level Up",options:{},style:{text:"⯅\\nBlack Gamma\\nLevel",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"black_gamma_level",options:{val:"up"}}],up:[]}],feedbacks:[]},r.black_gamma_levelDown={type:"button",category:"Gamma Setup",name:"Black Gamma Level Down",options:{},style:{text:"$(birddog-ptz:black_gamma_level)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"black_gamma_level",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.black_level&&(r.black_levelUp={type:"button",category:"Gamma Setup",name:"Black Level Up",options:{},style:{text:"⯅\\nBlack\\nLevel",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"black_level",options:{val:"up"}}],up:[]}],feedbacks:[]},r.black_levelDown={type:"button",category:"Gamma Setup",name:"Black Level Down",options:{},style:{text:"$(birddog-ptz:black_level)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"black_level",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.black_level_range&&(r.black_level_range={type:"button",category:"Gamma Setup",name:"Black Level Range",options:{},style:{text:"Black Level\\nRange\\n$(birddog-ptz:black_level_range)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"black_level_range",options:{val:o.black_level_range.default}}],up:[]}],feedbacks:[{feedbackId:"black_level_range",options:{val:o.black_level_range.default},style:{color:t,bgcolor:a}}]}),o?.effect&&(r.effectUp={type:"button",category:"Gamma Setup",name:"Effect Up",options:{},style:{text:"⯅\\nEffect",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"effect",options:{val:"up"}}],up:[]}],feedbacks:[]},r.effectDown={type:"button",category:"Gamma Setup",name:"Effect Down",options:{},style:{text:"$(birddog-ptz:effect)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"effect",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.offset&&(r.offsetUp={type:"button",category:"Gamma Setup",name:"Offset Up",options:{},style:{text:"⯅\\nOffset",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"offset",options:{val:"up"}}],up:[]}],feedbacks:[]},r.offsetDown={type:"button",category:"Gamma Setup",name:"Offset Down",options:{},style:{text:"$(birddog-ptz:offset)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"offset",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.pattern&&(r.patternUp={type:"button",category:"Gamma Setup",name:"Pattern Up",options:{},style:{text:"⯅\\nPattern",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pattern",options:{val:"up"}}],up:[]}],feedbacks:[]},r.patternDown={type:"button",category:"Gamma Setup",name:"Pattern Down",options:{},style:{text:"$(birddog-ptz:pattern)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pattern",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.pattern_fine&&(r.pattern_fineUp={type:"button",category:"Gamma Setup",name:"Pattern Fine Up",options:{},style:{text:"⯅\\nPattern\\nFine",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pattern_fine",options:{val:"up"}}],up:[]}],feedbacks:[]},r.pattern_fineDown={type:"button",category:"Gamma Setup",name:"Pattern Fine Down",options:{},style:{text:"$(birddog-ptz:pattern_fine)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"pattern_fine",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.settings&&(r.settings={type:"button",category:"Gamma Setup",name:"Settings",options:{},style:{text:"Settings\\n$(birddog-ptz:settings)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"settings",options:{val:o.settings.default}}],up:[]}],feedbacks:[{feedbackId:"settings",options:{value:o.settings.default},style:{color:t,bgcolor:a}}]}),o?.visibility_enhancer&&(r.visibility_enhancer={type:"button",category:"Gamma Setup",name:"Visibility Enhancer",options:{},style:{text:"Visibility\\nEnhancer\\n$(birddog-ptz:visibility_enhancer)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"visibility_enhancer",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"visibility_enhancer",options:{value:o.visibility_enhancer.default},style:{color:t,bgcolor:a}}]}),o?.scope_gamma_gain&&(r.scope_gamma_gainUp={type:"button",category:"Scopes",name:"Gamma Gain Up",options:{},style:{text:"⯅\\nGamma\\nGain",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"scope_gamma_gain",options:{val:"up"}}],up:[]}],feedbacks:[]},r.scope_gamma_gainDown={type:"button",category:"Scopes",name:"Gamma Gain Down",options:{},style:{text:"$(birddog-ptz:scope_gamma_gain)\\n⯆",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"scope_gamma_gain",options:{val:"down"}}],up:[]}],feedbacks:[]}),o?.scope_mode&&(r.scope_mode={type:"button",category:"Scopes",name:"Mode",options:{},style:{text:"Mode\\n$(birddog-ptz:scope_mode)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"scope_mode",options:{val:o.scope_mode.default}}],up:[]}],feedbacks:[{feedbackId:"scope_mode",options:{value:o.scope_mode.default},style:{color:t,bgcolor:a}}]}),o?.scope_position&&(r.scope_position={type:"button",category:"Scopes",name:"Position",options:{},style:{text:"Position\\n$(birddog-ptz:scope_position)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"scope_position",options:{val:o.scope_position.default}}],up:[]}],feedbacks:[{feedbackId:"scope_position",options:{val:o.scope_position.default},style:{color:t,bgcolor:a}}]}),o?.scope_preview&&(r.scope_preview={type:"button",category:"Scopes",name:"Preview Enable",options:{},style:{text:"Preview\\nEnable\\n$(birddog-ptz:scope_preview)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"scope_preview",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"scope_preview",options:{value:"On"},style:{color:t,bgcolor:a}}]}),o?.scope_program&&(r.scope_program={type:"button",category:"Scopes",name:"Program Enable",options:{},style:{text:"Program\\nEnable\\n$(birddog-ptz:scope_program)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"scope_program",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"scope_program",options:{value:"On"},style:{color:t,bgcolor:a}}]}),o?.scope_size&&(r.scope_size={type:"button",category:"Scopes",name:"Size",options:{},style:{text:"Size\\n$(birddog-ptz:scope_size)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"scope_size",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"scope_size",options:{value:o.scope_size.default},style:{color:t,bgcolor:a}}]}),o?.scope_transparency&&(r.scope_transparency={type:"button",category:"Scopes",name:"Transparency Enable",options:{},style:{text:"Transparency\\nEnable\\n$(birddog-ptz:scope_transparency)",size:"auto",color:e,bgcolor:t},steps:[{down:[{actionId:"scope_transparency",options:{val:"Toggle"}}],up:[]}],feedbacks:[{feedbackId:"scope_transparency",options:{value:"On"},style:{color:t,bgcolor:a}}]}),"5"==this.camera.firmware.major&&(r.averageBitrate={type:"button",category:"Dashboard",name:"Average Bitrate",options:{},style:{text:"Average\\nBitrate\\n$(birddog-ptz:avbr)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},r.audioChannels={type:"button",category:"Dashboard",name:"Audio Channels",options:{},style:{text:"Audio Ch\\n$(birddog-ptz:aud_ch)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},r.audioSampleRate={type:"button",category:"Dashboard",name:"Audio Sample Rate",options:{},style:{text:"Audio\\nSample Rate\\n$(birddog-ptz:aud_sr)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},r.audioStatus={type:"button",category:"Dashboard",name:"Audio Status",options:{},style:{text:"Audio\\nStatus\\n$(birddog-ptz:aud_stat)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},r.dashboardStatus={type:"button",category:"Dashboard",name:"Status",options:{},style:{text:"Status\\n$(birddog-ptz:dashboard_vid_status)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},r.deviceMode={type:"button",category:"Dashboard",name:"Device Mode",options:{},style:{text:"Device Mode\\n$(birddog-ptz:dev_mode)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},r.genlockStatus={type:"button",category:"Dashboard",name:"Genlock Status",options:{},style:{text:"Genlock Status\\n$(birddog-ptz:gen_status)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},r.mcuVersion={type:"button",category:"Dashboard",name:"MCU Version",options:{},style:{text:"MCU Version\\n$(birddog-ptz:mcu_ver)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},r.networkBandwidth={type:"button",category:"Dashboard",name:"Network Bandwidth",options:{},style:{text:"Network\\nBandwidth\\n$(birddog-ptz:net_band_perc)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},r.networkMode={type:"button",category:"Dashboard",name:"Network Mode",options:{},style:{text:"Network\\nMode\\n$(birddog-ptz:net_mode)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},r.networkSpeed={type:"button",category:"Dashboard",name:"Network Speed",options:{},style:{text:"Network\\nSpeed\\n$(birddog-ptz:net_speed)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},r.sourceStatus={type:"button",category:"Dashboard",name:"Source Status",options:{},style:{text:"Source\\nStatus\\n$(birddog-ptz:src_stat)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},r.cpuUsage={type:"button",category:"Dashboard",name:"CPU Usage",options:{},style:{text:"CPU Usage\\n$(birddog-ptz:sys_info_perc)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},r.videoFormat={type:"button",category:"Dashboard",name:"Video Format",options:{},style:{text:"Video\\nFormat\\n$(birddog-ptz:vid_fmt)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},r.videoFrameRate={type:"button",category:"Dashboard",name:"Video Frame Rate",options:{},style:{text:"Video\\nFrame Rate\\n$(birddog-ptz:vid_fr)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},r.videoResolution={type:"button",category:"Dashboard",name:"Video Resolution",options:{},style:{text:"Video\\nResolution\\n$(birddog-ptz:vid_res)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},r.videoSampleRate={type:"button",category:"Dashboard",name:"Video Sample rate",options:{},style:{text:"Video\\nSample Rate\\n$(birddog-ptz:vid_sra)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},r.videoStreamName={type:"button",category:"Dashboard",name:"Video Stream Name",options:{},style:{text:"Video\\nStream Name\\n$(birddog-ptz:vid_str_name)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},r.irisShutterColorTempGain={type:"button",category:"Dashboard",name:"IRIS/Shutter/ColorTemp/Gain",options:{},style:{text:"$(birddog-ptz:iris) $(birddog-ptz:shutter_speed)\\n$(birddog-ptz:color_temp)K\\n$(birddog-ptz:gain)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]},r.cpuBitrate={type:"button",category:"Dashboard",name:"CPU / BR",options:{},style:{text:"CPU | BR\\n$(birddog-ptz:sys_info_perc)\\n$(birddog-ptz:avbr)",size:"auto",color:e,bgcolor:t},steps:[{down:[],up:[]}],feedbacks:[]}),r}function k(){this.setVariableDefinitions(p(v,this.camera.firmware.major,this.camera.model))}function E(){let e=p(v,this.camera.firmware.major,this.camera.model),t=m(v,this.camera.firmware.major,this.camera.model),a={};if(e.some((e=>"firmware"===e.variableId))&&(a.firmware=this.camera.firmware.major+"."+this.camera.firmware.minor),e.some((e=>"model"===e.variableId))&&(a.model=this.camera.model),e.some((e=>"hostname"===e.variableId))&&(a.hostname=this.camera.hostname),e.some((e=>"ipaddress"===e.variableId))&&(a.ipaddress=this.camera.ipaddress),e.some((e=>"netmask"===e.variableId))&&(a.netmask=this.camera.netmask),e.some((e=>"network_config"===e.variableId))&&(a.network_config=this.camera.network_config),e.some((e=>"serial_number"===e.variableId))&&(a.serial_number=this.camera.serial_number),e.some((e=>"status"===e.variableId))&&(a.status=this.camera.status),e.some((e=>"standby"===e.variableId))&&(a.standby=t.standby.choices.find((e=>e.id==this.camera.standby))?.label),e.some((e=>"freeze"===e.variableId))&&(a.freeze=this.camera.freeze),e.some((e=>"audio_in_gain"===e.variableId))&&(a.audio_in_gain=this.camera.analogAudioInGain-50+"dB"),e.some((e=>"audio_out_gain"===e.variableId))&&(a.audio_out_gain=this.camera.analogAudioOutGain-50+"dB"),e.some((e=>"audio_output"===e.variableId))&&(a.audio_output=t.analogAudioOutput.choices.find((e=>e.id==this.camera.analogAudioOutput))?.label),e.some((e=>"oled"===e.variableId))&&(a.oled=this.camera.oled),e.some((e=>"video_output"===e.variableId))&&(a.video_output=this.camera.video_output),e.some((e=>"bandwidth_mode"===e.variableId))&&(a.bandwidth_mode=t.bandwidth_mode.choices.find((e=>e.id==this.camera.bandwidth_mode))?.label),e.some((e=>"bandwidth_select"===e.variableId))&&(a.bandwidth_select=this.camera.bandwidth_select),e.some((e=>"color_bitdepth"===e.variableId))&&(a.color_bitdepth=this.camera.color_bitdepth),e.some((e=>"ndi_audio"===e.variableId))&&(a.ndi_audio=t.ndiAudio.choices.find((e=>e.id==this.camera.ndiAudio))?.label),e.some((e=>"ndi_group"===e.variableId))&&(a.ndi_group=t.ndiGroupEnable.choices.find((e=>e.id==this.camera.ndiGroupEnable))?.label),e.some((e=>"ndi_group_name"===e.variableId))&&(a.ndi_group_name=this.camera.ndi_group_name),e.some((e=>"screensaver_mode"===e.variableId))&&(a.screensaver_mode=t.screensaver_mode.choices.find((e=>e.id==this.camera.screensaver_mode))?.label),e.some((e=>"stream_name"===e.variableId))&&(a.stream_name=this.camera.stream_name),e.some((e=>"stream_to_network"===e.variableId))&&(a.stream_to_network=this.camera.stream_to_network),e.some((e=>"tally_mode"===e.variableId))&&(a.tally_mode=this.camera.tally_mode),e.some((e=>"video_csc"===e.variableId))&&(a.video_csc=this.camera.video_csc),e.some((e=>"video_format"===e.variableId))&&(a.video_format=this.camera.video_format),e.some((e=>"video_sample_rate"===e.variableId))&&(a.video_sample_rate=this.camera.video_sample_rate),e.some((e=>"transmit_method"===e.variableId))&&(a.transmit_method=this.camera.transmit_method),e.some((e=>"transmit_netprefix"===e.variableId))&&(a.transmit_netprefix=this.camera.transmit_netprefix),e.some((e=>"transmit_netmask"===e.variableId))&&(a.transmit_netmask=this.camera.transmit_netmask),e.some((e=>"transmit_ttl"===e.variableId))&&(a.transmit_ttl=this.camera.transmit_ttl),e.some((e=>"ndi_discovery_server"===e.variableId))&&(a.ndi_discovery_server=t.ndi_discovery_server.choices.find((e=>e.id==this.camera.ndi_discovery_server))?.label),e.some((e=>"ndi_discovery_server_ip"===e.variableId))&&(a.ndi_discovery_server_ip=this.camera.ndi_discovery_server_ip),e.some((e=>"freed"===e.variableId))&&(a.freed=this.camera.freed),e.some((e=>"freed_ip_address"===e.variableId))&&(a.freed_ip_address=this.camera.freed_ip_address),e.some((e=>"freed_port"===e.variableId))&&(a.freed_port=this.camera.freed_port),e.some((e=>"pan_speed"===e.variableId))&&(a.pan_speed=this.camera.panSpeed),e.some((e=>"preset"===e.variableId))&&(a.preset=t.preset.choices.find((e=>e.id==this.camera.preset))?.label),e.some((e=>"preset_speed"===e.variableId))&&(a.preset_speed=this.camera.preset_speed),e.some((e=>"tilt_speed"===e.variableId))&&(a.tilt_speed=this.camera.tiltSpeed),e.some((e=>"zoom_speed"===e.variableId))&&(a.zoom_speed=this.camera.zoomSpeed),e.some((e=>"zoom_position"===e.variableId))){let e=l(t.zoom.posZoomChoices,this.camera.zoom_position);a.zoom_position=e,a.zoom_position_int=e.replace(/['X']/gi,"")}if(e.some((e=>"pan_position"===e.variableId))&&(a.pan_position=l(t.pt.posPanChoices,this.camera.pan_position)),e.some((e=>"tilt_position"===e.variableId))&&(a.tilt_position=l(t.pt.posTiltChoices,this.camera.tilt_position)),e.some((e=>"focus_mode"===e.variableId))&&(a.focus_mode=this.camera.focusM),e.some((e=>"ae_response"===e.variableId))&&(a.ae_response=this.camera.ae_response),e.some((e=>"backlight"===e.variableId))&&(a.backlight=this.camera.backlight),e.some((e=>"bright_level"===e.variableId))&&(a.bright_level=this.camera.bright_level),e.some((e=>"exposure_comp"===e.variableId))&&(a.exposure_comp=this.camera.expComp),e.some((e=>"exposure_comp_level"===e.variableId))){let e="P100"===this.camera.model||"PF120"===this.camera.model?parseInt(this.camera.expCompLvl)-7:this.camera.expCompLvl;a.exposure_comp_level=e?.toString()}e.some((e=>"exposure_mode"===e.variableId))&&(a.exposure_mode=this.camera.exposure_mode),e.some((e=>"gain"===e.variableId))&&(a.gain=t.gain.value.choices.find((e=>e.id==this.camera.gain))?.label),e.some((e=>"gain_limit"===e.variableId))&&(a.gain_limit=t.gain.value.choices.find((e=>e.id==this.camera.gain_limit))?.label),e.some((e=>"gain_point"===e.variableId))&&(a.gain_point=this.camera.gain_point),e.some((e=>"gain_point_position"===e.variableId))&&(a.gain_point_position=this.camera.gain_point_position),e.some((e=>"high_sensitivity"===e.variableId))&&(a.high_sensitivity=this.camera.high_sensitivity),e.some((e=>"iris"===e.variableId))&&(a.iris=t.iris.value.choices.find((e=>e.id==this.camera.iris))?.label),e.some((e=>"shutter_control_overwrite"===e.variableId))&&(a.shutter_control_overwrite=this.camera.shutter_control_overwrite),e.some((e=>"shutter_max_speed"===e.variableId))&&(a.shutter_max_speed=this.camera.shutter_max_speed),e.some((e=>"shutter_min_speed"===e.variableId))&&(a.shutter_min_speed=this.camera.shutter_min_speed),e.some((e=>"shutter_speed"===e.variableId))&&(a.shutter_speed=t.shutter_speed?.["shutter_"+[this.camera.shutter_table]]?.find((e=>e.id==this.camera.shutter_speed))?.label),e.some((e=>"shutter_speed_overwrite"===e.variableId))&&(a.shutter_speed_overwrite=this.camera.shutter_speed_overwrite),e.some((e=>"slow_shutter_en"===e.variableId))&&(a.slow_shutter_en=this.camera.slow_shutter_en),e.some((e=>"slow_shutter_limit"===e.variableId))&&(a.slow_shutter_limit=this.camera.slow_shutter_limit),e.some((e=>"spotlight"===e.variableId))&&(a.spotlight=this.camera.spotlight),e.some((e=>"bg"===e.variableId))&&(a.bg=this.camera.bg),e.some((e=>"br"===e.variableId))&&(a.br=this.camera.br),e.some((e=>"blue_gain"===e.variableId))&&(a.blue_gain=this.camera.blue_gain),e.some((e=>"color_temp"===e.variableId))&&(a.color_temp=this.camera.color_temp),e.some((e=>"gb"===e.variableId))&&(a.gb=this.camera.gb),e.some((e=>"gr"===e.variableId))&&(a.gr=this.camera.gr),e.some((e=>"level"===e.variableId))&&(a.level=this.camera.level),e.some((e=>"matrix"===e.variableId))&&(a.matrix=this.camera.matrix),e.some((e=>"offset"===e.variableId))&&(a.offset=this.camera.offset),e.some((e=>"phase"===e.variableId))&&(a.phase=this.camera.phase),e.some((e=>"rb"===e.variableId))&&(a.rb=this.camera.rb),e.some((e=>"rg"===e.variableId))&&(a.rg=this.camera.rg),e.some((e=>"red_gain"===e.variableId))&&(a.red_gain=this.camera.red_gain),e.some((e=>"select"===e.variableId))&&(a.select=this.camera.select),e.some((e=>"speed"===e.variableId))&&(a.speed=this.camera.speed),e.some((e=>"wb_mode"===e.variableId))&&(a.wb_mode=this.camera.wb_mode),e.some((e=>"backlight_com"===e.variableId))&&(a.backlight_com=this.camera.backlight_com),e.some((e=>"chroma_suppress"===e.variableId))&&(a.chroma_suppress=this.camera.chroma_suppress),e.some((e=>"contrast"===e.variableId))&&(a.contrast=this.camera.contrast),e.some((e=>"bw_effect"===e.variableId))&&(a.bw_effect=this.camera.pictureEffect),e.some((e=>"flip"===e.variableId))&&(a.flip=this.camera.picFlip),e.some((e=>"gamma"===e.variableId))&&(a.gamma=this.camera.gamma),e.some((e=>"highlight_comp"===e.variableId))&&(a.highlight_comp=this.camera.highlight_comp),e.some((e=>"highlight_comp_mask"===e.variableId))&&(a.highlight_comp_mask=this.camera.highlight_comp_mask),e.some((e=>"hue"===e.variableId))&&(a.hue=this.camera.hue),e.some((e=>"ir_cutfilter"===e.variableId))&&(a.ir_cutfilter=this.camera.ir_cutfilter),e.some((e=>"low_latency"===e.variableId))&&(a.low_latency=this.camera.low_latency),e.some((e=>"mirror"===e.variableId))&&(a.mirror=this.camera.picMirror),e.some((e=>"nd_filter"===e.variableId))&&(a.nd_filter=this.camera.nd_filter),e.some((e=>"noise_reduction"===e.variableId))&&(a.noise_reduction=t.noise_reduction.value.choices.find((e=>e.id==this.camera.noise_reduction))?.label),e.some((e=>"saturation"===e.variableId))&&(a.saturation=this.camera.saturation),e.some((e=>"sharpness"===e.variableId))&&(a.sharpness=this.camera.sharpness),e.some((e=>"stabilizer"===e.variableId))&&(a.stabilizer=this.camera.stabilizer),e.some((e=>"threed_nr"===e.variableId))&&(a.threed_nr=this.camera.threed_nr),e.some((e=>"twod_nr"===e.variableId))&&(a.twod_nr=this.camera.twod_nr),e.some((e=>"wide_dynamic_range"===e.variableId))&&(a.wide_dynamic_range=t.wide_dynamic_range.value.choices.find((e=>e.id==this.camera.wide_dynamic_range))?.label),e.some((e=>"cm_blue_gain"===e.variableId))&&(a.cm_blue_gain=this.camera.cm_blue_gain),e.some((e=>"cm_blue_hue"===e.variableId))&&(a.cm_blue_hue=this.camera.cm_blue_hue),e.some((e=>"cm_color_gain"===e.variableId))&&(a.cm_color_gain=this.camera.cm_color_gain),e.some((e=>"cm_cyan_gain"===e.variableId))&&(a.cm_cyan_gain=this.camera.cm_cyan_gain),e.some((e=>"cm_cyan_hue"===e.variableId))&&(a.cm_cyan_hue=this.camera.cm_cyan_hue),e.some((e=>"cm_green_gain"===e.variableId))&&(a.cm_green_gain=this.camera.cm_green_gain),e.some((e=>"cm_green_hue"===e.variableId))&&(a.cm_green_hue=this.camera.cm_green_hue),e.some((e=>"cm_hue_phase"===e.variableId))&&(a.cm_hue_phase=this.camera.cm_hue_phase),e.some((e=>"cm_mag_gain"===e.variableId))&&(a.cm_mag_gain=this.camera.cm_mag_gain),e.some((e=>"cm_mag_hue"===e.variableId))&&(a.cm_mag_hue=this.camera.cm_mag_hue),e.some((e=>"cm_red_gain"===e.variableId))&&(a.cm_red_gain=this.camera.cm_red_gain),e.some((e=>"cm_red_hue"===e.variableId))&&(a.cm_red_hue=this.camera.cm_red_hue),e.some((e=>"cm_yellow_gain"===e.variableId))&&(a.cm_yellow_gain=this.camera.cm_yellow_gain),e.some((e=>"cm_yellow_hue"===e.variableId))&&(a.cm_yellow_hue=this.camera.cm_yellow_hue),e.some((e=>"brightness"===e.variableId))&&(a.brightness=this.camera.brightness),e.some((e=>"brightness_comp"===e.variableId))&&(a.brightness_comp=this.camera.brightness_comp),e.some((e=>"comp_level"===e.variableId))&&(a.comp_level=this.camera.comp_level),e.some((e=>"gamma_offset"===e.variableId))&&(a.gamma_offset=this.camera.gamma_offset),e.some((e=>"high_resolution"===e.variableId))&&(a.high_resolution=this.camera.high_resolution),e.some((e=>"video_enhancement"===e.variableId))&&(a.video_enhancement=this.camera.video_enhancement),e.some((e=>"aux"===e.variableId))&&(a.aux=this.camera.aux),e.some((e=>"rain_wiper"===e.variableId))&&(a.rain_wiper=this.camera.rain_wiper),e.some((e=>"v12vout"===e.variableId))&&(a.v12vout=this.camera.v12vout),e.some((e=>"bandwidth"===e.variableId))&&(a.bandwidth=this.camera.bandwidth),e.some((e=>"bw_balance"===e.variableId))&&(a.bw_balance=this.camera.bw_balance),e.some((e=>"crispening"===e.variableId))&&(a.crispening=this.camera.crispening),e.some((e=>"detail"===e.variableId))&&(a.detail=this.camera.detail),e.some((e=>"highlight_detail"===e.variableId))&&(a.highlight_detail=this.camera.highlight_detail),e.some((e=>"hv_balance"===e.variableId))&&(a.hv_balance=this.camera.hv_balance),e.some((e=>"limit"===e.variableId))&&(a.limit=this.camera.limit),e.some((e=>"super_low"===e.variableId))&&(a.super_low=this.camera.super_low),e.some((e=>"black_gamma_level"===e.variableId))&&(a.black_gamma_level=this.camera.black_gamma_level),e.some((e=>"black_level"===e.variableId))&&(a.black_level=this.camera.black_level),e.some((e=>"black_level_range"===e.variableId))&&(a.black_level_range=this.camera.black_level_range),e.some((e=>"effect"===e.variableId))&&(a.effect=this.camera.effect),e.some((e=>"level"===e.variableId))&&(a.level=this.camera.level),e.some((e=>"offset"===e.variableId))&&(a.offset=this.camera.offset),e.some((e=>"pattern"===e.variableId))&&(a.pattern=this.camera.pattern),e.some((e=>"pattern_fine"===e.variableId))&&(a.pattern_fine=this.camera.pattern_fine),e.some((e=>"settings"===e.variableId))&&(a.settings=this.camera.settings),e.some((e=>"visibility_enhancer"===e.variableId))&&(a.visibility_enhancer=this.camera.visibility_enhancer),e.some((e=>"scope_gamma_gain"===e.variableId))&&(a.scope_gamma_gain=this.camera.scope_gamma_gain),e.some((e=>"scope_mode"===e.variableId))&&(a.scope_mode=this.camera.scope_mode),e.some((e=>"scope_position"===e.variableId))&&(a.scope_position=this.camera.scope_position),e.some((e=>"scope_preview"===e.variableId))&&(a.scope_preview=this.camera.scope_preview),e.some((e=>"scope_program"===e.variableId))&&(a.scope_program=this.camera.scope_program),e.some((e=>"scope_size"===e.variableId))&&(a.scope_size=t.scope_size.choices.find((e=>e.id==this.camera.scope_size))?.label),e.some((e=>"scope_transparency"===e.variableId))&&(a.scope_transparency=this.camera.scope_transparency),e.some((e=>"avbr"===e.variableId))&&(a.avbr=this.camera.avbr),e.some((e=>"aud_ch"===e.variableId))&&(a.aud_ch=this.camera.aud_ch),e.some((e=>"aud_sr"===e.variableId))&&(a.aud_sr=this.camera.aud_sr),e.some((e=>"aud_stat"===e.variableId))&&(a.aud_stat=this.camera.aud_stat),e.some((e=>"dashboard_vid_status"===e.variableId))&&(a.dashboard_vid_status=this.camera.dashboard_vid_status),e.some((e=>"dev_mode"===e.variableId))&&(a.dev_mode=this.camera.dev_mode),e.some((e=>"gen_status"===e.variableId))&&(a.gen_status=this.camera.gen_status),e.some((e=>"mcu_ver"===e.variableId))&&(a.mcu_ver=this.camera.mcu_ver),e.some((e=>"net_band_perc"===e.variableId))&&(a.net_band_perc=this.camera.net_band_perc+"%"),e.some((e=>"net_mode"===e.variableId))&&(a.net_mode=this.camera.net_mode),e.some((e=>"net_speed"===e.variableId))&&(a.net_speed=this.camera.net_speed),e.some((e=>"src_stat"===e.variableId))&&(a.src_stat=this.camera.src_stat),e.some((e=>"sys_info_perc"===e.variableId))&&(a.sys_info_perc=this.camera.sys_info_perc+"%"),e.some((e=>"vid_fmt"===e.variableId))&&(a.vid_fmt=this.camera.vid_fmt),e.some((e=>"vid_fr"===e.variableId))&&(a.vid_fr=this.camera.vid_fr),e.some((e=>"vid_res"===e.variableId))&&(a.vid_res=this.camera.vid_res),e.some((e=>"vid_sra"===e.variableId))&&(a.vid_sra=this.camera.vid_sra),e.some((e=>"vid_str_name"===e.variableId))&&(a.vid_str_name=this.camera.vid_str_name),this.setVariableValues(a)}function x(){(0,n.combineRgb)(255,255,255);const e=(0,n.combineRgb)(0,0,0),t=((0,n.combineRgb)(255,0,0),(0,n.combineRgb)(0,255,0));(0,n.combineRgb)(255,102,0);let a=m(v,this.camera.firmware.major,this.camera.model);const o={};return a?.standby&&(o.standby_status={type:"boolean",name:a.standby.name,description:"If the camera is in standby, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Standby",id:"val",choices:a.standby.choices,default:a.standby.default}],callback:e=>this.camera?.standby==e.options.val}),a?.freeze&&(o.freeze_status={type:"boolean",name:a.freeze.name,description:"If the camera matches the selected freeze status, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.freeze.choices,default:a.freeze.default}],callback:e=>this.camera?.freeze==e.options.val}),a?.analogAudioInGain&&(o.analogAudioInGain={type:"boolean",name:a.analogAudioInGain.name,description:"If the camera matches the selected Audio Out Gain, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Analog Audio In Gain (dB) ("+a.analogAudioInGain.range.min+" to "+a.analogAudioInGain.range.max+")",id:"val",default:a.analogAudioInGain.range.default,min:a.analogAudioInGain.range.min,max:a.analogAudioInGain.range.max}],callback:e=>this.camera?.analogAudioInGain==e.options.val}),a?.analogAudioOutGain&&(o.analogAudioOutGain={type:"boolean",name:a.analogAudioOutGain.name,description:"If the camera matches the selected Audio Out Gain, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Analog Audio Out Gain (dB) ("+a.analogAudioOutGain.range.min+" to "+a.analogAudioOutGain.range.max+")",id:"val",default:a.analogAudioOutGain.range.default,min:a.analogAudioOutGain.range.min,max:a.analogAudioOutGain.range.max}],callback:e=>this.camera?.analogAudioOutGain==e.options.val}),a?.analogAudioOutput&&(o.analogAudioOutput={type:"boolean",name:a.analogAudioOutput.name,description:"If the camera matches the selected audio ouptut selector, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Decode Comms / Decode Loop",id:"val",choices:a.analogAudioOutput.choices,default:a.analogAudioOutput.default}],callback:e=>this.camera?.analogAudioOutput==e.options.val}),a?.video_output&&(o.video_output={type:"boolean",name:a.video_output.name,description:"If the camera matches the selected Video Output mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Mode",id:"val",choices:a.video_output.choices,default:a.video_output.default}],callback:e=>this.camera?.video_output==e.options.val}),a?.bandwidth_mode&&(o.bandwidth_mode={type:"boolean",name:a.bandwidth_mode.name,description:"If the camera matches the selected encode bandwidth mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Manual / NDI Managed",id:"val",choices:a.bandwidth_mode.choices,default:a.bandwidth_mode.default}],callback:e=>this.camera?.bandwidth_mode==e.options.val}),a?.ndiAudio&&(o.ndiAudio={type:"boolean",name:a.ndiAudio.name,description:"If the camera matches the selected NDI Audio selector, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Analog / Mute",id:"val",choices:a.ndiAudio.choices,default:a.ndiAudio.default}],callback:e=>this.camera?.ndiAudio==e.options.val}),a?.ndiGroupEnable&&(o.ndiGroupEnable={type:"boolean",name:a.ndiGroupEnable.name,description:"If the camera matches the selected NDI Group Enable  selector, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"NDI Group Enable",id:"val",choices:a.ndiGroupEnable.choices,default:a.ndiGroupEnable.default}],callback:e=>this.camera?.ndiGroupEnable==e.options.val}),a?.screensaver_mode&&(o.screensaver_mode={type:"boolean",name:a.screensaver_mode.name,description:"If the camera matches the selected ScreenSaver Mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"ScreenSaver Mode",id:"val",choices:a.screensaver_mode.choices,default:a.screensaver_mode.default}],callback:e=>this.camera?.screensaver_mode==e.options.val}),a?.stream_to_network&&(o.stream_to_network={type:"boolean",name:a.stream_to_network.name,description:"If the camera matches the selected Stream to Network state, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Off",id:"val",choices:a.stream_to_network.choices,default:a.stream_to_network.default}],callback:e=>this.camera?.stream_to_network==e.options.val}),a?.tally_mode&&(o.tally_mode={type:"boolean",name:a.tally_mode.name,description:"If the camera tally matches the selected mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Mode",id:"mode",choices:a.tally_mode.choices,default:a.tally_mode.default}],callback:e=>this.camera?.tally_mode==e.options.mode}),a?.transmit_method&&(o.transmit_method={type:"boolean",name:a.transmit_method.name,description:"If the camera matches the selected transmit method, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Method",id:"val",choices:a.transmit_method.choices,default:a.transmit_method.default}],callback:e=>this.camera?.transmit_method==e.options.val}),a?.ndi_discovery_server&&(o.ndi_discovery_server={type:"boolean",name:a.ndi_discovery_server.name,description:"If the camera matches the selected NDI Discovery Server status, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Enabled / Disabled",id:"val",choices:a.ndi_discovery_server.choices,default:a.ndi_discovery_server.default}],callback:e=>this.camera?.ndi_discovery_server==e.options.val}),a?.pt&&(o.posPan={type:"boolean",name:"PTZ - Pan Position",description:"If the camera matches the selected Pan Position, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Pan Position",id:"posPan",choices:a.pt.posPanChoices,default:a.pt.posPanDefault}],callback:e=>this.camera?.pan_position==e.options.posPan},o.posTilt={type:"boolean",name:"PTZ - Tilt Position",description:"If the camera matches the selected Tilt Position, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Tilt Position",id:"posTilt",choices:a.pt.posTiltChoices,default:a.pt.posTiltDefault}],callback:e=>this.camera?.tilt_position==e.options.posTilt}),a?.zoom&&(o.posZoom={type:"boolean",name:"PTZ - Zoom Position",description:"If the camera matches the selected Zoom Position, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Zoom Position",id:"posZoom",choices:a.zoom.posZoomChoices,default:a.zoom.posZoomDefault}],callback:e=>this.camera?.zoom_position==e.options.posZoom}),a?.panSpeed&&(o.panSpeed={type:"boolean",name:a.panSpeed.name,description:"If the camera matches the selected Pan Speed, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Speed ("+a.panSpeed.range.min+" to "+a.panSpeed.range.max+")",id:"value",default:a.panSpeed.range.default,min:a.panSpeed.range.min,max:a.panSpeed.range.max}],callback:e=>this.camera?.panSpeed==e.options.value}),a?.preset&&(o.preset={type:"boolean",name:a.preset.name,description:"If the camera matches the selected Preset Mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Preset Mode",id:"val",choices:a.preset.choices,default:a.preset.default}],callback:e=>this.camera?.preset==e.options.val}),a?.preset_speed&&(o.preset_speed={type:"boolean",name:a.preset_speed.name,description:"If the camera matches the selected Preset Speed, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Speed ("+a.preset_speed.range.min+" to "+a.preset_speed.range.max+")",id:"value",default:a.preset_speed.range.default,min:a.preset_speed.range.min,max:a.preset_speed.range.max}],callback:e=>this.camera?.preset_speed==e.options.value}),a?.tiltSpeed&&(o.tiltSpeed={type:"boolean",name:a.tiltSpeed.name,description:"If the camera matches the selected Tilt Speed, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Speed ("+a.tiltSpeed.range.min+" to "+a.tiltSpeed.range.max+")",id:"value",default:a.tiltSpeed.range.default,min:a.tiltSpeed.range.min,max:a.tiltSpeed.range.max}],callback:e=>this.camera?.tiltSpeed==e.options.value}),a?.zoomSpeed&&(o.zoomSpeed={type:"boolean",name:a.zoomSpeed.name,description:"If the camera matches the selected Zoom Speed, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Speed ("+a.zoomSpeed.range.min+" to "+a.zoomSpeed.range.max+")",id:"value",default:a.zoomSpeed.range.default,min:a.zoomSpeed.range.min,max:a.zoomSpeed.range.max}],callback:e=>this.camera?.zoomSpeed==e.options.value}),a?.focusM&&(o.focusMode={type:"boolean",name:a.focusM.name,description:"If the camera matches the selected focus mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Mode",id:"mode",choices:a.focusM.choices,default:a.focusM.default}],callback:e=>this.camera?.focusM==e.options.mode}),a?.ae_response&&(o.ae_response={type:"boolean",name:a.ae_response.name,description:"If the camera matches the selected Ae Response level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Ae Response ("+a.ae_response.range.min+" to "+a.ae_response.range.max+")",id:"level",default:a.ae_response.range.default,min:a.ae_response.range.min,max:a.ae_response.range.max}],callback:e=>this.camera?.ae_response==e.options.level}),a?.backlight&&(o.backlight={type:"boolean",name:a.backlight.name,description:"If the camera has Backlight on, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"mode",choices:a.backlight.choices,default:a.backlight.default}],callback:e=>this.camera?.backlight==e.options.mode}),a?.bright_level&&(o.bright_level={type:"boolean",name:a.bright_level.name,description:"If the camera matches the selected Bright Level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Level ("+a.bright_level.range.min+" to "+a.bright_level.range.max+")",id:"level",default:a.bright_level.range.default,min:a.bright_level.range.min,max:a.bright_level.range.max}],callback:e=>this.camera?.bright_level==e.options.level}),a?.expComp&&(o.exposureoCmpEn={type:"boolean",name:a.expComp.name,description:"If the camera matches the selected exposure compensation status, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"mode",choices:a.expComp.choices,default:a.expComp.default}],callback:e=>this.camera?.expComp==e.options.mode}),a?.expCompLvl&&(o.exposureCompLvl={type:"boolean",name:a.expCompLvl.name,description:"If the camera matches the selected exposure compensation level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Exposure Compensation Level ("+a.expCompLvl.range.min+" to "+a.expCompLvl.range.max+")",id:"level",default:a.expCompLvl.range.default,min:a.expCompLvl.range.min,max:a.expCompLvl.range.max}],callback:e=>this.camera?.expCompLvl==e.options.level}),a?.exposure_mode&&(o.exposureMode={type:"boolean",name:a.exposure_mode.name,description:"If the camera matches the selected exposure mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Mode",id:"mode",choices:a.exposure_mode.choices,default:a.exposure_mode.default}],callback:e=>this.camera?.exposure_mode==e.options.mode}),a?.gain&&(o.gain={type:"boolean",name:a.gain.name,description:"If the camera matches the selected gain, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Gain (dB)",id:"gain",choices:a.gain.choices,default:a.gain.default}],callback:e=>this.camera?.gain==e.options.gain}),a?.gain_limit&&(o.gain_limit={type:"boolean",name:a.gain_limit.name,description:"If the camera matches the selected gain limit, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Gain Limit (dB)",id:"gain",choices:a.gain.choices.slice(a.gain_limit.range.min-1,a.gain_limit.range.max+1),default:a.gain_limit.range.default}],callback:e=>this.camera?.gain_limit==e.options.gain}),a?.gain_point&&(o.gain_point={type:"boolean",name:a.gain_point.name,description:"If the camera has gain point on, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Gain Point",id:"val",choices:b.ON_OFF,default:"On"}],callback:e=>this.camera?.gain_point==e.options.val}),a?.gain_point_position&&(o.gain_point_position={type:"boolean",name:a.gain_point_position.name,description:"If the camera matches the selected gain point, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Gain Point (dB)",id:"gain",choices:a.gain.choices,default:a.gain.default}],callback:e=>this.camera?.gain_point_position==e.options.gain}),a?.high_sensitivity&&(o.high_sensitivity={type:"boolean",name:a.high_sensitivity.name,description:"If the camera has high sensitivity turned on, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.high_sensitivity.choices,default:a.high_sensitivity.default}],callback:e=>this.camera?.high_sensitivity==e.options.val}),a?.iris&&(o.iris={type:"boolean",name:a.iris.name,description:"If the camera matches the selected Iris value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Iris",id:"val",choices:a.iris.choices,default:a.iris.default}],callback:e=>this.camera?.iris==e.options.val}),a?.shutter_control_overwrite&&(o.shutter_control_overwrite={type:"boolean",name:a.shutter_control_overwrite.name,description:"If the camera has Shutter Control Overwrite turned on, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Off",id:"val",choices:a.shutter_control_overwrite.choices,default:a.shutter_control_overwrite.default}],callback:e=>this.camera?.shutter_control_overwrite==e.options.val}),a?.shutter_max_speed&&(o.shushutter_max_speedt={type:"boolean",name:a.shutter_max_speed.name,description:"If the camera matches the selected shutter max speed, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Shutter Speed",id:"val",choices:a.shut?.["shutter_"+[this.camera.shutter_table]].slice(a.shutter_max_speed.range.min,a.shutter_max_speed.range.max+1),default:a.shutter_max_speed.range.default}],callback:e=>this.camera?.shutter_max_speed==e.options.val}),a?.shutter_min_speed&&(o.shushutter_min_speedt={type:"boolean",name:a.shutter_min_speed.name,description:"If the camera matches the selected shutter max speed, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Shutter Speed",id:"val",choices:a.shut?.["shutter_"+[this.camera.shutter_table]].slice(a.shutter_min_speed.range.min,a.shutter_min_speed.range.max+1),default:a.shutter_min_speed.range.default}],callback:e=>this.camera?.shutter_min_speed==e.options.val}),a?.shutter_speed&&(o.shut={type:"boolean",name:a.shutter_speed.name,description:"If the camera matches the selected shutter speed, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Shutter Speed",id:"val",choices:a.shutter_speed?.["shutter_"+[this.camera.shutter_table]],default:a.shutter_speed.default}],callback:e=>this.camera?.shutter_speed==e.options.val}),a?.shutter_speed_overwrite&&(o.shutter_speed_overwrite={type:"boolean",name:a.shutter_speed_overwrite.name,description:"If the camera matches the selected Shutter Speed Overwrite level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Hz ("+a.shutter_speed_overwrite.range.min+" to "+a.shutter_speed_overwrite.range.max+")",id:"level",default:a.shutter_speed_overwrite.range.default,min:a.shutter_speed_overwrite.range.min,max:a.shutter_speed_overwrite.range.max}],callback:e=>this.camera?.shutter_speed_overwrite==e.options.level}),a?.slow_shutter_en&&(o.slow_shutter_en={type:"boolean",name:a.slow_shutter_en.name,description:"If the camera matches the Slow Shutter state, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Off",id:"val",choices:a.slow_shutter_en.choices,default:a.slow_shutter_en.default}],callback:e=>this.camera?.slow_shutter_en==e.options.val}),a?.slow_shutter_limit&&(o.slow_shutter_limit={type:"boolean",name:a.slow_shutter_limit.name,description:"If the camera matches the selected slow shutter limit, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Shutter Speed",id:"val",choices:a.shutter_speed?.["shutter_"+[this.camera.shutter_table]].slice(a.slow_shutter_limit.range.min,a.slow_shutter_limit.range.max+1),default:a.slow_shutter_limit.range.default}],callback:e=>this.camera?.slow_shutter_limit==e.options.val}),a?.spotlight&&(o.spotlight={type:"boolean",name:a.spotlight.name,description:"If the camera matches the Spotlight state, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Off",id:"val",choices:a.spotlight.choices,default:a.spotlight.default}],callback:e=>this.camera?.spotlight==e.options.val}),a?.bg&&(o.bg={type:"boolean",name:a.bg.name,description:"If the camera matches the selected BG level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.bg.range.min+" to "+a.bg.range.max+")",id:"level",default:a.bg.range.default,min:a.bg.range.min,max:a.bg.range.max}],callback:e=>this.camera?.bg==e.options.level}),a?.br&&(o.br={type:"boolean",name:a.br.name,description:"If the camera matches the selected BR level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.br.range.min+" to "+a.br.range.max+")",id:"level",default:a.br.range.default,min:a.br.range.min,max:a.br.range.max}],callback:e=>this.camera?.br==e.options.level}),a?.blue_gain&&(o.blue_gain={type:"boolean",name:a.blue_gain.name,description:"If the camera matches the selected BR level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.blue_gain.range.min+" to "+a.blue_gain.range.max+")",id:"level",default:a.blue_gain.range.default,min:a.blue_gain.range.min,max:a.blue_gain.range.max}],callback:e=>this.camera?.blue_gain==e.options.level}),a?.color_temp&&(o.color_temp={type:"boolean",name:a.color_temp.name,description:"If the camera color temperature matches the selected color temperature, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Color Temperature (k)",id:"val",choices:a.color_temp.choices,default:a.color_temp.default}],callback:e=>this.camera?.color_temp==e.options.val}),a?.gb&&(o.gb={type:"boolean",name:a.gb.name,description:"If the camera matches the selected GB level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.gb.range.min+" to "+a.gb.range.max+")",id:"level",default:a.gb.range.default,min:a.gb.range.min,max:a.gb.range.max}],callback:e=>this.camera?.gb==e.options.level}),a?.gr&&(o.gr={type:"boolean",name:a.gr.name,description:"If the camera matches the selected GR level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.gr.range.min+" to "+a.gr.range.max+")",id:"level",default:a.gr.range.default,min:a.gr.range.min,max:a.gr.range.max}],callback:e=>this.camera?.gr==e.options.level}),a?.level&&(o.level={type:"boolean",name:a.level.name,description:"If the camera matches the selected level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.level.range.min+" to "+a.level.range.max+")",id:"level",default:a.level.range.default,min:a.level.range.min,max:a.level.range.max}],callback:e=>this.camera?.level==e.options.level}),a?.matrix&&(o.matrix={type:"boolean",name:a.matrix.name,description:"If the camera matches the selected Matrix mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Off",id:"val",choices:a.matrix.choices,default:a.matrix.default}],callback:e=>this.camera?.matrix==e.options.white_balance}),a?.offset&&(o.offset={type:"boolean",name:a.offset.name,description:"If the camera matches the selected Offset level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.offset.range.min+" to "+a.offset.range.max+")",id:"value",default:a.offset.range.default,min:a.offset.range.min,max:a.offset.range.max}],callback:e=>this.camera?.offset==e.options.level}),a?.phase&&(o.phase={type:"boolean",name:a.phase.name,description:"If the camera matches the selected Phase level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.phase.range.min+" to "+a.phase.range.max+")",id:"value",default:a.phase.range.default,min:a.phase.range.min,max:a.phase.range.max}],callback:e=>this.camera?.phase==e.options.level}),a?.rb&&(o.rb={type:"boolean",name:a.rb.name,description:"If the camera matches the selected RB level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.rb.range.min+" to "+a.rb.range.max+")",id:"value",default:a.rb.range.default,min:a.rb.range.min,max:a.rb.range.max}],callback:e=>this.camera?.rb==e.options.level}),a?.rg&&(o.rg={type:"boolean",name:a.rg.name,description:"If the camera matches the selected RG level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.rg.range.min+" to "+a.rg.range.max+")",id:"value",default:a.rg.range.default,min:a.rg.range.min,max:a.rg.range.max}],callback:e=>this.camera?.rg==e.options.level}),a?.red_gain&&(o.red_gain={type:"boolean",name:a.red_gain.name,description:"If the camera matches the selected Red Gain level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.red_gain.range.min+" to "+a.red_gain.range.max+")",id:"level",default:a.red_gain.range.default,min:a.red_gain.range.min,max:a.red_gain.range.max}],callback:e=>this.camera?.red_gain==e.options.level}),a?.select&&(o.select={type:"boolean",name:a.select.name,description:"Change the defaultStyle of the button based on the WB mode",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Off",id:"val",choices:a.select.choices,default:a.select.default}],callback:e=>this.camera?.select==e.options.val}),a?.speed&&(o.speed={type:"boolean",name:a.speed.name,description:"If the camera matches the selected Speed level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.speed.range.min+" to "+a.speed.range.max+")",id:"value",default:a.speed.range.default,min:a.speed.range.min,max:a.speed.range.max}],callback:e=>this.camera?.speed==e.options.level}),a?.wb_mode&&(o.wb_mode={type:"boolean",name:a.wb_mode.name,description:"Change the defaultStyle of the button based on the WB mode",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"White Balance Mode",id:"mode",choices:a.wb_mode.choices,default:a.wb_mode.default}],callback:e=>this.camera?.wb_mode==e.options.mode}),a?.backlight_com&&(o.backlight_com={type:"boolean",name:a.backlight_com.name,description:"If the camera matches the selected Backlight Compensation, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Off",id:"val",choices:a.backlight_com.choices,default:a.backlight_com.default}],callback:e=>this.camera?.backlight_com==e.options.val}),a?.chroma_suppress&&(o.chroma_suppress={type:"boolean",name:a.chroma_suppress.name,description:"If the camera matches the selected Chroma Suppression, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Mode",id:"val",choices:a.chroma_suppress.choices,default:a.chroma_suppress.default}],callback:e=>this.camera?.chroma_suppress==e.options.val}),a?.contrast&&(o.contrast={type:"boolean",name:a.contrast.name,description:"If the camera matches the selected Contrast level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.contrast.range.min+" to "+a.contrast.range.max+")",id:"value",min:a.contrast.range.min,max:a.contrast.range.max,default:a.contrast.range.default,isVisible:e=>"value"===e.options.val}],callback:e=>this.camera?.contrast==e.options.value}),a?.pictureEffect&&(o.pictureEffect={type:"boolean",name:a.pictureEffect.name,description:"If the camera matches the selected Effect mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Effect",id:"val",choices:a.pictureEffect.choices,default:a.pictureEffect.default}],callback:e=>this.camera?.pictureEffect==e.options.val}),a?.picFlip&&(o.picFlip={type:"boolean",name:a.picFlip.name,description:"If the camera matches the selected Flip mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.picFlip.choices,default:a.picFlip.default}],callback:e=>this.camera?.picFlip==e.options.val}),a?.gamma&&(o.gamma={type:"boolean",name:a.gamma.name,description:"If the camera matches the selected Gamma value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.gamma.range.min+" to "+a.gamma.range.max+")",id:"value",min:a.gamma.range.min,max:a.gamma.range.max,default:a.gamma.range.default}],callback:e=>this.camera?.gamma==e.options.value}),a?.highlight_comp&&(o.highlight_comp={type:"boolean",name:a.highlight_comp.name,description:"If the camera matches the selected Highlight Compensation mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Highlight Compensation",id:"val",choices:a.highlight_comp.choices,default:a.highlight_comp.default}],callback:e=>this.camera?.highlight_comp==e.options.val}),a?.highlight_comp_mask&&(o.highlight_comp_mask={type:"boolean",name:a.highlight_comp_mask.name,description:"If the camera matches the selected Highlight Compensation Mask value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.highlight_comp_mask.range.min+" to "+a.highlight_comp_mask.range.max+")",id:"value",min:a.highlight_comp_mask.range.min,max:a.highlight_comp_mask.range.max,default:a.highlight_comp_mask.range.default}],callback:e=>this.camera?.highlight_comp_mask==e.options.value}),a?.hue&&(o.hue={type:"boolean",name:a.hue.name,description:"If the camera matches the selected Hue value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.hue.range.min+" to "+a.hue.range.max+")",id:"value",min:a.hue.range.min,max:a.hue.range.max,default:a.hue.range.default}],callback:e=>this.camera?.hue==e.options.value}),a?.ir_cutfilter&&(o.ir_cutfilter={type:"boolean",name:a.ir_cutfilter.name,description:"If the camera matches the selected IR Cut Filter mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Mode",id:"val",choices:a.ir_cutfilter.choices,default:a.ir_cutfilter.default}],callback:e=>this.camera?.ir_cutfilter==e.options.val}),a?.low_latency&&(o.low_latency={type:"boolean",name:a.low_latency.name,description:"If the camera matches the selected Low Latency mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.low_latency.choices,default:a.low_latency.default}],callback:e=>this.camera?.low_latency==e.options.val}),a?.picMirror&&(o.picMirror={type:"boolean",name:a.picMirror.name,description:"If the camera matches the selected Picture Mirror mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.picMirror.choices,default:a.picMirror.default}],callback:e=>this.camera?.picMirror==e.options.val}),a?.nd_filter&&(o.nd_filter={type:"boolean",name:a.nd_filter.name,description:"If the camera matches the selected ND Filter value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.nd_filter.range.min+" to "+a.nd_filter.range.max+")",id:"value",min:a.nd_filter.range.min,max:a.nd_filter.range.max,default:a.nd_filter.range.default}],callback:e=>this.camera?.nd_filter==e.options.value}),a?.noise_reduction&&(o.noise_reduction={type:"boolean",name:a.noise_reduction.name,description:"If the camera matches the selected Noise Reduction mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Noise Reduction",id:"val",choices:a.noise_reduction.choices,default:a.noise_reduction.default}],callback:e=>this.camera?.noise_reduction==e.options.val}),a?.saturation&&(o.saturation={type:"boolean",name:a.saturation.name,description:"If the camera matches the selected saturation level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.saturation.range.min+" to "+a.saturation.range.max+")",id:"value",min:a.saturation.range.min,max:a.saturation.range.max,default:a.saturation.range.default}],callback:e=>this.camera?.saturation==e.options.value}),a?.sharpness&&(o.sharpness={type:"boolean",name:a.sharpness.name,description:"If the camera matches the selected Sharpness value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.sharpness.range.min+" to "+a.sharpness.range.max+")",id:"value",min:a.sharpness.range.min,max:a.sharpness.range.max,default:a.sharpness.range.default}],callback:e=>this.camera?.sharpness==e.options.value}),a?.stabilizer&&(o.stabilizer={type:"boolean",name:a.stabilizer.name,description:"If the camera matches the selected Stabilizer mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.stabilizer.choices,default:a.stabilizer.default}],callback:e=>this.camera?.stabilizer==e.options.val}),a?.threed_nr&&(o.threed_nr={type:"boolean",name:a.threed_nr.name,description:"If the camera matches the selected 3D Noise Reduction mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"3D NR",id:"val",choices:a.threed_nr.choices,default:a.threed_nr.default}],callback:e=>this.camera?.threed_nr==e.options.val}),a?.twod_nr&&(o.twod_nr={type:"boolean",name:a.twod_nr.name,description:"If the camera matches the selected 2D Noise Reduction mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"2D NR",id:"val",choices:a.twod_nr.choices,default:a.twod_nr.default}],callback:e=>this.camera?.twod_nr==e.options.val}),a?.wide_dynamic_range&&(o.wide_dynamic_range={type:"boolean",name:a.wide_dynamic_range.name,description:"If the camera matches the selected Wide Dynamic Range mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Wide Dynamic Range",id:"val",choices:a.wide_dynamic_range.choices,default:a.wide_dynamic_range.default}],callback:e=>this.camera?.wide_dynamic_range==e.options.val}),a?.cm_blue_gain&&(o.cm_blue_gain={type:"boolean",name:a.cm_blue_gain.name,description:"If the camera matches the selected Blue Gain value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_blue_gain.range.min+" to "+a.cm_blue_gain.range.max+")",id:"value",min:a.cm_blue_gain.range.min,max:a.cm_blue_gain.range.max,default:a.cm_blue_gain.range.default}],callback:e=>this.camera?.cm_blue_gain==e.options.value}),a?.cm_blue_hue&&(o.cm_blue_hue={type:"boolean",name:a.cm_blue_hue.name,description:"If the camera matches the selected Blue Hue value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_blue_hue.range.min+" to "+a.cm_blue_hue.range.max+")",id:"value",min:a.cm_blue_hue.range.min,max:a.cm_blue_hue.range.max,default:a.cm_blue_hue.range.default}],callback:e=>this.camera?.cm_blue_hue==e.options.value}),a?.cm_color_gain&&(o.cm_color_gain={type:"boolean",name:a.cm_color_gain.name,description:"If the camera matches the selected Color Gain value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_color_gain.range.min+" to "+a.cm_color_gain.range.max+")",id:"value",min:a.cm_color_gain.range.min,max:a.cm_color_gain.range.max,default:a.cm_color_gain.range.default}],callback:e=>this.camera?.cm_color_gain==e.options.value}),a?.cm_cyan_gain&&(o.cm_cyan_gain={type:"boolean",name:a.cm_cyan_gain.name,description:"If the camera matches the selected Cyan Gain value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_cyan_gain.range.min+" to "+a.cm_cyan_gain.range.max+")",id:"value",min:a.cm_cyan_gain.range.min,max:a.cm_cyan_gain.range.max,default:a.cm_cyan_gain.range.default}],callback:e=>this.camera?.cm_cyan_gain==e.options.value}),a?.cm_cyan_hue&&(o.cm_cyan_hue={type:"boolean",name:a.cm_cyan_hue.name,description:"If the camera matches the selected Cyan Hue value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_cyan_hue.range.min+" to "+a.cm_cyan_hue.range.max+")",id:"value",min:a.cm_cyan_hue.range.min,max:a.cm_cyan_hue.range.max,default:a.cm_cyan_hue.range.default}],callback:e=>this.camera?.cm_cyan_hue==e.options.value}),a?.cm_green_gain&&(o.cm_green_gain={type:"boolean",name:a.cm_green_gain.name,description:"If the camera matches the selected Green Gain value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_green_gain.range.min+" to "+a.cm_green_gain.range.max+")",id:"value",min:a.cm_green_gain.range.min,max:a.cm_green_gain.range.max,default:a.cm_green_gain.range.default}],callback:e=>this.camera?.cm_green_gain==e.options.value}),a?.cm_green_hue&&(o.cm_green_hue={type:"boolean",name:a.cm_green_hue.name,description:"If the camera matches the selected Green Hue value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_green_hue.range.min+" to "+a.cm_green_hue.range.max+")",id:"value",min:a.cm_green_hue.range.min,max:a.cm_green_hue.range.max,default:a.cm_green_hue.range.default}],callback:e=>this.camera?.cm_green_hue==e.options.value}),a?.cm_hue_phase&&(o.cm_hue_phase={type:"boolean",name:a.cm_hue_phase.name,description:"If the camera matches the selected Hue Phase value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_hue_phase.range.min+" to "+a.cm_hue_phase.range.max+")",id:"value",min:a.cm_hue_phase.range.min,max:a.cm_hue_phase.range.max,default:a.cm_hue_phase.range.default}],callback:e=>this.camera?.cm_hue_phase==e.options.value}),a?.cm_mag_gain&&(o.cm_mag_gain={type:"boolean",name:a.cm_mag_gain.name,description:"If the camera matches the selected Magenta Gain value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_mag_gain.range.min+" to "+a.cm_mag_gain.range.max+")",id:"value",min:a.cm_mag_gain.range.min,max:a.cm_mag_gain.range.max,default:a.cm_mag_gain.range.default}],callback:e=>this.camera?.cm_mag_gain==e.options.value}),a?.cm_mag_hue&&(o.cm_mag_hue={type:"boolean",name:a.cm_mag_hue.name,description:"If the camera matches the selected Magenta Hue value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_mag_hue.range.min+" to "+a.cm_mag_hue.range.max+")",id:"value",min:a.cm_mag_hue.range.min,max:a.cm_mag_hue.range.max,default:a.cm_mag_hue.range.default}],callback:e=>this.camera?.cm_mag_hue==e.options.value}),a?.cm_red_gain&&(o.cm_red_gain={type:"boolean",name:a.cm_red_gain.name,description:"If the camera matches the selected Red Gain value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_red_gain.range.min+" to "+a.cm_red_gain.range.max+")",id:"value",min:a.cm_red_gain.range.min,max:a.cm_red_gain.range.max,default:a.cm_red_gain.range.default}],callback:e=>this.camera?.cm_red_gain==e.options.value}),a?.cm_red_hue&&(o.cm_red_hue={type:"boolean",name:a.cm_red_hue.name,description:"If the camera matches the selected Red Hue value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_red_hue.range.min+" to "+a.cm_red_hue.range.max+")",id:"value",min:a.cm_red_hue.range.min,max:a.cm_red_hue.range.max,default:a.cm_red_hue.range.default}],callback:e=>this.camera?.cm_red_hue==e.options.value}),a?.cm_yellow_gain&&(o.cm_yellow_gain={type:"boolean",name:a.cm_yellow_gain.name,description:"If the camera matches the selected Yellow Gain value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_yellow_gain.range.min+" to "+a.cm_yellow_gain.range.max+")",id:"value",min:a.cm_yellow_gain.range.min,max:a.cm_yellow_gain.range.max,default:a.cm_yellow_gain.range.default}],callback:e=>this.camera?.cm_yellow_gain==e.options.value}),a?.cm_yellow_hue&&(o.cm_yellow_hue={type:"boolean",name:a.cm_yellow_hue.name,description:"If the camera matches the selected Yellow Hue value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.cm_yellow_hue.range.min+" to "+a.cm_yellow_hue.range.max+")",id:"value",min:a.cm_yellow_hue.range.min,max:a.cm_yellow_hue.range.max,default:a.cm_yellow_hue.range.default}],callback:e=>this.camera?.cm_yellow_hue==e.options.value}),a?.brightness&&(o.brightness={type:"boolean",name:a.brightness.name,description:"If the camera matches the selected Brightness value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.brightness.range.min+" to "+a.brightness.range.max+")",id:"value",min:a.brightness.range.min,max:a.brightness.range.max,default:a.brightness.range.default}],callback:e=>this.camera?.brightness==e.options.value}),a?.brightness_comp&&(o.brightness_comp={type:"boolean",name:a.brightness_comp.name,description:"If the camera matches the selected Brightness Compensation mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Mode",id:"val",choices:a.brightness_comp.choices,default:a.brightness_comp.default}],callback:e=>this.camera?.brightness_comp==e.options.val}),a?.comp_level&&(o.comp_level={type:"boolean",name:a.comp_level.name,description:"If the camera matches the selected Compensation Level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Level",id:"val",choices:a.comp_level.choices,default:a.comp_level.default}],callback:e=>this.camera?.comp_level==e.options.val}),a?.gamma_offset&&(o.gamma_offset={type:"boolean",name:a.gamma_offset.name,description:"If the camera matches the selected Gamma Offset value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.gamma_offset.range.min+" to "+a.gamma_offset.range.max+")",id:"value",min:a.gamma_offset.range.min,max:a.gamma_offset.range.max,default:a.gamma_offset.range.default}],callback:e=>this.camera?.gamma_offset==e.options.value}),a?.high_resolution&&(o.high_resolution={type:"boolean",name:a.high_resolution.name,description:"If the camera matches the selected High Resolution mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.high_resolution.choices,default:a.high_resolution.default}],callback:e=>this.camera?.high_resolution==e.options.val}),a?.video_enhancement&&(o.video_enhancement={type:"boolean",name:a.video_enhancement.name,description:"If the camera matches the selected Video Enhancement mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.video_enhancement.choices,default:a.video_enhancement.default}],callback:e=>this.camera?.video_enhancement==e.options.val}),a?.aux&&(o.aux={type:"boolean",name:a.aux.name,description:"If the camera matches the selected Aux mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.aux.choices,default:a.aux.default}],callback:e=>this.camera?.aux==e.options.val}),a?.rain_wiper&&(o.rain_wiper={type:"boolean",name:a.rain_wiper.name,description:"If the camera matches the selected Rain Wiper mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.rain_wiper.choices,default:a.rain_wiper.default}],callback:e=>this.camera?.rain_wiper==e.options.val}),a?.v12vout&&(o.v12vout={type:"boolean",name:a.v12vout.name,description:"If the camera matches the selected 12v Out mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.v12vout.choices,default:a.v12vout.default}],callback:e=>this.camera?.v12vout==e.options.val}),a?.bandwidth&&(o.bandwidth={type:"boolean",name:a.bandwidth.name,description:"If the camera matches the selected Bandwidth mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Mode",id:"val",choices:a.bandwidth.choices,default:a.bandwidth.default}],callback:e=>this.camera?.bandwidth==e.options.val}),a?.bw_balance&&(o.bw_balance={type:"boolean",name:a.bw_balance.name,description:"If the camera matches the selected BW Bandwidth mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Mode",id:"val",choices:a.bw_balance.choices,default:a.bw_balance.default}],callback:e=>this.camera?.bw_balance==e.options.val}),a?.crispening&&(o.crispening={type:"boolean",name:a.crispening.name,description:"If the camera matches the selected Crispening value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.crispening.range.min+" to "+a.crispening.range.max+")",id:"value",min:a.crispening.range.min,max:a.crispening.range.max,default:a.crispening.range.default}],callback:e=>this.camera?.crispening==e.options.value}),a?.detail&&(o.detail={type:"boolean",name:a.detail.name,description:"If the camera matches the selected Detail value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On / Off",id:"val",choices:a.detail.choices,default:a.detail.default}],callback:e=>this.camera?.detail==e.options.val}),a?.highlight_detail&&(o.highlight_detail={type:"boolean",name:a.highlight_detail.name,description:"If the camera matches the selected Highlight Detail value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.highlight_detail.range.min+" to "+a.highlight_detail.range.max+")",id:"value",min:a.highlight_detail.range.min,max:a.highlight_detail.range.max,default:a.highlight_detail.range.default}],callback:e=>this.camera?.highlight_detail==e.options.value}),a?.hv_balance&&(o.hv_balance={type:"boolean",name:a.hv_balance.name,description:"If the camera matches the selected Hv Balance value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.hv_balance.range.min+" to "+a.hv_balance.range.max+")",id:"value",min:a.hv_balance.range.min,max:a.hv_balance.range.max,default:a.hv_balance.range.default}],callback:e=>this.camera?.hv_balance==e.options.value}),a?.limit&&(o.limit={type:"boolean",name:a.limit.name,description:"If the camera matches the selected Limit value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.limit.range.min+" to "+a.limit.range.max+")",id:"value",min:a.limit.range.min,max:a.limit.range.max,default:a.limit.range.default}],callback:e=>this.camera?.limit==e.options.value}),a?.super_low&&(o.super_low={type:"boolean",name:a.super_low.name,description:"If the camera matches the selected Super Low value, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.super_low.range.min+" to "+a.super_low.range.max+")",id:"value",min:a.super_low.range.min,max:a.super_low.range.max,default:a.super_low.range.default}],callback:e=>this.camera?.super_low==e.options.value}),a?.black_gamma_level&&(o.black_gamma_level={type:"boolean",name:a.black_gamma_level.name,description:"If the camera matches the selected Black Gamma Level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Level ("+a.black_gamma_level.range.min+" to "+a.black_gamma_level.range.max+")",id:"value",min:a.black_gamma_level.range.min,max:a.black_gamma_level.range.max,default:a.black_gamma_level.range.default}],callback:e=>this.camera?.black_gamma_level==e.options.value}),a?.black_level&&(o.black_level={type:"boolean",name:a.black_level.name,description:"If the camera matches the selected Black Level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Level ("+a.black_level.range.min+" to "+a.black_level.range.max+")",id:"value",min:a.black_level.range.min,max:a.black_level.range.max,default:a.black_level.range.default}],callback:e=>this.camera?.black_level==e.options.value}),a?.black_level_range&&(o.black_level_range={type:"boolean",name:a.black_level_range.name,description:"If the camera matches the selected Black Level Range, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Black Level Range",id:"val",choices:a.black_level_range.choices,default:a.black_level_range.default}],callback:e=>this.camera?.black_level_range==e.options.val}),a?.effect&&(o.effect={type:"boolean",name:a.effect.name,description:"If the camera matches the selected Effect Range, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.effect.range.min+" to "+a.effect.range.max+")",id:"value",min:a.effect.range.min,max:a.effect.range.max,default:a.effect.range.default}],callback:e=>this.camera?.effect==e.options.value}),a?.level&&(o.level={type:"boolean",name:a.level.name,description:"If the camera matches the selected Level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.level.range.min+" to "+a.level.range.max+")",id:"value",min:a.level.range.min,max:a.level.range.max,default:a.level.range.default}],callback:e=>this.camera?.level==e.options.value}),a?.offset&&(o.offset={type:"boolean",name:a.offset.name,description:"If the camera matches the selected Offset level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.offset.range.min+" to "+a.offset.range.max+")",id:"value",min:a.offset.range.min,max:a.offset.range.max,default:a.offset.range.default}],callback:e=>this.camera?.offset==e.options.value}),a?.pattern&&(o.pattern={type:"boolean",name:a.pattern.name,description:"If the camera matches the selected Pattern level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.pattern.range.min+" to "+a.pattern.range.max+")",id:"value",min:a.pattern.range.min,max:a.pattern.range.max,default:a.pattern.range.default}],callback:e=>this.camera?.pattern==e.options.value}),a?.pattern_fine&&(o.pattern_fine={type:"boolean",name:a.pattern_fine.name,description:"If the camera matches the selected Pattern Fine level, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.pattern_fine.range.min+" to "+a.pattern_fine.range.max+")",id:"value",min:a.pattern_fine.range.min,max:a.pattern_fine.range.max,default:a.pattern_fine.range.default}],callback:e=>this.camera?.pattern_fine==e.options.value}),a?.settings&&(o.settings={type:"boolean",name:a.settings.name,description:"If the camera matches the selected Settings mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Settings",id:"value",choices:a.settings.choices,default:a.settings.default}],callback:e=>this.camera?.settings==e.options.value}),a?.visibility_enhancer&&(o.visibility_enhancer={type:"boolean",name:a.visibility_enhancer.name,description:"If the camera matches the selected Visibility Enhancer mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Settings",id:"value",choices:a.visibility_enhancer.choices,default:a.visibility_enhancer.default}],callback:e=>this.camera?.visibility_enhancer==e.options.value}),a?.scope_size&&(o.scope_size={type:"boolean",name:a.scope_size.name,description:"If the camera matches the selected Scope Size, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Off",id:"value",choices:a.scope_size.choices,default:a.scope_size.default}],callback:e=>this.camera?.scope_size==e.options.value}),a?.scope_gamma_gain&&(o.scope_gamma_gain={type:"boolean",name:a.scope_gamma_gain.name,description:"If the camera matches the selected Scope Gamma Gain, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"number",label:"Value ("+a.scope_gamma_gain.range.min+" to "+a.scope_gamma_gain.range.max+")",id:"value",min:a.scope_gamma_gain.range.min,max:a.scope_gamma_gain.range.max,default:a.scope_gamma_gain.range.default}],callback:e=>this.camera?.scope_gamma_gain==e.options.value}),a?.scope_mode&&(o.scope_mode={type:"boolean",name:a.scope_mode.name,description:"If the camera matches the selected Scope Mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Mode",id:"value",choices:a.scope_mode.choices,default:a.scope_mode.default}],callback:e=>this.camera?.scope_mode==e.options.value}),a?.scope_position&&(o.scope_position={type:"boolean",name:a.scope_position.name,description:"If the camera matches the selected scope position, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"Position",id:"value",choices:a.scope_position.choices,default:a.scope_position.default}],callback:e=>this.camera?.scope_position==e.options.value}),a?.scope_preview&&(o.scope_preview={type:"boolean",name:a.scope_preview.name,description:"If the camera matches the selected scope preview mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Off",id:"value",choices:a.scope_preview.choices,default:a.scope_preview.default}],callback:e=>this.camera?.scope_preview==e.options.value}),a?.scope_program&&(o.scope_program={type:"boolean",name:a.scope_program.name,description:"If the camera matches the selected scope program mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Off",id:"value",choices:a.scope_program.choices,default:a.scope_program.default}],callback:e=>this.camera?.scope_program==e.options.value}),a?.scope_transparency&&(o.scope_transparency={type:"boolean",name:a.scope_transparency.name,description:"If the camera matches the selected scope transparency mode, change the defaultStyle of the button",defaultStyle:{color:e,bgcolor:t},options:[{type:"dropdown",label:"On/Off",id:"value",choices:a.scope_transparency.choices,default:a.scope_transparency.default}],callback:e=>this.camera?.scope_transparency==e.options.value}),this.setFeedbackDefinitions(o),Object.fromEntries(Object.entries(o).sort(d))}const I=[function(e,t){let a={updatedConfig:config,updatedActions:[],updatedFeedbacks:[]};return t.actions.forEach((e=>{if("freeze"===e.actionId&&("0"==e.options.val?e.options.val="On":"1"==e.options.val&&(e.options.val="Off"),a.updatedActions.push(e)),"power"===e.actionId&&(e.actionId="standby","0"==e.options.val?e.options.val="on":"1"==e.options.val&&(e.options.val="standby"),a.updatedActions.push(e)),"hrMode"!==e.actionId&&"highSensitivity"!==e.actionId||("1"==e.options.bol?e.options.val="On":"0"==e.options.bol&&(e.options.val="Off"),a.updatedActions.push(e)),"picFlip"!==e.actionId&&"picMirror"!==e.actionId||("1"==e.options.val?e.options.val="On":"0"==e.options.val&&(e.options.val="Off"),a.updatedActions.push(e)),"wb"===e.actionId){let t;if(isNaN(e.options.val))t=e.options.val;else switch(e.options.val){case"0":t="AUTO";break;case"1":t="INDOOR";break;case"2":t="OUTDOOR";break;case"3":case"6":t="ONEPUSH";break;case"4":t="ATW";break;case"5":t="MANUAL1";break;case"7":t="OUTDOOR-AUTO";break;case"8":t="SLV-AUTO";break;case"9":t="SLV";break;case"10":t="SLV-OUTDOOR-AUTO"}e.options.val=t,a.updatedActions.push(e)}if("expM"===e.actionId){let t;if(isNaN(e.options.val))t=e.options.val;else switch(e.options.val){case"0":t="FULL-AUTO";break;case"1":t="MANUAL";break;case"2":t="SHUTTER-PRI";break;case"3":t="IRIS-PRI"}e.options.val=t,a.updatedActions.push(e)}if("pictureEffect"===e.actionId&&("1"==e.options.val||"2"==e.options.val?e.options.val="BW":"0"==e.options.val&&(e.options.val="Off"),a.updatedActions.push(e)),"focusM"===e.actionId&&("0"==e.options.bol?e.options.val="Auto":"1"==e.options.bol&&(e.options.val="Manual"),a.updatedActions.push(e)),"tally"===e.actionId&&("1"==e.options.bol?e.options.val="TallyOn":"0"==e.options.bol&&(e.options.val="TallyOff"),a.updatedActions.push(e)),"irMode"===e.actionId&&(e.actionId="ir_cutfilter","0"==e.options.bol?e.options.val="On":"1"==e.options.bol&&(e.options.val="Off"),a.updatedActions.push(e)),"ptSpeedU"===e.actionId&&(e.actionId="panSpeed",e.options.type="up",a.updatedActions.push(e)),"ptSpeedD"===e.actionId&&(e.actionId="panSpeed",e.options.type="down",a.updatedActions.push(e)),"ptSpeedS"===e.actionId){let t;if(e.actionId="panSpeed",e.options.type="value",e.options.speed)switch(e.options.speed){case"01":t=1;break;case"02":t=2;break;case"03":t=3;break;case"04":t=4;break;case"05":t=5;break;case"06":t=6;break;case"07":t=7;break;case"08":t=8;break;case"09":t=9;break;case"0A":t=10;break;case"0B":t=11;break;case"0C":t=12;break;case"0D":t=13;break;case"0E":t=14;break;case"0F":t=15;break;case"10":t=16;break;case"11":t=17;break;case"12":t=18;break;case"13":t=19;break;case"14":t=20;break;case"15":case"16":case"17":case"18":t=21}e.options.value=t,a.updatedActions.push(e)}if("pt"===e.actionId){let t;if(isNaN(e.options.val))t=e.options.val;else switch(e.options.val){case"0":t="left";break;case"1":t="right";break;case"2":t="up";break;case"3":t="down";break;case"4":t="up_left";break;case"5":t="up_right";break;case"6":t="down_left";break;case"7":t="down_right";break;case"8":t="stop";break;case"9":t="home"}e.options.val=t,a.updatedActions.push(e)}if("zoom"===e.actionId){let t;if(isNaN(e.options.val))t=e.options.val;else switch(e.options.val){case"0":t="in";break;case"1":t="out";break;case"2":t="stop"}e.options.val=t,a.updatedActions.push(e)}if("focus"===e.actionId){let t;if(isNaN(e.options.val))t=e.options.val;else switch(e.options.val){case"0":t="near";break;case"1":t="far";break;case"2":t="stop";break;case"3":t="trigger"}e.options.val=t,a.updatedActions.push(e)}"gainBlue"===e.actionId&&(e.actionId="blue_gain",a.updatedActions.push(e)),"gainRed"===e.actionId&&(e.actionId="red_gain",a.updatedActions.push(e)),"wb"===e.actionId&&(e.actionId="wb_mode",a.updatedActions.push(e))})),a},function(e,t){let a={updatedConfig:null,updatedActions:[],updatedFeedbacks:[]};return null!==t.config&&(null!=t.config.model&&""!=t.config.model||(t.config.model="Auto",a.updatedConfig=t.config)),a},function(e,t){let a={updatedConfig:config,updatedActions:[],updatedFeedbacks:[]};return t.actions.forEach((e=>{if("color_temp"===e.actionId&&!["up","down","value"].includes(e.options.val)){let t=e.options.val;e.options.val="value",e.options.value=t,a.updatedActions.push(e)}})),a},function(e,t){let a={updatedConfig:config,updatedActions:[],updatedFeedbacks:[]};return t.actions.forEach((e=>{"tally"===e.actionId&&(e.actionId="tally_mode",a.updatedActions.push(e))})),a},function(e,t){let a={updatedConfig:config,updatedActions:[],updatedFeedbacks:[]};return t.actions.forEach((e=>{"analogAudioInGain"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"analogAudioOutGain"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"noise_reduction"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"wide_dynamic_range"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"color"===e.actionId&&(e.actionId="saturation",a.updatedActions.push(e)),"ae_response"===e.actionId&&(e.options.value=e.options.level,e.options.val="value",a.updatedActions.push(e)),"bright_level"===e.actionId&&(e.options.value=e.options.level,e.options.val="value",a.updatedActions.push(e)),"shutter_speed_overwrite"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"bg"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"br"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"gb"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"level"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"offset"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"phase"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"rb"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"rg"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"speed"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"threed_nr"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e)),"twod_nr"===e.actionId&&(e.options.value=e.options.val,e.options.val="value",a.updatedActions.push(e))})),a}],P=require("node:http"),T=require("node:https"),O=require("node:zlib"),C=require("node:stream"),N=require("node:buffer"),R=function(e){if(!/^data:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');const t=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===t||t<=4)throw new TypeError("malformed data: URI");const a=e.substring(5,t).split(";");let n="",o=!1;const i=a[0]||"text/plain";let r=i;for(let e=1;e<a.length;e++)"base64"===a[e]?o=!0:a[e]&&(r+=`;${a[e]}`,0===a[e].indexOf("charset=")&&(n=a[e].substring(8)));a[0]||n.length||(r+=";charset=US-ASCII",n="US-ASCII");const s=o?"base64":"ascii",l=unescape(e.substring(t+1)),c=Buffer.from(l,s);return c.type=i,c.typeFull=r,c.charset=n,c},D=require("node:util");var G=a(5006),U=a(9951);class M extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class B extends M{constructor(e,t,a){super(e,t),a&&(this.code=this.errno=a.code,this.erroredSysCall=a.syscall)}}const L=Symbol.toStringTag,z=e=>"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&"function"==typeof e.sort&&"URLSearchParams"===e[L],F=e=>e&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&/^(Blob|File)$/.test(e[L]),V=(e,t)=>{const a=new URL(t).hostname,n=new URL(e).hostname;return a===n||a.endsWith(`.${n}`)},$=(e,t)=>new URL(t).protocol===new URL(e).protocol,j=(0,D.promisify)(C.pipeline),W=Symbol("Body internals");class Y{constructor(e,{size:t=0}={}){let a=null;null===e?e=null:z(e)?e=N.Buffer.from(e.toString()):F(e)||N.Buffer.isBuffer(e)||(D.types.isAnyArrayBuffer(e)?e=N.Buffer.from(e):ArrayBuffer.isView(e)?e=N.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof C||(e instanceof U.Ct?a=(e=(0,U.au)(e)).type.split("=")[1]:e=N.Buffer.from(String(e))));let n=e;N.Buffer.isBuffer(e)?n=C.Readable.from(e):F(e)&&(n=C.Readable.from(e.stream())),this[W]={body:e,stream:n,boundary:a,disturbed:!1,error:null},this.size=t,e instanceof C&&e.on("error",(e=>{const t=e instanceof M?e:new B(`Invalid response body while trying to fetch ${this.url}: ${e.message}`,"system",e);this[W].error=t}))}get body(){return this[W].stream}get bodyUsed(){return this[W].disturbed}async arrayBuffer(){const{buffer:e,byteOffset:t,byteLength:a}=await H(this);return e.slice(t,t+a)}async formData(){const e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){const e=new U.Ct,t=new URLSearchParams(await this.text());for(const[a,n]of t)e.append(a,n);return e}const{toFormData:t}=await a.e(713).then(a.bind(a,1713));return t(this.body,e)}async blob(){const e=this.headers&&this.headers.get("content-type")||this[W].body&&this[W].body.type||"",t=await this.arrayBuffer();return new G.Z([t],{type:e})}async json(){const e=await this.text();return JSON.parse(e)}async text(){const e=await H(this);return(new TextDecoder).decode(e)}buffer(){return H(this)}}async function H(e){if(e[W].disturbed)throw new TypeError(`body used already for: ${e.url}`);if(e[W].disturbed=!0,e[W].error)throw e[W].error;const{body:t}=e;if(null===t)return N.Buffer.alloc(0);if(!(t instanceof C))return N.Buffer.alloc(0);const a=[];let n=0;try{for await(const o of t){if(e.size>0&&n+o.length>e.size){const a=new B(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(a),a}n+=o.length,a.push(o)}}catch(t){throw t instanceof M?t:new B(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t)}if(!0!==t.readableEnded&&!0!==t._readableState.ended)throw new B(`Premature close of server response while trying to fetch ${e.url}`);try{return a.every((e=>"string"==typeof e))?N.Buffer.from(a.join("")):N.Buffer.concat(a,n)}catch(t){throw new B(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t)}}Y.prototype.buffer=(0,D.deprecate)(Y.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer"),Object.defineProperties(Y.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,D.deprecate)((()=>{}),"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});const q=(e,t)=>{let a,n,{body:o}=e[W];if(e.bodyUsed)throw new Error("cannot clone body after it is used");return o instanceof C&&"function"!=typeof o.getBoundary&&(a=new C.PassThrough({highWaterMark:t}),n=new C.PassThrough({highWaterMark:t}),o.pipe(a),o.pipe(n),e[W].stream=a,o=n),o},Z=(0,D.deprecate)((e=>e.getBoundary()),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),J=(e,t)=>null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":z(e)?"application/x-www-form-urlencoded;charset=UTF-8":F(e)?e.type||null:N.Buffer.isBuffer(e)||D.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof U.Ct?`multipart/form-data; boundary=${t[W].boundary}`:e&&"function"==typeof e.getBoundary?`multipart/form-data;boundary=${Z(e)}`:e instanceof C?null:"text/plain;charset=UTF-8",K=async(e,{body:t})=>{null===t?e.end():await j(t,e)},Q="function"==typeof P.validateHeaderName?P.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){const t=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},X="function"==typeof P.validateHeaderValue?P.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){const t=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"}),t}};class ee extends URLSearchParams{constructor(e){let t=[];if(e instanceof ee){const a=e.raw();for(const[e,n]of Object.entries(a))t.push(...n.map((t=>[e,t])))}else if(null==e);else{if("object"!=typeof e||D.types.isBoxedPrimitive(e))throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");{const a=e[Symbol.iterator];if(null==a)t.push(...Object.entries(e));else{if("function"!=typeof a)throw new TypeError("Header pairs must be iterable");t=[...e].map((e=>{if("object"!=typeof e||D.types.isBoxedPrimitive(e))throw new TypeError("Each header pair must be an iterable object");return[...e]})).map((e=>{if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");return[...e]}))}}}return t=t.length>0?t.map((([e,t])=>(Q(e),X(e,String(t)),[String(e).toLowerCase(),String(t)]))):void 0,super(t),new Proxy(this,{get(e,t,a){switch(t){case"append":case"set":return(a,n)=>(Q(a),X(a,String(n)),URLSearchParams.prototype[t].call(e,String(a).toLowerCase(),String(n)));case"delete":case"has":case"getAll":return a=>(Q(a),URLSearchParams.prototype[t].call(e,String(a).toLowerCase()));case"keys":return()=>(e.sort(),new Set(URLSearchParams.prototype.keys.call(e)).keys());default:return Reflect.get(e,t,a)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){const t=this.getAll(e);if(0===t.length)return null;let a=t.join(", ");return/^content-encoding$/i.test(e)&&(a=a.toLowerCase()),a}forEach(e,t){for(const a of this.keys())Reflect.apply(e,t,[this.get(a),a,this])}*values(){for(const e of this.keys())yield this.get(e)}*entries(){for(const e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce(((e,t)=>(e[t]=this.getAll(t),e)),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce(((e,t)=>{const a=this.getAll(t);return e[t]="host"===t?a[0]:a.length>1?a:a[0],e}),{})}}Object.defineProperties(ee.prototype,["get","entries","forEach","values"].reduce(((e,t)=>(e[t]={enumerable:!0},e)),{}));const te=new Set([301,302,303,307,308]),ae=e=>te.has(e),ne=Symbol("Response internals");class oe extends Y{constructor(e=null,t={}){super(e,t);const a=null!=t.status?t.status:200,n=new ee(t.headers);if(null!==e&&!n.has("Content-Type")){const t=J(e,this);t&&n.append("Content-Type",t)}this[ne]={type:"default",url:t.url,status:a,statusText:t.statusText||"",headers:n,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[ne].type}get url(){return this[ne].url||""}get status(){return this[ne].status}get ok(){return this[ne].status>=200&&this[ne].status<300}get redirected(){return this[ne].counter>0}get statusText(){return this[ne].statusText}get headers(){return this[ne].headers}get highWaterMark(){return this[ne].highWaterMark}clone(){return new oe(q(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,t=302){if(!ae(t))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new oe(null,{headers:{location:new URL(e).toString()},status:t})}static error(){const e=new oe(null,{status:0,statusText:""});return e[ne].type="error",e}static json(e,t={}){const a=JSON.stringify(e);if(void 0===a)throw new TypeError("data is not JSON serializable");const n=new ee(t&&t.headers);return n.has("content-type")||n.set("content-type","application/json"),new oe(a,{...t,headers:n})}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(oe.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});const ie=require("node:url"),re=require("node:net");function se(e,t=!1){return null==e?"no-referrer":(e=new URL(e),/^(about|blob|data):$/.test(e.protocol)?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e))}const le=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function ce(e){return!!/^about:(blank|srcdoc)$/.test(e)||"data:"===e.protocol||!!/^(blob|filesystem):$/.test(e.protocol)||function(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;const t=e.host.replace(/(^\[)|(]$)/g,""),a=(0,re.isIP)(t);return!(4!==a||!/^127\./.test(t))||!(6!==a||!/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t))||"localhost"!==e.host&&!e.host.endsWith(".localhost")&&"file:"===e.protocol}(e)}const de=Symbol("Request internals"),ue=e=>"object"==typeof e&&"object"==typeof e[de],pe=(0,D.deprecate)((()=>{}),".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)");class me extends Y{constructor(e,t={}){let a;if(ue(e)?a=new URL(e.url):(a=new URL(e),e={}),""!==a.username||""!==a.password)throw new TypeError(`${a} is an url with embedded credentials.`);let n=t.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(n)&&(n=n.toUpperCase()),!ue(t)&&"data"in t&&pe(),(null!=t.body||ue(e)&&null!==e.body)&&("GET"===n||"HEAD"===n))throw new TypeError("Request with GET/HEAD method cannot have body");const o=t.body?t.body:ue(e)&&null!==e.body?q(e):null;super(o,{size:t.size||e.size||0});const i=new ee(t.headers||e.headers||{});if(null!==o&&!i.has("Content-Type")){const e=J(o,this);e&&i.set("Content-Type",e)}let r=ue(e)?e.signal:null;if("signal"in t&&(r=t.signal),null!=r&&("object"!=typeof(s=r)||"AbortSignal"!==s[L]&&"EventTarget"!==s[L]))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");var s;let l=null==t.referrer?e.referrer:t.referrer;if(""===l)l="no-referrer";else if(l){const e=new URL(l);l=/^about:(\/\/)?client$/.test(e)?"client":e}else l=void 0;this[de]={method:n,redirect:t.redirect||e.redirect||"follow",headers:i,parsedURL:a,signal:r,referrer:l},this.follow=void 0===t.follow?void 0===e.follow?20:e.follow:t.follow,this.compress=void 0===t.compress?void 0===e.compress||e.compress:t.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,this.highWaterMark=t.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=t.referrerPolicy||e.referrerPolicy||""}get method(){return this[de].method}get url(){return(0,ie.format)(this[de].parsedURL)}get headers(){return this[de].headers}get redirect(){return this[de].redirect}get signal(){return this[de].signal}get referrer(){return"no-referrer"===this[de].referrer?"":"client"===this[de].referrer?"about:client":this[de].referrer?this[de].referrer.toString():void 0}get referrerPolicy(){return this[de].referrerPolicy}set referrerPolicy(e){this[de].referrerPolicy=function(e){if(!le.has(e))throw new TypeError(`Invalid referrerPolicy: ${e}`);return e}(e)}clone(){return new me(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(me.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});const he=e=>{const{parsedURL:t}=e[de],a=new ee(e[de].headers);a.has("Accept")||a.set("Accept","*/*");let n=null;if(null===e.body&&/^(post|put)$/i.test(e.method)&&(n="0"),null!==e.body){const t=(e=>{const{body:t}=e[W];return null===t?0:F(t)?t.size:N.Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null})(e);"number"!=typeof t||Number.isNaN(t)||(n=String(t))}n&&a.set("Content-Length",n),""===e.referrerPolicy&&(e.referrerPolicy="strict-origin-when-cross-origin"),e.referrer&&"no-referrer"!==e.referrer?e[de].referrer=function(e,{referrerURLCallback:t,referrerOriginCallback:a}={}){if("no-referrer"===e.referrer||""===e.referrerPolicy)return null;const n=e.referrerPolicy;if("about:client"===e.referrer)return"no-referrer";const o=e.referrer;let i=se(o),r=se(o,!0);i.toString().length>4096&&(i=r),t&&(i=t(i)),a&&(r=a(r));const s=new URL(e.url);switch(n){case"no-referrer":return"no-referrer";case"origin":return r;case"unsafe-url":return i;case"strict-origin":return ce(i)&&!ce(s)?"no-referrer":r.toString();case"strict-origin-when-cross-origin":return i.origin===s.origin?i:ce(i)&&!ce(s)?"no-referrer":r;case"same-origin":return i.origin===s.origin?i:"no-referrer";case"origin-when-cross-origin":return i.origin===s.origin?i:r;case"no-referrer-when-downgrade":return ce(i)&&!ce(s)?"no-referrer":i;default:throw new TypeError(`Invalid referrerPolicy: ${n}`)}}(e):e[de].referrer="no-referrer",e[de].referrer instanceof URL&&a.set("Referer",e.referrer),a.has("User-Agent")||a.set("User-Agent","node-fetch"),e.compress&&!a.has("Accept-Encoding")&&a.set("Accept-Encoding","gzip, deflate, br");let{agent:o}=e;"function"==typeof o&&(o=o(t)),a.has("Connection")||o||a.set("Connection","close");const i=(e=>{if(e.search)return e.search;const t=e.href.length-1,a=e.hash||("#"===e.href[t]?"#":"");return"?"===e.href[t-a.length]?"?":""})(t);return{parsedURL:t,options:{path:t.pathname+i,method:e.method,headers:a[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:o}}};class _e extends M{constructor(e,t="aborted"){super(e,t)}}a(749);const fe=new Set(["data:","http:","https:"]);async function ge(e,t){return new Promise(((a,n)=>{const o=new me(e,t),{parsedURL:i,options:r}=he(o);if(!fe.has(i.protocol))throw new TypeError(`node-fetch cannot load ${e}. URL scheme "${i.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===i.protocol){const e=R(o.url),t=new oe(e,{headers:{"Content-Type":e.typeFull}});return void a(t)}const s=("https:"===i.protocol?T:P).request,{signal:l}=o;let c=null;const d=()=>{const e=new _e("The operation was aborted.");n(e),o.body&&o.body instanceof C.Readable&&o.body.destroy(e),c&&c.body&&c.body.emit("error",e)};if(l&&l.aborted)return void d();const u=()=>{d(),m()},p=s(i.toString(),r);l&&l.addEventListener("abort",u);const m=()=>{p.abort(),l&&l.removeEventListener("abort",u)};p.on("error",(e=>{n(new B(`request to ${o.url} failed, reason: ${e.message}`,"system",e)),m()})),function(e,t){const a=N.Buffer.from("0\r\n\r\n");let n,o=!1,i=!1;e.on("response",(e=>{const{headers:t}=e;o="chunked"===t["transfer-encoding"]&&!t["content-length"]})),e.on("socket",(t=>{const r=()=>{if(o&&!i){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",(e=>{c&&c.body&&c.body.destroy(e)})(e)}},s=e=>{i=0===N.Buffer.compare(e.slice(-5),a),!i&&n&&(i=0===N.Buffer.compare(n.slice(-3),a.slice(0,3))&&0===N.Buffer.compare(e.slice(-2),a.slice(3))),n=e};t.prependListener("close",r),t.on("data",s),e.on("close",(()=>{t.removeListener("close",r),t.removeListener("data",s)}))}))}(p),process.version<"v14"&&p.on("socket",(e=>{let t;e.prependListener("end",(()=>{t=e._eventsCount})),e.prependListener("close",(a=>{if(c&&t<e._eventsCount&&!a){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",c.body.emit("error",e)}}))})),p.on("response",(e=>{p.setTimeout(0);const i=function(e=[]){return new ee(e.reduce(((e,t,a,n)=>(a%2==0&&e.push(n.slice(a,a+2)),e)),[]).filter((([e,t])=>{try{return Q(e),X(e,String(t)),!0}catch{return!1}})))}(e.rawHeaders);if(ae(e.statusCode)){const r=i.get("Location");let s=null;try{s=null===r?null:new URL(r,o.url)}catch{if("manual"!==o.redirect)return n(new B(`uri requested responds with an invalid redirect URL: ${r}`,"invalid-redirect")),void m()}switch(o.redirect){case"error":return n(new B(`uri requested responds with a redirect, redirect mode is set to error: ${o.url}`,"no-redirect")),void m();case"manual":break;case"follow":{if(null===s)break;if(o.counter>=o.follow)return n(new B(`maximum redirect reached at: ${o.url}`,"max-redirect")),void m();const r={headers:new ee(o.headers),follow:o.follow,counter:o.counter+1,agent:o.agent,compress:o.compress,method:o.method,body:q(o),signal:o.signal,size:o.size,referrer:o.referrer,referrerPolicy:o.referrerPolicy};if(!V(o.url,s)||!$(o.url,s))for(const e of["authorization","www-authenticate","cookie","cookie2"])r.headers.delete(e);if(303!==e.statusCode&&o.body&&t.body instanceof C.Readable)return n(new B("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void m();303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==o.method)||(r.method="GET",r.body=void 0,r.headers.delete("content-length"));const l=function(e){const t=(e.get("referrer-policy")||"").split(/[,\s]+/);let a="";for(const e of t)e&&le.has(e)&&(a=e);return a}(i);return l&&(r.referrerPolicy=l),a(ge(new me(s,r))),void m()}default:return n(new TypeError(`Redirect option '${o.redirect}' is not a valid value of RequestRedirect`))}}l&&e.once("end",(()=>{l.removeEventListener("abort",u)}));let r=(0,C.pipeline)(e,new C.PassThrough,(e=>{e&&n(e)}));process.version<"v12.10"&&e.on("aborted",u);const s={url:o.url,status:e.statusCode,statusText:e.statusMessage,headers:i,size:o.size,counter:o.counter,highWaterMark:o.highWaterMark},d=i.get("Content-Encoding");if(!o.compress||"HEAD"===o.method||null===d||204===e.statusCode||304===e.statusCode)return c=new oe(r,s),void a(c);const h={flush:O.Z_SYNC_FLUSH,finishFlush:O.Z_SYNC_FLUSH};if("gzip"===d||"x-gzip"===d)return r=(0,C.pipeline)(r,O.createGunzip(h),(e=>{e&&n(e)})),c=new oe(r,s),void a(c);if("deflate"===d||"x-deflate"===d){const t=(0,C.pipeline)(e,new C.PassThrough,(e=>{e&&n(e)}));return t.once("data",(e=>{r=8==(15&e[0])?(0,C.pipeline)(r,O.createInflate(),(e=>{e&&n(e)})):(0,C.pipeline)(r,O.createInflateRaw(),(e=>{e&&n(e)})),c=new oe(r,s),a(c)})),void t.once("end",(()=>{c||(c=new oe(r,s),a(c))}))}if("br"===d)return r=(0,C.pipeline)(r,O.createBrotliDecompress(),(e=>{e&&n(e)})),c=new oe(r,s),void a(c);c=new oe(r,s),a(c)})),K(p,o).catch(n)}))}a(404),a(2957),a(7330);var be=a(8762);a(9284);const ye=be;class ve extends n.InstanceBase{constructor(e){super(e)}async init(e){this.updateStatus("connecting"),this.config=e,this.port=52381,this.addStringToBinary=i,this.strToPQRS=c,this.updateVariables=E,this.timers={pollCameraConfig:null,pollCameraStatus:null},this.getCameraModel()}async destroy(){void 0!==this.udp&&this.udp.destroy(),void 0!==this.ws&&(this.ws.close(1e3),delete this.ws),void 0!==this.timers.pollCameraStatus&&clearInterval(this.timers.pollCameraStatus),this.timers.pollCameraConfig&&(clearInterval(this.timers.pollCameraConfig),this.timers.pollCameraConfig=null),this.timers.ws_reconnect&&clearInterval(this.timers.ws_reconnect)}getConfigFields(){return[{type:"static-text",id:"info",width:12,label:"Information",value:"This module controls BirdDog PTZ Cameras."},{type:"textinput",id:"host",label:"Device IP",width:6,regex:this.REGEX_IP},{type:"dropdown",id:"model",label:"BirdDog Model",default:"Auto",choices:b.CAMERAS}]}async configUpdated(e){this.config=e,this.updateStatus("connecting"),void 0!==this.config.host?(this.log("debug","----Config Model Choice:- "+this.config.model),this.getCameraModel()):this.updateStatus("bad_config","Unable to connect, please enter an IP address for your camera in the module settings")}initVariables(){k.bind(this)()}initFeedbacks(){const e=x.bind(this)();this.setFeedbackDefinitions(e)}initPresets(){const e=A.bind(this)();this.setPresetDefinitions(e)}initActions(){const e=S.bind(this)();this.setActionDefinitions(e)}sendCommand(e,t,a){let n=`http://${this.config.host}:8080/${e}`,o={method:t,headers:{"Content-Type":"application/json"}};"PUT"!=t&&"POST"!=t||(o.body=null!=a?JSON.stringify(a):null),ge(n,o).then((e=>{if(200==e.status)return this.updateStatus("ok"),e.json()})).then((e=>{let a=e;a&&"GET"==t?this.processData(decodeURI(n),a):a&&"PUT"==t||"POST"==t?decodeURI(n).match("/encodesetup")&&this.sendCommand("encodesetup","GET"):this.log("debug",`Command failed ${n}`)})).catch((e=>{this.log("debug",`Command Error: ${e}`);let t=String(e);(t.match("ECONNREFUSED")||t.match("ENOTFOUND")||t.match("EHOSTDOWN")||t.match("ETIMEDOUT"))&&this.updateStatus("connection_failure")}))}processData(e,t){let a;switch(e.slice(e.lastIndexOf("/")+1)){case"about":a=this.storeState(t,"about");break;case"analogaudiosetup":a=this.storeState(t,"analogaudiosetup");break;case"devicesettings":a=this.storeState(t,"devicesettings");break;case"videooutputinterface":a=this.storeState(t,"videooutputinterface");break;case"encodesetup":a=this.storeState(t,"encodesetup");let e=t.VideoFormat.match(/\d+\D(\S*)/);if(this.camera?.shutter_table)switch(e[1]){case"23.98":case"24":"24"!==this.camera.shutter_table&&(this.camera.shutter_table="24",this.initActions());break;case"25":case"50":"50"!==this.camera.shutter_table&&(this.camera.shutter_table="50",this.initActions());break;default:"60"!==this.camera.shutter_table&&(this.camera.shutter_table="60",this.initActions())}this.camera?.framerate&&(this.camera.framerate=e[1]);break;case"encodetransport":a=this.storeState(t,"encodetransport");break;case"NDIDisServer":a=this.storeState(t,"NDIDisServer");break;case"birddogptzsetup":a=this.storeState(t,"birddogptzsetup");break;case"birddogexpsetup":a=this.storeState(t,"birddogexpsetup"),a.includes("gain_limit")&&(this.log("debug","-----Gain Limit changed"),this.initActions(),this.initFeedbacks()),a.includes("shutter_max_speed")&&(this.log("debug","-----ShutterMaxSpeed changed"),this.initActions(),this.initFeedbacks()),a.includes("shutter_min_speed")&&(this.log("debug","-----ShutterMinSpeed changed"),this.initActions(),this.initFeedbacks());break;case"birddogwbsetup":a=this.storeState(t,"birddogwbsetup");break;case"birddogpicsetup":a=this.storeState(t,"birddogpicsetup");break;case"birddogcmsetup":a=this.storeState(t,"birddogcmsetup");break;case"birddogadvancesetup":a=this.storeState(t,"birddogadvancesetup");break;case"birddogexternalsetup":a=this.storeState(t,"birddogexternalsetup");break;case"birddogdetsetup":a=this.storeState(t,"birddogdetsetup");break;case"birddoggammasetup":a=this.storeState(t,"birddoggammasetup");break;case"birddogscope":a=this.storeState(t,"birddogscope")}this.updateVariables(),this.checkFeedbacks()}sendVISCACommand(e,t){let a=Buffer.alloc(32);a[0]=1,a[1]=16,this.packet_counter=(this.packet_counter+1)%4294967295,a.writeUInt16BE(e.length,2),a.writeUInt32BE(this.packet_counter,4),"string"==typeof e?a.write(e,8,"binary"):"object"==typeof e&&e instanceof Buffer&&e.copy(a,8),"string"==typeof t?a.write(t,7,"binary"):"object"==typeof t&&t instanceof Buffer&&t.copy(a,7);let n=a.slice(0,8+e.length);this.log("debug","-----Sending VISCA message: "+Buffer.from(n,"binary").toString("hex")),this.udp.send(n)}incomingData(e){switch(this.log("debug","-----Incoming VISCA message: "+Buffer.from(e,"binary").toString("hex")),e[7].toString(16)){case"4a":144==e[8]&&80==e[9]&&2==e[10]&&255==e[11]?this.camera.standby="on":144==e[8]&&80==e[9]&&3==e[10]&&255==e[11]&&(this.camera.standby="standby");break;case"5a":144==e[8]&&80==e[9]&&2==e[10]&&255==e[11]?this.camera.focusM="Auto":144==e[8]&&80==e[9]&&3==e[10]&&255==e[11]&&(this.camera.focusM="Manual");break;case"5b":144==e[8]&&80==e[9]&&2==e[10]&&255==e[11]?this.camera.freeze="On":144==e[8]&&80==e[9]&&3==e[10]&&255==e[11]&&(this.camera.freeze="Off");break;case"5c":144==e[8]&&80==e[9]&&255==e[14]&&(this.camera.zoom_position=e[10].toString(16)+e[11].toString(16)+e[12].toString(16)+e[13].toString(16));break;case"5d":144==e[8]&&80==e[9]&&255==e[18]&&(this.camera.pan_position=e[10].toString(16)+e[11].toString(16)+e[12].toString(16)+e[13].toString(16),this.camera.tilt_position=e[14].toString(16)+e[15].toString(16)+e[16].toString(16)+e[17].toString(16))}this.updateVariables(),this.checkFeedbacks()}sendControlCommand(e){let t=Buffer.alloc(32);t[0]=2,t[1]=0,this.packet_counter=(this.packet_counter+1)%4294967295,t.writeUInt16BE(e.length,2),t.writeUInt32BE(this.packet_counter,4),"string"==typeof e?t.write(e,8,"binary"):"object"==typeof e&&e instanceof Buffer&&e.copy(t,8);let a=t.slice(0,8+e.length);this.udp.send(a)}init_udp(){this.log("debug","----init udp"),void 0!==this.udp&&(this.udp.destroy(),delete this.udp),void 0!==this.timers.pollCameraStatus&&clearInterval(this.timers.pollCameraStatus),void 0!==this.config.host&&(this.udp=new n.UDPHelper(this.config.host,this.port),this.sendControlCommand(""),this.packet_counter=0,this.startPolling(),this.udp.on("status_change",((e,t)=>{})),this.udp.on("data",(e=>{this.incomingData(e)})),this.udp.on("error",(e=>{this.log("debug","----UDP Error: "+e)})),this.log("debug",this.udp.host,":",this.port))}init_ws_listener(){this.log("debug","----init webscoket"),clearInterval(this.timers.ws_reconnect),void 0!==this.ws&&(this.ws.close(1e3),delete this.ws),this.ws=new ye(`ws://${this.config.host}:6790/`),this.ws.on("open",(()=>{this.log("debug",`WebSocket connection opened to ${this.camera.hostname}`)})),this.ws.on("close",(e=>{this.log("debug",`WebSocket Connection closed with code ${e}`),this.log("debug",`---- WebSocket Connection closed with code ${e}`),1e3!==e&&(this.timers.ws_reconnect=setInterval(this.init_ws_listener.bind(this),500))})),this.ws.on("message",(e=>{let t;try{t=JSON.parse(e.toString()),this.storeState(t,"WebSocket")}catch(e){this.log("debug","JSON Error:"+e)}this.log("debug",`---- WebSocket received: ${JSON.stringify(t)}`)})),this.ws.on("error",(e=>{this.log("error",`WebSocket error: ${e}`)}))}startPolling(){this.pollCameraConfig(),this.pollCameraStatus(),this.timers.pollCameraConfig=setInterval(this.pollCameraConfig.bind(this),1e4),this.timers.pollCameraStatus=setInterval(this.pollCameraStatus.bind(this),1e3)}stopPolling(){this.timers.pollCameraConfig&&(clearInterval(this.timers.pollCameraConfig),this.timers.pollCameraConfig=null),this.timers.pollCameraStatus&&(clearInterval(this.timers.pollCameraStatus),this.timers.pollCameraStatus=null)}pollCameraConfig(){let e=_(y,this.camera.model,this.camera.firmware.major);e?.about&&this.sendCommand("about","GET"),e?.encodesetup&&this.sendCommand("encodesetup","GET"),e?.analogaudiosetup&&this.sendCommand("analogaudiosetup","GET"),e?.devicesettings&&this.sendCommand("NDIDisServer","GET"),e?.videooutputinterface&&this.sendCommand("videooutputinterface","GET"),e?.encodetransport&&this.sendCommand("encodetransport","GET"),e?.NDIDisServer&&this.sendCommand("NDIDisServer","GET")}pollCameraStatus(){let e=_(y,this.camera.model,this.camera.firmware.major);e?.birddogptzsetup&&this.sendCommand("birddogptzsetup","GET"),e?.birddogexpsetup&&this.sendCommand("birddogexpsetup","GET"),e?.birddogwbsetup&&this.sendCommand("birddogwbsetup","GET"),e?.birddogpicsetup&&this.sendCommand("birddogpicsetup","GET"),this.sendVISCACommand(w.MSG_QRY+w.CAM_POWER+w.END_MSG,"J"),this.sendVISCACommand(w.MSG_QRY+w.CAM_FOCUS_AUTO+w.END_MSG,"Z"),this.sendVISCACommand(w.MSG_QRY+w.CAM_FREEZE+w.END_MSG,"["),this.sendVISCACommand(w.MSG_QRY+w.CAM_ZOOM_DIRECT+w.END_MSG,"\\"),e?.birddogcmsetup&&this.sendCommand("birddogcmsetup","GET"),e?.birddogadvancesetup&&this.sendCommand("birddogadvancesetup","GET"),e?.birddogexternalsetup&&this.sendCommand("birddogexternalsetup","GET"),e?.birddogdetsetup&&this.sendCommand("birddogdetsetup","GET"),e?.birddoggammasetup&&this.sendCommand("birddoggammasetup","GET"),e?.birddogscope&&this.sendCommand("birddogscope","GET"),e?.pt_pos&&this.sendVISCACommand(w.MSG_QRY_OPERATION+w.OP_PAN_POS+w.END_MSG,"]"),this.log("debug",`----Camera Setup for - ${this.camera.model}`),this.log("debug",this.camera)}getCameraModel(){"Auto"===this.config.model?ge(`http://${this.config.host}:8080/version`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>{if(200==e.status)return e.text()})).then((e=>{let t=e;t?(t=t.replace(/BirdDog| |_/g,""),this.getCameraFW(this.checkCameraModel(t))):t||(this.log("error","Please upgrade your BirdDog camera to the latest LTS firmware to use this module"),this.updateStatus("connection_failure"),void 0!==this.timers.pollCameraStatus&&clearInterval(this.timers.pollCameraStatus))})).catch((e=>{this.log("debug",`Get Cam Model Error ${e}`);let t=String(e);(t.match("ECONNREFUSED")||t.match("ENOTFOUND")||t.match("EHOSTDOWN")||t.match("ETIMEDOUT"))&&(this.updateStatus("connection_failure"),this.log("error",`Unable to connect to BirdDog PTZ Camera (Error: ${t?.split("reason:")[1]})`))})):this.getCameraFW(this.config.model)}getCameraFW(e){ge(`http://${this.config.host}:8080/about`,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>{if(200==e.status)return e.json()})).then((t=>{if(t.FirmwareVersion){let a=t.FirmwareVersion.substring(t.FirmwareVersion.lastIndexOf(" ")+1).substring(0,1),n=t.FirmwareVersion.substring(t.FirmwareVersion.lastIndexOf(" ")+2).substring(1);this.intializeState(e,t.HostName,a,n),this.initializeCamera()}else"1.0"===t.Version&&(this.log("error","Please upgrade your BirdDog camera to the latest LTS firmware to use this module"),this.updateStatus("connection_failure"),void 0!==this.timers.pollCameraStatus&&clearInterval(this.timers.pollCameraStatus))})).catch((e=>{this.log("debug",`Camera Firmware Error: ${e}`);let t=String(e);(t.match("ECONNREFUSED")||t.match("ENOTFOUND")||t.match("EHOSTDOWN")||t.match("ETIMEDOUT"))&&(this.updateStatus("connection_failure"),this.log("error",`Unable to connect to BirdDog PTZ Camera (Error: ${t?.split("reason:")[1]})`))}))}initializeCamera(){this.camera.firmware.major&&this.camera.model?(this.updateStatus("ok"),this.log("info",`Connected to ${this.camera.hostname}`),this.log("debug",`---- Connected to ${this.camera.hostname}`),this.initActions(),this.initPresets(),this.initVariables(),this.initFeedbacks(),this.init_udp(),"5"===this.camera.firmware.major&&this.init_ws_listener()):(this.updateStatus("connection_failure"),this.log("error",`Unable to connect to ${this.camera.hostname}`))}checkCameraModel(e){let t=b.CAMERAS.find((t=>t.id===e?e:!!t?.other&&Object.entries(t)[2][1].includes(e)));return t?(this.log("info",`Detected camera model: ${t.id}`),this.log("debug","---- Detected camera model: "+t.id),t.id):(this.log("error",`Unrecognized camera model: ${e}. Using "Default" camera profile`),this.log("debug",`Unrecognized camera model: ${e}. Using "Default" camera profile`),"Default")}intializeState(e,t,a,n){this.camera={};let o=Object.entries(v).filter((t=>(t[1].camera.includes(e)||t[1].camera.includes("All"))&&t[1].firmware.includes(a)&&!0===t[1].store_state));Object.keys(Object.fromEntries(o)).sort().map((e=>this.camera[e]={})),this.camera.model=e,this.camera.hostname=t,this.camera.firmware={},this.camera.firmware.major=a,this.camera.firmware.minor=n,this.camera.shutter_table=60,this.camera.unknown=[],this.log("debug","---- Initial State for camera",this.camera)}storeState(e,t){let a=[];return Object.entries(e).forEach((e=>{let n=Object.entries(v).find((a=>(a[1].camera.includes(this.camera.model)||a[1].camera.includes("All"))&&a[1].firmware.includes(this.camera.firmware.major)&&a[1]?.api_endpoint?.includes(t)&&a[1]?.api_variable?.includes(e[0])));n?this.camera[n[0]]!==e[1]&&(a.push(n[0]),this.camera[n[0]]=e[1]):this.camera.unknown.includes(e[0])||(this.log("debug",`Unknown API variable returned from ${t}: ${e[0]}`),this.log("debug","---- Unknown API variable returned from "+t+": "+e[0]),this.camera.unknown.push(e[0]))})),a}}(0,n.runEntrypoint)(ve,I)},4193:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var n=a(5006);const o=class extends n.Z{#H=0;#q="";constructor(e,t,a={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,a),null===a&&(a={});const n=void 0===a.lastModified?Date.now():Number(a.lastModified);Number.isNaN(n)||(this.#H=n),this.#q=String(t)}get name(){return this.#q}get lastModified(){return this.#H}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof n.Z&&/^(File)$/.test(e[Symbol.toStringTag])}}},749:(e,t,a)=>{"use strict";a.d(t,{$B:()=>o.Z});const n=require("node:fs");require("node:path"),a(3414);var o=a(4193);a(5006);const{stat:i}=n.promises;class r{#Z;#J;constructor(e){this.#Z=e.path,this.#J=e.start,this.size=e.size,this.lastModified=e.lastModified}slice(e,t){return new r({path:this.#Z,lastModified:this.lastModified,size:t-e,start:this.#J+e})}async*stream(){const{mtimeMs:e}=await i(this.#Z);if(e>this.lastModified)throw new DOMException("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*createReadStream(this.#Z,{start:this.#J,end:this.#J+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}},5006:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r}),a(7135);const n=65536;async function*o(e,t=!0){for(const a of e)if("stream"in a)yield*a.stream();else if(ArrayBuffer.isView(a))if(t){let e=a.byteOffset;const t=a.byteOffset+a.byteLength;for(;e!==t;){const o=Math.min(t-e,n),i=a.buffer.slice(e,e+o);e+=i.byteLength,yield new Uint8Array(i)}}else yield a;else{let e=0,t=a;for(;e!==t.size;){const a=t.slice(e,Math.min(t.size,e+n)),o=await a.arrayBuffer();e+=o.byteLength,yield new Uint8Array(o)}}}const i=class e{#K=[];#Q="";#X=0;#ee="transparent";constructor(t=[],a={}){if("object"!=typeof t||null===t)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if("function"!=typeof t[Symbol.iterator])throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if("object"!=typeof a&&"function"!=typeof a)throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");null===a&&(a={});const n=new TextEncoder;for(const a of t){let t;t=ArrayBuffer.isView(a)?new Uint8Array(a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)):a instanceof ArrayBuffer?new Uint8Array(a.slice(0)):a instanceof e?a:n.encode(`${a}`),this.#X+=ArrayBuffer.isView(t)?t.byteLength:t.size,this.#K.push(t)}this.#ee=`${void 0===a.endings?"transparent":a.endings}`;const o=void 0===a.type?"":String(a.type);this.#Q=/^[\x20-\x7E]*$/.test(o)?o:""}get size(){return this.#X}get type(){return this.#Q}async text(){const e=new TextDecoder;let t="";for await(const a of o(this.#K,!1))t+=e.decode(a,{stream:!0});return t+=e.decode(),t}async arrayBuffer(){const e=new Uint8Array(this.size);let t=0;for await(const a of o(this.#K,!1))e.set(a,t),t+=a.length;return e.buffer}stream(){const e=o(this.#K,!0);return new globalThis.ReadableStream({type:"bytes",async pull(t){const a=await e.next();a.done?t.close():t.enqueue(a.value)},async cancel(){await e.return()}})}slice(t=0,a=this.size,n=""){const{size:o}=this;let i=t<0?Math.max(o+t,0):Math.min(t,o),r=a<0?Math.max(o+a,0):Math.min(a,o);const s=Math.max(r-i,0),l=this.#K,c=[];let d=0;for(const e of l){if(d>=s)break;const t=ArrayBuffer.isView(e)?e.byteLength:e.size;if(i&&t<=i)i-=t,r-=t;else{let a;ArrayBuffer.isView(e)?(a=e.subarray(i,Math.min(t,r)),d+=a.byteLength):(a=e.slice(i,Math.min(t,r)),d+=a.size),r-=t,c.push(a),i=0}}const u=new e([],{type:String(n).toLowerCase()});return u.#X=s,u.#K=c,u}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&"object"==typeof e&&"function"==typeof e.constructor&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(i.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});const r=i},9951:(e,t,a)=>{"use strict";a.d(t,{Ct:()=>m,au:()=>h});var n=a(5006),o=a(4193),{toStringTag:i,iterator:r,hasInstance:s}=Symbol,l=Math.random,c="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),d=(e,t,a)=>(e+="",/^(Blob|File)$/.test(t&&t[i])?[(a=void 0!==a?a+"":"File"==t[i]?t.name:"blob",e),t.name!==a||"blob"==t[i]?new o.Z([t],a,t):t]:[e,t+""]),u=(e,t)=>(t?e:e.replace(/\r?\n|\r/g,"\r\n")).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),p=(e,t,a)=>{if(t.length<a)throw new TypeError(`Failed to execute '${e}' on 'FormData': ${a} arguments required, but only ${t.length} present.`)};const m=class{#te=[];constructor(...e){if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[i](){return"FormData"}[r](){return this.entries()}static[s](e){return e&&"object"==typeof e&&"FormData"===e[i]&&!c.some((t=>"function"!=typeof e[t]))}append(...e){p("append",arguments,2),this.#te.push(d(...e))}delete(e){p("delete",arguments,1),e+="",this.#te=this.#te.filter((([t])=>t!==e))}get(e){p("get",arguments,1),e+="";for(var t=this.#te,a=t.length,n=0;n<a;n++)if(t[n][0]===e)return t[n][1];return null}getAll(e,t){return p("getAll",arguments,1),t=[],e+="",this.#te.forEach((a=>a[0]===e&&t.push(a[1]))),t}has(e){return p("has",arguments,1),e+="",this.#te.some((t=>t[0]===e))}forEach(e,t){for(var[a,n]of(p("forEach",arguments,1),this))e.call(t,n,a,this)}set(...e){p("set",arguments,2);var t=[],a=!0;e=d(...e),this.#te.forEach((n=>{n[0]===e[0]?a&&(a=!t.push(e)):t.push(n)})),a&&t.push(e),this.#te=t}*entries(){yield*this.#te}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}};function h(e,t=n.Z){var a=`${l()}${l()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),o=[],i=`--${a}\r\nContent-Disposition: form-data; name="`;return e.forEach(((e,t)=>"string"==typeof e?o.push(i+u(t)+`"\r\n\r\n${e.replace(/\r(?!\n)|(?<!\r)\n/g,"\r\n")}\r\n`):o.push(i+u(t)+`"; filename="${u(e.name,1)}"\r\nContent-Type: ${e.type||"application/octet-stream"}\r\n\r\n`,e,"\r\n"))),o.push(`--${a}--`),new t(o,{type:"multipart/form-data; boundary="+a})}}},a={};function n(e){var o=a[e];if(void 0!==o)return o.exports;var i=a[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=t,n.c=a,n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,a)=>(n.f[a](e,t),t)),[])),n.u=e=>e+".js",n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e={179:1},n.f.require=(t,a)=>{e[t]||(t=>{var a=t.modules,o=t.ids,i=t.runtime;for(var r in a)n.o(a,r)&&(n.m[r]=a[r]);i&&i(n);for(var s=0;s<o.length;s++)e[o[s]]=1})(require("./"+n.u(t)))},n(n.s=1260)})();