/*! For license information please see main.js.LICENSE.txt */
(()=>{var t={5497:(t,e,n)=>{const r=n(4522),i=n(6486),{InstanceBase:o,InstanceStatus:s,Regex:a,combineRgb:c,runEntrypoint:u}=n(8049),l=n(2773);u(class extends o{constructor(t){super(t)}GetUpgradeScripts(){return[upgradeScripts]}async init(t){this.config=t,this.eventmasterData={presets:{0:{id:0,Name:"no presets loaded yet"}},sources:{0:{id:0,Name:"no sources loaded yet",SrcType:0}},cues:{0:{id:0,Name:"no cues loaded yet"}},auxDestinations:{0:{id:0,Name:"no auxes loaded yet"}},screenDestinations:{0:{id:0,Name:"no destinations loaded yet"}}},this.CHOICES_FREEZE=[{label:"Freeze",id:"1"},{label:"Unfreeze",id:"0"}],this.CHOICES_TESTPATTERN=[{label:"Off",id:"0"},{label:"Horizontal Ramp",id:"1"},{label:"Vertical Ramp",id:"2"},{label:"100% Color Bars",id:"3"},{label:"16x16 grid",id:"4"},{label:"32x32 grid",id:"5"},{label:"Burst",id:"6"},{label:"75% Color Bars",id:"7"},{label:"50% Gray",id:"8"},{label:"Horizontal steps",id:"9"},{label:"Vertical steps",id:"10"},{label:"White",id:"11"},{label:"Black",id:"12"},{label:"SMPTE Bars",id:"13"},{label:"H Alignment",id:"14"},{label:"V Alignment",id:"15"},{label:"HV Alignment",id:"16"},{label:"Circle Alignment",id:"17"},{label:"Red",id:"18"},{label:"Green",id:"19"},{label:"Blue",id:"20"}],this.updateStatus(s.UnknownWarning),this.connection(),this.log("debug","creating eventmaster")}async configUpdated(t){this.config=t,this.connection()}connection(){this.config&&l.promise.probe(this.config.host).then((t=>{t.alive?(this.log("debug","ping ok"),this.initEventmaster()):(this.log("debug","ping failed"),this.updateStatus(s.Connecting,"No ping response"),this.retry_interval=setInterval((()=>{l.promise.probe(this.config.host).then((t=>{t.alive?(this.log("debug","ping ok"),this.initEventmaster()):(this.log("debug","ping failed"),this.updateStatus(s.Connecting,"No ping response"))}))}),5e3))}))}initEventmaster(){this.eventmaster=new r(this.config.host),this.updateStatus(s.Ok),this.getAllDataFromEventmaster().then((()=>{this.setActionDefinitions(this.getActions()),this.setPresetDefinitions(this.getPresets()),this.eventmasterPoller()})),this.retry_interval&&clearInterval(this.retry_interval)}eventmasterPoller(){this.config&&(0===this.config.pollingInterval?this.polling_interval&&clearInterval(this.polling_interval):this.polling_interval=setInterval((()=>{this.getAllDataFromEventmaster().then((()=>{this.setActionDefinitions(this.getActions()),this.setPresetDefinitions(this.getPresets())}))}),Math.ceil(1e3*this.config.pollingInterval)||5e3))}getConfigFields(){return[{type:"static-text",id:"info",width:12,label:"Information",value:"This module uses the official EventMaster JSON API. If the status is OK, it ONLY means that the IP configured answers on icmp ping. The module will update presets and actions every 15 seconds "},{type:"textinput",id:"host",label:"Target IP",width:6,default:"192.168.0.175",regex:a.IP},{type:"dropdown",id:"usermode",label:"Multiuser Mode",width:6,default:"userSingle",choices:[{id:"userSingle",label:"Single User"},{id:"operator",label:"Multiuser Normal Operator"},{id:"super_user",label:"Multiuser Super Operator "}]},{type:"textinput",id:"superPassword",label:"Multiuser Super Operator Password",width:6,default:""},{type:"textinput",id:"operatorId",label:"Multiuser Operator Id (number)",width:6,default:"0"},{type:"number",id:"pollingInterval",label:"Polling Interval (in seconds) for presets and actions (type 0 to disable)",width:6,default:5}]}async destroy(){this.retry_interval&&clearInterval(this.retry_interval),this.polling_interval&&clearInterval(this.polling_interval),delete this.eventmaster,this.log("debug","destroy")}createObjectFromArray=t=>t.reduce(((t,e)=>(t[e.id]=e,t)),{});async getPresetsFromEventmaster(){if(void 0!==this.eventmaster){const t=new Promise(((t,e)=>{this.eventmaster.listPresets(-1,-1,((e,n)=>{void 0!==n&&(this.eventmasterData.presets=this.convertArrayToObject(n)),t()})).on("error",(t=>{e(t)}))}));await t.catch((t=>{this.log("error","EventMaster Presets Error: "+t)}))}}async getSourcesFromEventmaster(){if(void 0!==this.eventmaster){const t=new Promise(((t,e)=>{this.eventmaster.listSources(0,((e,n)=>{void 0!==n&&(this.eventmasterData.sources=this.convertArrayToObject(n)),t()})).on("error",(t=>{e(t)}))}));await t.catch((t=>{this.log("error","EventMaster Sources Error: "+t)}))}}async getCuesFromEventmaster(){if(void 0!==this.eventmaster){const t=new Promise(((t,e)=>{this.eventmaster.listCues(0,((e,n)=>{void 0!==n&&(this.eventmasterData.cues=this.convertArrayToObject(n)),t()})).on("error",(t=>{e(t)}))}));await t.catch((t=>{this.log("error","EventMaster Cues Error: "+t)}))}}async getDestinationsFromEventmaster(){if(void 0!==this.eventmaster){const t=new Promise(((t,e)=>{this.eventmaster.listDestinations(0,((e,n)=>{void 0!==n&&(this.eventmasterData.screenDestinations=this.convertArrayToObject(n.ScreenDestination),this.eventmasterData.auxes=this.convertArrayToObject(n.AuxDestination)),t()})).on("error",(t=>{e(t)}))}));await t.catch((t=>{this.log("error","EventMaster Destinations Error: "+t)}))}}async getAllDataFromEventmaster(){await this.getPresetsFromEventmaster().catch((t=>{this.log("error",t)})),await this.getSourcesFromEventmaster().catch((t=>{this.log("error",t)})),await this.getCuesFromEventmaster().catch((t=>{this.log("error",t)})),await this.getDestinationsFromEventmaster().catch((t=>{this.log("error",t)}))}getActions(){const t=this.config.usermode,e=this.config.superPassword,n=this.config.operatorId,r={};let o=[];Object.keys(this.eventmasterData.presets).forEach((t=>{o.push({label:this.eventmasterData.presets[t].presetSno+" "+i.unescape(this.eventmasterData.presets[t].Name),id:this.eventmasterData.presets[t].id,sort:this.eventmasterData.presets[t].presetSno})}));let s=[];Object.keys(this.eventmasterData.sources).forEach((t=>{s.push({label:this.eventmasterData.sources[t].Name,id:this.eventmasterData.sources[t].id,InputCfgIndex:this.eventmasterData.sources[t].InputCfgIndex,SrcType:this.eventmasterData.sources[t].SrcType,StillIndex:this.eventmasterData.sources[t].StillIndex})}));let a=[];Object.keys(this.eventmasterData.cues).forEach((t=>{a.push({label:this.eventmasterData.cues[t].Name,id:this.eventmasterData.cues[t].id})}));let c=[];Object.keys(this.eventmasterData.screenDestinations).forEach((t=>{c.push({label:this.eventmasterData.screenDestinations[t].Name,id:this.eventmasterData.screenDestinations[t].id})}));let u=[];return Object.keys(this.eventmasterData.auxDestinations).forEach((t=>{u.push({label:this.eventmasterData.auxDestinations[t].Name,id:this.eventmasterData.auxDestinations[t].id})})),r.preset_in_pvw={name:"Preset in PVW",options:[{type:"dropdown",label:"Preset",id:"preset_in_pvw",minChoicesForSearch:5,choices:o.sort(((t,e)=>t.sort-e.sort)),default:"0"}],callback:r=>{this.log("info","Recall to PVW id:"+r.options.preset_in_pvw),void 0!==this.eventmaster&&("operator"==t?this.eventmaster.activatePresetById(parseInt(r.options.preset_in_pvw),0,t,n,((t,e)=>{this.log("debug","recall preset pvw response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)})):"super_user"==t?this.eventmaster.activatePresetById(parseInt(r.options.preset_in_pvw),0,t,e,((t,e)=>{this.log("debug","recall preset pvw response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)})):this.eventmaster.activatePresetById(parseInt(r.options.preset_in_pvw),0,t,((t,e)=>{this.log("debug","recall preset pvw response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)})))}},r.preset_in_pgm={name:"Preset in PGM",options:[{type:"dropdown",label:"Preset",id:"preset_in_pgm",minChoicesForSearch:5,choices:o.sort(((t,e)=>t.sort-e.sort)),default:"0"}],callback:r=>{this.log("info","Recall to PGM id:"+r.options.preset_in_pgm),void 0!==this.eventmaster&&("operator"==t?this.eventmaster.activatePresetById(parseInt(r.options.preset_in_pgm),1,t,n,((t,e)=>{this.log("debug","recall preset pgm response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)})):"super_user"==t?this.eventmaster.activatePresetById(parseInt(r.options.preset_in_pgm),1,t,e,((t,e)=>{this.log("debug","recall preset pgm response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)})):this.eventmaster.activatePresetById(parseInt(r.options.preset_in_pgm),1,t,null,((t,e)=>{this.log("debug","recall preset pgm response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)})))}},r.trans_all={name:"Take/Trans Active",options:[],callback:()=>{this.log("info","Trans/Take All"),void 0!==this.eventmaster&&("operator"==t?this.eventmaster.allTrans(t,n,((t,e)=>{this.log("debug","trans all response: "+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)})):"super_user"==t?this.eventmaster.allTrans(t,e,((t,e)=>{this.log("debug","trans all response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)})):this.eventmaster.allTrans(t,((t,e)=>{this.log("debug","trans all response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)})))}},r.cut_all={name:"Cut Active",options:[],callback:()=>{this.log("info","Cut All"),void 0!==this.eventmaster&&("operator"==t?this.eventmaster.cut(t,n,((t,e)=>{this.log("debug","cut all response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)})):"super_user"==t?this.eventmaster.cut(t,e,((t,e)=>{this.log("debug","cut all response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)})):this.eventmaster.cut(t,((t,e)=>{this.log("debug","cut all response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)})))}},r.recall_next={name:"Recall Next Preset",options:[],callback:()=>{this.log("info","recall_next"),void 0!==this.eventmaster&&this.eventmaster.recallNextPreset(((t,e)=>{this.log("debug","recall next response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)}))}},r.frzSource={name:"Freeze/Unfreeze Source",options:[{type:"dropdown",label:"freeze/unfreeze",id:"frzType",choices:this.CHOICES_FREEZE,default:"1"},{type:"dropdown",label:"Source",id:"frzSource",minChoicesForSearch:5,choices:s,default:"0"}],callback:t=>{this.log("info","(un)freeze"),void 0!==this.eventmaster&&this.eventmaster.freezeDestSource(0,parseInt(t.options.frzSource),0,parseInt(t.options.frzType),((t,e)=>{this.log("debug","(un)freeze all response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)}))}},r.frzScreenDest={name:"Freeze/Unfreeze Screen Destination",options:[{type:"dropdown",label:"freeze/unfreeze",id:"frzType",choices:this.CHOICES_FREEZE,default:"1"},{type:"dropdown",label:"Screen Destination",id:"frzDest",choices:c,default:"0"}],callback:t=>{this.log("info","(un)freeze Screen Destination"),void 0!==this.eventmaster&&this.eventmaster.freezeDestSource(2,parseInt(t.options.frzDest),0,parseInt(t.options.frzType),((t,e)=>{this.log("debug","freeze all response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)}))}},r.frzAuxDest={name:"Freeze/Unfreeze Aux Destination",options:[{type:"dropdown",label:"freeze/unfreeze",id:"frzType",choices:this.CHOICES_FREEZE,default:"1"},{type:"dropdown",label:"Aux Destination",id:"frzDest",choices:u,default:"0"}],callback:t=>{this.log("info","(un)freeze Aux Destination"),void 0!==this.eventmaster&&this.eventmaster.freezeDestSource(3,parseInt(t.options.frzDest),0,parseInt(t.options.frzType),((t,e)=>{this.log("debug","freeze all response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)}))}},r.play_cue={name:"Play cue",options:[{type:"dropdown",label:"cue",id:"cueNumber",minChoicesForSearch:5,choices:a,default:"0"}],callback:t=>{this.log("info","play_cue:"+t.options.cueNumber),void 0!==this.eventmaster&&this.eventmaster.activateCueById(parseInt(t.options.cueNumber),0,((t,e)=>{this.log("debug","activateCue response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)}))}},r.stop_cue={name:"Stop cue",options:[{type:"dropdown",label:"cue",id:"cueNumber",minChoicesForSearch:5,choices:a,default:"0"}],callback:t=>{this.log("info","stop_cue:"+t.options.cueNumber),void 0!==this.eventmaster&&this.eventmaster.activateCueById(parseInt(t.options.cueNumber),2,((t,e)=>{this.log("debug","activateCue response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)}))}},r.change_aux={name:"Change aux on destination",options:[{type:"dropdown",label:"Source",id:"source",minChoicesForSearch:5,choices:s,default:"0"},{type:"dropdown",label:"Destination",id:"auxDestination",choices:u,default:"0"}],callback:t=>{this.log("info",`change_aux, source: ${t.options.source} destination ${t.options.auxDestination}`),void 0!==this.eventmaster&&this.eventmaster.changeAuxContent(parseInt(t.options.auxDestination),-1,parseInt(t.options.source),((t,e)=>{this.log("debug","changeAuxContent response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)}))}},r.armUnarmDestination={name:"arm screen destinations",options:[{type:"dropdown",label:"arm/un-arm",id:"armUnarm",choices:[{label:"arm",id:1},{label:"disarm",id:0}],default:"1"},{type:"dropdown",label:"destination",id:"screenDestinations",choices:c,default:"0"}],callback:t=>{this.log("info",`armUnarmDestination, arm/unarm ${t.options.armUnarm}, destination ${t.options.screenDestinations}`),void 0!==this.eventmaster&&this.eventmaster.armUnarmDestination(parseInt(t.options.armUnarm),{id:t.options.screenDestinations},null,((t,e)=>{this.log("debug","armUnarmDestination response"+e)})).on("error",(t=>{this.log("error","Eventmaster Error: "+t)}))}},r.armUnarmAuxDestination={name:"arm aux destinations",options:[{type:"dropdown",label:"arm/un-arm",id:"armUnarm",choices:[{label:"arm",id:1},{label:"disarm",id:0}],default:"1"},{type:"dropdown",label:"destination",id:"auxDestinations",choices:u,default:"0"}],callback:t=>{this.log("info",`armUnarmAuxDestination, arm/unarm ${t.options.armUnarm}, destination ${t.options.auxDestinations}`),void 0!==this.eventmaster&&this.eventmaster.armUnarmDestination(parseInt(t.options.armUnarm),null,{id:t.options.auxDestinations},((t,e)=>{this.log("debug","armUnarmAuxDestination response"+e)})).on("error",(t=>{this.log("error","Eventmaster Error: "+t)}))}},r.subscribe={label:"subscribe to SourceChanged",options:[{type:"textinput",label:"IP to send JSON to",id:"ip",regex:this.REGEX_IP},{type:"textinput",label:"Portnumber",id:"port"}],callback:t=>{this.log("info","subscribe to localhost"),void 0!==this.eventmaster&&this.eventmaster.subscribe(t.options.ip,t.options.port,["SourceChanged","BGSourceChanged","ScreenDestChanged","AUXDestChanged"],((t,e)=>{this.log("debug","subscribe response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)}))}},r.unsubscribe={label:"unsubscribe to SourceChanged",options:[{type:"textinput",label:"IP to send JSON to",id:"ip",regex:this.REGEX_IP},{type:"textinput",label:"Portnumber",id:"port"}],callback:t=>{this.log("info","unsubscribe"),void 0!==this.eventmaster&&this.eventmaster.unsubscribe(t.options.ip,t.options.port,["SourceChanged","BGSourceChanged","ScreenDestChanged","AUXDestChanged"],((t,e)=>{this.log("debug","unsubscribe response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)}))}},r.testpattern_on_AUX={name:"Set testpattern for AUX",options:[{type:"dropdown",label:"aux destination",id:"auxDestination",choices:u},{type:"dropdown",label:"Type number",id:"testPattern",choices:this.CHOICES_TESTPATTERN}],callback:t=>{this.log("info",`change_testAuxPattern, id: ${t.options.testPattern} destination ${t.options.auxDestination}`),void 0!==this.eventmaster&&this.eventmaster.changeAuxContentTestPattern(parseInt(t.options.auxDestination),parseInt(t.options.testPattern),((t,e)=>{debug("changeAuxContentTestPattern response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)}))}},r.testpattern_on_SCREEN={name:"Set testpattern for screen destinations",options:[{type:"dropdown",label:"destination",id:"screenDestination",choices:c},{type:"dropdown",label:"Type number",id:"testPattern",choices:this.CHOICES_TESTPATTERN}],callback:t=>{this.log("info",`change_testPattern, id: ${t.options.testPattern} destination ${t.options.screenDestination}`),void 0!==this.eventmaster&&this.eventmaster.changeContentTestPattern(parseInt(t.options.screenDestination),parseInt(t.options.testPattern),((t,e)=>{debug("changeAuxContentTestPattern response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)}))}},r.activateSourceMainBackup={name:"Configure Main/Backup",options:[{type:"dropdown",label:"Source",id:"source",choices:s,default:"0"},{type:"dropdown",label:"Backup 1",id:"backup1",choices:s,default:"0"},{type:"dropdown",label:"Backup 2",id:"backup2",choices:s,default:"0"},{type:"dropdown",label:"Backup 3",id:"backup3",choices:s,default:"0"},{type:"dropdown",label:"Backup state",id:"BackUpState",choices:[{id:"-1",label:"Primary"},{id:"0",label:"Backup 1"},{id:"1",label:"Backup 2"},{id:"2",label:"Backup 3"}],default:"-1"}],callback:t=>{let e=parseInt(t.options.source),n=parseInt(t.options.backup1),r=parseInt(t.options.backup2),i=parseInt(t.options.backup3),o=parseInt(t.options.BackUpState),a=0,c=0,u=0,l=0,p=0,h=0,d=0;s.forEach((t=>{e===t.id&&(l=t.InputCfgIndex),n===t.id&&(a=t.SrcType,p=1===a?t.StillIndex:t.InputCfgIndex),r===t.id&&(c=t.SrcType,h=1===c?t.StillIndex:t.InputCfgIndex),i===t.id&&(u=t.SrcType,d=1===u?t.StillIndex:t.InputCfgIndex)})),void 0!==this.eventmaster&&(this.log("debug",`activateSourceMainBackup: Source:${l}, [BU1Type:${a}, BU1 ${p}], [BU2Type:${c}, BU2 ${h}], [BU3Type:${u}, BU3 ${d}], State:${o}`),this.eventmaster.activateSourceMainBackup(l,a,p,c,h,u,d,o,((t,e)=>{debug("activateSourceMainBackup response"+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)})))}},r.destinationGroup={name:"Activate Destination Group (Count from 0)",options:[{type:"textinput",label:"id of destination",id:"id",default:"0"}],callback:t=>{this.log("info",`destinationGroup: ${t.options.id}`),void 0!==this.eventmaster&&this.eventmaster.activateDestGroup(parseInt(t.options.id),((t,e)=>{this.log("debug","activateDestGroup response "+e)})).on("error",(t=>{this.log("error","EventMaster Error: "+t)}))}},r}getPresets(){const t={};return t.Take={type:"button",category:"Basics",style:{text:"Take",size:"14",color:c(0,0,0),bgcolor:c(255,0,0)},steps:[{down:[{actionId:"trans_all"}],up:[]}],feedbacks:[]},t.Cut={type:"button",category:"Basics",style:{text:"Cut",size:"14",color:c(0,0,0),bgcolor:c(255,0,0)},steps:[{down:[{actionId:"cut_all"}],up:[]}],feedbacks:[]},t.Recall_next={type:"button",category:"Basics",style:{text:"Recall next",size:"14",color:c(0,0,0),bgcolor:c(235,0,0)},steps:[{down:[{actionId:"recall_next"}],up:[]}],feedbacks:[]},Object.keys(this.eventmasterData.presets).forEach((e=>{t[`PVW_${this.eventmasterData.presets[e].id}`]={type:"button",category:"Presets to PVW",style:{text:this.eventmasterData.presets[e].presetSno+" "+i.unescape(this.eventmasterData.presets[e].Name),size:"14",color:c(0,0,0),bgcolor:c(235,235,235)},steps:[{down:[{actionId:"preset_in_pvw",options:{preset_in_pvw:this.eventmasterData.presets[e].id}}],up:[]}],feedbacks:[]},t[`PGM_${this.eventmasterData.presets[e].id}`]={type:"button",category:"Presets to PGM",style:{text:this.eventmasterData.presets[e].presetSno+" "+i.unescape(this.eventmasterData.presets[e].Name),size:"14",color:c(255,0,0),bgcolor:c(235,235,235)},steps:[{down:[{actionId:"preset_in_pgm",options:{preset_in_pgm:this.eventmasterData.presets[e].id}}],up:[]}],feedbacks:[]}})),Object.keys(this.eventmasterData.cues).forEach((e=>{this.log("debug",`Cue_${this.eventmasterData.cues[e].Name}_${e}`),t[`Cue_${this.eventmasterData.cues[e].id}`]={type:"button",category:"Cues",style:{text:this.eventmasterData.cues[e].Name,size:"14",color:c(0,0,0),bgcolor:c(66,244,226)},steps:[{down:[{actionId:"play_cue",options:{cueNumber:this.eventmasterData.cues[e].id}}],up:[]}],feedbacks:[]}})),t}},[])},7056:(t,e,n)=>{"use strict";const r=n(4063);r.code='require("ajv/dist/runtime/equal").default',e.Z=r},1460:(t,e,n)=>{"use strict";n.r(e),n.d(e,{__assign:()=>o,__asyncDelegator:()=>x,__asyncGenerator:()=>T,__asyncValues:()=>I,__await:()=>S,__awaiter:()=>f,__classPrivateFieldGet:()=>N,__classPrivateFieldIn:()=>P,__classPrivateFieldSet:()=>A,__createBinding:()=>g,__decorate:()=>a,__esDecorate:()=>u,__exportStar:()=>m,__extends:()=>i,__generator:()=>_,__importDefault:()=>C,__importStar:()=>k,__makeTemplateObject:()=>O,__metadata:()=>d,__param:()=>c,__propKey:()=>p,__read:()=>v,__rest:()=>s,__runInitializers:()=>l,__setFunctionName:()=>h,__spread:()=>b,__spreadArray:()=>w,__spreadArrays:()=>E,__values:()=>y});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function c(t,e){return function(n,r){e(n,r,t)}}function u(t,e,n,r,i,o){function s(t){if(void 0!==t&&"function"!=typeof t)throw new TypeError("Function expected");return t}for(var a,c=r.kind,u="getter"===c?"get":"setter"===c?"set":"value",l=!e&&t?r.static?t:t.prototype:null,p=e||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),h=!1,d=n.length-1;d>=0;d--){var f={};for(var _ in r)f[_]="access"===_?{}:r[_];for(var _ in r.access)f.access[_]=r.access[_];f.addInitializer=function(t){if(h)throw new TypeError("Cannot add initializers after decoration has completed");o.push(s(t||null))};var g=(0,n[d])("accessor"===c?{get:p.get,set:p.set}:p[u],f);if("accessor"===c){if(void 0===g)continue;if(null===g||"object"!=typeof g)throw new TypeError("Object expected");(a=s(g.get))&&(p.get=a),(a=s(g.set))&&(p.set=a),(a=s(g.init))&&i.push(a)}else(a=s(g))&&("field"===c?i.push(a):p[u]=a)}l&&Object.defineProperty(l,r.name,p),h=!0}function l(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function p(t){return"symbol"==typeof t?t:"".concat(t)}function h(t,e,n){return"symbol"==typeof e&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function d(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function f(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function _(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var g=Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function m(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||g(e,t,n)}function y(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function b(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function E(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function w(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function S(t){return this instanceof S?(this.v=t,this):new S(t)}function T(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof S?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(t){l(o[0][3],t)}var n}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function x(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:S(t[r](e)),done:!1}:i?i(e):e}:i}}function I(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=y(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function O(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var D=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function k(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&g(e,t,n);return D(e,t),e}function C(t){return t&&t.__esModule?t:{default:t}}function N(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function A(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n}function P(t,e){if(null===e||"object"!=typeof e&&"function"!=typeof e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?e===t:t.has(e)}},758:(t,e,n)=>{"use strict";n.d(e,{r:()=>s});var r=n(5659),i=n(6890),o=n(2176);function s(){(0,i.T)(),(0,o.KV)()&&function(){const e=(0,r.cu)();if(!e.__SENTRY__)return;const n={mongodb:()=>new((0,o.l$)(t,"./node/integrations/mongo").Mongo),mongoose:()=>new((0,o.l$)(t,"./node/integrations/mongo").Mongo)({mongoose:!0}),mysql:()=>new((0,o.l$)(t,"./node/integrations/mysql").Mysql),pg:()=>new((0,o.l$)(t,"./node/integrations/postgres").Postgres)},i=Object.keys(n).filter((t=>!!(0,o.$y)(t))).map((t=>{try{return n[t]()}catch(t){return}})).filter((t=>t));i.length>0&&(e.__SENTRY__.integrations=[...e.__SENTRY__.integrations||[],...i])}()}t=n.hmd(t)},1131:(t,e,n)=>{"use strict";n.d(e,{J:()=>r});const r="production"},5659:(t,e,n)=>{"use strict";n.d(e,{Gd:()=>g,Xb:()=>d,cu:()=>f,j0:()=>v,pj:()=>_,vi:()=>y});var r=n(2844),i=n(1170),o=n(2343),s=n(1235),a=n(2176),c=n(1131),u=n(350),l=n(9015);const p=4,h=100;class d{__init(){this._stack=[{}]}constructor(t,e=new u.s,n=p){this._version=n,d.prototype.__init.call(this),this.getStackTop().scope=e,t&&this.bindClient(t)}isOlderThan(t){return this._version<t}bindClient(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=u.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(t){const e=this.pushScope();try{t(e)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,e){const n=this._lastEventId=e&&e.event_id?e.event_id:(0,r.DM)(),i=new Error("Sentry syntheticException");return this._withClient(((r,o)=>{r.captureException(t,{originalException:t,syntheticException:i,...e,event_id:n},o)})),n}captureMessage(t,e,n){const i=this._lastEventId=n&&n.event_id?n.event_id:(0,r.DM)(),o=new Error(t);return this._withClient(((r,s)=>{r.captureMessage(t,e,{originalException:t,syntheticException:o,...n,event_id:i},s)})),i}captureEvent(t,e){const n=e&&e.event_id?e.event_id:(0,r.DM)();return t.type||(this._lastEventId=n),this._withClient(((r,i)=>{r.captureEvent(t,{...e,event_id:n},i)})),n}lastEventId(){return this._lastEventId}addBreadcrumb(t,e){const{scope:n,client:r}=this.getStackTop();if(!n||!r)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:a=h}=r.getOptions&&r.getOptions()||{};if(a<=0)return;const c={timestamp:(0,i.yW)(),...t},u=s?(0,o.Cf)((()=>s(c,e))):c;null!==u&&(r.emit&&r.emit("beforeAddBreadcrumb",u,e),n.addBreadcrumb(u,a))}setUser(t){const e=this.getScope();e&&e.setUser(t)}setTags(t){const e=this.getScope();e&&e.setTags(t)}setExtras(t){const e=this.getScope();e&&e.setExtras(t)}setTag(t,e){const n=this.getScope();n&&n.setTag(t,e)}setExtra(t,e){const n=this.getScope();n&&n.setExtra(t,e)}setContext(t,e){const n=this.getScope();n&&n.setContext(t,e)}configureScope(t){const{scope:e,client:n}=this.getStackTop();e&&n&&t(e)}run(t){const e=_(this);try{t(this)}finally{_(e)}}getIntegration(t){const e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,e){return this._callExtensionMethod("startTransaction",t,e)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const t=this.getStackTop(),e=t&&t.scope,n=e&&e.getSession();n&&(0,l.RJ)(n),this._sendSessionUpdate(),e&&e.setSession()}startSession(t){const{scope:e,client:n}=this.getStackTop(),{release:r,environment:i=c.J}=n&&n.getOptions()||{},{userAgent:o}=s.n2.navigator||{},a=(0,l.Hv)({release:r,environment:i,...e&&{user:e.getUser()},...o&&{userAgent:o},...t});if(e){const t=e.getSession&&e.getSession();t&&"ok"===t.status&&(0,l.CT)(t,{status:"exited"}),this.endSession(),e.setSession(a)}return a}shouldSendDefaultPii(){const t=this.getClient(),e=t&&t.getOptions();return Boolean(e&&e.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:e}=this.getStackTop();if(!t)return;const n=t.getSession();n&&e&&e.captureSession&&e.captureSession(n)}_withClient(t){const{scope:e,client:n}=this.getStackTop();n&&t(n,e)}_callExtensionMethod(t,...e){const n=f().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[t])return n.extensions[t].apply(this,e);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&o.kg.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function f(){return s.n2.__SENTRY__=s.n2.__SENTRY__||{extensions:{},hub:void 0},s.n2}function _(t){const e=f(),n=y(e);return v(e,t),n}function g(){const t=f();return m(t)&&!y(t).isOlderThan(p)||v(t,new d),(0,a.KV)()?function(t){try{const e=f().__SENTRY__,n=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!n)return y(t);if(!m(n)||y(n).isOlderThan(p)){const e=y(t).getStackTop();v(n,new d(e.client,u.s.clone(e.scope)))}return y(n)}catch(e){return y(t)}}(t):y(t)}function m(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function y(t){return(0,s.YO)("hub",(()=>new d),t)}function v(t,e){return!!t&&((t.__SENTRY__=t.__SENTRY__||{}).hub=e,!0)}},350:(t,e,n)=>{"use strict";n.d(e,{c:()=>h,s:()=>l});var r=n(7597),i=n(1170),o=n(6893),s=n(2343),a=n(2844),c=n(1235),u=n(9015);class l{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(t){const e=new l;return t&&(e._breadcrumbs=[...t._breadcrumbs],e._tags={...t._tags},e._extra={...t._extra},e._contexts={...t._contexts},e._user=t._user,e._level=t._level,e._span=t._span,e._session=t._session,e._transactionName=t._transactionName,e._fingerprint=t._fingerprint,e._eventProcessors=[...t._eventProcessors],e._requestSession=t._requestSession,e._attachments=[...t._attachments],e._sdkProcessingMetadata={...t._sdkProcessingMetadata}),e}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&(0,u.CT)(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if("function"==typeof t){const e=t(this);return e instanceof l?e:this}return t instanceof l?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):(0,r.PO)(t)&&(this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(t,e){const n="number"==typeof e?e:100;if(n<=0)return this;const r={timestamp:(0,i.yW)(),...t};return this._breadcrumbs=[...this._breadcrumbs,r].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,e={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};const e=this._span.transaction&&this._span.transaction.name;e&&(t.tags={transaction:e,...t.tags})}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...p(),...this._eventProcessors],t,e)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}_notifyEventProcessors(t,e,n,i=0){return new o.cW(((o,a)=>{const c=t[i];if(null===e||"function"!=typeof c)o(e);else{const u=c({...e},n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&c.id&&null===u&&s.kg.log(`Event processor "${c.id}" dropped event`),(0,r.J8)(u)?u.then((e=>this._notifyEventProcessors(t,e,n,i+1).then(o))).then(null,a):this._notifyEventProcessors(t,u,n,i+1).then(o).then(null,a)}}))}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((t=>{t(this)})),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?(0,a.lE)(t.fingerprint):[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}}function p(){return(0,c.YO)("globalEventProcessors",(()=>[]))}function h(t){p().push(t)}},9015:(t,e,n)=>{"use strict";n.d(e,{CT:()=>a,Hv:()=>s,RJ:()=>c});var r=n(1170),i=n(2844),o=n(535);function s(t){const e=(0,r.ph)(),n={sid:(0,i.DM)(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(t){return(0,o.Jr)({sid:`${t.sid}`,init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"==typeof t.did||"string"==typeof t.did?`${t.did}`:void 0,duration:t.duration,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}(n)};return t&&a(n,t),n}function a(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||(0,r.ph)(),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:(0,i.DM)()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),"number"==typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof e.duration)t.duration=e.duration;else{const e=t.timestamp-t.started;t.duration=e>=0?e:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"==typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}function c(t,e){let n={};e?n={status:e}:"ok"===t.status&&(n={status:"exited"}),a(t,n)}},6890:(t,e,n)=>{"use strict";n.d(e,{T:()=>m,l:()=>g});var r=n(2343),i=n(7597),o=n(5659),s=n(7522),a=n(4863),c=n(9791);let u=!1;function l(){const t=(0,c.x1)();if(t){const e="internal_error";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}var p=n(5544),h=n(8069);function d(){const t=this.getScope();if(t){const e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function f(t,e,n){if(!(0,s.z)(e))return t.sampled=!1,t;if(void 0!==t.sampled)return t.setMetadata({sampleRate:Number(t.sampled)}),t;let o;return"function"==typeof e.tracesSampler?(o=e.tracesSampler(n),t.setMetadata({sampleRate:Number(o)})):void 0!==n.parentSampled?o=n.parentSampled:void 0!==e.tracesSampleRate?(o=e.tracesSampleRate,t.setMetadata({sampleRate:Number(o)})):(o=1,t.setMetadata({sampleRate:o})),a=o,((0,i.i2)(a)||"number"!=typeof a&&"boolean"!=typeof a?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(a)} of type ${JSON.stringify(typeof a)}.`),0):!(a<0||a>1)||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${a}.`),0))?o?(t.sampled=Math.random()<o,t.sampled?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(`[Tracing] starting ${t.op} transaction - ${t.name}`),t):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),t)):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t);var a}function _(t,e){const n=this.getClient(),i=n&&n.getOptions()||{},o=i.instrumenter||"sentry",s=t.instrumenter||"sentry";o!==s&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${o}\` instrumenter.\nThe transaction will not be sampled. Please use the ${o} instrumentation to start transactions.`),t.sampled=!1);let a=new h.Y(t,this);return a=f(a,i,{parentSampled:t.parentSampled,transactionContext:t,...e}),a.sampled&&a.initSpanRecorder(i._experiments&&i._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",a),a}function g(t,e,n,r,i,o,s){const a=t.getClient(),c=a&&a.getOptions()||{};let u=new p.io(e,t,n,r,s,i);return u=f(u,c,{parentSampled:e.parentSampled,transactionContext:e,...o}),u.sampled&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),a&&a.emit&&a.emit("startTransaction",u),u}function m(){const t=(0,o.cu)();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=_),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=d),u||(u=!0,(0,a.o)("error",l),(0,a.o)("unhandledrejection",l)))}},5544:(t,e,n)=>{"use strict";n.d(e,{AT:()=>a,io:()=>l});var r=n(1170),i=n(2343),o=n(8903),s=n(8069);const a={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},c=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class u extends o.gB{constructor(t,e,n,r){super(r),this._pushActivity=t,this._popActivity=e,this.transactionSpanId=n}add(t){t.spanId!==this.transactionSpanId&&(t.finish=e=>{t.endTimestamp="number"==typeof e?e:(0,r._I)(),this._popActivity(t.spanId)},void 0===t.endTimestamp&&this._pushActivity(t.spanId)),super.add(t)}}class l extends s.Y{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._idleTimeoutCanceledPermanently=!1}__init5(){this._beforeFinishCallbacks=[]}__init6(){this._finishReason=c[4]}constructor(t,e,n=a.idleTimeout,r=a.finalTimeout,o=a.heartbeatInterval,s=!1){super(t,e),this._idleHub=e,this._idleTimeout=n,this._finalTimeout=r,this._heartbeatInterval=o,this._onScope=s,l.prototype.__init.call(this),l.prototype.__init2.call(this),l.prototype.__init3.call(this),l.prototype.__init4.call(this),l.prototype.__init5.call(this),l.prototype.__init6.call(this),s&&(p(e),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),e.configureScope((t=>t.setSpan(this)))),this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=c[3],this.finish())}),this._finalTimeout)}finish(t=(0,r._I)()){if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setTag("finishReason",this._finishReason),this.spanRecorder){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);for(const e of this._beforeFinishCallbacks)e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter((e=>{if(e.spanId===this.spanId)return!0;e.endTimestamp||(e.endTimestamp=t,e.setStatus("cancelled"),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));const n=e.startTimestamp<t;return n||("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(e,void 0,2)),n})),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Tracing] flushing IdleTransaction")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Tracing] No active IdleTransaction");return this._onScope&&p(this._idleHub),super.finish(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const e=t=>{this._finished||this._pushActivity(t)},n=t=>{this._finished||this._popActivity(t)};this.spanRecorder=new u(e,n,this.spanId,t),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:e}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===e,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=c[5],this.finish(t)))}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=c[1],this.finish(t))}),this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`[Tracing] popActivity ${t}`),delete this.activities[t],("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const t=(0,r._I)();this._idleTimeoutCanceledPermanently?(this._finishReason=c[5],this.finish(t)):this._restartIdleTimeout(t+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=c[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}function p(t){const e=t.getScope();e&&e.getTransaction()&&e.setSpan(void 0)}},8903:(t,e,n)=>{"use strict";n.d(e,{Dr:()=>c,Zd:()=>u,gB:()=>a});var r=n(2844),i=n(1170),o=n(2343),s=n(535);class a{__init(){this.spans=[]}constructor(t=1e3){a.prototype.__init.call(this),this._maxlen=t}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class c{__init2(){this.traceId=(0,r.DM)()}__init3(){this.spanId=(0,r.DM)().substring(16)}__init4(){this.startTimestamp=(0,i._I)()}__init5(){this.tags={}}__init6(){this.data={}}__init7(){this.instrumenter="sentry"}constructor(t){if(c.prototype.__init2.call(this),c.prototype.__init3.call(this),c.prototype.__init4.call(this),c.prototype.__init5.call(this),c.prototype.__init6.call(this),c.prototype.__init7.call(this),!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp),t.instrumenter&&(this.instrumenter=t.instrumenter)}startChild(t){const e=new c({...t,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(e.spanRecorder=this.spanRecorder,e.spanRecorder&&e.spanRecorder.add(e),e.transaction=this.transaction,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&e.transaction){const n=`[Tracing] Starting '${t&&t.op||"< unknown op >"}' span on transaction '${e.transaction.name||"< unknown name >"}' (${e.transaction.spanId}).`;e.transaction.metadata.spanMetadata[e.spanId]={logMessage:n},o.kg.log(n)}return e}setTag(t,e){return this.tags={...this.tags,[t]:e},this}setData(t,e){return this.data={...this.data,[t]:e},this}setStatus(t){return this.status=t,this}setHttpStatus(t){this.setTag("http.status_code",String(t));const e=u(t);return"unknown_error"!==e&&this.setStatus(e),this}isSuccess(){return"ok"===this.status}finish(t){if(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:t}=this.transaction.metadata.spanMetadata[this.spanId];t&&o.kg.log(t.replace("Starting","Finishing"))}this.endTimestamp="number"==typeof t?t:(0,i._I)()}toTraceparent(){let t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${t}`}toContext(){return(0,s.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(t){return this.data=t.data||{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=t.spanId||this.spanId,this.startTimestamp=t.startTimestamp||this.startTimestamp,this.status=t.status,this.tags=t.tags||{},this.traceId=t.traceId||this.traceId,this}getTraceContext(){return(0,s.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return(0,s.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}function u(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}},8069:(t,e,n)=>{"use strict";n.d(e,{Y:()=>c});var r=n(2343),i=n(535),o=n(1131),s=n(5659),a=n(8903);class c extends a.Dr{__init(){this._measurements={}}__init2(){this._contexts={}}__init3(){this._frozenDynamicSamplingContext=void 0}constructor(t,e){super(t),c.prototype.__init.call(this),c.prototype.__init2.call(this),c.prototype.__init3.call(this),this._hub=e||(0,s.Gd)(),this._name=t.name||"",this.metadata={source:"custom",...t.metadata,spanMetadata:{}},this._trimEnd=t.trimEnd,this.transaction=this;const n=this.metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(t){this.setName(t)}setName(t,e="custom"){this._name=t,this.metadata.source=e}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new a.gB(t)),this.spanRecorder.add(this)}setContext(t,e){null===e?delete this._contexts[t]:this._contexts[t]=e}setMeasurement(t,e,n=""){this._measurements[t]={value:e,unit:n}}setMetadata(t){this.metadata={...this.metadata,...t}}finish(t){if(void 0!==this.endTimestamp)return;this.name||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(t);const e=this._hub.getClient();if(e&&e.emit&&e.emit("finishTransaction",this),!0!==this.sampled)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(e&&e.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter((t=>t!==this&&t.endTimestamp)):[];this._trimEnd&&n.length>0&&(this.endTimestamp=n.reduce(((t,e)=>t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t)).endTimestamp);const i=this.metadata,o={contexts:{...this._contexts,trace:this.getTraceContext()},spans:n,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...i,dynamicSamplingContext:this.getDynamicSamplingContext()},...i.source&&{transaction_info:{source:i.source}}};return Object.keys(this._measurements).length>0&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),o.measurements=this._measurements),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(o)}toContext(){const t=super.toContext();return(0,i.Jr)({...t,name:this.name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this.name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const t=this._hub||(0,s.Gd)(),e=t&&t.getClient();if(!e)return{};const{environment:n,release:r}=e.getOptions()||{},{publicKey:a}=e.getDsn()||{},c=this.metadata.sampleRate,u=void 0!==c?c.toString():void 0,l=t.getScope(),{segment:p}=l&&l.getUser()||{},h=this.metadata.source,d=h&&"url"!==h?this.name:void 0;return(0,i.Jr)({environment:n||o.J,release:r,transaction:d,user_segment:p,public_key:a,trace_id:this.traceId,sample_rate:u})}}},9791:(t,e,n)=>{"use strict";n.d(e,{x1:()=>i});var r=n(5659);function i(t){const e=(t||(0,r.Gd)()).getScope();return e&&e.getTransaction()}},7522:(t,e,n)=>{"use strict";n.d(e,{z:()=>i});var r=n(5659);function i(t){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const e=(0,r.Gd)().getClient(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}},9946:(t,e,n)=>{"use strict";n.r(e),n.d(e,{DEFAULT_USER_INCLUDES:()=>fe,Handlers:()=>i,Hub:()=>_.Xb,Integrations:()=>$e,NodeClient:()=>yt,SDK_VERSION:()=>g,Scope:()=>Q.s,addBreadcrumb:()=>E,addGlobalEventProcessor:()=>Q.c,addRequestDataToEvent:()=>me,captureEvent:()=>v,captureException:()=>m,captureMessage:()=>y,close:()=>ke,configureScope:()=>b,createTransport:()=>X,deepReadDirSync:()=>Pe,defaultIntegrations:()=>xe,defaultStackParser:()=>Ae,extractRequestData:()=>ge,flush:()=>De,getCurrentHub:()=>_.Gd,getHubFromCarrier:()=>_.vi,getSentryRelease:()=>Ne,init:()=>Ie,lastEventId:()=>Oe,makeMain:()=>_.pj,makeNodeTransport:()=>Ot,setContext:()=>w,setExtra:()=>T,setExtras:()=>S,setTag:()=>I,setTags:()=>x,setUser:()=>O,startTransaction:()=>k,withScope:()=>D});var r={};n.r(r),n.d(r,{FunctionToString:()=>c,InboundFilters:()=>d});var i={};n.r(i),n.d(i,{errorHandler:()=>qe,extractRequestData:()=>Be,parseRequest:()=>Ue,requestHandler:()=>Me,tracingHandler:()=>Fe});var o={};n.r(o),n.d(o,{Console:()=>Ct,Context:()=>re,ContextLines:()=>Wt,Http:()=>Mt,LinkedErrors:()=>Kt,LocalVariables:()=>Se,Modules:()=>Qt,OnUncaughtException:()=>Yt,OnUnhandledRejection:()=>Vt,RequestData:()=>ve});var s=n(535);let a;class c{constructor(){c.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=c.id}setupOnce(){a=Function.prototype.toString,Function.prototype.toString=function(...t){const e=(0,s.HK)(this)||this;return a.apply(e,t)}}}c.__initStatic();var u=n(2343),l=n(2844),p=n(7321);const h=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class d{static __initStatic(){this.id="InboundFilters"}__init(){this.name=d.id}constructor(t={}){this._options=t,d.prototype.__init.call(this)}setupOnce(t,e){const n=t=>{const n=e();if(n){const e=n.getIntegration(d);if(e){const r=n.getClient(),i=r?r.getOptions():{},o=function(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...h],ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}(e._options,i);return function(t,e){return e.ignoreInternal&&function(t){try{return"SentryError"===t.exception.values[0].type}catch(t){}return!1}(t)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,l.jH)(t)}`),!0):function(t,e){return!(!e||!e.length)&&function(t){if(t.message)return[t.message];if(t.exception)try{const{type:e="",value:n=""}=t.exception.values&&t.exception.values[0]||{};return[`${n}`,`${e}: ${n}`]}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.error(`Cannot extract message for event ${(0,l.jH)(t)}`),[]}return[]}(t).some((t=>(0,p.U0)(t,e)))}(t,e.ignoreErrors)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,l.jH)(t)}`),!0):function(t,e){if(!e||!e.length)return!1;const n=f(t);return!!n&&(0,p.U0)(n,e)}(t,e.denyUrls)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,l.jH)(t)}.\nUrl: ${f(t)}`),!0):!function(t,e){if(!e||!e.length)return!0;const n=f(t);return!n||(0,p.U0)(n,e)}(t,e.allowUrls)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,l.jH)(t)}.\nUrl: ${f(t)}`),!0)}(t,o)?null:t}}return t};n.id=this.name,t(n)}}function f(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch(t){}return e?function(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(e):null}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.error(`Cannot extract url for event ${(0,l.jH)(t)}`),null}}d.__initStatic();var _=n(5659);const g="7.44.2";function m(t,e){return(0,_.Gd)().captureException(t,{captureContext:e})}function y(t,e){const n="string"==typeof e?e:void 0,r="string"!=typeof e?{captureContext:e}:void 0;return(0,_.Gd)().captureMessage(t,n,r)}function v(t,e){return(0,_.Gd)().captureEvent(t,e)}function b(t){(0,_.Gd)().configureScope(t)}function E(t){(0,_.Gd)().addBreadcrumb(t)}function w(t,e){(0,_.Gd)().setContext(t,e)}function S(t){(0,_.Gd)().setExtras(t)}function T(t,e){(0,_.Gd)().setExtra(t,e)}function x(t){(0,_.Gd)().setTags(t)}function I(t,e){(0,_.Gd)().setTag(t,e)}function O(t){(0,_.Gd)().setUser(t)}function D(t){(0,_.Gd)().withScope(t)}function k(t,e){return(0,_.Gd)().startTransaction({...t},e)}class C extends Error{constructor(t,e="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=e}}var N=n(6893);const A=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function P(t,e=!1){const{host:n,path:r,pass:i,port:o,projectId:s,protocol:a,publicKey:c}=t;return`${a}://${c}${e&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${s}`}function R(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}var j=n(7597),B=n(360);function U(t,e=1/0,n=1/0){try{return M("",t,e,n)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function F(t,e=3,n=102400){const r=U(t,e);return i=r,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(i))>n?F(t,e-1,n):r;var i}function M(t,e,n=1/0,r=1/0,i=function(){const t="function"==typeof WeakSet,e=t?new WeakSet:[];return[function(n){if(t)return!!e.has(n)||(e.add(n),!1);for(let t=0;t<e.length;t++)if(e[t]===n)return!0;return e.push(n),!1},function(n){if(t)e.delete(n);else for(let t=0;t<e.length;t++)if(e[t]===n){e.splice(t,1);break}}]}()){const[o,a]=i;if(null===e||["number","boolean","string"].includes(typeof e)&&!(0,j.i2)(e))return e;const c=function(t,e){try{return"domain"===t&&e&&"object"==typeof e&&e._events?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":"undefined"!=typeof global&&e===global?"[Global]":"undefined"!=typeof window&&e===window?"[Window]":"undefined"!=typeof document&&e===document?"[Document]":(0,j.Cy)(e)?"[SyntheticEvent]":"number"==typeof e&&e!=e?"[NaN]":void 0===e?"[undefined]":"function"==typeof e?`[Function: ${(0,B.$P)(e)}]`:"symbol"==typeof e?`[${String(e)}]`:"bigint"==typeof e?`[BigInt: ${String(e)}]`:`[object ${function(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}(e)}]`}catch(t){return`**non-serializable** (${t})`}}(t,e);if(!c.startsWith("[object "))return c;if(e.__sentry_skip_normalization__)return e;let u=n;if("number"==typeof e.__sentry_override_normalization_depth__&&(u=e.__sentry_override_normalization_depth__),0===u)return c.replace("object ","");if(o(e))return"[Circular ~]";const l=e;if(l&&"function"==typeof l.toJSON)try{return M("",l.toJSON(),u-1,r,i)}catch(t){}const p=Array.isArray(e)?[]:{};let h=0;const d=(0,s.Sh)(e);for(const t in d){if(!Object.prototype.hasOwnProperty.call(d,t))continue;if(h>=r){p[t]="[MaxProperties ~]";break}const e=d[t];p[t]=M(t,e,u-1,r,i),h++}return a(e),p}function L(t,e=[]){return[t,e]}function q(t,e){const[n,r]=t;return[n,[...r,e]]}function $(t,e){const n=t[1];for(const t of n)if(e(t,t[0].type))return!0;return!1}function G(t,e){return(e||new TextEncoder).encode(t)}function Y(t,e){const[n,r]=t;let i=JSON.stringify(n);function o(t){"string"==typeof i?i="string"==typeof t?i+t:[G(i,e),t]:i.push("string"==typeof t?G(t,e):t)}for(const t of r){const[e,n]=t;if(o(`\n${JSON.stringify(e)}\n`),"string"==typeof n||n instanceof Uint8Array)o(n);else{let t;try{t=JSON.stringify(n)}catch(e){t=JSON.stringify(U(n))}o(t)}}return"string"==typeof i?i:function(t){const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);let r=0;for(const e of t)n.set(e,r),r+=e.length;return n}(i)}function V(t,e){const n="string"==typeof t.data?G(t.data,e):t.data;return[(0,s.Jr)({type:"attachment",length:n.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),n]}const z={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay"};function H(t){return z[t]}function W(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}const J=6e4;const K=30;function X(t,e,n=function(t){const e=[];function n(t){return e.splice(e.indexOf(t),1)[0]}return{$:e,add:function(r){if(!(void 0===t||e.length<t))return(0,N.$2)(new C("Not adding Promise because buffer limit was reached."));const i=r();return-1===e.indexOf(i)&&e.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(t){return new N.cW(((n,r)=>{let i=e.length;if(!i)return n(!0);const o=setTimeout((()=>{t&&t>0&&n(!1)}),t);e.forEach((t=>{(0,N.WD)(t).then((()=>{--i||(clearTimeout(o),n(!0))}),r)}))}))}}}(t.bufferSize||K)){let r={};function i(i){const o=[];if($(i,((e,n)=>{const i=H(n);if(function(t,e,n=Date.now()){return function(t,e){return t[e]||t.all||0}(t,e)>n}(r,i)){const r=Z(e,n);t.recordDroppedEvent("ratelimit_backoff",i,r)}else o.push(e)})),0===o.length)return(0,N.WD)();const s=L(i[0],o),a=e=>{$(s,((n,r)=>{const i=Z(n,r);t.recordDroppedEvent(e,H(r),i)}))};return n.add((()=>e({body:Y(s,t.textEncoder)}).then((t=>(void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),r=function(t,{statusCode:e,headers:n},r=Date.now()){const i={...t},o=n&&n["x-sentry-rate-limits"],s=n&&n["retry-after"];if(o)for(const t of o.trim().split(",")){const[e,n]=t.split(":",2),o=parseInt(e,10),s=1e3*(isNaN(o)?60:o);if(n)for(const t of n.split(";"))i[t]=r+s;else i.all=r+s}else s?i.all=r+function(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${t}`);return isNaN(r)?J:r-e}(s,r):429===e&&(i.all=r+6e4);return i}(r,t),t)),(t=>{throw a("network_error"),t})))).then((t=>t),(t=>{if(t instanceof C)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.error("Skipped sending event because buffer is full."),a("queue_overflow"),(0,N.WD)();throw t}))}return i.__sentry__baseTransport__=!0,{send:i,flush:t=>n.drain(t)}}function Z(t,e){if("event"===e||"transaction"===e)return Array.isArray(t)?t[1]:void 0}var Q=n(350),tt=n(4307);const et="7";const nt=[];function rt(t){const e=t.defaultIntegrations||[],n=t.integrations;let r;e.forEach((t=>{t.isDefaultInstance=!0})),r=Array.isArray(n)?[...e,...n]:"function"==typeof n?(0,l.lE)(n(e)):e;const i=function(t){const e={};return t.forEach((t=>{const{name:n}=t,r=e[n];r&&!r.isDefaultInstance&&t.isDefaultInstance||(e[n]=t)})),Object.keys(e).map((t=>e[t]))}(r),o=function(t,e){for(let e=0;e<t.length;e++)if(!0==("Debug"===t[e].name))return e;return-1}(i);if(-1!==o){const[t]=i.splice(o,1);i.push(t)}return i}function it(t,e){e[t.name]=t,-1===nt.indexOf(t.name)&&(t.setupOnce(Q.c,_.Gd),nt.push(t.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.log(`Integration installed: ${t.name}`))}var ot=n(9015),st=n(1170),at=n(1235),ct=n(1131);const ut="Not capturing exception because it's already been captured.";class lt{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}__init5(){this._hooks={}}constructor(t){if(lt.prototype.__init.call(this),lt.prototype.__init2.call(this),lt.prototype.__init3.call(this),lt.prototype.__init4.call(this),lt.prototype.__init5.call(this),this._options=t,t.dsn){this._dsn=function(t){const e="string"==typeof t?function(t){const e=A.exec(t);if(!e)throw new C(`Invalid Sentry Dsn: ${t}`);const[n,r,i="",o,s="",a]=e.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const t=u.match(/^\d+/);t&&(u=t[0])}return R({host:o,pass:i,path:c,projectId:u,port:s,protocol:n,publicKey:r})}(t):R(t);return function(t){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return;const{port:e,projectId:n,protocol:r}=t;if(["protocol","publicKey","host","projectId"].forEach((e=>{if(!t[e])throw new C(`Invalid Sentry Dsn: ${e} missing`)})),!n.match(/^\d+$/))throw new C(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!function(t){return"http"===t||"https"===t}(r))throw new C(`Invalid Sentry Dsn: Invalid protocol ${r}`);if(e&&isNaN(parseInt(e,10)))throw new C(`Invalid Sentry Dsn: Invalid port ${e}`)}(e),e}(t.dsn);const e=function(t,e={}){const n="string"==typeof e?e:e.tunnel,r="string"!=typeof e&&e._metadata?e._metadata.sdk:void 0;return n||`${function(t){return`${function(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}(t)}${t.projectId}/envelope/`}(t)}?${function(t,e){return(0,s._j)({sentry_key:t.publicKey,sentry_version:et,...e&&{sentry_client:`${e.name}/${e.version}`}})}(t,r)}`}(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:e})}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.warn("No DSN provided, client will not do anything.")}captureException(t,e,n){if((0,l.YO)(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.log(ut));let r=e&&e.event_id;return this._process(this.eventFromException(t,e).then((t=>this._captureEvent(t,e,n))).then((t=>{r=t}))),r}captureMessage(t,e,n,r){let i=n&&n.event_id;const o=(0,j.pt)(t)?this.eventFromMessage(String(t),e,n):this.eventFromException(t,n);return this._process(o.then((t=>this._captureEvent(t,n,r))).then((t=>{i=t}))),i}captureEvent(t,e,n){if(e&&e.originalException&&(0,l.YO)(e.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.log(ut));let r=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then((t=>{r=t}))),r}captureSession(t){this._isEnabled()?"string"!=typeof t.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),(0,ot.CT)(t,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const e=this._transport;return e?this._isClientDoneProcessing(t).then((n=>e.flush(t).then((t=>n&&t)))):(0,N.WD)(!0)}close(t){return this.flush(t).then((t=>(this.getOptions().enabled=!1,t)))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function(t){const e={};return t.forEach((t=>{t&&it(t,e)})),e}(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){it(t,this._integrations)}sendEvent(t,e={}){if(this._dsn){let n=function(t,e,n,r){const i=W(n),o=t.type&&"replay_event"!==t.type?t.type:"event";!function(t,e){e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]])}(t,n&&n.sdk);const a=function(t,e,n,r){const i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&{sdk:e},...!!n&&{dsn:P(r)},..."transaction"===t.type&&i&&{trace:(0,s.Jr)({...i})}}}(t,i,r,e);return delete t.sdkProcessingMetadata,L(a,[[{type:o},t]])}(t,this._dsn,this._options._metadata,this._options.tunnel);for(const t of e.attachments||[])n=q(n,V(t,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then((e=>this.emit("afterSendEvent",t,e)),null)}}sendSession(t){if(this._dsn){const e=function(t,e,n,r){const i=W(n);return L({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!r&&{dsn:P(e)}},["aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(e)}}recordDroppedEvent(t,e,n){if(this._options.sendClientReports){const n=`${t}:${e}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}on(t,e){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(e)}emit(t,...e){this._hooks[t]&&this._hooks[t].forEach((t=>t(...e)))}_updateSessionFromEvent(t,e){let n=!1,r=!1;const i=e.exception&&e.exception.values;if(i){r=!0;for(const t of i){const e=t.mechanism;if(e&&!1===e.handled){n=!0;break}}}const o="ok"===t.status;(o&&0===t.errors||o&&n)&&((0,ot.CT)(t,{...n&&{status:"crashed"},errors:t.errors||Number(r||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new N.cW((e=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),e(!0)):(n+=1,t&&n>=t&&(clearInterval(r),e(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(t,e,n){const r=this.getOptions(),i=Object.keys(this._integrations);return!e.integrations&&i.length>0&&(e.integrations=i),function(t,e,n,r){const{normalizeDepth:i=3,normalizeMaxBreadth:o=1e3}=t,s={...e,event_id:e.event_id||n.event_id||(0,l.DM)(),timestamp:e.timestamp||(0,st.yW)()},a=n.integrations||t.integrations.map((t=>t.name));!function(t,e){const{environment:n,release:r,dist:i,maxValueLength:o=250}=e;"environment"in t||(t.environment="environment"in e?n:ct.J),void 0===t.release&&void 0!==r&&(t.release=r),void 0===t.dist&&void 0!==i&&(t.dist=i),t.message&&(t.message=(0,p.$G)(t.message,o));const s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=(0,p.$G)(s.value,o));const a=t.request;a&&a.url&&(a.url=(0,p.$G)(a.url,o))}(s,t),function(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}(s,a),function(t,e){const n=at.n2._sentryDebugIds;if(!n)return;const r=Object.keys(n).reduce(((t,r)=>{const i=e(r);for(const e of i)if(e.abs_path){t[e.abs_path]=n[r];break}return t}),{}),i=new Set;try{t.exception.values.forEach((t=>{t.stacktrace.frames.forEach((t=>{t.abs_path&&i.add(t.abs_path)}))}))}catch(t){}t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const o=t.debug_meta.images;i.forEach((t=>{r[t]&&o.push({type:"sourcemap",code_file:t,debug_id:r[t]})}))}(s,t.stackParser);let c=r;n.captureContext&&(c=Q.s.clone(c).update(n.captureContext));let u=(0,N.WD)(s);if(c){if(c.getAttachments){const t=[...n.attachments||[],...c.getAttachments()];t.length&&(n.attachments=t)}u=c.applyToEvent(s,n)}return u.then((t=>"number"==typeof i&&i>0?function(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((t=>({...t,...t.data&&{data:U(t.data,e,n)}})))},...t.user&&{user:U(t.user,e,n)},...t.contexts&&{contexts:U(t.contexts,e,n)},...t.extra&&{extra:U(t.extra,e,n)}};return t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=U(t.contexts.trace.data,e,n))),t.spans&&(r.spans=t.spans.map((t=>(t.data&&(t.data=U(t.data,e,n)),t)))),r}(t,i,o):t))}(r,t,e,n)}_captureEvent(t,e={},n){return this._processEvent(t,e,n).then((t=>t.event_id),(t=>{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){const e=t;"log"===e.logLevel?u.kg.log(e.message):u.kg.warn(e)}}))}_processEvent(t,e,n){const r=this.getOptions(),{sampleRate:i}=r;if(!this._isEnabled())return(0,N.$2)(new C("SDK not enabled, will not capture event.","log"));const o=ht(t),s=pt(t),a=t.type||"error",c=`before send for type \`${a}\``;if(s&&"number"==typeof i&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",t),(0,N.$2)(new C(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const u="replay_event"===a?"replay":a;return this._prepareEvent(t,e,n).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",u,t),new C("An event processor returned `null`, will not send event.","log");if(e.data&&!0===e.data.__sentry__)return n;const i=function(t,e,n){const{beforeSend:r,beforeSendTransaction:i}=t;return pt(e)&&r?r(e,n):ht(e)&&i?i(e,n):e}(r,n,e);return function(t,e){const n=`${e} must return \`null\` or a valid event.`;if((0,j.J8)(t))return t.then((t=>{if(!(0,j.PO)(t)&&null!==t)throw new C(n);return t}),(t=>{throw new C(`${e} rejected with ${t}`)}));if(!(0,j.PO)(t)&&null!==t)throw new C(n);return t}(i,c)})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",u,t),new C(`${c} returned \`null\`, will not send event.`,"log");const i=n&&n.getSession();!o&&i&&this._updateSessionFromEvent(i,r);const s=r.transaction_info;if(o&&s&&r.transaction!==t.transaction){const t="custom";r.transaction_info={...s,source:t}}return this.sendEvent(r,e),r})).then(null,(t=>{if(t instanceof C)throw t;throw this.captureException(t,{data:{__sentry__:!0},originalException:t}),new C(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${t}`)}))}_process(t){this._numProcessing++,t.then((t=>(this._numProcessing--,t)),(t=>(this._numProcessing--,t)))}_sendEnvelope(t){if(this._transport&&this._dsn)return this.emit("beforeEnvelope",t),this._transport.send(t).then(null,(t=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.error("Error while sending event:",t)}));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map((e=>{const[n,r]=e.split(":");return{reason:n,category:r,quantity:t[e]}}))}}function pt(t){return void 0===t.type}function ht(t){return"transaction"===t.type}class dt{__init(){this.flushTimeout=60}__init2(){this._pendingAggregates={}}__init3(){this._isEnabled=!0}constructor(t,e){dt.prototype.__init.call(this),dt.prototype.__init2.call(this),dt.prototype.__init3.call(this),this._client=t,this._intervalId=setInterval((()=>this.flush()),1e3*this.flushTimeout),this._sessionAttrs=e}flush(){const t=this.getSessionAggregates();0!==t.aggregates.length&&(this._pendingAggregates={},this._client.sendSession(t))}getSessionAggregates(){const t=Object.keys(this._pendingAggregates).map((t=>this._pendingAggregates[parseInt(t)])),e={attrs:this._sessionAttrs,aggregates:t};return(0,s.Jr)(e)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(!this._isEnabled)return;const t=(0,_.Gd)().getScope(),e=t&&t.getRequestSession();e&&e.status&&(this._incrementSessionStatusCount(e.status,new Date),t&&t.setRequestSession(void 0))}_incrementSessionStatusCount(t,e){const n=new Date(e).setSeconds(0,0);this._pendingAggregates[n]=this._pendingAggregates[n]||{};const r=this._pendingAggregates[n];switch(r.started||(r.started=new Date(n).toISOString()),t){case"errored":return r.errored=(r.errored||0)+1,r.errored;case"ok":return r.exited=(r.exited||0)+1,r.exited;default:return r.crashed=(r.crashed||0)+1,r.crashed}}}var ft=n(2037),_t=n(3837);function gt(t,e){return t(e.stack||"",1)}function mt(t,e){const n={type:e.name||e.constructor.name,value:e.message},r=gt(t,e);return r.length&&(n.stacktrace={frames:r}),n}class yt extends lt{constructor(t){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.node",packages:[{name:"npm:@sentry/node",version:g}],version:g},t.transportOptions={textEncoder:new _t.TextEncoder,...t.transportOptions},super(t)}captureException(t,e,n){if(this._options.autoSessionTracking&&this._sessionFlusher&&n){const t=n.getRequestSession();t&&"ok"===t.status&&(t.status="errored")}return super.captureException(t,e,n)}captureEvent(t,e,n){if(this._options.autoSessionTracking&&this._sessionFlusher&&n&&"exception"===(t.type||"exception")&&t.exception&&t.exception.values&&t.exception.values.length>0){const t=n.getRequestSession();t&&"ok"===t.status&&(t.status="errored")}return super.captureEvent(t,e,n)}close(t){return(0,tt.x)([this,"access",t=>t._sessionFlusher,"optionalAccess",t=>t.close,"call",t=>t()]),super.close(t)}initSessionFlusher(){const{release:t,environment:e}=this._options;t?this._sessionFlusher=new dt(this,{release:t,environment:e}):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.warn("Cannot initialise an instance of SessionFlusher if no release is provided!")}eventFromException(t,e){return(0,N.WD)(function(t,e,n){let r=e;const i=n&&n.data&&n.data.mechanism||{handled:!0,type:"generic"};if(!(0,j.VZ)(e)){if((0,j.PO)(e)){const t=`Non-Error exception captured with keys: ${(0,s.zf)(e)}`,i=(0,_.Gd)(),o=i.getClient(),a=o&&o.getOptions().normalizeDepth;i.configureScope((t=>{t.setExtra("__serialized__",F(e,a))})),r=n&&n.syntheticException||new Error(t),r.message=t}else r=n&&n.syntheticException||new Error(e),r.message=e;i.synthetic=!0}const o={exception:{values:[mt(t,r)]}};return(0,l.Db)(o,void 0,void 0),(0,l.EG)(o,i),{...o,event_id:n&&n.event_id}}(this._options.stackParser,t,e))}eventFromMessage(t,e="info",n){return(0,N.WD)(function(t,e,n="info",r,i){const o={event_id:r&&r.event_id,level:n,message:e};if(i&&r&&r.syntheticException){const n=gt(t,r.syntheticException);n.length&&(o.exception={values:[{value:e,stacktrace:{frames:n}}]})}return o}(this._options.stackParser,t,e,n,this._options.attachStacktrace))}_prepareEvent(t,e,n){return t.platform=t.platform||"node",t.contexts={...t.contexts,runtime:(0,tt.x)([t,"access",t=>t.contexts,"optionalAccess",t=>t.runtime])||{name:"node",version:global.process.version}},t.server_name=t.server_name||this.getOptions().serverName||global.process.env.SENTRY_NAME||ft.hostname(),super._prepareEvent(t,e,n)}_captureRequestSession(){this._sessionFlusher?this._sessionFlusher.incrementSessionStatusCount():("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.warn("Discarded request mode session because autoSessionTracking option was disabled")}}function vt(t,e){return null!=t?t:e()}var bt=n(3685),Et=n(5687),wt=n(6018),St=n(2781),Tt=n(7310),xt=n(9796);const It=32768;function Ot(t){let e;try{e=new Tt.URL(t.url)}catch(e){return console.warn("[@sentry/node]: Invalid dsn or tunnel option, will not send any events. The tunnel option must be a full URL when used."),X(t,(()=>Promise.resolve({})))}const n="https:"===e.protocol,r=function(t,e){const{no_proxy:n}=process.env;return n&&n.split(",").some((e=>t.host.endsWith(e)||t.hostname.endsWith(e)))?void 0:e}(e,t.proxy||(n?process.env.https_proxy:void 0)||process.env.http_proxy),i=n?Et:bt,o=void 0!==t.keepAlive&&t.keepAlive,s=r?new wt.HttpsProxyAgent(r):new i.Agent({keepAlive:o,maxSockets:30,timeout:2e3}),a=function(t,e,n){const{hostname:r,pathname:i,port:o,protocol:s,search:a}=new Tt.URL(t.url);return function(c){return new Promise(((u,l)=>{let p=function(t){return new St.Readable({read(){this.push(t),this.push(null)}})}(c.body);const h={...t.headers};c.body.length>It&&(h["content-encoding"]="gzip",p=p.pipe((0,xt.createGzip)()));const d=e.request({method:"POST",agent:n,headers:h,hostname:r,path:`${i}${a}`,port:o,protocol:s,ca:t.caCerts},(t=>{t.on("data",(()=>{})),t.on("end",(()=>{})),t.setEncoding("utf8");const e=vt(t.headers["retry-after"],(()=>null)),n=vt(t.headers["x-sentry-rate-limits"],(()=>null));u({statusCode:t.statusCode,headers:{"retry-after":e,"x-sentry-rate-limits":Array.isArray(n)?n[0]:n}})}));d.on("error",l),p.pipe(d)}))}}(t,vt(t.httpModule,(()=>i)),s);return X(t,a)}const Dt=require("domain"),kt=["fatal","error","warning","log","info","debug"];class Ct{constructor(){Ct.prototype.__init.call(this)}static __initStatic(){this.id="Console"}__init(){this.name=Ct.id}setupOnce(){for(const t of["debug","info","warn","error","log"])(0,s.hl)(console,t,Nt(t))}}function Nt(t){return function(e){const n=function(t){return"warn"===t?"warning":kt.includes(t)?t:"log"}(t);return function(){(0,_.Gd)().getIntegration(Ct)&&(0,_.Gd)().addBreadcrumb({category:"console",level:n,message:_t.format.apply(void 0,arguments)},{input:[...arguments],level:t}),e.apply(this,arguments)}}}Ct.__initStatic();var At=n(3790),Pt=n(7612);const Rt=(0,l.J4)(process.versions.node);function jt(t){return`${t.protocol||""}//${t.hostname||t.host||""}${t.port&&80!==t.port&&443!==t.port?`:${t.port}`:""}${t.path?t.path:"/"}`}function Bt(t,e,n){if(!t)return t;let[r,i]=t.split(" ");return e.host&&!e.protocol&&(e.protocol=(0,tt.x)([n,"optionalAccess",t=>t.agent,"optionalAccess",t=>t.protocol]),i=jt(e)),(0,tt.x)([i,"optionalAccess",t=>t.startsWith,"call",t=>t("///")])&&(i=i.slice(2)),`${r} ${i}`}function Ut(t){const e={protocol:t.protocol,hostname:"string"==typeof t.hostname&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:`${t.pathname||""}${t.search||""}`,href:t.href};return""!==t.port&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username}:${t.password}`),e}const Ft=(0,l.J4)(process.versions.node);class Mt{static __initStatic(){this.id="Http"}__init(){this.name=Mt.id}constructor(t={}){Mt.prototype.__init.call(this),this._breadcrumbs=void 0===t.breadcrumbs||t.breadcrumbs,this._tracing=t.tracing?!0===t.tracing?{}:t.tracing:void 0}setupOnce(t,e){if(!this._breadcrumbs&&!this._tracing)return;const r=(0,tt.x)([e,"call",t=>t(),"access",t=>t.getClient,"call",t=>t(),"optionalAccess",t=>t.getOptions,"call",t=>t()]);if(r&&"sentry"!==r.instrumenter)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.log("HTTP Integration is skipped because of instrumenter configuration."));const i=this._tracing?{...r,...this._tracing}:void 0,o=n(3685),a=Lt(this._breadcrumbs,i,o);if((0,s.hl)(o,"get",a),(0,s.hl)(o,"request",a),Ft.major&&Ft.major>8){const t=n(5687),e=Lt(this._breadcrumbs,i,t);(0,s.hl)(t,"get",e),(0,s.hl)(t,"request",e)}}}function Lt(t,e,n){const r=new Pt.LRUMap(100),i={};return function(o){return function(...s){const a=function(t,e){let n,r;return"function"==typeof e[e.length-1]&&(n=e.pop()),r="string"==typeof e[0]?Ut(new Tt.URL(e[0])):e[0]instanceof Tt.URL?Ut(e[0]):e[0],2===e.length&&(r={...r,...e[1]}),void 0===r.protocol&&(Rt.major&&Rt.major>8?r.protocol=(0,tt.x)([(0,tt.x)([t,"optionalAccess",t=>t.globalAgent]),"optionalAccess",t=>t.protocol])||(0,tt.x)([r.agent,"optionalAccess",t=>t.protocol])||(0,tt.x)([r._defaultAgent,"optionalAccess",t=>t.protocol]):r.protocol=(0,tt.x)([r.agent,"optionalAccess",t=>t.protocol])||(0,tt.x)([r._defaultAgent,"optionalAccess",t=>t.protocol])||(0,tt.x)([(0,tt.x)([t,"optionalAccess",t=>t.globalAgent]),"optionalAccess",t=>t.protocol])),n?[r,n]:[r]}(n,s),c=a[0],l=jt(c);if(function(t){const e=(0,tt.x)([_.Gd,"call",t=>t(),"access",t=>t.getClient,"call",t=>t(),"optionalAccess",t=>t.getDsn,"call",t=>t()]);return!!e&&t.includes(e.host)}(l))return o.apply(n,a);let h,d;const f=(0,_.Gd)().getScope();if(f&&e&&(t=>{if(void 0===(0,tt.x)([e,"optionalAccess",t=>t.shouldCreateSpanForRequest]))return!0;const n=r.get(t);if(void 0!==n)return n;const i=e.shouldCreateSpanForRequest(t);return r.set(t,i),i})(l)&&(d=f.getSpan(),d))if(h=d.startChild({description:`${c.method||"GET"} ${l}`,op:"http.client"}),(t=>void 0===(0,tt.x)([e,"optionalAccess",t=>t.tracePropagationTargets])||(i[t]||(i[t]=(0,p.U0)(t,e.tracePropagationTargets)),i[t]))(l)){const t=h.toTraceparent();if(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.log(`[Tracing] Adding sentry-trace header ${t} to outgoing request to "${l}": `),c.headers={...c.headers,"sentry-trace":t},d.transaction){const t=d.transaction.getDynamicSamplingContext(),e=(0,At.IQ)(t);let n;n=c.headers&&c.headers.baggage?e?Array.isArray(c.headers.baggage)?[...c.headers.baggage,e]:[c.headers.baggage,e]:c.headers.baggage:e,c.headers={...c.headers,...n&&{baggage:n}}}}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.log(`[Tracing] Not adding sentry-trace header to outgoing request (${l}) due to mismatching tracePropagationTargets option.`);return o.apply(n,a).once("response",(function(e){t&&qt("response",l,this,e),h&&(e.statusCode&&h.setHttpStatus(e.statusCode),h.description=Bt(h.description,c,this),h.finish())})).once("error",(function(){t&&qt("error",l,this),h&&(h.setHttpStatus(500),h.description=Bt(h.description,c,this),h.finish())}))}}}function qt(t,e,n,r){(0,_.Gd)().getIntegration(Mt)&&(0,_.Gd)().addBreadcrumb({category:"http",data:{method:n.method,status_code:r&&r.statusCode,url:e},type:"http"},{event:t,request:n,response:r})}Mt.__initStatic();const $t=2e3;function Gt(t){console.error(t&&t.stack?t.stack:t);const e=(0,_.Gd)().getClient();void 0===e&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.warn("No NodeClient was defined, we are exiting the process now."),global.process.exit(1));const n=e.getOptions(),r=n&&n.shutdownTimeout&&n.shutdownTimeout>0&&n.shutdownTimeout||$t;e.close(r).then((t=>{t||("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.warn("We reached the timeout for emptying the request buffer, still exiting now!"),global.process.exit(1)}),(t=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.error(t)}))}class Yt{static __initStatic(){this.id="OnUncaughtException"}__init(){this.name=Yt.id}__init2(){this.handler=this._makeErrorHandler()}constructor(t={}){Yt.prototype.__init.call(this),Yt.prototype.__init2.call(this),this._options={exitEvenIfOtherHandlersAreRegistered:!0,...t}}setupOnce(){global.process.on("uncaughtException",this.handler)}_makeErrorHandler(){let t,e=!1,n=!1,r=!1;return i=>{let o=Gt;const s=(0,_.Gd)().getClient();this._options.onFatalError?o=this._options.onFatalError:s&&s.getOptions().onFatalError&&(o=s.getOptions().onFatalError);const a=0===global.process.listeners("uncaughtException").reduce(((t,e)=>"domainUncaughtExceptionClear"===e.name||e===this.handler?t:t+1),0),c=this._options.exitEvenIfOtherHandlersAreRegistered||a;if(e)c&&(r?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.warn("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),Gt(i)):n||(n=!0,setTimeout((()=>{r||(r=!0,o(t,i))}),2e3)));else{const n=(0,_.Gd)();t=i,e=!0,n.getIntegration(Yt)?n.withScope((t=>{t.setLevel("fatal"),n.captureException(i,{originalException:i,data:{mechanism:{handled:!1,type:"onuncaughtexception"}}}),!r&&c&&(r=!0,o(i))})):!r&&c&&(r=!0,o(i))}}}}Yt.__initStatic();class Vt{static __initStatic(){this.id="OnUnhandledRejection"}__init(){this.name=Vt.id}constructor(t={mode:"warn"}){this._options=t,Vt.prototype.__init.call(this)}setupOnce(){global.process.on("unhandledRejection",this.sendUnhandledPromise.bind(this))}sendUnhandledPromise(t,e){const n=(0,_.Gd)();n.getIntegration(Vt)&&n.withScope((r=>{r.setExtra("unhandledPromiseRejection",!0),n.captureException(t,{originalException:e,data:{mechanism:{handled:!1,type:"onunhandledrejection"}}})})),this._handleRejection(t)}_handleRejection(t){const e="This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason:";"warn"===this._options.mode?(0,u.Cf)((()=>{console.warn(e),console.error(t&&t.stack?t.stack:t)})):"strict"===this._options.mode&&((0,u.Cf)((()=>{console.warn(e)})),Gt(t))}}Vt.__initStatic();const zt=require("fs"),Ht=new Pt.LRUMap(100);class Wt{static __initStatic(){this.id="ContextLines"}__init(){this.name=Wt.id}constructor(t={}){this._options=t,Wt.prototype.__init.call(this)}get _contextLines(){return void 0!==this._options.frameContextLines?this._options.frameContextLines:7}setupOnce(t){t((t=>this.addSourceContext(t)))}async addSourceContext(t){const e={},n=[];if(this._contextLines>0&&(0,tt.x)([t,"access",t=>t.exception,"optionalAccess",t=>t.values]))for(const r of t.exception.values)if((0,tt.x)([r,"access",t=>t.stacktrace,"optionalAccess",t=>t.frames]))for(let t=r.stacktrace.frames.length-1;t>=0;t--){const i=r.stacktrace.frames[t];!i.filename||e[i.filename]||Ht.get(i.filename)||(n.push(Jt(i.filename)),e[i.filename]=1)}if(n.length>0&&await Promise.all(n),this._contextLines>0&&(0,tt.x)([t,"access",t=>t.exception,"optionalAccess",t=>t.values]))for(const e of t.exception.values)e.stacktrace&&e.stacktrace.frames&&await this.addSourceContextToFrames(e.stacktrace.frames);return t}addSourceContextToFrames(t){for(const e of t)if(e.filename&&void 0===e.context_line){const t=Ht.get(e.filename);if(t)try{(0,l.go)(t,e,this._contextLines)}catch(t){}}}}async function Jt(t){const e=Ht.get(t);if(null===e)return null;if(void 0!==e)return e;let n=null;try{n=(await(r=t,new Promise(((t,e)=>{(0,zt.readFile)(r,"utf8",((n,r)=>{n?e(n):t(r)}))})))).split("\n")}catch(t){}var r;return Ht.set(t,n),n}Wt.__initStatic();class Kt{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=Kt.id}constructor(t={}){Kt.prototype.__init.call(this),this._key=t.key||"cause",this._limit=t.limit||5}setupOnce(){(0,Q.c)((async(t,e)=>{const n=(0,_.Gd)(),r=n.getIntegration(Kt),i=n.getClient();return i&&r&&r._handler&&"function"==typeof r._handler&&await r._handler(i.getOptions().stackParser,t,e),t}))}_handler(t,e,n){return e.exception&&e.exception.values&&(0,j.V9)(n.originalException,Error)?new N.cW((r=>{this._walkErrorTree(t,n.originalException,this._key).then((t=>{e&&e.exception&&e.exception.values&&(e.exception.values=[...t,...e.exception.values]),r(e)})).then(null,(()=>{r(e)}))})):(0,N.WD)(e)}async _walkErrorTree(t,e,n,r=[]){if(!(0,j.V9)(e[n],Error)||r.length+1>=this._limit)return Promise.resolve(r);const i=mt(t,e[n]),o=(0,_.Gd)().getIntegration(Wt);return o&&(0,tt.x)([i,"access",t=>t.stacktrace,"optionalAccess",t=>t.frames])&&await o.addSourceContextToFrames(i.stacktrace.frames),new Promise(((o,s)=>{this._walkErrorTree(t,e[n],n,[i,...r]).then(o).then(null,(()=>{s()}))}))}}Kt.__initStatic();var Xt=n(1017);let Zt;class Qt{constructor(){Qt.prototype.__init.call(this)}static __initStatic(){this.id="Modules"}__init(){this.name=Qt.id}setupOnce(t,e){t((t=>e().getIntegration(Qt)?{...t,modules:{...t.modules,...this._getModules()}}:t))}_getModules(){return Zt||(Zt=function(){const t=n.c[n.s]&&n.c[n.s].paths||[],e=function(){try{return n.c?Object.keys(n.c):[]}catch(t){return[]}}(),r={},i={};return e.forEach((e=>{let n=e;const o=()=>{const e=n;if(n=(0,Xt.dirname)(e),!n||e===n||i[e])return;if(t.indexOf(n)<0)return o();const s=(0,Xt.join)(e,"package.json");if(i[e]=!0,!(0,zt.existsSync)(s))return o();try{const t=JSON.parse((0,zt.readFileSync)(s,"utf8"));r[t.name]=t.version}catch(t){}};o()})),r}()),Zt}}Qt.__initStatic();var te=n(2081);const ee=(0,_t.promisify)(zt.readFile),ne=(0,_t.promisify)(zt.readdir);class re{static __initStatic(){this.id="Context"}__init(){this.name=re.id}constructor(t={app:!0,os:!0,device:!0,culture:!0}){this._options=t,re.prototype.__init.call(this)}setupOnce(t){t((t=>this.addContext(t)))}async addContext(t){void 0===this._cachedContext&&(this._cachedContext=this._getContexts());const e=this._updateContext(await this._cachedContext);return t.contexts={...t.contexts,app:{...e.app,...(0,tt.x)([t,"access",t=>t.contexts,"optionalAccess",t=>t.app])},os:{...e.os,...(0,tt.x)([t,"access",t=>t.contexts,"optionalAccess",t=>t.os])},device:{...e.device,...(0,tt.x)([t,"access",t=>t.contexts,"optionalAccess",t=>t.device])},culture:{...e.culture,...(0,tt.x)([t,"access",t=>t.contexts,"optionalAccess",t=>t.culture])}},t}_updateContext(t){return(0,tt.x)([t,"optionalAccess",t=>t.app,"optionalAccess",t=>t.app_memory])&&(t.app.app_memory=process.memoryUsage().rss),(0,tt.x)([t,"optionalAccess",t=>t.device,"optionalAccess",t=>t.free_memory])&&(t.device.free_memory=ft.freemem()),t}async _getContexts(){const t={};if(this._options.os&&(t.os=await async function(){const t=ft.platform();switch(t){case"darwin":return async function(){const t={kernel_version:ft.release(),name:"Mac OS X",version:"10."+(Number(ft.release().split(".")[0])-4)};try{const e=await new Promise(((t,e)=>{(0,te.execFile)("/usr/bin/sw_vers",((n,r)=>{n?e(n):t(r)}))}));t.name=ae(/^ProductName:\s+(.*)$/m,e),t.version=ae(/^ProductVersion:\s+(.*)$/m,e),t.build=ae(/^BuildVersion:\s+(.*)$/m,e)}catch(t){}return t}();case"linux":return async function(){const t={kernel_version:ft.release(),name:"Linux"};try{const e=await ne("/etc"),n=oe.find((t=>e.includes(t.name)));if(!n)return t;const r=(0,Xt.join)("/etc",n.name),i=(await ee(r,{encoding:"utf-8"})).toLowerCase(),{distros:o}=n;t.name=o.find((t=>i.indexOf(ce(t))>=0))||o[0];const s=ce(t.name);t.version=se[s](i)}catch(t){}return t}();default:return{name:ie[t]||t,version:ft.release()}}}()),this._options.app&&(t.app=function(){const t=process.memoryUsage().rss;return{app_start_time:new Date(Date.now()-1e3*process.uptime()).toISOString(),app_memory:t}}()),this._options.device&&(t.device=function(t){const e={},n=ft.uptime&&ft.uptime();if("number"==typeof n&&(e.boot_time=new Date(Date.now()-1e3*n).toISOString()),e.arch=ft.arch(),(!0===t||t.memory)&&(e.memory_size=ft.totalmem(),e.free_memory=ft.freemem()),!0===t||t.cpu){const t=ft.cpus();if(t&&t.length){const n=t[0];e.processor_count=t.length,e.cpu_description=n.model,e.processor_frequency=n.speed}}return e}(this._options.device)),this._options.culture){const e=function(){try{if("string"!=typeof process.versions.icu)return;const t=new Date(9e8);if("enero"===new Intl.DateTimeFormat("es",{month:"long"}).format(t)){const t=Intl.DateTimeFormat().resolvedOptions();return{locale:t.locale,timezone:t.timeZone}}}catch(t){}}();e&&(t.culture=e)}return t}}re.__initStatic();const ie={aix:"IBM AIX",freebsd:"FreeBSD",openbsd:"OpenBSD",sunos:"SunOS",win32:"Windows"},oe=[{name:"fedora-release",distros:["Fedora"]},{name:"redhat-release",distros:["Red Hat Linux","Centos"]},{name:"redhat_version",distros:["Red Hat Linux"]},{name:"SuSE-release",distros:["SUSE Linux"]},{name:"lsb-release",distros:["Ubuntu Linux","Arch Linux"]},{name:"debian_version",distros:["Debian"]},{name:"debian_release",distros:["Debian"]},{name:"arch-release",distros:["Arch Linux"]},{name:"gentoo-release",distros:["Gentoo Linux"]},{name:"novell-release",distros:["SUSE Linux"]},{name:"alpine-release",distros:["Alpine Linux"]}],se={alpine:t=>t,arch:t=>ae(/distrib_release=(.*)/,t),centos:t=>ae(/release ([^ ]+)/,t),debian:t=>t,fedora:t=>ae(/release (..)/,t),mint:t=>ae(/distrib_release=(.*)/,t),red:t=>ae(/release ([^ ]+)/,t),suse:t=>ae(/VERSION = (.*)\n/,t),ubuntu:t=>ae(/distrib_release=(.*)/,t)};function ae(t,e){const n=t.exec(e);return n?n[1]:void 0}function ce(t){return t.split(" ")[0].toLowerCase()}var ue=n(442),le=n(6956),pe=n(6489);const he={ip:!1,request:!0,transaction:!0,user:!0},de=["cookies","data","headers","method","query_string","url"],fe=["id","username","email"];function _e(t,e={}){const n=t.method&&t.method.toUpperCase();let r="",i="url";e.customRoute||t.route?(r=e.customRoute||`${t.baseUrl||""}${t.route&&t.route.path}`,i="route"):(t.originalUrl||t.url)&&(r=(0,le.rt)(t.originalUrl||t.url||""));let o="";return e.method&&n&&(o+=n),e.method&&e.path&&(o+=" "),e.path&&r&&(o+=r),[o,i]}function ge(t,e){const{include:n=de}=e||{},r={},i=t.headers||{},o=t.method,s=t.hostname||t.host||i.host||"<no host>",a="https"===t.protocol||t.socket&&t.socket.encrypted?"https":"http",c=t.originalUrl||t.url||"",u=c.startsWith(a)?c:`${a}://${s}${c}`;return n.forEach((e=>{switch(e){case"headers":r.headers=i,n.includes("cookies")||delete r.headers.cookie;break;case"method":r.method=o;break;case"url":r.url=u;break;case"cookies":r.cookies=t.cookies||i.cookie&&pe.Q(i.cookie)||{};break;case"query_string":r.query_string=function(t){let e=t.originalUrl||t.url||"";if(e)return e.startsWith("/")&&(e=`http://dogs.are.great${e}`),t.query||void 0!==typeof URL&&new URL(e).search.replace("?","")||Tt.parse(e).query||void 0}(t);break;case"data":if("GET"===o||"HEAD"===o)break;void 0!==t.body&&(r.data=(0,j.HD)(t.body)?t.body:JSON.stringify(U(t.body)));break;default:({}).hasOwnProperty.call(t,e)&&(r[e]=t[e])}})),r}function me(t,e,n){const r={...he,...(0,tt.x)([n,"optionalAccess",t=>t.include])};if(r.request){const n=Array.isArray(r.request)?ge(e,{include:r.request}):ge(e);t.request={...t.request,...n}}if(r.user){const n=e.user&&(0,j.PO)(e.user)?function(t,e){const n={};return(Array.isArray(e)?e:fe).forEach((e=>{t&&e in t&&(n[e]=t[e])})),n}(e.user,r.user):{};Object.keys(n).length&&(t.user={...t.user,...n})}if(r.ip){const n=e.ip||e.socket&&e.socket.remoteAddress;n&&(t.user={...t.user,ip_address:n})}return r.transaction&&!t.transaction&&(t.transaction=function(t,e){switch(e){case"path":return _e(t,{path:!0})[0];case"handler":return t.route&&t.route.stack&&t.route.stack[0]&&t.route.stack[0].name||"<anonymous>";default:return _e(t,{path:!0,method:!0})[0]}}(e,r.transaction)),t}const ye={include:{cookies:!0,data:!0,headers:!0,ip:!1,query_string:!0,url:!0,user:{id:!0,username:!0,email:!0}},transactionNamingScheme:"methodPath"};class ve{static __initStatic(){this.id="RequestData"}__init(){this.name=ve.id}constructor(t={}){ve.prototype.__init.call(this),this._addRequestData=me,this._options={...ye,...t,include:{method:!0,...ye.include,...t.include,user:t.include&&"boolean"==typeof t.include.user?t.include.user:{...ye.include.user,...(t.include||{}).user}}}}setupOnce(t,e){const{transactionNamingScheme:n}=this._options;t((t=>{const r=e(),i=r.getIntegration(ve),{sdkProcessingMetadata:o={}}=t,s=o.request;if(!i||!s)return t;const a=o.requestDataOptionsFromExpressHandler||o.requestDataOptionsFromGCPWrapper||function(t){const{transactionNamingScheme:e,include:{ip:n,user:r,...i}}=t,o=[];for(const[t,e]of Object.entries(i))e&&o.push(t);let s;if(void 0===r)s=!0;else if("boolean"==typeof r)s=r;else{const t=[];for(const[e,n]of Object.entries(r))n&&t.push(e);s=t}return{include:{ip:n,user:s,request:0!==o.length?o:void 0,transaction:e}}}(this._options),c=this._addRequestData(t,s,a);if("transaction"===t.type||"handler"===n)return c;const u=s._sentryTransaction;if(u){const t="sentry.javascript.nextjs"===function(t){try{return t.getClient().getOptions()._metadata.sdk.name}catch(t){return}}(r)?u.name.startsWith("/api"):"path"!==n,[e]=(0,ue.oA)(s,{path:!0,method:t,customRoute:u.name});c.transaction=e}return c}))}}ve.__initStatic();class be{constructor(){const{Session:t}=n(1405);this._session=new t}configureAndConnect(t,e){this._session.connect(),this._session.on("Debugger.paused",t),this._session.post("Debugger.enable"),this._session.post("Debugger.setPauseOnExceptions",{state:e?"all":"uncaught"})}async getLocalVariables(t){const e=await this._getProperties(t),n={};for(const t of e)(0,tt.x)([t,"optionalAccess",t=>t.value,"optionalAccess",t=>t.objectId])&&"Array"===(0,tt.x)([t,"optionalAccess",t=>t.value,"access",t=>t.className])?n[t.name]=await this._unrollArray(t.value.objectId):(0,tt.x)([t,"optionalAccess",t=>t.value,"optionalAccess",t=>t.objectId])&&"Object"===(0,tt.x)([t,"optionalAccess",t=>t.value,"optionalAccess",t=>t.className])?n[t.name]=await this._unrollObject(t.value.objectId):((0,tt.x)([t,"optionalAccess",t=>t.value,"optionalAccess",t=>t.value])||(0,tt.x)([t,"optionalAccess",t=>t.value,"optionalAccess",t=>t.description]))&&(n[t.name]=t.value.value||`<${t.value.description}>`);return n}_getProperties(t){return new Promise(((e,n)=>{this._session.post("Runtime.getProperties",{objectId:t,ownProperties:!0},((t,r)=>{t?n(t):e(r.result)}))}))}async _unrollArray(t){return(await this._getProperties(t)).filter((t=>"length"!==t.name&&!isNaN(parseInt(t.name,10)))).sort(((t,e)=>parseInt(t.name,10)-parseInt(e.name,10))).map((t=>(0,tt.x)([t,"optionalAccess",t=>t.value,"optionalAccess",t=>t.value])))}async _unrollObject(t){return(await this._getProperties(t)).map((t=>[t.name,(0,tt.x)([t,"optionalAccess",t=>t.value,"optionalAccess",t=>t.value])])).reduce(((t,[e,n])=>(t[e]=n,t)),{})}}function Ee(t){return void 0!==t&&["","?","<anonymous>"].includes(t)}function we(t){if(void 0!==t)return t.slice(-10).reduce(((t,e)=>`${t},${e.function},${e.lineno},${e.colno}`),"")}class Se{static __initStatic(){this.id="LocalVariables"}__init(){this.name=Se.id}__init2(){this._cachedFrames=new Pt.LRUMap(20)}constructor(t={},e=function(){try{return new be}catch(t){return}}()){this._options=t,this._session=e,Se.prototype.__init.call(this),Se.prototype.__init2.call(this)}setupOnce(t,e){this._setup(t,(0,tt.x)([e,"call",t=>t(),"access",t=>t.getClient,"call",t=>t(),"optionalAccess",t=>t.getOptions,"call",t=>t()]))}_setup(t,e){this._session&&(0,tt.x)([e,"optionalAccess",t=>t.includeLocalVariables])&&(this._session.configureAndConnect((t=>this._handlePaused(e.stackParser,t)),!!this._options.captureAllExceptions),t((async t=>this._addLocalVariables(t))))}async _handlePaused(t,{params:{reason:e,data:n,callFrames:r}}){if("exception"!==e&&"promiseRejection"!==e)return;const i=function(t,e){if(void 0!==e)return we(t(e,1))}(t,(0,tt.x)([n,"optionalAccess",t=>t.description]));if(null==i)return;const o=r.map((async({scopeChain:t,functionName:e,this:n})=>{const r=t.find((t=>"local"===t.type)),i="global"!==n.className&&n.className?`${n.className}.${e}`:e;return void 0===(0,tt.x)([r,"optionalAccess",t=>t.object,"access",t=>t.objectId])?{function:i}:{function:i,vars:await(0,tt.x)([this,"access",t=>t._session,"optionalAccess",t=>t.getLocalVariables,"call",t=>t(r.object.objectId)])}}));this._cachedFrames.set(i,Promise.all(o))}async _addLocalVariables(t){for(const e of(0,tt.x)([t,"optionalAccess",t=>t.exception,"optionalAccess",t=>t.values])||[])await this._addLocalVariablesToException(e);return t}async _addLocalVariablesToException(t){const e=we((0,tt.x)([t,"optionalAccess",t=>t.stacktrace,"optionalAccess",t=>t.frames]));if(void 0===e)return;const n=await this._cachedFrames.delete(e);if(void 0===n)return;const r=(0,tt.x)([t,"access",t=>t.stacktrace,"optionalAccess",t=>t.frames,"optionalAccess",t=>t.length])||0;for(let e=0;e<r;e++){const s=r-e-1;if(!(0,tt.x)([t,"optionalAccess",t=>t.stacktrace,"optionalAccess",t=>t.frames,"optionalAccess",t=>t[s]])||!n[e])break;void 0!==n[e].vars&&!1!==t.stacktrace.frames[s].in_app&&((i=t.stacktrace.frames[s].function)===(o=n[e].function)||Ee(i)&&Ee(o))&&(t.stacktrace.frames[s].vars=n[e].vars)}var i,o}}Se.__initStatic();const Te="\\"===Xt.sep,xe=[new d,new c,new Ct,new Mt,new Yt,new Vt,new Wt,new Se,new re,new Qt,new ve,new Kt];function Ie(t={}){const e=(0,_.cu)(),n=(0,tt.x)([e,"access",t=>t.__SENTRY__,"optionalAccess",t=>t.integrations])||[];if(t.defaultIntegrations=!1===t.defaultIntegrations?[]:[...Array.isArray(t.defaultIntegrations)?t.defaultIntegrations:xe,...n],void 0===t.dsn&&process.env.SENTRY_DSN&&(t.dsn=process.env.SENTRY_DSN),void 0===t.tracesSampleRate&&process.env.SENTRY_TRACES_SAMPLE_RATE){const e=parseFloat(process.env.SENTRY_TRACES_SAMPLE_RATE);isFinite(e)&&(t.tracesSampleRate=e)}if(void 0===t.release){const e=Ne();void 0!==e?t.release=e:t.autoSessionTracking=!1}void 0===t.environment&&process.env.SENTRY_ENVIRONMENT&&(t.environment=process.env.SENTRY_ENVIRONMENT),void 0===t.autoSessionTracking&&void 0!==t.dsn&&(t.autoSessionTracking=!0),void 0===t.instrumenter&&(t.instrumenter="sentry"),Dt.active&&(0,_.j0)(e,(0,_.Gd)());const r={...t,stackParser:(0,B.Sq)(t.stackParser||Ae),integrations:rt(t),transport:t.transport||Ot};!function(t,e){!0===e.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?u.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const n=(0,_.Gd)(),r=n.getScope();r&&r.update(e.initialScope);const i=new t(e);n.bindClient(i)}(yt,r),t.autoSessionTracking&&function(){const t=(0,_.Gd)();t.startSession(),process.on("beforeExit",(()=>{const e=(0,tt.x)([t,"access",t=>t.getScope,"call",t=>t(),"optionalAccess",t=>t.getSession,"call",t=>t()]);e&&!["exited","crashed"].includes(e.status)&&t.endSession()}))}()}function Oe(){return(0,_.Gd)().lastEventId()}async function De(t){const e=(0,_.Gd)().getClient();return e?e.flush(t):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function ke(t){const e=(0,_.Gd)().getClient();return e?e.close(t):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function Ce(t){if(void 0===t)return!1;const e=t&&t.getOptions();return!(!e||void 0===e.autoSessionTracking)&&e.autoSessionTracking}function Ne(t){return process.env.SENTRY_RELEASE?process.env.SENTRY_RELEASE:at.n2.SENTRY_RELEASE&&at.n2.SENTRY_RELEASE.id?at.n2.SENTRY_RELEASE.id:process.env.GITHUB_SHA||process.env.COMMIT_REF||process.env.VERCEL_GIT_COMMIT_SHA||process.env.VERCEL_GITHUB_COMMIT_SHA||process.env.VERCEL_GITLAB_COMMIT_SHA||process.env.VERCEL_BITBUCKET_COMMIT_SHA||process.env.ZEIT_GITHUB_COMMIT_SHA||process.env.ZEIT_GITLAB_COMMIT_SHA||process.env.ZEIT_BITBUCKET_COMMIT_SHA||t}const Ae=(0,B.pE)((0,B.Ep)((function(t,e=Te){if(!t)return;const r=e?t.replace(/^[A-Z]:/,"").replace(/\\/g,"/"):t;let{root:i,dir:o,base:s,ext:a}=Xt.posix.parse(r);const c=`${n.c[n.s]&&n.c[n.s].filename&&o||global.process.cwd()}/`;let u=s;".js"===a&&(u=u.slice(0,u.length-".js".length)),i||o||(o=".");let l=o.lastIndexOf("/node_modules/");if(l>-1)return`${o.slice(l+14).replace(/\//g,".")}:${u}`;if(l=`${o}/`.lastIndexOf(c,0),0===l){let t=o.slice(c.length).replace(/\//g,".");return t&&(t+=":"),t+=u,t}return u})));function Pe(t){const e=Xt.resolve(t);if(!zt.existsSync(e))throw new Error(`Cannot read contents of ${e}. Directory does not exist.`);if(!zt.statSync(e).isDirectory())throw new Error(`Cannot read contents of ${e}, because it is not a directory.`);const n=t=>zt.readdirSync(t).reduce(((e,r)=>{const i=Xt.join(t,r);return zt.statSync(i).isDirectory()?[...e,...n(i)]:[...e,i]}),[]);return n(e).map((t=>Xt.relative(e,t)))}var Re=n(7522),je=n(7638);function Be(t,e){return ge(t,{include:e})}function Ue(t,e,n={}){return me(t,e,{include:n})}function Fe(){return function(t,e,n){const r=(0,_.Gd)(),i=(0,tt.x)([r,"access",t=>t.getClient,"call",t=>t(),"optionalAccess",t=>t.getOptions,"call",t=>t()]);if(!i||"sentry"!==i.instrumenter||"OPTIONS"===(0,tt.x)([t,"access",t=>t.method,"optionalAccess",t=>t.toUpperCase,"call",t=>t()])||"HEAD"===(0,tt.x)([t,"access",t=>t.method,"optionalAccess",t=>t.toUpperCase,"call",t=>t()]))return n();if(!(0,Re.z)(i))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.warn("Sentry `tracingHandler` is being used, but tracing is disabled. Please enable tracing by setting either `tracesSampleRate` or `tracesSampler` in your `Sentry.init()` options."),n();const o=t.headers&&(0,j.HD)(t.headers["sentry-trace"])&&(0,je.q)(t.headers["sentry-trace"]),s=(0,tt.x)([t,"access",t=>t.headers,"optionalAccess",t=>t.baggage]),a=(0,At.EN)(s),[c,l]=(0,ue.oA)(t,{path:!0,method:!0}),p=k({name:c,op:"http.server",...o,metadata:{dynamicSamplingContext:o&&!a?{}:a,request:t,source:l}},{request:ge(t)});r.configureScope((t=>{t.setSpan(p)})),e.__sentry_transaction=p,e.once("finish",(()=>{setImmediate((()=>{(0,ue.dB)(p,t),p.setHttpStatus(e.statusCode),p.finish()}))})),n()}}function Me(t){const e=function(t={}){let e;if("include"in t)e={include:t.include};else{const{ip:n,request:r,transaction:i,user:o}=t;(n||r||i||o)&&(e={include:(0,s.Jr)({ip:n,request:r,transaction:i,user:o})})}return e}(t),n=(0,_.Gd)(),r=n.getClient();if(r&&Ce(r)){r.initSessionFlusher();const t=n.getScope();t&&t.getSession()&&t.setSession()}return function(n,r,i){if(t&&t.flushTimeout&&t.flushTimeout>0){const e=r.end;r.end=function(n,r,i){De(t.flushTimeout).then((()=>{e.call(this,n,r,i)})).then(null,(t=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&u.kg.error(t),e.call(this,n,r,i)}))}}const o=Dt.create();o.add(n),o.add(r),o.run((()=>{const t=(0,_.Gd)();t.configureScope((r=>{if(r.setSDKProcessingMetadata({request:n,requestDataOptionsFromExpressHandler:e}),Ce(t.getClient())){const e=t.getScope();e&&e.setRequestSession({status:"ok"})}})),r.once("finish",(()=>{const e=t.getClient();Ce(e)&&setImmediate((()=>{e&&e._captureRequestSession&&e._captureRequestSession()}))})),i()}))}}function Le(t){const e=function(t){const e=t.status||t.statusCode||t.status_code||t.output&&t.output.statusCode;return e?parseInt(e,10):500}(t);return e>=500}function qe(t){return function(e,n,r,i){(t&&t.shouldHandleError||Le)(e)?D((t=>{t.setSDKProcessingMetadata({request:n});const o=r.__sentry_transaction;o&&void 0===t.getSpan()&&t.setSpan(o);const s=(0,_.Gd)().getClient();if(s&&Ce(s)&&void 0!==s._sessionFlusher){const e=t.getRequestSession();e&&void 0!==e.status&&(e.status="crashed")}const a=m(e);r.sentry=a,i(e)})):i(e)}}const $e={...r,...o},Ge=(0,_.cu)();Ge.__SENTRY__&&(Ge.__SENTRY__.extensions=Ge.__SENTRY__.extensions||{},Ge.__SENTRY__.extensions.domain=Ge.__SENTRY__.extensions.domain||Dt)},585:(t,e,n)=>{"use strict";n.r(e),n.d(e,{BROWSER_TRACING_INTEGRATION_ID:()=>ct,BrowserTracing:()=>lt,IdleTransaction:()=>i.io,Integrations:()=>dt,Span:()=>o.Dr,SpanStatus:()=>r,TRACEPARENT_REGEXP:()=>s.K,Transaction:()=>a.Y,addExtensionMethods:()=>ht.r,defaultRequestInstrumentationOptions:()=>st,extractTraceparentData:()=>s.q,getActiveTransaction:()=>c.x1,hasTracingEnabled:()=>u.z,instrumentOutgoingRequests:()=>at,spanStatusfromHttpCode:()=>o.Zd,startIdleTransaction:()=>l.l,stripUrlQueryAndFragment:()=>p.rt});var r,i=n(5544),o=n(8903);!function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"}(r||(r={}));var s=n(7638),a=n(8069),c=n(9791),u=n(7522),l=n(6890),p=n(6956),h=n(4307),d=n(2343),f=n(442),_=n(7597);function g(t){const e=(0,h.x)([t,"call",t=>t(),"access",t=>t.getClient,"call",t=>t(),"optionalAccess",t=>t.getOptions,"call",t=>t()]);return"sentry"!==((0,h.x)([e,"optionalAccess",t=>t.instrumenter])||"sentry")}class m{static __initStatic(){this.id="Express"}__init(){this.name=m.id}constructor(t={}){m.prototype.__init.call(this),this._router=t.router||t.app,this._methods=(Array.isArray(t.methods)?t.methods:[]).concat("use")}setupOnce(t,e){this._router?g(e)?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log("Express Integration is skipped because of instrumenter configuration."):(function(t,e=[]){e.forEach((e=>function(t,e){const n=t[e];return t[e]=function(...t){return n.call(this,...function(t,e){return t.map((t=>"function"==typeof t?y(t,e):Array.isArray(t)?t.map((t=>"function"==typeof t?y(t,e):t)):t))}(t,e))},t}(t,e)))}(this._router,this._methods),function(t){const e="settings"in t;e&&void 0===t._router&&t.lazyrouter&&t.lazyrouter();const n=e?t._router:t;if(!n)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.debug("Cannot instrument router for URL Parameterization (did not find a valid router)."),void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.debug("Routing instrumentation is currently only supported in Express 4."));const r=Object.getPrototypeOf(n),i=r.process_params;r.process_params=function(t,e,n,r,o){n._reconstructedRoute||(n._reconstructedRoute="");const{layerRoutePath:s,isRegex:a,isArray:c,numExtraSegments:u}=function(t){const e=(0,h.x)([t,"access",t=>t.route,"optionalAccess",t=>t.path]),n=(0,_.Kj)(e),r=Array.isArray(e);if(!e)return{isRegex:n,isArray:r,numExtraSegments:0};const i=r?Math.max(e.reduce(((t,e)=>t+(0,p.$A)(e.toString())),0)-(0,p.$A)(t.path||""),0):0,o=function(t,e){return t?e.map((t=>t.toString())).join(","):e&&e.toString()}(r,e);return{layerRoutePath:o,isRegex:n,isArray:r,numExtraSegments:i}}(t);(s||a||c)&&(n._hasParameters=!0);const l=(s||t.path||"").split("/").filter((t=>t.length>0&&(a||c||!t.includes("*")))).join("/");if(l&&l.length>0&&(n._reconstructedRoute+=`/${l}${a?"/":""}`),(0,p.$A)(n.originalUrl||"")+u===(0,p.$A)(n._reconstructedRoute)){n._hasParameters||n._reconstructedRoute!==n.originalUrl&&(n._reconstructedRoute=n.originalUrl);const t=r.__sentry_transaction;if(t&&"custom"!==t.metadata.source){const e=n._reconstructedRoute||"/";t.setName(...(0,f.oA)(n,{path:!0,method:!0,customRoute:e}))}}return i.call(this,t,e,n,r,o)}}(this._router)):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.error("ExpressIntegration is missing an Express instance")}}function y(t,e){const n=t.length;switch(n){case 2:return function(n,r){const i=r.__sentry_transaction;if(i){const n=i.startChild({description:t.name,op:`middleware.express.${e}`});r.once("finish",(()=>{n.finish()}))}return t.call(this,n,r)};case 3:return function(n,r,i){const o=r.__sentry_transaction,s=(0,h.x)([o,"optionalAccess",t=>t.startChild,"call",n=>n({description:t.name,op:`middleware.express.${e}`})]);t.call(this,n,r,(function(...t){(0,h.x)([s,"optionalAccess",t=>t.finish,"call",t=>t()]),i.call(this,...t)}))};case 4:return function(n,r,i,o){const s=i.__sentry_transaction,a=(0,h.x)([s,"optionalAccess",t=>t.startChild,"call",n=>n({description:t.name,op:`middleware.express.${e}`})]);t.call(this,n,r,i,(function(...t){(0,h.x)([a,"optionalAccess",t=>t.finish,"call",t=>t()]),o.call(this,...t)}))};default:throw new Error(`Express middleware takes 2-4 arguments. Got: ${n}`)}}m.__initStatic();var v=n(2176),b=n(535);class E{static __initStatic(){this.id="Postgres"}__init(){this.name=E.id}constructor(t={}){E.prototype.__init.call(this),this._usePgNative=!!t.usePgNative}setupOnce(t,e){if(g(e))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log("Postgres Integration is skipped because of instrumenter configuration."));const n=(0,v.$y)("pg");if(!n)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.error("Postgres Integration was unable to require `pg` package."));if(this._usePgNative&&!(0,h.x)([n,"access",t=>t.native,"optionalAccess",t=>t.Client]))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.error("Postgres Integration was unable to access 'pg-native' bindings."));const{Client:r}=this._usePgNative?n.native:n;(0,b.hl)(r.prototype,"query",(function(t){return function(n,r,i){const o=e().getScope(),s=(0,h.x)([o,"optionalAccess",t=>t.getSpan,"call",t=>t()]),a=(0,h.x)([s,"optionalAccess",t=>t.startChild,"call",t=>t({description:"string"==typeof n?n:n.text,op:"db"})]);if("function"==typeof i)return t.call(this,n,r,(function(t,e){(0,h.x)([a,"optionalAccess",t=>t.finish,"call",t=>t()]),i(t,e)}));if("function"==typeof r)return t.call(this,n,(function(t,e){(0,h.x)([a,"optionalAccess",t=>t.finish,"call",t=>t()]),r(t,e)}));const c=void 0!==r?t.call(this,n,r):t.call(this,n);return(0,_.J8)(c)?c.then((t=>((0,h.x)([a,"optionalAccess",t=>t.finish,"call",t=>t()]),t))):((0,h.x)([a,"optionalAccess",t=>t.finish,"call",t=>t()]),c)}}))}}E.__initStatic();class w{constructor(){w.prototype.__init.call(this)}static __initStatic(){this.id="Mysql"}__init(){this.name=w.id}setupOnce(t,e){if(g(e))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log("Mysql Integration is skipped because of instrumenter configuration."));const n=(0,v.$y)("mysql/lib/Connection.js");n?(0,b.hl)(n,"createQuery",(function(t){return function(n,r,i){const o=e().getScope(),s=(0,h.x)([o,"optionalAccess",t=>t.getSpan,"call",t=>t()]),a=(0,h.x)([s,"optionalAccess",t=>t.startChild,"call",t=>t({description:"string"==typeof n?n:n.sql,op:"db"})]);return"function"==typeof i?t.call(this,n,r,(function(t,e,n){(0,h.x)([a,"optionalAccess",t=>t.finish,"call",t=>t()]),i(t,e,n)})):"function"==typeof r?t.call(this,n,(function(t,e,n){(0,h.x)([a,"optionalAccess",t=>t.finish,"call",t=>t()]),r(t,e,n)})):t.call(this,n,r,i)}})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.error("Mysql Integration was unable to require `mysql` package.")}}w.__initStatic();const S=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],T={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]};class x{static __initStatic(){this.id="Mongo"}__init(){this.name=x.id}constructor(t={}){x.prototype.__init.call(this),this._operations=Array.isArray(t.operations)?t.operations:S,this._describeOperations=!("describeOperations"in t)||t.describeOperations,this._useMongoose=!!t.useMongoose}setupOnce(t,e){if(g(e))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log("Mongo Integration is skipped because of instrumenter configuration."));const n=this._useMongoose?"mongoose":"mongodb",r=(0,v.$y)(n);r?this._instrumentOperations(r.Collection,this._operations,e):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.error(`Mongo Integration was unable to require \`${n}\` package.`)}_instrumentOperations(t,e,n){e.forEach((e=>this._patchOperation(t,e,n)))}_patchOperation(t,e,n){if(!(e in t.prototype))return;const r=this._getSpanContextFromOperationArguments.bind(this);(0,b.hl)(t.prototype,e,(function(t){return function(...i){const o=i[i.length-1],s=n().getScope(),a=(0,h.x)([s,"optionalAccess",t=>t.getSpan,"call",t=>t()]);if("function"!=typeof o||"mapReduce"===e&&2===i.length){const n=(0,h.x)([a,"optionalAccess",t=>t.startChild,"call",t=>t(r(this,e,i))]),o=t.call(this,...i);if((0,_.J8)(o))return o.then((t=>((0,h.x)([n,"optionalAccess",t=>t.finish,"call",t=>t()]),t)));if((c=o)&&"object"==typeof c&&c.once&&"function"==typeof c.once){const t=o;try{t.once("close",(()=>{(0,h.x)([n,"optionalAccess",t=>t.finish,"call",t=>t()])}))}catch(t){(0,h.x)([n,"optionalAccess",t=>t.finish,"call",t=>t()])}return t}return(0,h.x)([n,"optionalAccess",t=>t.finish,"call",t=>t()]),o}var c;const u=(0,h.x)([a,"optionalAccess",t=>t.startChild,"call",t=>t(r(this,e,i.slice(0,-1)))]);return t.call(this,...i.slice(0,-1),(function(t,e){(0,h.x)([u,"optionalAccess",t=>t.finish,"call",t=>t()]),o(t,e)}))}}))}_getSpanContextFromOperationArguments(t,e,n){const r={collectionName:t.collectionName,dbName:t.dbName,namespace:t.namespace},i={op:"db",description:e,data:r},o=T[e],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(e):this._describeOperations;if(!o||!s)return i;try{if("mapReduce"===e){const[t,e]=n;r[o[0]]="string"==typeof t?t:t.name||"<anonymous>",r[o[1]]="string"==typeof e?e:e.name||"<anonymous>"}else for(let t=0;t<o.length;t++)r[o[t]]=JSON.stringify(n[t])}catch(t){}return i}}x.__initStatic();class I{static __initStatic(){this.id="Prisma"}__init(){this.name=I.id}constructor(t={}){var e;I.prototype.__init.call(this),(e=t.client)&&e.$use?this._client=t.client:("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn(`Unsupported Prisma client provided to PrismaIntegration. Provided client: ${JSON.stringify(t.client)}`)}setupOnce(t,e){this._client?g(e)?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log("Prisma Integration is skipped because of instrumenter configuration."):this._client.$use(((t,n)=>{const r=e().getScope(),i=(0,h.x)([r,"optionalAccess",t=>t.getSpan,"call",t=>t()]),o=t.action,s=t.model,a=(0,h.x)([i,"optionalAccess",t=>t.startChild,"call",t=>t({description:s?`${s} ${o}`:o,op:"db.sql.prisma"})]),c=n(t);return(0,_.J8)(c)?c.then((t=>((0,h.x)([a,"optionalAccess",t=>t.finish,"call",t=>t()]),t))):((0,h.x)([a,"optionalAccess",t=>t.finish,"call",t=>t()]),c)})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.error("PrismaIntegration is missing a Prisma Client Instance")}}I.__initStatic();class O{constructor(){O.prototype.__init.call(this)}static __initStatic(){this.id="GraphQL"}__init(){this.name=O.id}setupOnce(t,e){if(g(e))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log("GraphQL Integration is skipped because of instrumenter configuration."));const n=(0,v.$y)("graphql/execution/execute.js");n?(0,b.hl)(n,"execute",(function(t){return function(...n){const r=e().getScope(),i=(0,h.x)([r,"optionalAccess",t=>t.getSpan,"call",t=>t()]),o=(0,h.x)([i,"optionalAccess",t=>t.startChild,"call",t=>t({description:"execute",op:"graphql.execute"})]);(0,h.x)([r,"optionalAccess",t=>t.setSpan,"call",t=>t(o)]);const s=t.call(this,...n);return(0,_.J8)(s)?s.then((t=>((0,h.x)([o,"optionalAccess",t=>t.finish,"call",t=>t()]),(0,h.x)([r,"optionalAccess",t=>t.setSpan,"call",t=>t(i)]),t))):((0,h.x)([o,"optionalAccess",t=>t.finish,"call",t=>t()]),(0,h.x)([r,"optionalAccess",t=>t.setSpan,"call",t=>t(i)]),s)}})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.error("GraphQL Integration was unable to require graphql/execution package.")}}O.__initStatic();var D=n(2844);class k{static __initStatic(){this.id="Apollo"}__init(){this.name=k.id}constructor(t={useNestjs:!1}){k.prototype.__init.call(this),this._useNest=!!t.useNestjs}setupOnce(t,e){if(g(e))("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log("Apollo Integration is skipped because of instrumenter configuration.");else if(this._useNest){const t=(0,v.$y)("@nestjs/graphql");if(!t)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.error("Apollo-NestJS Integration was unable to require @nestjs/graphql package."));(0,b.hl)(t.GraphQLFactory.prototype,"mergeWithSchema",(function(t){return function(...n){return(0,b.hl)(this.resolversExplorerService,"explore",(function(t){return function(){return C((0,D.lE)(t.call(this)),e)}})),t.call(this,...n)}}))}else{const t=(0,v.$y)("apollo-server-core");if(!t)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.error("Apollo Integration was unable to require apollo-server-core package."));(0,b.hl)(t.ApolloServerBase.prototype,"constructSchema",(function(t){return function(){if(!this.config.resolvers)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&(this.config.schema?(d.kg.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `schema` property.If you are using NestJS with Apollo, please use `Sentry.Integrations.Apollo({ useNestjs: true })` instead."),d.kg.warn()):this.config.modules&&d.kg.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `modules` property."),d.kg.error("Skipping tracing as no resolvers found on the `ApolloServer` instance.")),t.call(this);const n=(0,D.lE)(this.config.resolvers);return this.config.resolvers=C(n,e),t.call(this)}}))}}}function C(t,e){return t.map((t=>(Object.keys(t).forEach((n=>{Object.keys(t[n]).forEach((r=>{"function"==typeof t[n][r]&&function(t,e,n,r){(0,b.hl)(t[e],n,(function(t){return function(...i){const o=r().getScope(),s=(0,h.x)([o,"optionalAccess",t=>t.getSpan,"call",t=>t()]),a=(0,h.x)([s,"optionalAccess",t=>t.startChild,"call",t=>t({description:`${e}.${n}`,op:"graphql.resolve"})]),c=t.call(this,...i);return(0,_.J8)(c)?c.then((t=>((0,h.x)([a,"optionalAccess",t=>t.finish,"call",t=>t()]),t))):((0,h.x)([a,"optionalAccess",t=>t.finish,"call",t=>t()]),c)}}))}(t,n,r,e)}))})),t)))}k.__initStatic();var N=n(3790),A=n(8464);const P=n(1235).n2;var R=n(1170);const j=(t,e,n)=>{let r,i;return o=>{e.value>=0&&(o||n)&&(i=e.value-(r||0),(i||void 0===r)&&(r=e.value,e.delta=i,t(e)))}},B=()=>P.__WEB_VITALS_POLYFILL__?P.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const t=P.performance.timing,e=P.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==e?"back_forward":1===e?"reload":"navigate"};for(const e in t)"navigationStart"!==e&&"toJSON"!==e&&(n[e]=Math.max(t[e]-t.navigationStart,0));return n})()):P.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],U=()=>{const t=B();return t&&t.activationStart||0},F=(t,e)=>{const n=B();let r="navigate";return n&&(r=P.document.prerendering||U()>0?"prerender":n.type.replace(/_/g,"-")),{name:t,value:void 0===e?-1:e,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},M=(t,e,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const r=new PerformanceObserver((t=>{e(t.getEntries())}));return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch(t){}},L=(t,e)=>{const n=r=>{"pagehide"!==r.type&&"hidden"!==P.document.visibilityState||(t(r),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},q=t=>{const e=F("CLS",0);let n,r=0,i=[];const o=t=>{t.forEach((t=>{if(!t.hadRecentInput){const o=i[0],s=i[i.length-1];r&&0!==i.length&&t.startTime-s.startTime<1e3&&t.startTime-o.startTime<5e3?(r+=t.value,i.push(t)):(r=t.value,i=[t]),r>e.value&&(e.value=r,e.entries=i,n&&n())}}))},s=M("layout-shift",o);if(s){n=j(t,e);const r=()=>{o(s.takeRecords()),n(!0)};return L(r),r}};let $=-1;const G=()=>($<0&&($="hidden"!==P.document.visibilityState||P.document.prerendering?1/0:0,L((({timeStamp:t})=>{$=t}),!0)),{get firstHiddenTime(){return $}}),Y=t=>{const e=G(),n=F("FID");let r;const i=t=>{t.startTime<e.firstHiddenTime&&(n.value=t.processingStart-t.startTime,n.entries.push(t),r(!0))},o=t=>{t.forEach(i)},s=M("first-input",o);r=j(t,n),s&&L((()=>{o(s.takeRecords()),s.disconnect()}),!0)},V={},z=t=>{const e=G(),n=F("LCP");let r;const i=t=>{const i=t[t.length-1];if(i){const t=Math.max(i.startTime-U(),0);t<e.firstHiddenTime&&(n.value=t,n.entries=[i],r())}},o=M("largest-contentful-paint",i);if(o){r=j(t,n);const e=()=>{V[n.id]||(i(o.takeRecords()),o.disconnect(),V[n.id]=!0,r(!0))};return["keydown","click"].forEach((t=>{addEventListener(t,e,{once:!0,capture:!0})})),L(e,!0),e}};function H(t){return"number"==typeof t&&isFinite(t)}function W(t,{startTimestamp:e,...n}){return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild({startTimestamp:e,...n})}function J(t){return t/1e3}function K(){return P&&P.addEventListener&&P.performance}let X,Z,Q=0,tt={};function et(t,e,n,r,i,o){const s=o?e[o]:e[`${n}End`],a=e[`${n}Start`];a&&s&&W(t,{op:"browser",description:i||n,startTimestamp:r+J(a),endTimestamp:r+J(s)})}var nt=n(5659),rt=n(4863),it=n(7321);const ot=["localhost",/^\//],st={traceFetch:!0,traceXHR:!0,tracingOrigins:ot,tracePropagationTargets:ot};function at(t){const{traceFetch:e,traceXHR:n,tracePropagationTargets:r,tracingOrigins:i,shouldCreateSpanForRequest:o}={traceFetch:st.traceFetch,traceXHR:st.traceXHR,...t},s="function"==typeof o?o:t=>!0,a=t=>function(t,e){return(0,it.U0)(t,e||ot)}(t,r||i),c={};e&&(0,rt.o)("fetch",(t=>{!function(t,e,n,r){if(!(0,u.z)()||!t.fetchData||!e(t.fetchData.url))return;if(t.endTimestamp){const e=t.fetchData.__span;if(!e)return;const n=r[e];return void(n&&(t.response?n.setHttpStatus(t.response.status):t.error&&n.setStatus("internal_error"),n.finish(),delete r[e]))}const i=(0,nt.Gd)().getScope(),o=i&&i.getSpan(),s=o&&o.transaction;if(o&&s){const e=o.startChild({data:{...t.fetchData,type:"fetch"},description:`${t.fetchData.method} ${t.fetchData.url}`,op:"http.client"});t.fetchData.__span=e.spanId,r[e.spanId]=e;const i=t.args[0];t.args[1]=t.args[1]||{};const a=t.args[1];n(t.fetchData.url)&&(a.headers=function(t,e,n,r){const i=(0,N.IQ)(e),o=n.toTraceparent(),s="undefined"!=typeof Request&&(0,_.V9)(t,Request)?t.headers:r.headers;if(s){if("undefined"!=typeof Headers&&(0,_.V9)(s,Headers)){const t=new Headers(s);return t.append("sentry-trace",o),i&&t.append(N.bU,i),t}if(Array.isArray(s)){const t=[...s,["sentry-trace",o]];return i&&t.push([N.bU,i]),t}{const t="baggage"in s?s.baggage:void 0,e=[];return Array.isArray(t)?e.push(...t):t&&e.push(t),i&&e.push(i),{...s,"sentry-trace":o,baggage:e.length>0?e.join(","):void 0}}}return{"sentry-trace":o,baggage:i}}(i,s.getDynamicSamplingContext(),e,a))}}(t,s,a,c)})),n&&(0,rt.o)("xhr",(t=>{!function(t,e,n,r){if(!(0,u.z)()||t.xhr&&t.xhr.__sentry_own_request__||!(t.xhr&&t.xhr.__sentry_xhr__&&e(t.xhr.__sentry_xhr__.url)))return;const i=t.xhr.__sentry_xhr__;if(t.endTimestamp){const e=t.xhr.__sentry_xhr_span_id__;if(!e)return;const n=r[e];return void(n&&(n.setHttpStatus(i.status_code),n.finish(),delete r[e]))}const o=(0,nt.Gd)().getScope(),s=o&&o.getSpan(),a=s&&s.transaction;if(s&&a){const e=s.startChild({data:{...i.data,type:"xhr",method:i.method,url:i.url},description:`${i.method} ${i.url}`,op:"http.client"});if(t.xhr.__sentry_xhr_span_id__=e.spanId,r[t.xhr.__sentry_xhr_span_id__]=e,t.xhr.setRequestHeader&&n(t.xhr.__sentry_xhr__.url))try{t.xhr.setRequestHeader("sentry-trace",e.toTraceparent());const n=a.getDynamicSamplingContext(),r=(0,N.IQ)(n);r&&t.xhr.setRequestHeader(N.bU,r)}catch(t){}}}(t,s,a,c)}))}const ct="BrowserTracing",ut={...i.AT,markBackgroundTransactions:!0,routingInstrumentation:function(t,e=!0,n=!0){if(!P||!P.location)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn("Could not initialize routing instrumentation due to invalid location"));let r,i=P.location.href;e&&(r=t({name:P.location.pathname,op:"pageload",metadata:{source:"url"}})),n&&(0,rt.o)("history",(({to:e,from:n})=>{void 0===n&&i&&-1!==i.indexOf(e)?i=void 0:n!==e&&(i=void 0,r&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log(`[Tracing] Finishing current transaction with op: ${r.op}`),r.finish()),r=t({name:P.location.pathname,op:"navigation",metadata:{source:"url"}}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...st};class lt{__init(){this.name=ct}constructor(t){lt.prototype.__init.call(this),(0,l.T)(),this.options={...ut,...t},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=function(){const t=K();if(t&&R.Z1){t.mark&&P.performance.mark("sentry-tracing-init"),Y((t=>{const e=t.entries.pop();if(!e)return;const n=J(R.Z1),r=J(e.startTime);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log("[Measurements] Adding FID"),tt.fid={value:t.value,unit:"millisecond"},tt["mark.fid"]={value:n+r,unit:"second"}}));const e=q((t=>{const e=t.entries.pop();e&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log("[Measurements] Adding CLS"),tt.cls={value:t.value,unit:""},Z=e)})),n=z((t=>{const e=t.entries.pop();e&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log("[Measurements] Adding LCP"),tt.lcp={value:t.value,unit:"millisecond"},X=e)}));return()=>{e&&e(),n&&n()}}return()=>{}}(),this.options.enableLongTask&&M("longtask",(t=>{for(const e of t){const t=(0,c.x1)();if(!t)return;const n=J(R.Z1+e.startTime),r=J(e.duration);t.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:n,endTimestamp:n+r})}})),this.options._experiments.enableInteractions&&M("event",(t=>{for(const e of t){const t=(0,c.x1)();if(!t)return;if("click"===e.name){const n=J(R.Z1+e.startTime),r=J(e.duration);t.startChild({description:(0,A.Rt)(e.target),op:`ui.interaction.${e.name}`,startTimestamp:n,endTimestamp:n+r})}}}),{durationThreshold:0})}setupOnce(t,e){this._getCurrentHub=e;const{routingInstrumentation:n,startTransactionOnLocationChange:r,startTransactionOnPageLoad:i,markBackgroundTransactions:o,traceFetch:s,traceXHR:a,tracePropagationTargets:u,shouldCreateSpanForRequest:l,_experiments:p}=this.options;n((t=>{const n=this._createRouteTransaction(t);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(n,t,e),n}),i,r),o&&(P&&P.document?P.document.addEventListener("visibilitychange",(()=>{const t=(0,c.x1)();if(P.document.hidden&&t){const e="cancelled";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${t.op}`),t.status||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.finish()}})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")),p.enableInteractions&&this._registerInteractionListener(),at({traceFetch:s,traceXHR:a,tracePropagationTargets:u,shouldCreateSpanForRequest:l})}_createRouteTransaction(t){if(!this._getCurrentHub)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`));const{beforeNavigate:e,idleTimeout:n,finalTimeout:r,heartbeatInterval:i}=this.options,o="pageload"===t.op,a=o?pt("sentry-trace"):null,c=o?pt("baggage"):null,u=a?(0,s.q)(a):void 0,p=c?(0,N.EN)(c):void 0,h={...t,...u,metadata:{...t.metadata,dynamicSamplingContext:u&&!p?{}:p},trimEnd:!0},f="function"==typeof e?e(h):h,_=void 0===f?{...h,sampled:!1}:f;_.metadata=_.name!==h.name?{..._.metadata,source:"custom"}:_.metadata,this._latestRouteName=_.name,this._latestRouteSource=_.metadata&&_.metadata.source,!1===_.sampled&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log(`[Tracing] Will not send ${_.op} transaction because of beforeNavigate.`),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log(`[Tracing] Starting ${_.op} transaction on scope`);const g=this._getCurrentHub(),{location:m}=P,y=(0,l.l)(g,_,n,r,!0,{location:m},i);return y.registerBeforeFinishCallback((t=>{this._collectWebVitals(),function(t){const e=K();if(!e||!P.performance.getEntries||!R.Z1)return;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log("[Tracing] Adding & adjusting spans using Performance API");const n=J(R.Z1),r=e.getEntries();let i,o;if(r.slice(Q).forEach((e=>{const r=J(e.startTime),s=J(e.duration);if(!("navigation"===t.op&&n+r<t.startTimestamp))switch(e.entryType){case"navigation":!function(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{et(t,e,r,n)})),et(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),et(t,e,"fetch",n,"cache","domainLookupStart"),et(t,e,"domainLookup",n,"DNS"),function(t,e,n){W(t,{op:"browser",description:"request",startTimestamp:n+J(e.requestStart),endTimestamp:n+J(e.responseEnd)}),W(t,{op:"browser",description:"response",startTimestamp:n+J(e.responseStart),endTimestamp:n+J(e.responseEnd)})}(t,e,n)}(t,e,n),i=n+J(e.responseStart),o=n+J(e.requestStart);break;case"mark":case"paint":case"measure":{!function(t,e,n,r,i){const o=i+n,s=o+r;W(t,{description:e.name,endTimestamp:s,op:e.entryType,startTimestamp:o})}(t,e,r,s,n);const i=G(),o=e.startTime<i.firstHiddenTime;"first-paint"===e.name&&o&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log("[Measurements] Adding FP"),tt.fp={value:e.startTime,unit:"millisecond"}),"first-contentful-paint"===e.name&&o&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log("[Measurements] Adding FCP"),tt.fcp={value:e.startTime,unit:"millisecond"});break}case"resource":{const i=e.name.replace(P.location.origin,"");!function(t,e,n,r,i,o){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;const s={};"transferSize"in e&&(s["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(s["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(s["Decoded Body Size"]=e.decodedBodySize),"renderBlockingStatus"in e&&(s["resource.render_blocking_status"]=e.renderBlockingStatus);const a=o+r;W(t,{description:n,endTimestamp:a+i,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",startTimestamp:a,data:s})}(t,e,i,r,s,n);break}}})),Q=Math.max(r.length-1,0),function(t){const e=P.navigator;if(!e)return;const n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),H(n.rtt)&&(tt["connection.rtt"]={value:n.rtt,unit:"millisecond"})),H(e.deviceMemory)&&t.setTag("deviceMemory",`${e.deviceMemory} GB`),H(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}(t),"pageload"===t.op){"number"==typeof i&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log("[Measurements] Adding TTFB"),tt.ttfb={value:1e3*(i-t.startTimestamp),unit:"millisecond"},"number"==typeof o&&o<=i&&(tt["ttfb.requestTime"]={value:1e3*(i-o),unit:"millisecond"})),["fcp","fp","lcp"].forEach((e=>{if(!tt[e]||n>=t.startTimestamp)return;const r=tt[e].value,i=n+J(r),o=Math.abs(1e3*(i-t.startTimestamp)),s=o-r;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log(`[Measurements] Normalized ${e} from ${r} to ${o} (${s})`),tt[e].value=o}));const e=tt["mark.fid"];e&&tt.fid&&(W(t,{description:"first input delay",endTimestamp:e.value+J(tt.fid.value),op:"ui.action",startTimestamp:e.value}),delete tt["mark.fid"]),"fcp"in tt||delete tt.cls,Object.keys(tt).forEach((e=>{t.setMeasurement(e,tt[e].value,tt[e].unit)})),function(t){X&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log("[Measurements] Adding LCP Data"),X.element&&t.setTag("lcp.element",(0,A.Rt)(X.element)),X.id&&t.setTag("lcp.id",X.id),X.url&&t.setTag("lcp.url",X.url.trim().slice(0,200)),t.setTag("lcp.size",X.size)),Z&&Z.sources&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.log("[Measurements] Adding CLS Data"),Z.sources.forEach(((e,n)=>t.setTag(`cls.source.${n+1}`,(0,A.Rt)(e.node)))))}(t)}X=void 0,Z=void 0,tt={}}(t)})),y}_registerInteractionListener(){let t;const e=()=>{const{idleTimeout:e,finalTimeout:n,heartbeatInterval:r}=this.options,i="ui.action.click";if(t&&(t.finish(),t=void 0),!this._getCurrentHub)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn(`[Tracing] Did not create ${i} transaction because _getCurrentHub is invalid.`));if(!this._latestRouteName)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&d.kg.warn(`[Tracing] Did not create ${i} transaction because _latestRouteName is missing.`));const o=this._getCurrentHub(),{location:s}=P,a={name:this._latestRouteName,op:i,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};t=(0,l.l)(o,a,e,n,!0,{location:s},r)};["click"].forEach((t=>{addEventListener(t,e,{once:!1,capture:!0})}))}}function pt(t){const e=(0,A.qT)(`meta[name=${t}]`);return e?e.getAttribute("content"):null}var ht=n(758);const dt={BrowserTracing:lt,Apollo:k,Express:m,GraphQL:O,Mongo:x,Mysql:w,Postgres:E,Prisma:I};("undefined"==typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&(0,ht.r)()},3790:(t,e,n)=>{"use strict";n.d(e,{EN:()=>u,IQ:()=>l,bU:()=>o});var r=n(7597),i=n(2343);const o="baggage",s="sentry-",a=/^sentry-/,c=8192;function u(t){if(!(0,r.HD)(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce(((t,e)=>({...t,...p(e)})),{});else{if(!t)return;e=p(t)}const n=Object.entries(e).reduce(((t,[e,n])=>(e.match(a)&&(t[e.slice(s.length)]=n),t)),{});return Object.keys(n).length>0?n:void 0}function l(t){return function(t){if(0!==Object.keys(t).length)return Object.entries(t).reduce(((t,[e,n],r)=>{const o=`${encodeURIComponent(e)}=${encodeURIComponent(n)}`,s=0===r?o:`${t},${o}`;return s.length>c?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn(`Not adding key: ${e} with val: ${n} to baggage header due to exceeding baggage size limits.`),t):s}),"")}(Object.entries(t).reduce(((t,[e,n])=>(n&&(t[`${s}${e}`]=n),t)),{}))}function p(t){return t.split(",").map((t=>t.split("=").map((t=>decodeURIComponent(t.trim()))))).reduce(((t,[e,n])=>(t[e]=n,t)),{})}},8464:(t,e,n)=>{"use strict";n.d(e,{Rt:()=>s,qT:()=>c});var r=n(7597);const i=(0,n(1235).Rf)(),o=80;function s(t,e={}){try{let n=t;const r=5,i=[];let s=0,c=0;const u=" > ",l=u.length;let p;const h=Array.isArray(e)?e:e.keyAttrs,d=!Array.isArray(e)&&e.maxStringLength||o;for(;n&&s++<r&&(p=a(n,h),!("html"===p||s>1&&c+i.length*l+p.length>=d));)i.push(p),c+=p.length,n=n.parentNode;return i.reverse().join(u)}catch(t){return"<unknown>"}}function a(t,e){const n=t,i=[];let o,s,a,c,u;if(!n||!n.tagName)return"";i.push(n.tagName.toLowerCase());const l=e&&e.length?e.filter((t=>n.getAttribute(t))).map((t=>[t,n.getAttribute(t)])):null;if(l&&l.length)l.forEach((t=>{i.push(`[${t[0]}="${t[1]}"]`)}));else if(n.id&&i.push(`#${n.id}`),o=n.className,o&&(0,r.HD)(o))for(s=o.split(/\s+/),u=0;u<s.length;u++)i.push(`.${s[u]}`);const p=["aria-label","type","name","title","alt"];for(u=0;u<p.length;u++)a=p[u],c=n.getAttribute(a),c&&i.push(`[${a}="${c}"]`);return i.join("")}function c(t){return i.document&&i.document.querySelector?i.document.querySelector(t):null}},4307:(t,e,n)=>{"use strict";function r(t){let e,n=t[0],r=1;for(;r<t.length;){const i=t[r],o=t[r+1];if(r+=2,("optionalAccess"===i||"optionalCall"===i)&&null==n)return;"access"===i||"optionalAccess"===i?(e=n,n=o(n)):"call"!==i&&"optionalCall"!==i||(n=o(((...t)=>n.call(e,...t))),e=void 0)}return n}n.d(e,{x:()=>r})},4863:(t,e,n)=>{"use strict";n.d(e,{o:()=>f});var r=n(7597),i=n(2343),o=n(535),s=n(360),a=n(1235);const c=(0,a.Rf)();function u(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}const l=(0,a.Rf)(),p={},h={};function d(t){if(!h[t])switch(h[t]=!0,t){case"console":"console"in l&&i.RU.forEach((function(t){t in l.console&&(0,o.hl)(l.console,t,(function(e){return function(...n){_("console",{args:n,level:t}),e&&e.apply(l.console,n)}}))}));break;case"dom":!function(){if(!("document"in l))return;const t=_.bind(null,"dom"),e=w(t,!0);l.document.addEventListener("click",e,!1),l.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((e=>{const n=l[e]&&l[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,o.hl)(n,"addEventListener",(function(e){return function(n,r,i){if("click"===n||"keypress"==n)try{const r=this,o=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},s=o[n]=o[n]||{refCount:0};if(!s.handler){const r=w(t);s.handler=r,e.call(this,n,r,i)}s.refCount++}catch(t){}return e.call(this,n,r,i)}})),(0,o.hl)(n,"removeEventListener",(function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{const n=this,i=n.__sentry_instrumentation_handlers__||{},o=i[e];o&&(o.refCount--,o.refCount<=0&&(t.call(this,e,o.handler,r),o.handler=void 0,delete i[e]),0===Object.keys(i).length&&delete n.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in l))return;const t=XMLHttpRequest.prototype;(0,o.hl)(t,"open",(function(t){return function(...e){const n=e[1],i=this.__sentry_xhr__={method:(0,r.HD)(e[0])?e[0].toUpperCase():e[0],url:e[1]};(0,r.HD)(n)&&"POST"===i.method&&n.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const s=()=>{const t=this.__sentry_xhr__;if(t&&4===this.readyState){try{t.status_code=this.status}catch(t){}_("xhr",{args:e,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?(0,o.hl)(this,"onreadystatechange",(function(t){return function(...e){return s(),t.apply(this,e)}})):this.addEventListener("readystatechange",s),t.apply(this,e)}})),(0,o.hl)(t,"send",(function(t){return function(...e){return this.__sentry_xhr__&&void 0!==e[0]&&(this.__sentry_xhr__.body=e[0]),_("xhr",{args:e,startTimestamp:Date.now(),xhr:this}),t.apply(this,e)}}))}();break;case"fetch":(function(){if(!function(){if(!("fetch"in c))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(t){return!1}}())return!1;if(u(c.fetch))return!0;let t=!1;const e=c.document;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=u(n.contentWindow.fetch)),e.head.removeChild(n)}catch(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return t})()&&(0,o.hl)(l,"fetch",(function(t){return function(...e){const n={args:e,fetchData:{method:g(e),url:m(e)},startTimestamp:Date.now()};return _("fetch",{...n}),t.apply(l,e).then((t=>(_("fetch",{...n,endTimestamp:Date.now(),response:t}),t)),(t=>{throw _("fetch",{...n,endTimestamp:Date.now(),error:t}),t}))}}));break;case"history":!function(){if(!function(){const t=c.chrome,e=t&&t.app&&t.app.runtime,n="history"in c&&!!c.history.pushState&&!!c.history.replaceState;return!e&&n}())return;const t=l.onpopstate;function e(t){return function(...e){const n=e.length>2?e[2]:void 0;if(n){const t=y,e=String(n);y=e,_("history",{from:t,to:e})}return t.apply(this,e)}}l.onpopstate=function(...e){const n=l.location.href,r=y;if(y=n,_("history",{from:r,to:n}),t)try{return t.apply(this,e)}catch(t){}},(0,o.hl)(l.history,"pushState",e),(0,o.hl)(l.history,"replaceState",e)}();break;case"error":S=l.onerror,l.onerror=function(t,e,n,r,i){return _("error",{column:r,error:i,line:n,msg:t,url:e}),!!S&&S.apply(this,arguments)};break;case"unhandledrejection":T=l.onunhandledrejection,l.onunhandledrejection=function(t){return _("unhandledrejection",t),!T||T.apply(this,arguments)};break;default:return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.warn("unknown instrumentation type:",t))}}function f(t,e){p[t]=p[t]||[],p[t].push(e),d(t)}function _(t,e){if(t&&p[t])for(const n of p[t]||[])try{n(e)}catch(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.kg.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${(0,s.$P)(n)}\nError:`,e)}}function g(t=[]){return"Request"in l&&(0,r.V9)(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function m(t=[]){return"string"==typeof t[0]?t[0]:"Request"in l&&(0,r.V9)(t[0],Request)?t[0].url:String(t[0])}let y;const v=1e3;let b,E;function w(t,e=!1){return n=>{if(!n||E===n)return;if(function(t){if("keypress"!==t.type)return!1;try{const e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(t){}return!0}(n))return;const r="keypress"===n.type?"input":n.type;(void 0===b||function(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(t){}return!1}(E,n))&&(t({event:n,name:r,global:e}),E=n),clearTimeout(b),b=l.setTimeout((()=>{b=void 0}),v)}}let S=null,T=null},7597:(t,e,n)=>{"use strict";n.d(e,{Cy:()=>d,HD:()=>s,J8:()=>h,Kj:()=>p,PO:()=>c,V9:()=>_,VZ:()=>i,cO:()=>u,i2:()=>f,kK:()=>l,pt:()=>a});const r=Object.prototype.toString;function i(t){switch(r.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return _(t,Error)}}function o(t,e){return r.call(t)===`[object ${e}]`}function s(t){return o(t,"String")}function a(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function c(t){return o(t,"Object")}function u(t){return"undefined"!=typeof Event&&_(t,Event)}function l(t){return"undefined"!=typeof Element&&_(t,Element)}function p(t){return o(t,"RegExp")}function h(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function d(t){return c(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function f(t){return"number"==typeof t&&t!=t}function _(t,e){try{return t instanceof e}catch(t){return!1}}},2343:(t,e,n)=>{"use strict";n.d(e,{Cf:()=>s,RU:()=>o,kg:()=>c});var r=n(1235);const i="Sentry Logger ",o=["debug","info","warn","error","log","assert","trace"];function s(t){if(!("console"in r.n2))return t();const e=r.n2.console,n={};o.forEach((t=>{const r=e[t]&&e[t].__sentry_original__;t in e&&r&&(n[t]=e[t],e[t]=r)}));try{return t()}finally{Object.keys(n).forEach((t=>{e[t]=n[t]}))}}function a(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?o.forEach((n=>{e[n]=(...e)=>{t&&s((()=>{r.n2.console[n](`${i}[${n}]:`,...e)}))}})):o.forEach((t=>{e[t]=()=>{}})),e}let c;c="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,r.YO)("logger",a):a()},2844:(t,e,n)=>{"use strict";n.d(e,{DM:()=>s,Db:()=>u,EG:()=>l,J4:()=>h,YO:()=>f,go:()=>d,jH:()=>c,lE:()=>_});var r=n(535),i=n(7321),o=n(1235);function s(){const t=o.n2,e=t.crypto||t.msCrypto;if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");const n=e&&e.getRandomValues?()=>e.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(t=>(t^(15&n())>>t/4).toString(16)))}function a(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function c(t){const{message:e,event_id:n}=t;if(e)return e;const r=a(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function u(t,e,n){const r=t.exception=t.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=e||""),o.type||(o.type=n||"Error")}function l(t,e){const n=a(t);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...e},e&&"data"in e){const t={...r&&r.data,...e.data};n.mechanism.data=t}}const p=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function h(t){const e=t.match(p)||[],n=parseInt(e[1],10),r=parseInt(e[2],10),i=parseInt(e[3],10);return{buildmetadata:e[5],major:isNaN(n)?void 0:n,minor:isNaN(r)?void 0:r,patch:isNaN(i)?void 0:i,prerelease:e[4]}}function d(t,e,n=5){if(void 0===e.lineno)return;const r=t.length,o=Math.max(Math.min(r,e.lineno-1),0);e.pre_context=t.slice(Math.max(0,o-n),o).map((t=>(0,i.JM)(t,0))),e.context_line=(0,i.JM)(t[Math.min(r-1,o)],e.colno||0),e.post_context=t.slice(Math.min(o+1,r),o+1+n).map((t=>(0,i.JM)(t,0)))}function f(t){if(t&&t.__sentry_captured__)return!0;try{(0,r.xp)(t,"__sentry_captured__",!0)}catch(t){}return!1}function _(t){return Array.isArray(t)?t:[t]}},2176:(t,e,n)=>{"use strict";function r(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function i(t,e){return t.require(e)}function o(e){let n;try{n=i(t,e)}catch(t){}try{const{cwd:r}=i(t,"process");n=i(t,`${r()}/node_modules/${e}`)}catch(t){}return n}n.d(e,{l$:()=>i,KV:()=>r,$y:()=>o}),t=n.hmd(t)},535:(t,e,n)=>{"use strict";n.d(e,{HK:()=>c,Jr:()=>f,Sh:()=>l,_j:()=>u,hl:()=>s,xp:()=>a,zf:()=>d});var r=n(8464),i=n(7597),o=n(7321);function s(t,e,n){if(!(e in t))return;const r=t[e],i=n(r);if("function"==typeof i)try{!function(t,e){const n=e.prototype||{};t.prototype=e.prototype=n,a(t,"__sentry_original__",e)}(i,r)}catch(t){}t[e]=i}function a(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}function c(t){return t.__sentry_original__}function u(t){return Object.keys(t).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`)).join("&")}function l(t){if((0,i.VZ)(t))return{message:t.message,name:t.name,stack:t.stack,...h(t)};if((0,i.cO)(t)){const e={type:t.type,target:p(t.target),currentTarget:p(t.currentTarget),...h(t)};return"undefined"!=typeof CustomEvent&&(0,i.V9)(t,CustomEvent)&&(e.detail=t.detail),e}return t}function p(t){try{return(0,i.kK)(t)?(0,r.Rt)(t):Object.prototype.toString.call(t)}catch(t){return"<unknown>"}}function h(t){if("object"==typeof t&&null!==t){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function d(t,e=40){const n=Object.keys(l(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return(0,o.$G)(n[0],e);for(let t=n.length;t>0;t--){const r=n.slice(0,t).join(", ");if(!(r.length>e))return t===n.length?r:(0,o.$G)(r,e)}return""}function f(t){return _(t,new Map)}function _(t,e){if((0,i.PO)(t)){const n=e.get(t);if(void 0!==n)return n;const r={};e.set(t,r);for(const n of Object.keys(t))void 0!==t[n]&&(r[n]=_(t[n],e));return r}if(Array.isArray(t)){const n=e.get(t);if(void 0!==n)return n;const r=[];return e.set(t,r),t.forEach((t=>{r.push(_(t,e))})),r}return t}},442:(t,e,n)=>{"use strict";n.d(e,{dB:()=>i,oA:()=>o});var r=n(6956);function i(t,e,n){t&&(t.metadata.source&&"url"!==t.metadata.source||t.setName(...o(e,{path:!0,method:!0})),t.setData("url",e.originalUrl||e.url),e.baseUrl&&t.setData("baseUrl",e.baseUrl),t.setData("query",function(t,e){let n=t.originalUrl||t.url||"";if(n)return n.startsWith("/")&&(n=`http://dogs.are.great${n}`),t.query||void 0!==typeof URL&&new URL(n).search.replace("?","")||e&&e.url&&e.url.parse(n).query||void 0}(e,n)))}function o(t,e={}){const n=t.method&&t.method.toUpperCase();let i="",o="url";e.customRoute||t.route?(i=e.customRoute||`${t.baseUrl||""}${t.route&&t.route.path}`,o="route"):(t.originalUrl||t.url)&&(i=(0,r.rt)(t.originalUrl||t.url||""));let s="";return e.method&&n&&(s+=n),e.method&&e.path&&(s+=" "),e.path&&i&&(s+=i),[s,o]}},360:(t,e,n)=>{"use strict";n.d(e,{$P:()=>c,Ep:()=>l,Sq:()=>s,pE:()=>o});const r=50,i=/\(error: (.*)\)/;function o(...t){const e=t.sort(((t,e)=>t[0]-e[0])).map((t=>t[1]));return(t,n=0)=>{const o=[],s=t.split("\n");for(let t=n;t<s.length;t++){const n=s[t];if(n.length>1024)continue;const a=i.test(n)?n.replace(i,"$1"):n;for(const t of e){const e=t(a);if(e){o.push(e);break}}if(o.length>=r)break}return function(t){if(!t.length)return[];const e=t.slice(0,r),n=e[e.length-1].function;n&&/sentryWrapped/.test(n)&&e.pop(),e.reverse();const i=e[e.length-1].function;return i&&/captureMessage|captureException/.test(i)&&e.pop(),e.map((t=>({...t,filename:t.filename||e[e.length-1].filename,function:t.function||"?"})))}(o)}}function s(t){return Array.isArray(t)?o(...t):t}const a="<anonymous>";function c(t){try{return t&&"function"==typeof t&&t.name||a}catch(t){return a}}function u(t){const e=/^\s*[-]{4,}$/,n=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return r=>{const i=r.match(n);if(i){let e,n,r,o,s;if(i[1]){r=i[1];let t=r.lastIndexOf(".");if("."===r[t-1]&&t--,t>0){e=r.slice(0,t),n=r.slice(t+1);const i=e.indexOf(".Module");i>0&&(r=r.slice(i+1),e=e.slice(0,i))}o=void 0}n&&(o=e,s=n),"<anonymous>"===n&&(s=void 0,r=void 0),void 0===r&&(s=s||"<anonymous>",r=o?`${o}.${s}`:s);let a=i[2]&&i[2].startsWith("file://")?i[2].slice(7):i[2];const c="native"===i[5];a||!i[5]||c||(a=i[5]);const u=!(c||a&&!a.startsWith("/")&&!a.startsWith(".")&&!a.includes(":\\")||void 0===a||a.includes("node_modules/"));return{filename:a,module:t?t(a):void 0,function:r,lineno:parseInt(i[3],10)||void 0,colno:parseInt(i[4],10)||void 0,in_app:u}}if(r.match(e))return{filename:r}}}function l(t){return[90,u(t)]}},7321:(t,e,n)=>{"use strict";n.d(e,{$G:()=>i,JM:()=>o,U0:()=>s});var r=n(7597);function i(t,e=0){return"string"!=typeof t||0===e||t.length<=e?t:`${t.slice(0,e)}...`}function o(t,e){let n=t;const r=n.length;if(r<=150)return n;e>r&&(e=r);let i=Math.max(e-60,0);i<5&&(i=0);let o=Math.min(i+140,r);return o>r-5&&(o=r),o===r&&(i=Math.max(o-140,0)),n=n.slice(i,o),i>0&&(n=`'{snip} ${n}`),o<r&&(n+=" {snip}"),n}function s(t,e=[],n=!1){return e.some((e=>function(t,e,n=!1){return!!(0,r.HD)(t)&&((0,r.Kj)(e)?e.test(t):!!(0,r.HD)(e)&&(n?t===e:t.includes(e)))}(t,e,n)))}},6893:(t,e,n)=>{"use strict";n.d(e,{$2:()=>s,WD:()=>o,cW:()=>a});var r,i=n(7597);function o(t){return new a((e=>{e(t)}))}function s(t){return new a(((e,n)=>{n(t)}))}!function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"}(r||(r={}));class a{__init(){this._state=r.PENDING}__init2(){this._handlers=[]}constructor(t){a.prototype.__init.call(this),a.prototype.__init2.call(this),a.prototype.__init3.call(this),a.prototype.__init4.call(this),a.prototype.__init5.call(this),a.prototype.__init6.call(this);try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}then(t,e){return new a(((n,r)=>{this._handlers.push([!1,e=>{if(t)try{n(t(e))}catch(t){r(t)}else n(e)},t=>{if(e)try{n(e(t))}catch(t){r(t)}else r(t)}]),this._executeHandlers()}))}catch(t){return this.then((t=>t),t)}finally(t){return new a(((e,n)=>{let r,i;return this.then((e=>{i=!1,r=e,t&&t()}),(e=>{i=!0,r=e,t&&t()})).then((()=>{i?n(r):e(r)}))}))}__init3(){this._resolve=t=>{this._setResult(r.RESOLVED,t)}}__init4(){this._reject=t=>{this._setResult(r.REJECTED,t)}}__init5(){this._setResult=(t,e)=>{this._state===r.PENDING&&((0,i.J8)(e)?e.then(this._resolve,this._reject):(this._state=t,this._value=e,this._executeHandlers()))}}__init6(){this._executeHandlers=()=>{if(this._state===r.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach((t=>{t[0]||(this._state===r.RESOLVED&&t[1](this._value),this._state===r.REJECTED&&t[2](this._value),t[0]=!0)}))}}}},1170:(t,e,n)=>{"use strict";n.d(e,{Z1:()=>d,_I:()=>p,ph:()=>l,yW:()=>u});var r=n(2176),i=n(1235);t=n.hmd(t);const o=(0,i.Rf)(),s={nowSeconds:()=>Date.now()/1e3},a=(0,r.KV)()?function(){try{return(0,r.l$)(t,"perf_hooks").performance}catch(t){return}}():function(){const{performance:t}=o;if(t&&t.now)return{now:()=>t.now(),timeOrigin:Date.now()-t.now()}}(),c=void 0===a?s:{nowSeconds:()=>(a.timeOrigin+a.now())/1e3},u=s.nowSeconds.bind(s),l=c.nowSeconds.bind(c),p=l;let h;const d=(()=>{const{performance:t}=o;if(!t||!t.now)return void(h="none");const e=36e5,n=t.now(),r=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,s=i<e,a=t.timing&&t.timing.navigationStart,c="number"==typeof a?Math.abs(a+n-r):e;return s||c<e?i<=c?(h="timeOrigin",t.timeOrigin):(h="navigationStart",a):(h="dateNow",r)})()},7638:(t,e,n)=>{"use strict";n.d(e,{K:()=>r,q:()=>i});const r=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function i(t){const e=t.match(r);if(!t||!e)return;let n;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}},6956:(t,e,n)=>{"use strict";function r(t){return t.split(/[\?#]/,1)[0]}function i(t){return t.split(/\\?\//).filter((t=>t.length>0&&","!==t)).length}n.d(e,{$A:()=>i,rt:()=>r})},1235:(t,e,n)=>{"use strict";function r(t){return t&&t.Math==Math?t:void 0}n.d(e,{Rf:()=>o,YO:()=>s,n2:()=>i});const i="object"==typeof globalThis&&r(globalThis)||"object"==typeof window&&r(window)||"object"==typeof self&&r(self)||"object"==typeof global&&r(global)||function(){return this}()||{};function o(){return i}function s(t,e,n){const r=n||i,o=r.__SENTRY__=r.__SENTRY__||{};return o[t]||(o[t]=e())}},8054:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};const i=n(2361),o=r(n(5158)),s=r(n(6304)),a=o.default("agent-base");function c(){const{stack:t}=new Error;return"string"==typeof t&&t.split("\n").some((t=>-1!==t.indexOf("(https.js:")||-1!==t.indexOf("node:https:")))}function u(t,e){return new u.Agent(t,e)}!function(t){class e extends i.EventEmitter{constructor(t,e){super();let n=e;"function"==typeof t?this.callback=t:t&&(n=t),this.timeout=null,n&&"number"==typeof n.timeout&&(this.timeout=n.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return"number"==typeof this.explicitDefaultPort?this.explicitDefaultPort:c()?443:80}set defaultPort(t){this.explicitDefaultPort=t}get protocol(){return"string"==typeof this.explicitProtocol?this.explicitProtocol:c()?"https:":"http:"}set protocol(t){this.explicitProtocol=t}callback(t,e,n){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(t,e){const n=Object.assign({},e);"boolean"!=typeof n.secureEndpoint&&(n.secureEndpoint=c()),null==n.host&&(n.host="localhost"),null==n.port&&(n.port=n.secureEndpoint?443:80),null==n.protocol&&(n.protocol=n.secureEndpoint?"https:":"http:"),n.host&&n.path&&delete n.path,delete n.agent,delete n.hostname,delete n._defaultAgent,delete n.defaultPort,delete n.createConnection,t._last=!0,t.shouldKeepAlive=!1;let r=!1,i=null;const o=n.timeout||this.timeout,u=e=>{t._hadError||(t.emit("error",e),t._hadError=!0)},l=()=>{i=null,r=!0;const t=new Error(`A "socket" was not created for HTTP request before ${o}ms`);t.code="ETIMEOUT",u(t)},p=t=>{r||(null!==i&&(clearTimeout(i),i=null),u(t))},h=e=>{if(r)return;if(null!=i&&(clearTimeout(i),i=null),o=e,Boolean(o)&&"function"==typeof o.addRequest)return a("Callback returned another Agent instance %o",e.constructor.name),void e.addRequest(t,n);var o;if(e)return e.once("free",(()=>{this.freeSocket(e,n)})),void t.onSocket(e);const s=new Error(`no Duplex stream was returned to agent-base for \`${t.method} ${t.path}\``);u(s)};if("function"==typeof this.callback){this.promisifiedCallback||(this.callback.length>=3?(a("Converting legacy callback function to promise"),this.promisifiedCallback=s.default(this.callback)):this.promisifiedCallback=this.callback),"number"==typeof o&&o>0&&(i=setTimeout(l,o)),"port"in n&&"number"!=typeof n.port&&(n.port=Number(n.port));try{a("Resolving socket for %o request: %o",n.protocol,`${t.method} ${t.path}`),Promise.resolve(this.promisifiedCallback(t,n)).then(h,p)}catch(t){Promise.reject(t).catch(p)}}else u(new Error("`callback` is not defined"))}freeSocket(t,e){a("Freeing socket %o %o",t.constructor.name,e),t.destroy()}destroy(){a("Destroying agent %o",this.constructor.name)}}t.Agent=e,t.prototype=t.Agent.prototype}(u||(u={})),t.exports=u},6304:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(e,n){return new Promise(((r,i)=>{t.call(this,e,n,((t,e)=>{t?i(t):r(e)}))}))}}},4522:(t,e,n)=>{n(3837);var r=n(9646).K;function i(t){var e=this;if(e.ip=t,e.rest=new r,null!=t)return e;console.error("NO IP SPECIFIED FOR EVENTMASTER")}i.prototype.query=function(t,e,n){var r={data:{method:t,params:e,jsonrpc:"2.0",id:"0"},headers:{"Content-Type":"application/json"}};return this.rest.post("http://"+this.ip+":9999/jsonrpc",r,(function(t,e){void 0!==n&&"function"==typeof n&&(void 0!==t.result&&0==t.result.success?n(null,t.result.response):n(!0,t))}))},i.prototype.allTrans=function(t,e,n){var r=this;switch(t){case"operator":return r.query("allTrans",{operatorId:e},n);case"super_user":return r.query("allTrans",{password:e},n);default:return r.query("allTrans",{},n)}},i.prototype.cut=function(t,e,n){var r=this;switch(t){case"operator":return r.query("cut",{operatorId:e},n);case"super_user":return r.query("cut",{password:e},n);default:return r.query("cut",{},n)}},i.prototype.resetFrameSettings=function(t,e){return this.query("resetFrameSettings",{reset:t},e)},i.prototype.powerStatus=function(t){return this.query("powerStatus",{},t)},i.prototype.listPresets=function(t,e,n){return null==t&&(t=-1),null==e&&(e=-1),this.query("listPresets",{ScreenDest:t,AuxDest:e},n)},i.prototype.listDestinationsForPreset=function(t){return null==t&&(t=-1),this.query("listDestinationsForPreset",{id:t},cb)},i.prototype.savePreset=function(t,e,n,r,i,o){var s=this;switch(r){case"operator":return s.query("savePreset",{presetName:t,ScreenDestination:e,AuxDestination:n,operatorId:i},o);case"super_user":return s.query("savePreset",{presetName:t,ScreenDestination:e,AuxDestination:n,password:i},o);default:return s.query("savePreset",{presetName:t,ScreenDestination:e,AuxDestination:n},o)}},i.prototype.renamePresetById=function(t,e,n){return this.query("renamePreset",{id:t,newPresetName:e},n)},i.prototype.renamePresetBySno=function(t,e,n){return this.query("renamePreset",{presetSno:t,newPresetName:e},n)},i.prototype.renamePresetByName=function(t,e,n){return this.query("renamePreset",{presetName:t,newPresetName:e},n)},i.prototype.activateSourceMainBackup=function(t,e,n,r,i,o,s,a,c){return this.query("activateSourceMainBackup",{inputId:t,Backup1:{SrcType:e,SourceId:n},Backup2:{SrcType:r,SourceId:i},Backup3:{SrcType:o,SourceId:s},BackUpState:a},c)},i.prototype.activatePresetById=function(t,e,n,r,i){var o=this;switch(n){case"operator":return o.query("activatePreset",{id:t,type:e,operatorId:r},i);case"super_user":return o.query("activatePreset",{id:t,type:e,password:r},i);default:return o.query("activatePreset",{id:t,type:e},i)}},i.prototype.activatePresetBySno=function(t,e,n,r,i){var o=this;switch(n){case"operator":return o.query("activatePreset",{presetSno:t,type:e,operatorId:r},i);case"super_user":return o.query("activatePreset",{presetSno:t,type:e,password:r},i);default:return o.query("activatePreset",{presetSno:t,type:e},i)}},i.prototype.activatePresetByName=function(t,e,n,r,i){var o=this;switch(n){case"operator":return o.query("activatePreset",{presetName:t,type:e,operatorId:r},i);case"super_user":return o.query("activatePreset",{presetName:t,type:e,password:r},i);default:return o.query("activatePreset",{presetName:t,type:e},i)}},i.prototype.recallNextPreset=function(t){return this.query("recallNextPreset",{},t)},i.prototype.deletePresetById=function(t,e,n,r){var i=this;switch(e){case"operator":return i.query("deletePreset",{id:t,operatorId:n},r);case"super_user":return i.query("deletePreset",{id:t,password:n},r);default:return i.query("deletePreset",{id:t},r)}},i.prototype.deletePresetBySno=function(t,e,n,r){var i=this;switch(e){case"operator":return i.query("deletePreset",{presetSno:t,operatorId:n},r);case"super_user":return i.query("deletePreset",{presetSno:t,password:n},r);default:return i.query("deletePreset",{presetSno:t},r)}},i.prototype.deletePresetByName=function(t,e,n,r){var i=this;switch(e){case"operator":return i.query("deletePreset",{presetName:t,operatorId:n},r);case"super_user":return i.query("deletePreset",{presetName:t,password:n},r);default:return i.query("deletePreset",{presetName:t},r)}},i.prototype.listDestinations=function(t,e){return this.query("listDestinations",{type:t},e)},i.prototype.listSources=function(t,e){return this.query("listSources",{type:t},e)},i.prototype.activateCueById=function(t,e,n){return this.query("activateCue",{id:t,type:e},n)},i.prototype.activateCueByCueName=function(t,e,n){return this.query("activateCue",{cueName:t,type:e},n)},i.prototype.activateCueByCueSerialNo=function(t,e,n){return this.query("activateCue",{cueSerialNo:t,type:e},n)},i.prototype.listCues=function(t,e){return null==t&&(t=0),this.query("listCues",{type:t},e)},i.prototype.activateDestGroup=function(t,e){return this.query("activateDestGroup",{id:t},e)},i.prototype.control3d=function(t,e,n,r,i){return this.query("3dControl",{id:t,type:e,syncSource:n,syncInvert:r},i)},i.prototype.listContent=function(t,e){return this.query("listContent",{id:t},e)},i.prototype.listSuperDestContent=function(t,e){return this.query("listSuperDestContent",{id:t},e)},i.prototype.listSuperAuxContent=function(t,e){return this.query("listSuperAuxContent",{id:t},e)},i.prototype.changeContent=function(t,e,n,r){return this.query("changeContent",{id:t,BGLyr:e,Layers:n},r)},i.prototype.freezeDestSource=function(t,e,n,r,i){return this.query("freezeDestSource",{type:t,id:e,screengroup:n,mode:r},i)},i.prototype.listStill=function(t){return this.query("listStill",{},t)},i.prototype.deleteStill=function(t,e){return this.query("deleteStill",{id:t},e)},i.prototype.takeStill=function(t,e,n,r){return this.query("takeStill",{type:t,id:e,file:n},r)},i.prototype.getFrameSettings=function(t){return this.query("getFrameSettings",{},t)},i.prototype.listAuxContent=function(t,e){return this.query("listAuxContent",{id:t},e)},i.prototype.changeAuxContent=function(t,e,n,r){return this.query("changeAuxContent",{id:t,PvwLastSrcIndex:e,PgmLastSrcIndex:n},r)},i.prototype.changeAuxContentName=function(t,e,n,r,i){return this.query("changeAuxContent",{id:t,name:e,PvwLastSrcIndex:n,PgmLastSrcIndex:r},i)},i.prototype.subscribe=function(t,e,n,r){return this.query("subscribe",{hostname:t,port:e,notification:n},r)},i.prototype.unsubscribe=function(t,e,n,r){return this.query("unsubscribe",{hostname:t,port:e,notification:n},r)},i.prototype.armUnarmDestination=function(t,e,n,r){return this.query("armUnarmDestination",{arm:t,ScreenDestination:e,AuxDestination:n},r)},i.prototype.fillHV=function(t,e,n){return this.query("fillHV",{screenId:t,Layers:e},n)},i.prototype.clearLayers=function(t,e,n){return this.query("clearLayers",{screenId:t,Layers:e},n)},i.prototype.recallUserKey=function(t,e,n,r){return this.query("recallUserKey",{userkeyName:t,ScreenDestination:e,Layer:n},r)},i.prototype.listUserKeys=function(t){return this.query("listUserKeys",{},t)},i.prototype.listSourceMainBackup=function(t,e){return this.query("listSourceMainBackup",{inputType:t},e)},i.prototype.resetSourceMainBackup=function(t,e){return this.query("resetSourceMainBackup",{id:t},e)},i.prototype.listInputs=function(t,e){return this.query("listInputs",{inputId:t},e)},i.prototype.listOutputs=function(t,e){return this.query("listOutputs",{outputCfgId:t},e)},i.prototype.mvrLayoutChange=function(t,e,n){return this.query("mvrLayoutChange",{frameUnitId:t,mvrLayoutId:e},n)},i.prototype.listOperators=function(t){return this.query("listOperators",{},t)},i.prototype.configureOperator=function(t,e){try{return JSON.parse(t),this.query("configureOperator",JSON.parse(t),e)}catch(t){return t}},i.prototype.changeAuxContentTestPattern=function(t,e,n){return this.query("changeAuxContent",{id:t,TestPattern:e},n)},i.prototype.changeContentTestPattern=function(t,e,n){return this.query("changeContent",{id:t,TestPattern:e},n)},i.prototype.listDestGroups=function(t){return this.query("listDestGroups",{},t)},i.prototype.listDestGroupsPerType=function(t,e){return this.query("listDestGroups",{type:t},e)},t.exports=i},6489:(t,e)=>{"use strict";e.Q=function(t,e){if("string"!=typeof t)throw new TypeError("argument str must be a string");for(var i={},o=e||{},s=t.split(";"),a=o.decode||n,c=0;c<s.length;c++){var u=s[c],l=u.indexOf("=");if(!(l<0)){var p=u.substring(0,l).trim();if(null==i[p]){var h=u.substring(l+1,u.length).trim();'"'===h[0]&&(h=h.slice(1,-1)),i[p]=r(h,a)}}}return i};var n=decodeURIComponent;encodeURIComponent;function r(t,e){try{return e(t)}catch(e){return t}}},7319:(t,e,n)=>{"use strict";const r=n(4341);t.exports=(t,e={})=>{if("function"!=typeof t)throw new TypeError(`Expected the first argument to be a function, got \`${typeof t}\``);const{wait:n=0,maxWait:i=0,before:o=!1,after:s=!0}=e;if(!o&&!s)throw new Error("Both `before` and `after` are false, function wouldn't be called.");let a,c,u;const l=function(...e){const r=this,l=o&&!a;return clearTimeout(a),a=setTimeout((()=>{a=void 0,c&&(clearTimeout(c),c=void 0),s&&(u=t.apply(r,e))}),n),i>0&&!c&&s&&(c=setTimeout((()=>{c=void 0,a&&(clearTimeout(a),a=void 0),u=t.apply(r,e)}),i)),l&&(u=t.apply(r,e)),u};return r(l,t),l.cancel=()=>{a&&(clearTimeout(a),a=void 0),c&&(clearTimeout(c),c=void 0)},l}},1227:(t,e,n)=>{e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(t=>{"%%"!==t&&(r++,"%c"===t&&(i=r))})),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}return!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG),t},e.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=n(2447)(e);const{formatters:r}=t.exports;r.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},2447:(t,e,n)=>{t.exports=function(t){function e(t){let n,i,o,s=null;function a(...t){if(!a.enabled)return;const r=a,i=Number(new Date),o=i-(n||i);r.diff=o,r.prev=n,r.curr=i,n=i,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,((n,i)=>{if("%%"===n)return"%";s++;const o=e.formatters[i];if("function"==typeof o){const e=t[s];n=o.call(r,e),t.splice(s,1),s--}return n})),e.formatArgs.call(r,t),(r.log||e.log).apply(r,t)}return a.namespace=t,a.useColors=e.useColors(),a.color=e.selectColor(t),a.extend=r,a.destroy=e.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==e.namespaces&&(i=e.namespaces,o=e.enabled(t)),o),set:t=>{s=t}}),"function"==typeof e.init&&e.init(a),a}function r(t,n){const r=e(this.namespace+(void 0===n?":":n)+t);return r.log=this.log,r}function i(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){const t=[...e.names.map(i),...e.skips.map(i).map((t=>"-"+t))].join(",");return e.enable(""),t},e.enable=function(t){let n;e.save(t),e.namespaces=t,e.names=[],e.skips=[];const r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.slice(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;let n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(7824),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach((n=>{e[n]=t[n]})),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return e.colors[Math.abs(n)%e.colors.length]},e.enable(e.load()),e}},5158:(t,e,n)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?t.exports=n(1227):t.exports=n(39)},39:(t,e,n)=>{const r=n(6224),i=n(3837);e.init=function(t){t.inspectOpts={};const n=Object.keys(e.inspectOpts);for(let r=0;r<n.length;r++)t.inspectOpts[n[r]]=e.inspectOpts[n[r]]},e.log=function(...t){return process.stderr.write(i.format(...t)+"\n")},e.formatArgs=function(n){const{namespace:r,useColors:i}=this;if(i){const e=this.color,i="[3"+(e<8?e:"8;5;"+e),o=`  ${i};1m${r} [0m`;n[0]=o+n[0].split("\n").join("\n"+o),n.push(i+"m+"+t.exports.humanize(this.diff)+"[0m")}else n[0]=(e.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+r+" "+n[0]},e.save=function(t){t?process.env.DEBUG=t:delete process.env.DEBUG},e.load=function(){return process.env.DEBUG},e.useColors=function(){return"colors"in e.inspectOpts?Boolean(e.inspectOpts.colors):r.isatty(process.stderr.fd)},e.destroy=i.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),e.colors=[6,2,3,4,5,1];try{const t=n(2130);t&&(t.stderr||t).level>=2&&(e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}e.inspectOpts=Object.keys(process.env).filter((t=>/^debug_/i.test(t))).reduce(((t,e)=>{const n=e.substring(6).toLowerCase().replace(/_([a-z])/g,((t,e)=>e.toUpperCase()));let r=process.env[e];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),t[n]=r,t}),{}),t.exports=n(2447)(e);const{formatters:o}=t.exports;o.o=function(t){return this.inspectOpts.colors=this.useColors,i.inspect(t,this.inspectOpts).split("\n").map((t=>t.trim())).join(" ")},o.O=function(t){return this.inspectOpts.colors=this.useColors,i.inspect(t,this.inspectOpts)}},2559:t=>{!function(){"use strict";var e=[,function(t,e){function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.lengthOf=e.keysOf=e.isObject=e.isInfOrNaN=e.isFunction=e.isArguments=e.hasOwn=e.handleError=e.convertMapToObject=e.checkError=void 0,e.isFunction=function(t){return"function"==typeof t},e.isObject=function(t){return"object"===r(t)},e.keysOf=function(t){return Object.keys(t)},e.lengthOf=function(t){return Object.keys(t).length};var i=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};e.hasOwn=i,e.convertMapToObject=function(t){return Array.from(t).reduce((function(t,e){var r,i,o=(i=2,function(t){if(Array.isArray(t))return t}(r=e)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(t){a=!0,i=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(r,i)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(r,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=o[0],a=o[1];return t[s]=a,t}),{})},e.isArguments=function(t){return null!=t&&i(t,"callee")},e.isInfOrNaN=function(t){return Number.isNaN(t)||t===1/0||t===-1/0};var o={maxStack:function(t){return new RegExp("Maximum call stack size exceeded","g").test(t)}};e.checkError=o,e.handleError=function(t){return function(){try{return t.apply(this,arguments)}catch(t){if(o.maxStack(t.message))throw new Error("Converting circular structure to JSON");throw t}}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Base64=void 0;for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=Object.create(null),i=function(t){return n.charAt(t)},o=0;o<n.length;o++)r[i(o)]=o;var s=function(t){if("undefined"==typeof Uint8Array||"undefined"==typeof ArrayBuffer){for(var e=[],n=0;n<t;n++)e.push(0);return e.$Uint8ArrayPolyfill=!0,e}return new Uint8Array(new ArrayBuffer(t))},a={encode:function(t){if("string"==typeof t){var e=t;t=s(e.length);for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r>255)throw new Error("Not ascii. Base64.encode can only take ascii strings.");t[n]=r}}for(var o=[],a=null,c=null,u=null,l=null,p=0;p<t.length;p++)switch(p%3){case 0:a=t[p]>>2&63,c=(3&t[p])<<4;break;case 1:c|=t[p]>>4&15,u=(15&t[p])<<2;break;case 2:u|=t[p]>>6&3,l=63&t[p],o.push(i(a)),o.push(i(c)),o.push(i(u)),o.push(i(l)),a=null,c=null,u=null,l=null}return null!=a&&(o.push(i(a)),o.push(i(c)),null==u?o.push("="):o.push(i(u)),null==l&&o.push("=")),o.join("")},decode:function(t){var e=Math.floor(3*t.length/4);"="==t.charAt(t.length-1)&&(e--,"="==t.charAt(t.length-2)&&e--);for(var n,i=s(e),o=null,a=null,c=null,u=0,l=0;l<t.length;l++){var p="="===(n=t.charAt(l))?-1:r[n];switch(l%4){case 0:if(p<0)throw new Error("invalid base64 string");o=p<<2;break;case 1:if(p<0)throw new Error("invalid base64 string");o|=p>>4,i[u++]=o,a=(15&p)<<4;break;case 2:p>=0&&(a|=p>>2,i[u++]=a,c=(3&p)<<6);break;case 3:p>=0&&(i[u++]=c|p)}}return i},newBinary:s};e.Base64=a},function(t){t.exports={_noYieldsAllowed:function(t){return t()}}},function(t,e){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t){return JSON.stringify(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function t(e,i,o,s,a){var c=i[e];switch(n(c)){case"string":return r(c);case"number":return isFinite(c)?String(c):"null";case"boolean":return String(c);case"object":if(!c)return"null";var u,l=s+o,p=[];if(Array.isArray(c)||{}.hasOwnProperty.call(c,"callee")){for(var h=c.length,d=0;d<h;d+=1)p[d]=t(d,c,o,l,a)||"null";return u=0===p.length?"[]":l?"[\n"+l+p.join(",\n"+l)+"\n"+s+"]":"["+p.join(",")+"]"}var f=Object.keys(c);return a&&(f=f.sort()),f.forEach((function(e){(u=t(e,c,o,l,a))&&p.push(r(e)+(l?": ":":")+u)})),u=0===p.length?"{}":l?"{\n"+l+p.join(",\n"+l)+"\n"+s+"}":"{"+p.join(",")+"}"}};e.default=function(t,e){var n=Object.assign({indent:"",canonical:!1},e);if(!0===n.indent)n.indent="  ";else if("number"==typeof n.indent){for(var r="",o=0;o<n.indent;o++)r+=" ";n.indent=r}return i("",{"":t},n.indent,"",n.canonical)},t.exports=e.default}],n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}};return e[t](o,o.exports,r),o.exports}var i={};!function(){var t=i,e=r(2).Base64,n=r(3);Object.defineProperty(t,"__esModule",{value:!0}),t.EJSON=void 0;var o=r(1),s={};t.EJSON=s;var a=new Map;s.addType=function(t,e){if(a.has(t))throw new Error("Type ".concat(t," already present"));a.set(t,e)};var c=[{matchJSONValue:function(t){return(0,o.hasOwn)(t,"$date")&&1===(0,o.lengthOf)(t)},matchObject:function(t){return t instanceof Date},toJSONValue:function(t){return{$date:t.getTime()}},fromJSONValue:function(t){return new Date(t.$date)}},{matchJSONValue:function(t){return(0,o.hasOwn)(t,"$regexp")&&(0,o.hasOwn)(t,"$flags")&&2===(0,o.lengthOf)(t)},matchObject:function(t){return t instanceof RegExp},toJSONValue:function(t){return{$regexp:t.source,$flags:t.flags}},fromJSONValue:function(t){return new RegExp(t.$regexp,t.$flags.slice(0,50).replace(/[^gimuy]/g,"").replace(/(.)(?=.*\1)/g,""))}},{matchJSONValue:function(t){return(0,o.hasOwn)(t,"$InfNaN")&&1===(0,o.lengthOf)(t)},matchObject:o.isInfOrNaN,toJSONValue:function(t){return{$InfNaN:Number.isNaN(t)?0:t===1/0?1:-1}},fromJSONValue:function(t){return t.$InfNaN/0}},{matchJSONValue:function(t){return(0,o.hasOwn)(t,"$binary")&&1===(0,o.lengthOf)(t)},matchObject:function(t){return"undefined"!=typeof Uint8Array&&t instanceof Uint8Array||t&&(0,o.hasOwn)(t,"$Uint8ArrayPolyfill")},toJSONValue:function(t){return{$binary:e.encode(t)}},fromJSONValue:function(t){return e.decode(t.$binary)}},{matchJSONValue:function(t){return(0,o.hasOwn)(t,"$escape")&&1===(0,o.lengthOf)(t)},matchObject:function(t){var e=!1;if(t){var n=(0,o.lengthOf)(t);1!==n&&2!==n||(e=c.some((function(e){return e.matchJSONValue(t)})))}return e},toJSONValue:function(t){var e={};return(0,o.keysOf)(t).forEach((function(n){e[n]=s.toJSONValue(t[n])})),{$escape:e}},fromJSONValue:function(t){var e={};return(0,o.keysOf)(t.$escape).forEach((function(n){e[n]=s.fromJSONValue(t.$escape[n])})),e}},{matchJSONValue:function(t){return(0,o.hasOwn)(t,"$type")&&(0,o.hasOwn)(t,"$value")&&2===(0,o.lengthOf)(t)},matchObject:function(t){return s._isCustomType(t)},toJSONValue:function(t){var e=n._noYieldsAllowed((function(){return t.toJSONValue()}));return{$type:t.typeName(),$value:e}},fromJSONValue:function(t){var e=t.$type;if(!a.has(e))throw new Error("Custom EJSON type ".concat(e," is not defined"));var r=a.get(e);return n._noYieldsAllowed((function(){return r(t.$value)}))}}];s._isCustomType=function(t){return t&&(0,o.isFunction)(t.toJSONValue)&&(0,o.isFunction)(t.typeName)&&a.has(t.typeName())},s._getTypes=function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?a:(0,o.convertMapToObject)(a)},s._getConverters=function(){return c};var u=function(t){for(var e=0;e<c.length;e++){var n=c[e];if(n.matchObject(t))return n.toJSONValue(t)}},l=function t(e){if(null===e)return null;var n=u(e);return void 0!==n?n:(0,o.isObject)(e)?((0,o.keysOf)(e).forEach((function(n){var r=e[n];if((0,o.isObject)(r)||void 0===r||(0,o.isInfOrNaN)(r)){var i=u(r);i?e[n]=i:t(r)}})),e):e};s._adjustTypesToJSONValue=l,s.toJSONValue=function(t){var e=u(t);if(void 0!==e)return e;var n=t;return(0,o.isObject)(t)&&(n=s.clone(t),l(n)),n};var p=function(t){if((0,o.isObject)(t)&&null!==t){var e=(0,o.keysOf)(t);if(e.length<=2&&e.every((function(t){return"string"==typeof t&&"$"===t.substr(0,1)})))for(var n=0;n<c.length;n++){var r=c[n];if(r.matchJSONValue(t))return r.fromJSONValue(t)}}return t},h=function t(e){if(null===e)return null;var n=p(e);return n!==e?n:(0,o.isObject)(e)?((0,o.keysOf)(e).forEach((function(n){var r=e[n];if((0,o.isObject)(r)){var i=p(r);if(r!==i)return void(e[n]=i);t(r)}})),e):e};s._adjustTypesFromJSONValue=h,s.fromJSONValue=function(t){var e=p(t);return e===t&&(0,o.isObject)(t)&&(e=s.clone(t),h(e)),e},s.stringify=(0,o.handleError)((function(t,e){var n=s.toJSONValue(t);return e&&(e.canonical||e.indent)?r(4)(n,e):JSON.stringify(n)})),s.parse=function(t){if("string"!=typeof t)throw new Error("EJSON.parse argument should be a string");return s.fromJSONValue(JSON.parse(t))},s.isBinary=function(t){return!!("undefined"!=typeof Uint8Array&&t instanceof Uint8Array||t&&t.$Uint8ArrayPolyfill)},s.equals=function(t,e,n){var r,i=!(!n||!n.keyOrderSensitive);if(t===e)return!0;if(Number.isNaN(t)&&Number.isNaN(e))return!0;if(!t||!e)return!1;if(!(0,o.isObject)(t)||!(0,o.isObject)(e))return!1;if(t instanceof Date&&e instanceof Date)return t.valueOf()===e.valueOf();if(s.isBinary(t)&&s.isBinary(e)){if(t.length!==e.length)return!1;for(r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}if((0,o.isFunction)(t.equals))return t.equals(e,n);if((0,o.isFunction)(e.equals))return e.equals(t,n);var a,c=Array.isArray(t),u=Array.isArray(e);if(c!==u)return!1;if(c&&u){if(t.length!==e.length)return!1;for(r=0;r<t.length;r++)if(!s.equals(t[r],e[r],n))return!1;return!0}switch(s._isCustomType(t)+s._isCustomType(e)){case 1:return!1;case 2:return s.equals(s.toJSONValue(t),s.toJSONValue(e))}var l=(0,o.keysOf)(t),p=(0,o.keysOf)(e);return i?(r=0,a=l.every((function(i){return!(r>=p.length||i!==p[r]||!s.equals(t[i],e[p[r]],n)||(r++,0))}))):(r=0,a=l.every((function(i){return!!(0,o.hasOwn)(e,i)&&!!s.equals(t[i],e[i],n)&&(r++,!0)}))),a&&r===p.length},s.clone=function(t){var e;if(!(0,o.isObject)(t))return t;if(null===t)return null;if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return t;if(s.isBinary(t)){e=s.newBinary(t.length);for(var n=0;n<t.length;n++)e[n]=t[n];return e}return Array.isArray(t)?t.map(s.clone):(0,o.isArguments)(t)?Array.from(t).map(s.clone):(0,o.isFunction)(t.clone)?t.clone():s._isCustomType(t)?s.fromJSONValue(s.clone(s.toJSONValue(t)),!0):(e={},(0,o.keysOf)(t).forEach((function(n){e[n]=s.clone(t[n])})),e)},s.newBinary=e.newBinary}(),t.exports=i.EJSON}()},6729:t=>{"use strict";var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||t,s),c=n?n+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new r:delete t._events[e]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},a.prototype.emit=function(t,e,r,i,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var c,u,l=this._events[a],p=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),p){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,r),!0;case 4:return l.fn.call(l.context,e,r,i),!0;case 5:return l.fn.call(l.context,e,r,i,o),!0;case 6:return l.fn.call(l.context,e,r,i,o,s),!0}for(u=1,c=new Array(p-1);u<p;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var h,d=l.length;for(u=0;u<d;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),p){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,r);break;case 4:l[u].fn.call(l[u].context,e,r,i);break;default:if(!c)for(h=1,c=new Array(p-1);h<p;h++)c[h-1]=arguments[h];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},a.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},a.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==e||i&&!a[c].once||r&&a[c].context!==r)&&u.push(a[c]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&s(this,e)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a},4063:t=>{"use strict";t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;0!=i--;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var s=o[i];if(!t(e[s],n[s]))return!1}return!0}return e!=e&&n!=n}},2261:(t,e,n)=>{var r;t.exports=function(){if(!r){try{r=n(5158)("follow-redirects")}catch(t){}"function"!=typeof r&&(r=function(){})}r.apply(null,arguments)}},938:(t,e,n)=>{var r=n(7310),i=r.URL,o=n(3685),s=n(5687),a=n(2781).Writable,c=n(9491),u=n(2261),l=["abort","aborted","connect","error","socket","timeout"],p=Object.create(null);l.forEach((function(t){p[t]=function(e,n,r){this._redirectable.emit(t,e,n,r)}}));var h=E("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),d=E("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),f=E("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),_=E("ERR_STREAM_WRITE_AFTER_END","write after end");function g(t,e){a.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var n=this;this._onNativeResponse=function(t){n._processResponse(t)},this._performRequest()}function m(t){var e={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(t).forEach((function(o){var s=o+":",a=n[s]=t[o],l=e[o]=Object.create(a);Object.defineProperties(l,{request:{value:function(t,o,a){if("string"==typeof t){var l=t;try{t=v(new i(l))}catch(e){t=r.parse(l)}}else i&&t instanceof i?t=v(t):(a=o,o=t,t={protocol:s});return"function"==typeof o&&(a=o,o=null),(o=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},t,o)).nativeProtocols=n,c.equal(o.protocol,s,"protocol mismatch"),u("options",o),new g(o,a)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(t,e,n){var r=l.request(t,e,n);return r.end(),r},configurable:!0,enumerable:!0,writable:!0}})})),e}function y(){}function v(t){var e={protocol:t.protocol,hostname:t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:t.pathname+t.search,href:t.href};return""!==t.port&&(e.port=Number(t.port)),e}function b(t,e){var n;for(var r in e)t.test(r)&&(n=e[r],delete e[r]);return null==n?void 0:String(n).trim()}function E(t,e){function n(t){Error.captureStackTrace(this,this.constructor),t?(this.message=e+": "+t.message,this.cause=t):this.message=e}return n.prototype=new Error,n.prototype.constructor=n,n.prototype.name="Error ["+t+"]",n.prototype.code=t,n}function w(t){for(var e=0;e<l.length;e++)t.removeListener(l[e],p[l[e]]);t.on("error",y),t.abort()}g.prototype=Object.create(a.prototype),g.prototype.abort=function(){w(this._currentRequest),this.emit("abort")},g.prototype.write=function(t,e,n){if(this._ending)throw new _;if(!("string"==typeof t||"object"==typeof t&&"length"in t))throw new TypeError("data should be a string, Buffer or Uint8Array");"function"==typeof e&&(n=e,e=null),0!==t.length?this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,n)):(this.emit("error",new f),this.abort()):n&&n()},g.prototype.end=function(t,e,n){if("function"==typeof t?(n=t,t=e=null):"function"==typeof e&&(n=e,e=null),t){var r=this,i=this._currentRequest;this.write(t,e,(function(){r._ended=!0,i.end(null,null,n)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,n)},g.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)},g.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)},g.prototype.setTimeout=function(t,e){var n=this;function r(e){e.setTimeout(t),e.removeListener("timeout",e.destroy),e.addListener("timeout",e.destroy)}function i(e){n._timeout&&clearTimeout(n._timeout),n._timeout=setTimeout((function(){n.emit("timeout"),o()}),t),r(e)}function o(){n._timeout&&(clearTimeout(n._timeout),n._timeout=null),n.removeListener("abort",o),n.removeListener("error",o),n.removeListener("response",o),e&&n.removeListener("timeout",e),n.socket||n._currentRequest.removeListener("socket",i)}return e&&this.on("timeout",e),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",r),this.on("abort",o),this.on("error",o),this.on("response",o),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(t){g.prototype[t]=function(e,n){return this._currentRequest[t](e,n)}})),["aborted","connection","socket"].forEach((function(t){Object.defineProperty(g.prototype,t,{get:function(){return this._currentRequest[t]}})})),g.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}},g.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(e){if(this._options.agents){var n=t.substr(0,t.length-1);this._options.agent=this._options.agents[n]}var i=this._currentRequest=e.request(this._options,this._onNativeResponse);this._currentUrl=r.format(this._options),i._redirectable=this;for(var o=0;o<l.length;o++)i.on(l[o],p[l[o]]);if(this._isRedirect){var s=0,a=this,c=this._requestBodyBuffers;!function t(e){if(i===a._currentRequest)if(e)a.emit("error",e);else if(s<c.length){var n=c[s++];i.finished||i.write(n.data,n.encoding,t)}else a._ended&&i.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+t))},g.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var n=t.headers.location;if(!n||!1===this._options.followRedirects||e<300||e>=400)return t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),void(this._requestBodyBuffers=[]);if(w(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects)this.emit("error",new d);else{((301===e||302===e)&&"POST"===this._options.method||303===e&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],b(/^content-/i,this._options.headers));var i,o=b(/^host$/i,this._options.headers),s=r.parse(this._currentUrl),a=o||s.host,c=/^\w+:/.test(n)?this._currentUrl:r.format(Object.assign(s,{host:a}));try{i=r.resolve(c,n)}catch(t){return void this.emit("error",new h(t))}u("redirecting to",i),this._isRedirect=!0;var l=r.parse(i);if(Object.assign(this._options,l),(l.protocol!==s.protocol&&"https:"!==l.protocol||l.host!==a&&!function(t,e){const n=t.length-e.length-1;return n>0&&"."===t[n]&&t.endsWith(e)}(l.host,a))&&b(/^(?:authorization|cookie)$/i,this._options.headers),"function"==typeof this._options.beforeRedirect){var p={headers:t.headers};try{this._options.beforeRedirect.call(null,this._options,p)}catch(t){return void this.emit("error",t)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(t){this.emit("error",new h(t))}}},t.exports=m({http:o,https:s}),t.exports.wrap=m},6560:t=>{"use strict";t.exports=(t,e=process.argv)=>{const n=t.startsWith("-")?"":1===t.length?"-":"--",r=e.indexOf(n+t),i=e.indexOf("--");return-1!==r&&(-1===i||r<i)}},9146:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(n(1808)),s=i(n(4404)),a=i(n(7310)),c=i(n(9491)),u=i(n(5158)),l=n(8054),p=i(n(9829)),h=u.default("https-proxy-agent:agent");class d extends l.Agent{constructor(t){let e;if(e="string"==typeof t?a.default.parse(t):t,!e)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");h("creating new HttpsProxyAgent instance: %o",e),super(e);const n=Object.assign({},e);var r;this.secureProxy=e.secureProxy||"string"==typeof(r=n.protocol)&&/^https:?$/i.test(r),n.host=n.hostname||n.host,"string"==typeof n.port&&(n.port=parseInt(n.port,10)),!n.port&&n.host&&(n.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in n)&&(n.ALPNProtocols=["http 1.1"]),n.host&&n.path&&(delete n.path,delete n.pathname),this.proxy=n}callback(t,e){return r(this,void 0,void 0,(function*(){const{proxy:n,secureProxy:r}=this;let i;r?(h("Creating `tls.Socket`: %o",n),i=s.default.connect(n)):(h("Creating `net.Socket`: %o",n),i=o.default.connect(n));const a=Object.assign({},n.headers);let u=`CONNECT ${e.host}:${e.port} HTTP/1.1\r\n`;n.auth&&(a["Proxy-Authorization"]=`Basic ${Buffer.from(n.auth).toString("base64")}`);let{host:l,port:d,secureEndpoint:_}=e;(function(t,e){return Boolean(!e&&80===t||e&&443===t)})(d,_)||(l+=`:${d}`),a.Host=l,a.Connection="close";for(const t of Object.keys(a))u+=`${t}: ${a[t]}\r\n`;const g=p.default(i);i.write(`${u}\r\n`);const{statusCode:m,buffered:y}=yield g;if(200===m){if(t.once("socket",f),e.secureEndpoint){h("Upgrading socket connection to TLS");const t=e.servername||e.host;return s.default.connect(Object.assign(Object.assign({},function(t,...e){const n={};let r;for(r in t)e.includes(r)||(n[r]=t[r]);return n}(e,"host","hostname","path","port")),{socket:i,servername:t}))}return i}i.destroy();const v=new o.default.Socket({writable:!1});return v.readable=!0,t.once("socket",(t=>{h("replaying proxy buffer for failed request"),c.default(t.listenerCount("data")>0),t.push(y),t.push(null)})),v}))}}function f(t){t.resume()}e.default=d},6018:function(t,e,n){"use strict";const r=(this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}})(n(9146));function i(t){return new r.default(t)}!function(t){t.HttpsProxyAgent=r.default,t.prototype=r.default.prototype}(i||(i={})),t.exports=i},9829:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(n(5158)).default("https-proxy-agent:parse-proxy-response");e.default=function(t){return new Promise(((e,n)=>{let r=0;const o=[];function s(){const n=t.read();n?function(t){o.push(t),r+=t.length;const n=Buffer.concat(o,r);if(-1===n.indexOf("\r\n\r\n"))return i("have not received end of HTTP headers yet..."),void s();const a=n.toString("ascii",0,n.indexOf("\r\n")),c=+a.split(" ")[1];i("got proxy server response: %o",a),e({statusCode:c,buffered:n})}(n):t.once("readable",s)}function a(t){i("onclose had error %o",t)}function c(){i("onend")}t.on("error",(function e(r){t.removeListener("end",c),t.removeListener("error",e),t.removeListener("close",a),t.removeListener("readable",s),i("onerror %o",r),n(r)})),t.on("close",a),t.on("end",c),s()}))}},6486:function(t,e,n){var r;t=n.nmd(t),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",c=32,u=128,l=1/0,p=9007199254740991,h=NaN,d=4294967295,f=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],_="[object Arguments]",g="[object Array]",m="[object Boolean]",y="[object Date]",v="[object Error]",b="[object Function]",E="[object GeneratorFunction]",w="[object Map]",S="[object Number]",T="[object Object]",x="[object Promise]",I="[object RegExp]",O="[object Set]",D="[object String]",k="[object Symbol]",C="[object WeakMap]",N="[object ArrayBuffer]",A="[object DataView]",P="[object Float32Array]",R="[object Float64Array]",j="[object Int8Array]",B="[object Int16Array]",U="[object Int32Array]",F="[object Uint8Array]",M="[object Uint8ClampedArray]",L="[object Uint16Array]",q="[object Uint32Array]",$=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,V=/&(?:amp|lt|gt|quot|#39);/g,z=/[&<>"']/g,H=RegExp(V.source),W=RegExp(z.source),J=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(et.source),rt=/^\s+/,it=/\s/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,st=/\{\n\/\* \[wrapped with (.+)\] \*/,at=/,? & /,ct=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ut=/[()=,{}\[\]\/\s]/,lt=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ht=/\w*$/,dt=/^[-+]0x[0-9a-f]+$/i,ft=/^0b[01]+$/i,_t=/^\[object .+?Constructor\]$/,gt=/^0o[0-7]+$/i,mt=/^(?:0|[1-9]\d*)$/,yt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vt=/($^)/,bt=/['\n\r\u2028\u2029\\]/g,Et="\\ud800-\\udfff",wt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",St="\\u2700-\\u27bf",Tt="a-z\\xdf-\\xf6\\xf8-\\xff",xt="A-Z\\xc0-\\xd6\\xd8-\\xde",It="\\ufe0e\\ufe0f",Ot="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Dt="["+Et+"]",kt="["+Ot+"]",Ct="["+wt+"]",Nt="\\d+",At="["+St+"]",Pt="["+Tt+"]",Rt="[^"+Et+Ot+Nt+St+Tt+xt+"]",jt="\\ud83c[\\udffb-\\udfff]",Bt="[^"+Et+"]",Ut="(?:\\ud83c[\\udde6-\\uddff]){2}",Ft="[\\ud800-\\udbff][\\udc00-\\udfff]",Mt="["+xt+"]",Lt="\\u200d",qt="(?:"+Pt+"|"+Rt+")",$t="(?:"+Mt+"|"+Rt+")",Gt="(?:['’](?:d|ll|m|re|s|t|ve))?",Yt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Vt="(?:"+Ct+"|"+jt+")?",zt="["+It+"]?",Ht=zt+Vt+"(?:"+Lt+"(?:"+[Bt,Ut,Ft].join("|")+")"+zt+Vt+")*",Wt="(?:"+[At,Ut,Ft].join("|")+")"+Ht,Jt="(?:"+[Bt+Ct+"?",Ct,Ut,Ft,Dt].join("|")+")",Kt=RegExp("['’]","g"),Xt=RegExp(Ct,"g"),Zt=RegExp(jt+"(?="+jt+")|"+Jt+Ht,"g"),Qt=RegExp([Mt+"?"+Pt+"+"+Gt+"(?="+[kt,Mt,"$"].join("|")+")",$t+"+"+Yt+"(?="+[kt,Mt+qt,"$"].join("|")+")",Mt+"?"+qt+"+"+Gt,Mt+"+"+Yt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Nt,Wt].join("|"),"g"),te=RegExp("["+Lt+Et+wt+It+"]"),ee=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ne=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],re=-1,ie={};ie[P]=ie[R]=ie[j]=ie[B]=ie[U]=ie[F]=ie[M]=ie[L]=ie[q]=!0,ie[_]=ie[g]=ie[N]=ie[m]=ie[A]=ie[y]=ie[v]=ie[b]=ie[w]=ie[S]=ie[T]=ie[I]=ie[O]=ie[D]=ie[C]=!1;var oe={};oe[_]=oe[g]=oe[N]=oe[A]=oe[m]=oe[y]=oe[P]=oe[R]=oe[j]=oe[B]=oe[U]=oe[w]=oe[S]=oe[T]=oe[I]=oe[O]=oe[D]=oe[k]=oe[F]=oe[M]=oe[L]=oe[q]=!0,oe[v]=oe[b]=oe[C]=!1;var se={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ae=parseFloat,ce=parseInt,ue="object"==typeof global&&global&&global.Object===Object&&global,le="object"==typeof self&&self&&self.Object===Object&&self,pe=ue||le||Function("return this")(),he=e&&!e.nodeType&&e,de=he&&t&&!t.nodeType&&t,fe=de&&de.exports===he,_e=fe&&ue.process,ge=function(){try{return de&&de.require&&de.require("util").types||_e&&_e.binding&&_e.binding("util")}catch(t){}}(),me=ge&&ge.isArrayBuffer,ye=ge&&ge.isDate,ve=ge&&ge.isMap,be=ge&&ge.isRegExp,Ee=ge&&ge.isSet,we=ge&&ge.isTypedArray;function Se(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Te(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function xe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Ie(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Oe(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function De(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function ke(t,e){return!(null==t||!t.length)&&Me(t,e,0)>-1}function Ce(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Ne(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Ae(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Pe(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Re(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function je(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Be=Ge("length");function Ue(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function Fe(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function Me(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):Fe(t,qe,n)}function Le(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function qe(t){return t!=t}function $e(t,e){var n=null==t?0:t.length;return n?ze(t,e)/n:h}function Ge(t){return function(e){return null==e?i:e[t]}}function Ye(t){return function(e){return null==t?i:t[e]}}function Ve(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}function ze(t,e){for(var n,r=-1,o=t.length;++r<o;){var s=e(t[r]);s!==i&&(n=n===i?s:n+s)}return n}function He(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function We(t){return t?t.slice(0,hn(t)+1).replace(rt,""):t}function Je(t){return function(e){return t(e)}}function Ke(t,e){return Ne(e,(function(e){return t[e]}))}function Xe(t,e){return t.has(e)}function Ze(t,e){for(var n=-1,r=t.length;++n<r&&Me(e,t[n],0)>-1;);return n}function Qe(t,e){for(var n=t.length;n--&&Me(e,t[n],0)>-1;);return n}var tn=Ye({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),en=Ye({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function nn(t){return"\\"+se[t]}function rn(t){return te.test(t)}function on(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function sn(t,e){return function(n){return t(e(n))}}function an(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&s!==a||(t[n]=a,o[i++]=n)}return o}function cn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function un(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function ln(t){return rn(t)?function(t){for(var e=Zt.lastIndex=0;Zt.test(t);)++e;return e}(t):Be(t)}function pn(t){return rn(t)?function(t){return t.match(Zt)||[]}(t):function(t){return t.split("")}(t)}function hn(t){for(var e=t.length;e--&&it.test(t.charAt(e)););return e}var dn=Ye({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),fn=function t(e){var n,r=(e=null==e?pe:fn.defaults(pe.Object(),e,fn.pick(pe,ne))).Array,it=e.Date,Et=e.Error,wt=e.Function,St=e.Math,Tt=e.Object,xt=e.RegExp,It=e.String,Ot=e.TypeError,Dt=r.prototype,kt=wt.prototype,Ct=Tt.prototype,Nt=e["__core-js_shared__"],At=kt.toString,Pt=Ct.hasOwnProperty,Rt=0,jt=(n=/[^.]+$/.exec(Nt&&Nt.keys&&Nt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Bt=Ct.toString,Ut=At.call(Tt),Ft=pe._,Mt=xt("^"+At.call(Pt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Lt=fe?e.Buffer:i,qt=e.Symbol,$t=e.Uint8Array,Gt=Lt?Lt.allocUnsafe:i,Yt=sn(Tt.getPrototypeOf,Tt),Vt=Tt.create,zt=Ct.propertyIsEnumerable,Ht=Dt.splice,Wt=qt?qt.isConcatSpreadable:i,Jt=qt?qt.iterator:i,Zt=qt?qt.toStringTag:i,te=function(){try{var t=co(Tt,"defineProperty");return t({},"",{}),t}catch(t){}}(),se=e.clearTimeout!==pe.clearTimeout&&e.clearTimeout,ue=it&&it.now!==pe.Date.now&&it.now,le=e.setTimeout!==pe.setTimeout&&e.setTimeout,he=St.ceil,de=St.floor,_e=Tt.getOwnPropertySymbols,ge=Lt?Lt.isBuffer:i,Be=e.isFinite,Ye=Dt.join,_n=sn(Tt.keys,Tt),gn=St.max,mn=St.min,yn=it.now,vn=e.parseInt,bn=St.random,En=Dt.reverse,wn=co(e,"DataView"),Sn=co(e,"Map"),Tn=co(e,"Promise"),xn=co(e,"Set"),In=co(e,"WeakMap"),On=co(Tt,"create"),Dn=In&&new In,kn={},Cn=jo(wn),Nn=jo(Sn),An=jo(Tn),Pn=jo(xn),Rn=jo(In),jn=qt?qt.prototype:i,Bn=jn?jn.valueOf:i,Un=jn?jn.toString:i;function Fn(t){if(Zs(t)&&!qs(t)&&!(t instanceof $n)){if(t instanceof qn)return t;if(Pt.call(t,"__wrapped__"))return Bo(t)}return new qn(t)}var Mn=function(){function t(){}return function(e){if(!Xs(e))return{};if(Vt)return Vt(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function Ln(){}function qn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function $n(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Yn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Vn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function zn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Vn;++e<n;)this.add(t[e])}function Hn(t){var e=this.__data__=new Yn(t);this.size=e.size}function Wn(t,e){var n=qs(t),r=!n&&Ls(t),i=!n&&!r&&Vs(t),o=!n&&!r&&!i&&sa(t),s=n||r||i||o,a=s?He(t.length,It):[],c=a.length;for(var u in t)!e&&!Pt.call(t,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||go(u,c))||a.push(u);return a}function Jn(t){var e=t.length;return e?t[Vr(0,e-1)]:i}function Kn(t,e){return Ao(Ii(t),or(e,0,t.length))}function Xn(t){return Ao(Ii(t))}function Zn(t,e,n){(n!==i&&!Us(t[e],n)||n===i&&!(e in t))&&rr(t,e,n)}function Qn(t,e,n){var r=t[e];Pt.call(t,e)&&Us(r,n)&&(n!==i||e in t)||rr(t,e,n)}function tr(t,e){for(var n=t.length;n--;)if(Us(t[n][0],e))return n;return-1}function er(t,e,n,r){return lr(t,(function(t,i,o){e(r,t,n(t),o)})),r}function nr(t,e){return t&&Oi(e,Da(e),t)}function rr(t,e,n){"__proto__"==e&&te?te(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ir(t,e){for(var n=-1,o=e.length,s=r(o),a=null==t;++n<o;)s[n]=a?i:Sa(t,e[n]);return s}function or(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function sr(t,e,n,r,o,s){var a,c=1&e,u=2&e,l=4&e;if(n&&(a=o?n(t,r,o,s):n(t)),a!==i)return a;if(!Xs(t))return t;var p=qs(t);if(p){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Pt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!c)return Ii(t,a)}else{var h=po(t),d=h==b||h==E;if(Vs(t))return bi(t,c);if(h==T||h==_||d&&!o){if(a=u||d?{}:fo(t),!c)return u?function(t,e){return Oi(t,lo(t),e)}(t,function(t,e){return t&&Oi(e,ka(e),t)}(a,t)):function(t,e){return Oi(t,uo(t),e)}(t,nr(a,t))}else{if(!oe[h])return o?t:{};a=function(t,e,n){var r,i=t.constructor;switch(e){case N:return Ei(t);case m:case y:return new i(+t);case A:return function(t,e){var n=e?Ei(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case P:case R:case j:case B:case U:case F:case M:case L:case q:return wi(t,n);case w:return new i;case S:case D:return new i(t);case I:return function(t){var e=new t.constructor(t.source,ht.exec(t));return e.lastIndex=t.lastIndex,e}(t);case O:return new i;case k:return r=t,Bn?Tt(Bn.call(r)):{}}}(t,h,c)}}s||(s=new Hn);var f=s.get(t);if(f)return f;s.set(t,a),ra(t)?t.forEach((function(r){a.add(sr(r,e,n,r,t,s))})):Qs(t)&&t.forEach((function(r,i){a.set(i,sr(r,e,n,i,t,s))}));var g=p?i:(l?u?eo:to:u?ka:Da)(t);return xe(g||t,(function(r,i){g&&(r=t[i=r]),Qn(a,i,sr(r,e,n,i,t,s))})),a}function ar(t,e,n){var r=n.length;if(null==t)return!r;for(t=Tt(t);r--;){var o=n[r],s=e[o],a=t[o];if(a===i&&!(o in t)||!s(a))return!1}return!0}function cr(t,e,n){if("function"!=typeof t)throw new Ot(o);return Do((function(){t.apply(i,n)}),e)}function ur(t,e,n,r){var i=-1,o=ke,s=!0,a=t.length,c=[],u=e.length;if(!a)return c;n&&(e=Ne(e,Je(n))),r?(o=Ce,s=!1):e.length>=200&&(o=Xe,s=!1,e=new zn(e));t:for(;++i<a;){var l=t[i],p=null==n?l:n(l);if(l=r||0!==l?l:0,s&&p==p){for(var h=u;h--;)if(e[h]===p)continue t;c.push(l)}else o(e,p,r)||c.push(l)}return c}Fn.templateSettings={escape:J,evaluate:K,interpolate:X,variable:"",imports:{_:Fn}},Fn.prototype=Ln.prototype,Fn.prototype.constructor=Fn,qn.prototype=Mn(Ln.prototype),qn.prototype.constructor=qn,$n.prototype=Mn(Ln.prototype),$n.prototype.constructor=$n,Gn.prototype.clear=function(){this.__data__=On?On(null):{},this.size=0},Gn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Gn.prototype.get=function(t){var e=this.__data__;if(On){var n=e[t];return n===s?i:n}return Pt.call(e,t)?e[t]:i},Gn.prototype.has=function(t){var e=this.__data__;return On?e[t]!==i:Pt.call(e,t)},Gn.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=On&&e===i?s:e,this},Yn.prototype.clear=function(){this.__data__=[],this.size=0},Yn.prototype.delete=function(t){var e=this.__data__,n=tr(e,t);return!(n<0||(n==e.length-1?e.pop():Ht.call(e,n,1),--this.size,0))},Yn.prototype.get=function(t){var e=this.__data__,n=tr(e,t);return n<0?i:e[n][1]},Yn.prototype.has=function(t){return tr(this.__data__,t)>-1},Yn.prototype.set=function(t,e){var n=this.__data__,r=tr(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Vn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(Sn||Yn),string:new Gn}},Vn.prototype.delete=function(t){var e=so(this,t).delete(t);return this.size-=e?1:0,e},Vn.prototype.get=function(t){return so(this,t).get(t)},Vn.prototype.has=function(t){return so(this,t).has(t)},Vn.prototype.set=function(t,e){var n=so(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},zn.prototype.add=zn.prototype.push=function(t){return this.__data__.set(t,s),this},zn.prototype.has=function(t){return this.__data__.has(t)},Hn.prototype.clear=function(){this.__data__=new Yn,this.size=0},Hn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Hn.prototype.get=function(t){return this.__data__.get(t)},Hn.prototype.has=function(t){return this.__data__.has(t)},Hn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Yn){var r=n.__data__;if(!Sn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Vn(r)}return n.set(t,e),this.size=n.size,this};var lr=Ci(yr),pr=Ci(vr,!0);function hr(t,e){var n=!0;return lr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function dr(t,e,n){for(var r=-1,o=t.length;++r<o;){var s=t[r],a=e(s);if(null!=a&&(c===i?a==a&&!oa(a):n(a,c)))var c=a,u=s}return u}function fr(t,e){var n=[];return lr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function _r(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=_o),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?_r(a,e-1,n,r,i):Ae(i,a):r||(i[i.length]=a)}return i}var gr=Ni(),mr=Ni(!0);function yr(t,e){return t&&gr(t,e,Da)}function vr(t,e){return t&&mr(t,e,Da)}function br(t,e){return De(e,(function(e){return Ws(t[e])}))}function Er(t,e){for(var n=0,r=(e=gi(e,t)).length;null!=t&&n<r;)t=t[Ro(e[n++])];return n&&n==r?t:i}function wr(t,e,n){var r=e(t);return qs(t)?r:Ae(r,n(t))}function Sr(t){return null==t?t===i?"[object Undefined]":"[object Null]":Zt&&Zt in Tt(t)?function(t){var e=Pt.call(t,Zt),n=t[Zt];try{t[Zt]=i;var r=!0}catch(t){}var o=Bt.call(t);return r&&(e?t[Zt]=n:delete t[Zt]),o}(t):function(t){return Bt.call(t)}(t)}function Tr(t,e){return t>e}function xr(t,e){return null!=t&&Pt.call(t,e)}function Ir(t,e){return null!=t&&e in Tt(t)}function Or(t,e,n){for(var o=n?Ce:ke,s=t[0].length,a=t.length,c=a,u=r(a),l=1/0,p=[];c--;){var h=t[c];c&&e&&(h=Ne(h,Je(e))),l=mn(h.length,l),u[c]=!n&&(e||s>=120&&h.length>=120)?new zn(c&&h):i}h=t[0];var d=-1,f=u[0];t:for(;++d<s&&p.length<l;){var _=h[d],g=e?e(_):_;if(_=n||0!==_?_:0,!(f?Xe(f,g):o(p,g,n))){for(c=a;--c;){var m=u[c];if(!(m?Xe(m,g):o(t[c],g,n)))continue t}f&&f.push(g),p.push(_)}}return p}function Dr(t,e,n){var r=null==(t=xo(t,e=gi(e,t)))?t:t[Ro(Ho(e))];return null==r?i:Se(r,t,n)}function kr(t){return Zs(t)&&Sr(t)==_}function Cr(t,e,n,r,o){return t===e||(null==t||null==e||!Zs(t)&&!Zs(e)?t!=t&&e!=e:function(t,e,n,r,o,s){var a=qs(t),c=qs(e),u=a?g:po(t),l=c?g:po(e),p=(u=u==_?T:u)==T,h=(l=l==_?T:l)==T,d=u==l;if(d&&Vs(t)){if(!Vs(e))return!1;a=!0,p=!1}if(d&&!p)return s||(s=new Hn),a||sa(t)?Zi(t,e,n,r,o,s):function(t,e,n,r,i,o,s){switch(n){case A:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case N:return!(t.byteLength!=e.byteLength||!o(new $t(t),new $t(e)));case m:case y:case S:return Us(+t,+e);case v:return t.name==e.name&&t.message==e.message;case I:case D:return t==e+"";case w:var a=on;case O:var c=1&r;if(a||(a=cn),t.size!=e.size&&!c)return!1;var u=s.get(t);if(u)return u==e;r|=2,s.set(t,e);var l=Zi(a(t),a(e),r,i,o,s);return s.delete(t),l;case k:if(Bn)return Bn.call(t)==Bn.call(e)}return!1}(t,e,u,n,r,o,s);if(!(1&n)){var f=p&&Pt.call(t,"__wrapped__"),b=h&&Pt.call(e,"__wrapped__");if(f||b){var E=f?t.value():t,x=b?e.value():e;return s||(s=new Hn),o(E,x,n,r,s)}}return!!d&&(s||(s=new Hn),function(t,e,n,r,o,s){var a=1&n,c=to(t),u=c.length;if(u!=to(e).length&&!a)return!1;for(var l=u;l--;){var p=c[l];if(!(a?p in e:Pt.call(e,p)))return!1}var h=s.get(t),d=s.get(e);if(h&&d)return h==e&&d==t;var f=!0;s.set(t,e),s.set(e,t);for(var _=a;++l<u;){var g=t[p=c[l]],m=e[p];if(r)var y=a?r(m,g,p,e,t,s):r(g,m,p,t,e,s);if(!(y===i?g===m||o(g,m,n,r,s):y)){f=!1;break}_||(_="constructor"==p)}if(f&&!_){var v=t.constructor,b=e.constructor;v==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(f=!1)}return s.delete(t),s.delete(e),f}(t,e,n,r,o,s))}(t,e,n,r,Cr,o))}function Nr(t,e,n,r){var o=n.length,s=o,a=!r;if(null==t)return!s;for(t=Tt(t);o--;){var c=n[o];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++o<s;){var u=(c=n[o])[0],l=t[u],p=c[1];if(a&&c[2]){if(l===i&&!(u in t))return!1}else{var h=new Hn;if(r)var d=r(l,p,u,t,e,h);if(!(d===i?Cr(p,l,3,r,h):d))return!1}}return!0}function Ar(t){return!(!Xs(t)||(e=t,jt&&jt in e))&&(Ws(t)?Mt:_t).test(jo(t));var e}function Pr(t){return"function"==typeof t?t:null==t?tc:"object"==typeof t?qs(t)?Fr(t[0],t[1]):Ur(t):uc(t)}function Rr(t){if(!Eo(t))return _n(t);var e=[];for(var n in Tt(t))Pt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function jr(t,e){return t<e}function Br(t,e){var n=-1,i=Gs(t)?r(t.length):[];return lr(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function Ur(t){var e=ao(t);return 1==e.length&&e[0][2]?So(e[0][0],e[0][1]):function(n){return n===t||Nr(n,t,e)}}function Fr(t,e){return yo(t)&&wo(e)?So(Ro(t),e):function(n){var r=Sa(n,t);return r===i&&r===e?Ta(n,t):Cr(e,r,3)}}function Mr(t,e,n,r,o){t!==e&&gr(e,(function(s,a){if(o||(o=new Hn),Xs(s))!function(t,e,n,r,o,s,a){var c=Io(t,n),u=Io(e,n),l=a.get(u);if(l)Zn(t,n,l);else{var p=s?s(c,u,n+"",t,e,a):i,h=p===i;if(h){var d=qs(u),f=!d&&Vs(u),_=!d&&!f&&sa(u);p=u,d||f||_?qs(c)?p=c:Ys(c)?p=Ii(c):f?(h=!1,p=bi(u,!0)):_?(h=!1,p=wi(u,!0)):p=[]:ea(u)||Ls(u)?(p=c,Ls(c)?p=fa(c):Xs(c)&&!Ws(c)||(p=fo(u))):h=!1}h&&(a.set(u,p),o(p,u,r,s,a),a.delete(u)),Zn(t,n,p)}}(t,e,a,n,Mr,r,o);else{var c=r?r(Io(t,a),s,a+"",t,e,o):i;c===i&&(c=s),Zn(t,a,c)}}),ka)}function Lr(t,e){var n=t.length;if(n)return go(e+=e<0?n:0,n)?t[e]:i}function qr(t,e,n){e=e.length?Ne(e,(function(t){return qs(t)?function(e){return Er(e,1===t.length?t[0]:t)}:t})):[tc];var r=-1;e=Ne(e,Je(oo()));var i=Br(t,(function(t,n,i){var o=Ne(e,(function(e){return e(t)}));return{criteria:o,index:++r,value:t}}));return function(t,e){var r=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var c=Si(i[r],o[r]);if(c)return r>=a?c:c*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}));r--;)t[r]=t[r].value;return t}(i)}function $r(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=Er(t,s);n(a,s)&&Kr(o,gi(s,t),a)}return o}function Gr(t,e,n,r){var i=r?Le:Me,o=-1,s=e.length,a=t;for(t===e&&(e=Ii(e)),n&&(a=Ne(t,Je(n)));++o<s;)for(var c=0,u=e[o],l=n?n(u):u;(c=i(a,l,c,r))>-1;)a!==t&&Ht.call(a,c,1),Ht.call(t,c,1);return t}function Yr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;go(i)?Ht.call(t,i,1):ci(t,i)}}return t}function Vr(t,e){return t+de(bn()*(e-t+1))}function zr(t,e){var n="";if(!t||e<1||e>p)return n;do{e%2&&(n+=t),(e=de(e/2))&&(t+=t)}while(e);return n}function Hr(t,e){return ko(To(t,e,tc),t+"")}function Wr(t){return Jn(Ua(t))}function Jr(t,e){var n=Ua(t);return Ao(n,or(e,0,n.length))}function Kr(t,e,n,r){if(!Xs(t))return t;for(var o=-1,s=(e=gi(e,t)).length,a=s-1,c=t;null!=c&&++o<s;){var u=Ro(e[o]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(o!=a){var p=c[u];(l=r?r(p,u,c):i)===i&&(l=Xs(p)?p:go(e[o+1])?[]:{})}Qn(c,u,l),c=c[u]}return t}var Xr=Dn?function(t,e){return Dn.set(t,e),t}:tc,Zr=te?function(t,e){return te(t,"toString",{configurable:!0,enumerable:!1,value:Xa(e),writable:!0})}:tc;function Qr(t){return Ao(Ua(t))}function ti(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(n=n>o?o:n)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var s=r(o);++i<o;)s[i]=t[i+e];return s}function ei(t,e){var n;return lr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function ni(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=t[o];null!==s&&!oa(s)&&(n?s<=e:s<e)?r=o+1:i=o}return i}return ri(t,e,tc,n)}function ri(t,e,n,r){var o=0,s=null==t?0:t.length;if(0===s)return 0;for(var a=(e=n(e))!=e,c=null===e,u=oa(e),l=e===i;o<s;){var p=de((o+s)/2),h=n(t[p]),d=h!==i,f=null===h,_=h==h,g=oa(h);if(a)var m=r||_;else m=l?_&&(r||d):c?_&&d&&(r||!f):u?_&&d&&!f&&(r||!g):!f&&!g&&(r?h<=e:h<e);m?o=p+1:s=p}return mn(s,4294967294)}function ii(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!Us(a,c)){var c=a;o[i++]=0===s?0:s}}return o}function oi(t){return"number"==typeof t?t:oa(t)?h:+t}function si(t){if("string"==typeof t)return t;if(qs(t))return Ne(t,si)+"";if(oa(t))return Un?Un.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ai(t,e,n){var r=-1,i=ke,o=t.length,s=!0,a=[],c=a;if(n)s=!1,i=Ce;else if(o>=200){var u=e?null:zi(t);if(u)return cn(u);s=!1,i=Xe,c=new zn}else c=e?[]:a;t:for(;++r<o;){var l=t[r],p=e?e(l):l;if(l=n||0!==l?l:0,s&&p==p){for(var h=c.length;h--;)if(c[h]===p)continue t;e&&c.push(p),a.push(l)}else i(c,p,n)||(c!==a&&c.push(p),a.push(l))}return a}function ci(t,e){return null==(t=xo(t,e=gi(e,t)))||delete t[Ro(Ho(e))]}function ui(t,e,n,r){return Kr(t,e,n(Er(t,e)),r)}function li(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ti(t,r?0:o,r?o+1:i):ti(t,r?o+1:0,r?i:o)}function pi(t,e){var n=t;return n instanceof $n&&(n=n.value()),Pe(e,(function(t,e){return e.func.apply(e.thisArg,Ae([t],e.args))}),n)}function hi(t,e,n){var i=t.length;if(i<2)return i?ai(t[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=t[o],c=-1;++c<i;)c!=o&&(s[o]=ur(s[o]||a,t[c],e,n));return ai(_r(s,1),e,n)}function di(t,e,n){for(var r=-1,o=t.length,s=e.length,a={};++r<o;){var c=r<s?e[r]:i;n(a,t[r],c)}return a}function fi(t){return Ys(t)?t:[]}function _i(t){return"function"==typeof t?t:tc}function gi(t,e){return qs(t)?t:yo(t,e)?[t]:Po(_a(t))}var mi=Hr;function yi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ti(t,e,n)}var vi=se||function(t){return pe.clearTimeout(t)};function bi(t,e){if(e)return t.slice();var n=t.length,r=Gt?Gt(n):new t.constructor(n);return t.copy(r),r}function Ei(t){var e=new t.constructor(t.byteLength);return new $t(e).set(new $t(t)),e}function wi(t,e){var n=e?Ei(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Si(t,e){if(t!==e){var n=t!==i,r=null===t,o=t==t,s=oa(t),a=e!==i,c=null===e,u=e==e,l=oa(e);if(!c&&!l&&!s&&t>e||s&&a&&u&&!c&&!l||r&&a&&u||!n&&u||!o)return 1;if(!r&&!s&&!l&&t<e||l&&n&&o&&!r&&!s||c&&n&&o||!a&&o||!u)return-1}return 0}function Ti(t,e,n,i){for(var o=-1,s=t.length,a=n.length,c=-1,u=e.length,l=gn(s-a,0),p=r(u+l),h=!i;++c<u;)p[c]=e[c];for(;++o<a;)(h||o<s)&&(p[n[o]]=t[o]);for(;l--;)p[c++]=t[o++];return p}function xi(t,e,n,i){for(var o=-1,s=t.length,a=-1,c=n.length,u=-1,l=e.length,p=gn(s-c,0),h=r(p+l),d=!i;++o<p;)h[o]=t[o];for(var f=o;++u<l;)h[f+u]=e[u];for(;++a<c;)(d||o<s)&&(h[f+n[a]]=t[o++]);return h}function Ii(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function Oi(t,e,n,r){var o=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var c=e[s],u=r?r(n[c],t[c],c,n,t):i;u===i&&(u=t[c]),o?rr(n,c,u):Qn(n,c,u)}return n}function Di(t,e){return function(n,r){var i=qs(n)?Te:er,o=e?e():{};return i(n,t,oo(r,2),o)}}function ki(t){return Hr((function(e,n){var r=-1,o=n.length,s=o>1?n[o-1]:i,a=o>2?n[2]:i;for(s=t.length>3&&"function"==typeof s?(o--,s):i,a&&mo(n[0],n[1],a)&&(s=o<3?i:s,o=1),e=Tt(e);++r<o;){var c=n[r];c&&t(e,c,r,s)}return e}))}function Ci(t,e){return function(n,r){if(null==n)return n;if(!Gs(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Tt(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ni(t){return function(e,n,r){for(var i=-1,o=Tt(e),s=r(e),a=s.length;a--;){var c=s[t?a:++i];if(!1===n(o[c],c,o))break}return e}}function Ai(t){return function(e){var n=rn(e=_a(e))?pn(e):i,r=n?n[0]:e.charAt(0),o=n?yi(n,1).join(""):e.slice(1);return r[t]()+o}}function Pi(t){return function(e){return Pe(Wa(La(e).replace(Kt,"")),t,"")}}function Ri(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Mn(t.prototype),r=t.apply(n,e);return Xs(r)?r:n}}function ji(t){return function(e,n,r){var o=Tt(e);if(!Gs(e)){var s=oo(n,3);e=Da(e),n=function(t){return s(o[t],t,o)}}var a=t(e,n,r);return a>-1?o[s?e[a]:a]:i}}function Bi(t){return Qi((function(e){var n=e.length,r=n,s=qn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new Ot(o);if(s&&!c&&"wrapper"==ro(a))var c=new qn([],!0)}for(r=c?r:n;++r<n;){var u=ro(a=e[r]),l="wrapper"==u?no(a):i;c=l&&vo(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?c[ro(l[0])].apply(c,l[3]):1==a.length&&vo(a)?c[u]():c.thru(a)}return function(){var t=arguments,r=t[0];if(c&&1==t.length&&qs(r))return c.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}}))}function Ui(t,e,n,o,s,a,c,l,p,h){var d=e&u,f=1&e,_=2&e,g=24&e,m=512&e,y=_?i:Ri(t);return function u(){for(var v=arguments.length,b=r(v),E=v;E--;)b[E]=arguments[E];if(g)var w=io(u),S=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(b,w);if(o&&(b=Ti(b,o,s,g)),a&&(b=xi(b,a,c,g)),v-=S,g&&v<h){var T=an(b,w);return Yi(t,e,Ui,u.placeholder,n,b,T,l,p,h-v)}var x=f?n:this,I=_?x[t]:t;return v=b.length,l?b=function(t,e){for(var n=t.length,r=mn(e.length,n),o=Ii(t);r--;){var s=e[r];t[r]=go(s,n)?o[s]:i}return t}(b,l):m&&v>1&&b.reverse(),d&&p<v&&(b.length=p),this&&this!==pe&&this instanceof u&&(I=y||Ri(I)),I.apply(x,b)}}function Fi(t,e){return function(n,r){return function(t,e,n,r){return yr(t,(function(t,i,o){e(r,n(t),i,o)})),r}(n,t,e(r),{})}}function Mi(t,e){return function(n,r){var o;if(n===i&&r===i)return e;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=si(n),r=si(r)):(n=oi(n),r=oi(r)),o=t(n,r)}return o}}function Li(t){return Qi((function(e){return e=Ne(e,Je(oo())),Hr((function(n){var r=this;return t(e,(function(t){return Se(t,r,n)}))}))}))}function qi(t,e){var n=(e=e===i?" ":si(e)).length;if(n<2)return n?zr(e,t):e;var r=zr(e,he(t/ln(e)));return rn(e)?yi(pn(r),0,t).join(""):r.slice(0,t)}function $i(t){return function(e,n,o){return o&&"number"!=typeof o&&mo(e,n,o)&&(n=o=i),e=la(e),n===i?(n=e,e=0):n=la(n),function(t,e,n,i){for(var o=-1,s=gn(he((e-t)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=t,t+=n;return a}(e,n,o=o===i?e<n?1:-1:la(o),t)}}function Gi(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=da(e),n=da(n)),t(e,n)}}function Yi(t,e,n,r,o,s,a,u,l,p){var h=8&e;e|=h?c:64,4&(e&=~(h?64:c))||(e&=-4);var d=[t,e,o,h?s:i,h?a:i,h?i:s,h?i:a,u,l,p],f=n.apply(i,d);return vo(t)&&Oo(f,d),f.placeholder=r,Co(f,t,e)}function Vi(t){var e=St[t];return function(t,n){if(t=da(t),(n=null==n?0:mn(pa(n),292))&&Be(t)){var r=(_a(t)+"e").split("e");return+((r=(_a(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var zi=xn&&1/cn(new xn([,-0]))[1]==l?function(t){return new xn(t)}:oc;function Hi(t){return function(e){var n=po(e);return n==w?on(e):n==O?un(e):function(t,e){return Ne(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Wi(t,e,n,s,l,p,h,d){var f=2&e;if(!f&&"function"!=typeof t)throw new Ot(o);var _=s?s.length:0;if(_||(e&=-97,s=l=i),h=h===i?h:gn(pa(h),0),d=d===i?d:pa(d),_-=l?l.length:0,64&e){var g=s,m=l;s=l=i}var y=f?i:no(t),v=[t,e,n,s,l,g,m,p,h,d];if(y&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<131,s=r==u&&8==n||r==u&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!o&&!s)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var c=e[3];if(c){var l=t[3];t[3]=l?Ti(l,c,e[4]):c,t[4]=l?an(t[3],a):e[4]}(c=e[5])&&(l=t[5],t[5]=l?xi(l,c,e[6]):c,t[6]=l?an(t[5],a):e[6]),(c=e[7])&&(t[7]=c),r&u&&(t[8]=null==t[8]?e[8]:mn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(v,y),t=v[0],e=v[1],n=v[2],s=v[3],l=v[4],!(d=v[9]=v[9]===i?f?0:t.length:gn(v[9]-_,0))&&24&e&&(e&=-25),e&&1!=e)b=8==e||16==e?function(t,e,n){var o=Ri(t);return function s(){for(var a=arguments.length,c=r(a),u=a,l=io(s);u--;)c[u]=arguments[u];var p=a<3&&c[0]!==l&&c[a-1]!==l?[]:an(c,l);return(a-=p.length)<n?Yi(t,e,Ui,s.placeholder,i,c,p,i,i,n-a):Se(this&&this!==pe&&this instanceof s?o:t,this,c)}}(t,e,d):e!=c&&33!=e||l.length?Ui.apply(i,v):function(t,e,n,i){var o=1&e,s=Ri(t);return function e(){for(var a=-1,c=arguments.length,u=-1,l=i.length,p=r(l+c),h=this&&this!==pe&&this instanceof e?s:t;++u<l;)p[u]=i[u];for(;c--;)p[u++]=arguments[++a];return Se(h,o?n:this,p)}}(t,e,n,s);else var b=function(t,e,n){var r=1&e,i=Ri(t);return function e(){return(this&&this!==pe&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return Co((y?Xr:Oo)(b,v),t,e)}function Ji(t,e,n,r){return t===i||Us(t,Ct[n])&&!Pt.call(r,n)?e:t}function Ki(t,e,n,r,o,s){return Xs(t)&&Xs(e)&&(s.set(e,t),Mr(t,e,i,Ki,s),s.delete(e)),t}function Xi(t){return ea(t)?i:t}function Zi(t,e,n,r,o,s){var a=1&n,c=t.length,u=e.length;if(c!=u&&!(a&&u>c))return!1;var l=s.get(t),p=s.get(e);if(l&&p)return l==e&&p==t;var h=-1,d=!0,f=2&n?new zn:i;for(s.set(t,e),s.set(e,t);++h<c;){var _=t[h],g=e[h];if(r)var m=a?r(g,_,h,e,t,s):r(_,g,h,t,e,s);if(m!==i){if(m)continue;d=!1;break}if(f){if(!je(e,(function(t,e){if(!Xe(f,e)&&(_===t||o(_,t,n,r,s)))return f.push(e)}))){d=!1;break}}else if(_!==g&&!o(_,g,n,r,s)){d=!1;break}}return s.delete(t),s.delete(e),d}function Qi(t){return ko(To(t,i,$o),t+"")}function to(t){return wr(t,Da,uo)}function eo(t){return wr(t,ka,lo)}var no=Dn?function(t){return Dn.get(t)}:oc;function ro(t){for(var e=t.name+"",n=kn[e],r=Pt.call(kn,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function io(t){return(Pt.call(Fn,"placeholder")?Fn:t).placeholder}function oo(){var t=Fn.iteratee||ec;return t=t===ec?Pr:t,arguments.length?t(arguments[0],arguments[1]):t}function so(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function ao(t){for(var e=Da(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,wo(i)]}return e}function co(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Ar(n)?n:i}var uo=_e?function(t){return null==t?[]:(t=Tt(t),De(_e(t),(function(e){return zt.call(t,e)})))}:hc,lo=_e?function(t){for(var e=[];t;)Ae(e,uo(t)),t=Yt(t);return e}:hc,po=Sr;function ho(t,e,n){for(var r=-1,i=(e=gi(e,t)).length,o=!1;++r<i;){var s=Ro(e[r]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ks(i)&&go(s,i)&&(qs(t)||Ls(t))}function fo(t){return"function"!=typeof t.constructor||Eo(t)?{}:Mn(Yt(t))}function _o(t){return qs(t)||Ls(t)||!!(Wt&&t&&t[Wt])}function go(t,e){var n=typeof t;return!!(e=null==e?p:e)&&("number"==n||"symbol"!=n&&mt.test(t))&&t>-1&&t%1==0&&t<e}function mo(t,e,n){if(!Xs(n))return!1;var r=typeof e;return!!("number"==r?Gs(n)&&go(e,n.length):"string"==r&&e in n)&&Us(n[e],t)}function yo(t,e){if(qs(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!oa(t))||Q.test(t)||!Z.test(t)||null!=e&&t in Tt(e)}function vo(t){var e=ro(t),n=Fn[e];if("function"!=typeof n||!(e in $n.prototype))return!1;if(t===n)return!0;var r=no(n);return!!r&&t===r[0]}(wn&&po(new wn(new ArrayBuffer(1)))!=A||Sn&&po(new Sn)!=w||Tn&&po(Tn.resolve())!=x||xn&&po(new xn)!=O||In&&po(new In)!=C)&&(po=function(t){var e=Sr(t),n=e==T?t.constructor:i,r=n?jo(n):"";if(r)switch(r){case Cn:return A;case Nn:return w;case An:return x;case Pn:return O;case Rn:return C}return e});var bo=Nt?Ws:dc;function Eo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Ct)}function wo(t){return t==t&&!Xs(t)}function So(t,e){return function(n){return null!=n&&n[t]===e&&(e!==i||t in Tt(n))}}function To(t,e,n){return e=gn(e===i?t.length-1:e,0),function(){for(var i=arguments,o=-1,s=gn(i.length-e,0),a=r(s);++o<s;)a[o]=i[e+o];o=-1;for(var c=r(e+1);++o<e;)c[o]=i[o];return c[e]=n(a),Se(t,this,c)}}function xo(t,e){return e.length<2?t:Er(t,ti(e,0,-1))}function Io(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Oo=No(Xr),Do=le||function(t,e){return pe.setTimeout(t,e)},ko=No(Zr);function Co(t,e,n){var r=e+"";return ko(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(ot,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return xe(f,(function(n){var r="_."+n[0];e&n[1]&&!ke(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(st);return e?e[1].split(at):[]}(r),n)))}function No(t){var e=0,n=0;return function(){var r=yn(),o=16-(r-n);if(n=r,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Ao(t,e){var n=-1,r=t.length,o=r-1;for(e=e===i?r:e;++n<e;){var s=Vr(n,o),a=t[s];t[s]=t[n],t[n]=a}return t.length=e,t}var Po=function(t){var e=Ns((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,n,r,i){e.push(r?i.replace(lt,"$1"):n||t)})),e}),(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}();function Ro(t){if("string"==typeof t||oa(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function jo(t){if(null!=t){try{return At.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Bo(t){if(t instanceof $n)return t.clone();var e=new qn(t.__wrapped__,t.__chain__);return e.__actions__=Ii(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Uo=Hr((function(t,e){return Ys(t)?ur(t,_r(e,1,Ys,!0)):[]})),Fo=Hr((function(t,e){var n=Ho(e);return Ys(n)&&(n=i),Ys(t)?ur(t,_r(e,1,Ys,!0),oo(n,2)):[]})),Mo=Hr((function(t,e){var n=Ho(e);return Ys(n)&&(n=i),Ys(t)?ur(t,_r(e,1,Ys,!0),i,n):[]}));function Lo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=gn(r+i,0)),Fe(t,oo(e,3),i)}function qo(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==i&&(o=pa(n),o=n<0?gn(r+o,0):mn(o,r-1)),Fe(t,oo(e,3),o,!0)}function $o(t){return null!=t&&t.length?_r(t,1):[]}function Go(t){return t&&t.length?t[0]:i}var Yo=Hr((function(t){var e=Ne(t,fi);return e.length&&e[0]===t[0]?Or(e):[]})),Vo=Hr((function(t){var e=Ho(t),n=Ne(t,fi);return e===Ho(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Or(n,oo(e,2)):[]})),zo=Hr((function(t){var e=Ho(t),n=Ne(t,fi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Or(n,i,e):[]}));function Ho(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Wo=Hr(Jo);function Jo(t,e){return t&&t.length&&e&&e.length?Gr(t,e):t}var Ko=Qi((function(t,e){var n=null==t?0:t.length,r=ir(t,e);return Yr(t,Ne(e,(function(t){return go(t,n)?+t:t})).sort(Si)),r}));function Xo(t){return null==t?t:En.call(t)}var Zo=Hr((function(t){return ai(_r(t,1,Ys,!0))})),Qo=Hr((function(t){var e=Ho(t);return Ys(e)&&(e=i),ai(_r(t,1,Ys,!0),oo(e,2))})),ts=Hr((function(t){var e=Ho(t);return e="function"==typeof e?e:i,ai(_r(t,1,Ys,!0),i,e)}));function es(t){if(!t||!t.length)return[];var e=0;return t=De(t,(function(t){if(Ys(t))return e=gn(t.length,e),!0})),He(e,(function(e){return Ne(t,Ge(e))}))}function ns(t,e){if(!t||!t.length)return[];var n=es(t);return null==e?n:Ne(n,(function(t){return Se(e,i,t)}))}var rs=Hr((function(t,e){return Ys(t)?ur(t,e):[]})),is=Hr((function(t){return hi(De(t,Ys))})),os=Hr((function(t){var e=Ho(t);return Ys(e)&&(e=i),hi(De(t,Ys),oo(e,2))})),ss=Hr((function(t){var e=Ho(t);return e="function"==typeof e?e:i,hi(De(t,Ys),i,e)})),as=Hr(es),cs=Hr((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,ns(t,n)}));function us(t){var e=Fn(t);return e.__chain__=!0,e}function ls(t,e){return e(t)}var ps=Qi((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return ir(e,t)};return!(e>1||this.__actions__.length)&&r instanceof $n&&go(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:ls,args:[o],thisArg:i}),new qn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(o)})),hs=Di((function(t,e,n){Pt.call(t,n)?++t[n]:rr(t,n,1)})),ds=ji(Lo),fs=ji(qo);function _s(t,e){return(qs(t)?xe:lr)(t,oo(e,3))}function gs(t,e){return(qs(t)?Ie:pr)(t,oo(e,3))}var ms=Di((function(t,e,n){Pt.call(t,n)?t[n].push(e):rr(t,n,[e])})),ys=Hr((function(t,e,n){var i=-1,o="function"==typeof e,s=Gs(t)?r(t.length):[];return lr(t,(function(t){s[++i]=o?Se(e,t,n):Dr(t,e,n)})),s})),vs=Di((function(t,e,n){rr(t,n,e)}));function bs(t,e){return(qs(t)?Ne:Br)(t,oo(e,3))}var Es=Di((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),ws=Hr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&mo(t,e[0],e[1])?e=[]:n>2&&mo(e[0],e[1],e[2])&&(e=[e[0]]),qr(t,_r(e,1),[])})),Ss=ue||function(){return pe.Date.now()};function Ts(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Wi(t,u,i,i,i,i,e)}function xs(t,e){var n;if("function"!=typeof e)throw new Ot(o);return t=pa(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Is=Hr((function(t,e,n){var r=1;if(n.length){var i=an(n,io(Is));r|=c}return Wi(t,r,e,n,i)})),Os=Hr((function(t,e,n){var r=3;if(n.length){var i=an(n,io(Os));r|=c}return Wi(e,r,t,n,i)}));function Ds(t,e,n){var r,s,a,c,u,l,p=0,h=!1,d=!1,f=!0;if("function"!=typeof t)throw new Ot(o);function _(e){var n=r,o=s;return r=s=i,p=e,c=t.apply(o,n)}function g(t){var n=t-l;return l===i||n>=e||n<0||d&&t-p>=a}function m(){var t=Ss();if(g(t))return y(t);u=Do(m,function(t){var n=e-(t-l);return d?mn(n,a-(t-p)):n}(t))}function y(t){return u=i,f&&r?_(t):(r=s=i,c)}function v(){var t=Ss(),n=g(t);if(r=arguments,s=this,l=t,n){if(u===i)return function(t){return p=t,u=Do(m,e),h?_(t):c}(l);if(d)return vi(u),u=Do(m,e),_(l)}return u===i&&(u=Do(m,e)),c}return e=da(e)||0,Xs(n)&&(h=!!n.leading,a=(d="maxWait"in n)?gn(da(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f),v.cancel=function(){u!==i&&vi(u),p=0,r=l=s=u=i},v.flush=function(){return u===i?c:y(Ss())},v}var ks=Hr((function(t,e){return cr(t,1,e)})),Cs=Hr((function(t,e,n){return cr(t,da(e)||0,n)}));function Ns(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Ot(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Ns.Cache||Vn),n}function As(t){if("function"!=typeof t)throw new Ot(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Ns.Cache=Vn;var Ps=mi((function(t,e){var n=(e=1==e.length&&qs(e[0])?Ne(e[0],Je(oo())):Ne(_r(e,1),Je(oo()))).length;return Hr((function(r){for(var i=-1,o=mn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return Se(t,this,r)}))})),Rs=Hr((function(t,e){var n=an(e,io(Rs));return Wi(t,c,i,e,n)})),js=Hr((function(t,e){var n=an(e,io(js));return Wi(t,64,i,e,n)})),Bs=Qi((function(t,e){return Wi(t,256,i,i,i,e)}));function Us(t,e){return t===e||t!=t&&e!=e}var Fs=Gi(Tr),Ms=Gi((function(t,e){return t>=e})),Ls=kr(function(){return arguments}())?kr:function(t){return Zs(t)&&Pt.call(t,"callee")&&!zt.call(t,"callee")},qs=r.isArray,$s=me?Je(me):function(t){return Zs(t)&&Sr(t)==N};function Gs(t){return null!=t&&Ks(t.length)&&!Ws(t)}function Ys(t){return Zs(t)&&Gs(t)}var Vs=ge||dc,zs=ye?Je(ye):function(t){return Zs(t)&&Sr(t)==y};function Hs(t){if(!Zs(t))return!1;var e=Sr(t);return e==v||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!ea(t)}function Ws(t){if(!Xs(t))return!1;var e=Sr(t);return e==b||e==E||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Js(t){return"number"==typeof t&&t==pa(t)}function Ks(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}function Xs(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Zs(t){return null!=t&&"object"==typeof t}var Qs=ve?Je(ve):function(t){return Zs(t)&&po(t)==w};function ta(t){return"number"==typeof t||Zs(t)&&Sr(t)==S}function ea(t){if(!Zs(t)||Sr(t)!=T)return!1;var e=Yt(t);if(null===e)return!0;var n=Pt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&At.call(n)==Ut}var na=be?Je(be):function(t){return Zs(t)&&Sr(t)==I},ra=Ee?Je(Ee):function(t){return Zs(t)&&po(t)==O};function ia(t){return"string"==typeof t||!qs(t)&&Zs(t)&&Sr(t)==D}function oa(t){return"symbol"==typeof t||Zs(t)&&Sr(t)==k}var sa=we?Je(we):function(t){return Zs(t)&&Ks(t.length)&&!!ie[Sr(t)]},aa=Gi(jr),ca=Gi((function(t,e){return t<=e}));function ua(t){if(!t)return[];if(Gs(t))return ia(t)?pn(t):Ii(t);if(Jt&&t[Jt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Jt]());var e=po(t);return(e==w?on:e==O?cn:Ua)(t)}function la(t){return t?(t=da(t))===l||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function pa(t){var e=la(t),n=e%1;return e==e?n?e-n:e:0}function ha(t){return t?or(pa(t),0,d):0}function da(t){if("number"==typeof t)return t;if(oa(t))return h;if(Xs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Xs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=We(t);var n=ft.test(t);return n||gt.test(t)?ce(t.slice(2),n?2:8):dt.test(t)?h:+t}function fa(t){return Oi(t,ka(t))}function _a(t){return null==t?"":si(t)}var ga=ki((function(t,e){if(Eo(e)||Gs(e))Oi(e,Da(e),t);else for(var n in e)Pt.call(e,n)&&Qn(t,n,e[n])})),ma=ki((function(t,e){Oi(e,ka(e),t)})),ya=ki((function(t,e,n,r){Oi(e,ka(e),t,r)})),va=ki((function(t,e,n,r){Oi(e,Da(e),t,r)})),ba=Qi(ir),Ea=Hr((function(t,e){t=Tt(t);var n=-1,r=e.length,o=r>2?e[2]:i;for(o&&mo(e[0],e[1],o)&&(r=1);++n<r;)for(var s=e[n],a=ka(s),c=-1,u=a.length;++c<u;){var l=a[c],p=t[l];(p===i||Us(p,Ct[l])&&!Pt.call(t,l))&&(t[l]=s[l])}return t})),wa=Hr((function(t){return t.push(i,Ki),Se(Na,i,t)}));function Sa(t,e,n){var r=null==t?i:Er(t,e);return r===i?n:r}function Ta(t,e){return null!=t&&ho(t,e,Ir)}var xa=Fi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Bt.call(e)),t[e]=n}),Xa(tc)),Ia=Fi((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=Bt.call(e)),Pt.call(t,e)?t[e].push(n):t[e]=[n]}),oo),Oa=Hr(Dr);function Da(t){return Gs(t)?Wn(t):Rr(t)}function ka(t){return Gs(t)?Wn(t,!0):function(t){if(!Xs(t))return function(t){var e=[];if(null!=t)for(var n in Tt(t))e.push(n);return e}(t);var e=Eo(t),n=[];for(var r in t)("constructor"!=r||!e&&Pt.call(t,r))&&n.push(r);return n}(t)}var Ca=ki((function(t,e,n){Mr(t,e,n)})),Na=ki((function(t,e,n,r){Mr(t,e,n,r)})),Aa=Qi((function(t,e){var n={};if(null==t)return n;var r=!1;e=Ne(e,(function(e){return e=gi(e,t),r||(r=e.length>1),e})),Oi(t,eo(t),n),r&&(n=sr(n,7,Xi));for(var i=e.length;i--;)ci(n,e[i]);return n})),Pa=Qi((function(t,e){return null==t?{}:function(t,e){return $r(t,e,(function(e,n){return Ta(t,n)}))}(t,e)}));function Ra(t,e){if(null==t)return{};var n=Ne(eo(t),(function(t){return[t]}));return e=oo(e),$r(t,n,(function(t,n){return e(t,n[0])}))}var ja=Hi(Da),Ba=Hi(ka);function Ua(t){return null==t?[]:Ke(t,Da(t))}var Fa=Pi((function(t,e,n){return e=e.toLowerCase(),t+(n?Ma(e):e)}));function Ma(t){return Ha(_a(t).toLowerCase())}function La(t){return(t=_a(t))&&t.replace(yt,tn).replace(Xt,"")}var qa=Pi((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),$a=Pi((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Ga=Ai("toLowerCase"),Ya=Pi((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Va=Pi((function(t,e,n){return t+(n?" ":"")+Ha(e)})),za=Pi((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Ha=Ai("toUpperCase");function Wa(t,e,n){return t=_a(t),(e=n?i:e)===i?function(t){return ee.test(t)}(t)?function(t){return t.match(Qt)||[]}(t):function(t){return t.match(ct)||[]}(t):t.match(e)||[]}var Ja=Hr((function(t,e){try{return Se(t,i,e)}catch(t){return Hs(t)?t:new Et(t)}})),Ka=Qi((function(t,e){return xe(e,(function(e){e=Ro(e),rr(t,e,Is(t[e],t))})),t}));function Xa(t){return function(){return t}}var Za=Bi(),Qa=Bi(!0);function tc(t){return t}function ec(t){return Pr("function"==typeof t?t:sr(t,1))}var nc=Hr((function(t,e){return function(n){return Dr(n,t,e)}})),rc=Hr((function(t,e){return function(n){return Dr(t,n,e)}}));function ic(t,e,n){var r=Da(e),i=br(e,r);null!=n||Xs(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=br(e,Da(e)));var o=!(Xs(n)&&"chain"in n&&!n.chain),s=Ws(t);return xe(i,(function(n){var r=e[n];t[n]=r,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Ii(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Ae([this.value()],arguments))})})),t}function oc(){}var sc=Li(Ne),ac=Li(Oe),cc=Li(je);function uc(t){return yo(t)?Ge(Ro(t)):function(t){return function(e){return Er(e,t)}}(t)}var lc=$i(),pc=$i(!0);function hc(){return[]}function dc(){return!1}var fc,_c=Mi((function(t,e){return t+e}),0),gc=Vi("ceil"),mc=Mi((function(t,e){return t/e}),1),yc=Vi("floor"),vc=Mi((function(t,e){return t*e}),1),bc=Vi("round"),Ec=Mi((function(t,e){return t-e}),0);return Fn.after=function(t,e){if("function"!=typeof e)throw new Ot(o);return t=pa(t),function(){if(--t<1)return e.apply(this,arguments)}},Fn.ary=Ts,Fn.assign=ga,Fn.assignIn=ma,Fn.assignInWith=ya,Fn.assignWith=va,Fn.at=ba,Fn.before=xs,Fn.bind=Is,Fn.bindAll=Ka,Fn.bindKey=Os,Fn.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return qs(t)?t:[t]},Fn.chain=us,Fn.chunk=function(t,e,n){e=(n?mo(t,e,n):e===i)?1:gn(pa(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var s=0,a=0,c=r(he(o/e));s<o;)c[a++]=ti(t,s,s+=e);return c},Fn.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Fn.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Ae(qs(n)?Ii(n):[n],_r(e,1))},Fn.cond=function(t){var e=null==t?0:t.length,n=oo();return t=e?Ne(t,(function(t){if("function"!=typeof t[1])throw new Ot(o);return[n(t[0]),t[1]]})):[],Hr((function(n){for(var r=-1;++r<e;){var i=t[r];if(Se(i[0],this,n))return Se(i[1],this,n)}}))},Fn.conforms=function(t){return function(t){var e=Da(t);return function(n){return ar(n,t,e)}}(sr(t,1))},Fn.constant=Xa,Fn.countBy=hs,Fn.create=function(t,e){var n=Mn(t);return null==e?n:nr(n,e)},Fn.curry=function t(e,n,r){var o=Wi(e,8,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Fn.curryRight=function t(e,n,r){var o=Wi(e,16,i,i,i,i,i,n=r?i:n);return o.placeholder=t.placeholder,o},Fn.debounce=Ds,Fn.defaults=Ea,Fn.defaultsDeep=wa,Fn.defer=ks,Fn.delay=Cs,Fn.difference=Uo,Fn.differenceBy=Fo,Fn.differenceWith=Mo,Fn.drop=function(t,e,n){var r=null==t?0:t.length;return r?ti(t,(e=n||e===i?1:pa(e))<0?0:e,r):[]},Fn.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ti(t,0,(e=r-(e=n||e===i?1:pa(e)))<0?0:e):[]},Fn.dropRightWhile=function(t,e){return t&&t.length?li(t,oo(e,3),!0,!0):[]},Fn.dropWhile=function(t,e){return t&&t.length?li(t,oo(e,3),!0):[]},Fn.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&mo(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=pa(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:pa(r))<0&&(r+=o),r=n>r?0:ha(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Fn.filter=function(t,e){return(qs(t)?De:fr)(t,oo(e,3))},Fn.flatMap=function(t,e){return _r(bs(t,e),1)},Fn.flatMapDeep=function(t,e){return _r(bs(t,e),l)},Fn.flatMapDepth=function(t,e,n){return n=n===i?1:pa(n),_r(bs(t,e),n)},Fn.flatten=$o,Fn.flattenDeep=function(t){return null!=t&&t.length?_r(t,l):[]},Fn.flattenDepth=function(t,e){return null!=t&&t.length?_r(t,e=e===i?1:pa(e)):[]},Fn.flip=function(t){return Wi(t,512)},Fn.flow=Za,Fn.flowRight=Qa,Fn.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Fn.functions=function(t){return null==t?[]:br(t,Da(t))},Fn.functionsIn=function(t){return null==t?[]:br(t,ka(t))},Fn.groupBy=ms,Fn.initial=function(t){return null!=t&&t.length?ti(t,0,-1):[]},Fn.intersection=Yo,Fn.intersectionBy=Vo,Fn.intersectionWith=zo,Fn.invert=xa,Fn.invertBy=Ia,Fn.invokeMap=ys,Fn.iteratee=ec,Fn.keyBy=vs,Fn.keys=Da,Fn.keysIn=ka,Fn.map=bs,Fn.mapKeys=function(t,e){var n={};return e=oo(e,3),yr(t,(function(t,r,i){rr(n,e(t,r,i),t)})),n},Fn.mapValues=function(t,e){var n={};return e=oo(e,3),yr(t,(function(t,r,i){rr(n,r,e(t,r,i))})),n},Fn.matches=function(t){return Ur(sr(t,1))},Fn.matchesProperty=function(t,e){return Fr(t,sr(e,1))},Fn.memoize=Ns,Fn.merge=Ca,Fn.mergeWith=Na,Fn.method=nc,Fn.methodOf=rc,Fn.mixin=ic,Fn.negate=As,Fn.nthArg=function(t){return t=pa(t),Hr((function(e){return Lr(e,t)}))},Fn.omit=Aa,Fn.omitBy=function(t,e){return Ra(t,As(oo(e)))},Fn.once=function(t){return xs(2,t)},Fn.orderBy=function(t,e,n,r){return null==t?[]:(qs(e)||(e=null==e?[]:[e]),qs(n=r?i:n)||(n=null==n?[]:[n]),qr(t,e,n))},Fn.over=sc,Fn.overArgs=Ps,Fn.overEvery=ac,Fn.overSome=cc,Fn.partial=Rs,Fn.partialRight=js,Fn.partition=Es,Fn.pick=Pa,Fn.pickBy=Ra,Fn.property=uc,Fn.propertyOf=function(t){return function(e){return null==t?i:Er(t,e)}},Fn.pull=Wo,Fn.pullAll=Jo,Fn.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Gr(t,e,oo(n,2)):t},Fn.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Gr(t,e,i,n):t},Fn.pullAt=Ko,Fn.range=lc,Fn.rangeRight=pc,Fn.rearg=Bs,Fn.reject=function(t,e){return(qs(t)?De:fr)(t,As(oo(e,3)))},Fn.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=oo(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return Yr(t,i),n},Fn.rest=function(t,e){if("function"!=typeof t)throw new Ot(o);return Hr(t,e=e===i?e:pa(e))},Fn.reverse=Xo,Fn.sampleSize=function(t,e,n){return e=(n?mo(t,e,n):e===i)?1:pa(e),(qs(t)?Kn:Jr)(t,e)},Fn.set=function(t,e,n){return null==t?t:Kr(t,e,n)},Fn.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Kr(t,e,n,r)},Fn.shuffle=function(t){return(qs(t)?Xn:Qr)(t)},Fn.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&mo(t,e,n)?(e=0,n=r):(e=null==e?0:pa(e),n=n===i?r:pa(n)),ti(t,e,n)):[]},Fn.sortBy=ws,Fn.sortedUniq=function(t){return t&&t.length?ii(t):[]},Fn.sortedUniqBy=function(t,e){return t&&t.length?ii(t,oo(e,2)):[]},Fn.split=function(t,e,n){return n&&"number"!=typeof n&&mo(t,e,n)&&(e=n=i),(n=n===i?d:n>>>0)?(t=_a(t))&&("string"==typeof e||null!=e&&!na(e))&&!(e=si(e))&&rn(t)?yi(pn(t),0,n):t.split(e,n):[]},Fn.spread=function(t,e){if("function"!=typeof t)throw new Ot(o);return e=null==e?0:gn(pa(e),0),Hr((function(n){var r=n[e],i=yi(n,0,e);return r&&Ae(i,r),Se(t,this,i)}))},Fn.tail=function(t){var e=null==t?0:t.length;return e?ti(t,1,e):[]},Fn.take=function(t,e,n){return t&&t.length?ti(t,0,(e=n||e===i?1:pa(e))<0?0:e):[]},Fn.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ti(t,(e=r-(e=n||e===i?1:pa(e)))<0?0:e,r):[]},Fn.takeRightWhile=function(t,e){return t&&t.length?li(t,oo(e,3),!1,!0):[]},Fn.takeWhile=function(t,e){return t&&t.length?li(t,oo(e,3)):[]},Fn.tap=function(t,e){return e(t),t},Fn.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Ot(o);return Xs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ds(t,e,{leading:r,maxWait:e,trailing:i})},Fn.thru=ls,Fn.toArray=ua,Fn.toPairs=ja,Fn.toPairsIn=Ba,Fn.toPath=function(t){return qs(t)?Ne(t,Ro):oa(t)?[t]:Ii(Po(_a(t)))},Fn.toPlainObject=fa,Fn.transform=function(t,e,n){var r=qs(t),i=r||Vs(t)||sa(t);if(e=oo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Xs(t)&&Ws(o)?Mn(Yt(t)):{}}return(i?xe:yr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Fn.unary=function(t){return Ts(t,1)},Fn.union=Zo,Fn.unionBy=Qo,Fn.unionWith=ts,Fn.uniq=function(t){return t&&t.length?ai(t):[]},Fn.uniqBy=function(t,e){return t&&t.length?ai(t,oo(e,2)):[]},Fn.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?ai(t,i,e):[]},Fn.unset=function(t,e){return null==t||ci(t,e)},Fn.unzip=es,Fn.unzipWith=ns,Fn.update=function(t,e,n){return null==t?t:ui(t,e,_i(n))},Fn.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:ui(t,e,_i(n),r)},Fn.values=Ua,Fn.valuesIn=function(t){return null==t?[]:Ke(t,ka(t))},Fn.without=rs,Fn.words=Wa,Fn.wrap=function(t,e){return Rs(_i(e),t)},Fn.xor=is,Fn.xorBy=os,Fn.xorWith=ss,Fn.zip=as,Fn.zipObject=function(t,e){return di(t||[],e||[],Qn)},Fn.zipObjectDeep=function(t,e){return di(t||[],e||[],Kr)},Fn.zipWith=cs,Fn.entries=ja,Fn.entriesIn=Ba,Fn.extend=ma,Fn.extendWith=ya,ic(Fn,Fn),Fn.add=_c,Fn.attempt=Ja,Fn.camelCase=Fa,Fn.capitalize=Ma,Fn.ceil=gc,Fn.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=da(n))==n?n:0),e!==i&&(e=(e=da(e))==e?e:0),or(da(t),e,n)},Fn.clone=function(t){return sr(t,4)},Fn.cloneDeep=function(t){return sr(t,5)},Fn.cloneDeepWith=function(t,e){return sr(t,5,e="function"==typeof e?e:i)},Fn.cloneWith=function(t,e){return sr(t,4,e="function"==typeof e?e:i)},Fn.conformsTo=function(t,e){return null==e||ar(t,e,Da(e))},Fn.deburr=La,Fn.defaultTo=function(t,e){return null==t||t!=t?e:t},Fn.divide=mc,Fn.endsWith=function(t,e,n){t=_a(t),e=si(e);var r=t.length,o=n=n===i?r:or(pa(n),0,r);return(n-=e.length)>=0&&t.slice(n,o)==e},Fn.eq=Us,Fn.escape=function(t){return(t=_a(t))&&W.test(t)?t.replace(z,en):t},Fn.escapeRegExp=function(t){return(t=_a(t))&&nt.test(t)?t.replace(et,"\\$&"):t},Fn.every=function(t,e,n){var r=qs(t)?Oe:hr;return n&&mo(t,e,n)&&(e=i),r(t,oo(e,3))},Fn.find=ds,Fn.findIndex=Lo,Fn.findKey=function(t,e){return Ue(t,oo(e,3),yr)},Fn.findLast=fs,Fn.findLastIndex=qo,Fn.findLastKey=function(t,e){return Ue(t,oo(e,3),vr)},Fn.floor=yc,Fn.forEach=_s,Fn.forEachRight=gs,Fn.forIn=function(t,e){return null==t?t:gr(t,oo(e,3),ka)},Fn.forInRight=function(t,e){return null==t?t:mr(t,oo(e,3),ka)},Fn.forOwn=function(t,e){return t&&yr(t,oo(e,3))},Fn.forOwnRight=function(t,e){return t&&vr(t,oo(e,3))},Fn.get=Sa,Fn.gt=Fs,Fn.gte=Ms,Fn.has=function(t,e){return null!=t&&ho(t,e,xr)},Fn.hasIn=Ta,Fn.head=Go,Fn.identity=tc,Fn.includes=function(t,e,n,r){t=Gs(t)?t:Ua(t),n=n&&!r?pa(n):0;var i=t.length;return n<0&&(n=gn(i+n,0)),ia(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Me(t,e,n)>-1},Fn.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:pa(n);return i<0&&(i=gn(r+i,0)),Me(t,e,i)},Fn.inRange=function(t,e,n){return e=la(e),n===i?(n=e,e=0):n=la(n),function(t,e,n){return t>=mn(e,n)&&t<gn(e,n)}(t=da(t),e,n)},Fn.invoke=Oa,Fn.isArguments=Ls,Fn.isArray=qs,Fn.isArrayBuffer=$s,Fn.isArrayLike=Gs,Fn.isArrayLikeObject=Ys,Fn.isBoolean=function(t){return!0===t||!1===t||Zs(t)&&Sr(t)==m},Fn.isBuffer=Vs,Fn.isDate=zs,Fn.isElement=function(t){return Zs(t)&&1===t.nodeType&&!ea(t)},Fn.isEmpty=function(t){if(null==t)return!0;if(Gs(t)&&(qs(t)||"string"==typeof t||"function"==typeof t.splice||Vs(t)||sa(t)||Ls(t)))return!t.length;var e=po(t);if(e==w||e==O)return!t.size;if(Eo(t))return!Rr(t).length;for(var n in t)if(Pt.call(t,n))return!1;return!0},Fn.isEqual=function(t,e){return Cr(t,e)},Fn.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Cr(t,e,i,n):!!r},Fn.isError=Hs,Fn.isFinite=function(t){return"number"==typeof t&&Be(t)},Fn.isFunction=Ws,Fn.isInteger=Js,Fn.isLength=Ks,Fn.isMap=Qs,Fn.isMatch=function(t,e){return t===e||Nr(t,e,ao(e))},Fn.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Nr(t,e,ao(e),n)},Fn.isNaN=function(t){return ta(t)&&t!=+t},Fn.isNative=function(t){if(bo(t))throw new Et("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ar(t)},Fn.isNil=function(t){return null==t},Fn.isNull=function(t){return null===t},Fn.isNumber=ta,Fn.isObject=Xs,Fn.isObjectLike=Zs,Fn.isPlainObject=ea,Fn.isRegExp=na,Fn.isSafeInteger=function(t){return Js(t)&&t>=-9007199254740991&&t<=p},Fn.isSet=ra,Fn.isString=ia,Fn.isSymbol=oa,Fn.isTypedArray=sa,Fn.isUndefined=function(t){return t===i},Fn.isWeakMap=function(t){return Zs(t)&&po(t)==C},Fn.isWeakSet=function(t){return Zs(t)&&"[object WeakSet]"==Sr(t)},Fn.join=function(t,e){return null==t?"":Ye.call(t,e)},Fn.kebabCase=qa,Fn.last=Ho,Fn.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=pa(n))<0?gn(r+o,0):mn(o,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):Fe(t,qe,o,!0)},Fn.lowerCase=$a,Fn.lowerFirst=Ga,Fn.lt=aa,Fn.lte=ca,Fn.max=function(t){return t&&t.length?dr(t,tc,Tr):i},Fn.maxBy=function(t,e){return t&&t.length?dr(t,oo(e,2),Tr):i},Fn.mean=function(t){return $e(t,tc)},Fn.meanBy=function(t,e){return $e(t,oo(e,2))},Fn.min=function(t){return t&&t.length?dr(t,tc,jr):i},Fn.minBy=function(t,e){return t&&t.length?dr(t,oo(e,2),jr):i},Fn.stubArray=hc,Fn.stubFalse=dc,Fn.stubObject=function(){return{}},Fn.stubString=function(){return""},Fn.stubTrue=function(){return!0},Fn.multiply=vc,Fn.nth=function(t,e){return t&&t.length?Lr(t,pa(e)):i},Fn.noConflict=function(){return pe._===this&&(pe._=Ft),this},Fn.noop=oc,Fn.now=Ss,Fn.pad=function(t,e,n){t=_a(t);var r=(e=pa(e))?ln(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return qi(de(i),n)+t+qi(he(i),n)},Fn.padEnd=function(t,e,n){t=_a(t);var r=(e=pa(e))?ln(t):0;return e&&r<e?t+qi(e-r,n):t},Fn.padStart=function(t,e,n){t=_a(t);var r=(e=pa(e))?ln(t):0;return e&&r<e?qi(e-r,n)+t:t},Fn.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),vn(_a(t).replace(rt,""),e||0)},Fn.random=function(t,e,n){if(n&&"boolean"!=typeof n&&mo(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=la(t),e===i?(e=t,t=0):e=la(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var o=bn();return mn(t+o*(e-t+ae("1e-"+((o+"").length-1))),e)}return Vr(t,e)},Fn.reduce=function(t,e,n){var r=qs(t)?Pe:Ve,i=arguments.length<3;return r(t,oo(e,4),n,i,lr)},Fn.reduceRight=function(t,e,n){var r=qs(t)?Re:Ve,i=arguments.length<3;return r(t,oo(e,4),n,i,pr)},Fn.repeat=function(t,e,n){return e=(n?mo(t,e,n):e===i)?1:pa(e),zr(_a(t),e)},Fn.replace=function(){var t=arguments,e=_a(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Fn.result=function(t,e,n){var r=-1,o=(e=gi(e,t)).length;for(o||(o=1,t=i);++r<o;){var s=null==t?i:t[Ro(e[r])];s===i&&(r=o,s=n),t=Ws(s)?s.call(t):s}return t},Fn.round=bc,Fn.runInContext=t,Fn.sample=function(t){return(qs(t)?Jn:Wr)(t)},Fn.size=function(t){if(null==t)return 0;if(Gs(t))return ia(t)?ln(t):t.length;var e=po(t);return e==w||e==O?t.size:Rr(t).length},Fn.snakeCase=Ya,Fn.some=function(t,e,n){var r=qs(t)?je:ei;return n&&mo(t,e,n)&&(e=i),r(t,oo(e,3))},Fn.sortedIndex=function(t,e){return ni(t,e)},Fn.sortedIndexBy=function(t,e,n){return ri(t,e,oo(n,2))},Fn.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ni(t,e);if(r<n&&Us(t[r],e))return r}return-1},Fn.sortedLastIndex=function(t,e){return ni(t,e,!0)},Fn.sortedLastIndexBy=function(t,e,n){return ri(t,e,oo(n,2),!0)},Fn.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=ni(t,e,!0)-1;if(Us(t[n],e))return n}return-1},Fn.startCase=Va,Fn.startsWith=function(t,e,n){return t=_a(t),n=null==n?0:or(pa(n),0,t.length),e=si(e),t.slice(n,n+e.length)==e},Fn.subtract=Ec,Fn.sum=function(t){return t&&t.length?ze(t,tc):0},Fn.sumBy=function(t,e){return t&&t.length?ze(t,oo(e,2)):0},Fn.template=function(t,e,n){var r=Fn.templateSettings;n&&mo(t,e,n)&&(e=i),t=_a(t),e=ya({},e,r,Ji);var o,s,a=ya({},e.imports,r.imports,Ji),c=Da(a),u=Ke(a,c),l=0,p=e.interpolate||vt,h="__p += '",d=xt((e.escape||vt).source+"|"+p.source+"|"+(p===X?pt:vt).source+"|"+(e.evaluate||vt).source+"|$","g"),f="//# sourceURL="+(Pt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++re+"]")+"\n";t.replace(d,(function(e,n,r,i,a,c){return r||(r=i),h+=t.slice(l,c).replace(bt,nn),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+e.length,e})),h+="';\n";var _=Pt.call(e,"variable")&&e.variable;if(_){if(ut.test(_))throw new Et("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace($,""):h).replace(G,"$1").replace(Y,"$1;"),h="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Ja((function(){return wt(c,f+"return "+h).apply(i,u)}));if(g.source=h,Hs(g))throw g;return g},Fn.times=function(t,e){if((t=pa(t))<1||t>p)return[];var n=d,r=mn(t,d);e=oo(e),t-=d;for(var i=He(r,e);++n<t;)e(n);return i},Fn.toFinite=la,Fn.toInteger=pa,Fn.toLength=ha,Fn.toLower=function(t){return _a(t).toLowerCase()},Fn.toNumber=da,Fn.toSafeInteger=function(t){return t?or(pa(t),-9007199254740991,p):0===t?t:0},Fn.toString=_a,Fn.toUpper=function(t){return _a(t).toUpperCase()},Fn.trim=function(t,e,n){if((t=_a(t))&&(n||e===i))return We(t);if(!t||!(e=si(e)))return t;var r=pn(t),o=pn(e);return yi(r,Ze(r,o),Qe(r,o)+1).join("")},Fn.trimEnd=function(t,e,n){if((t=_a(t))&&(n||e===i))return t.slice(0,hn(t)+1);if(!t||!(e=si(e)))return t;var r=pn(t);return yi(r,0,Qe(r,pn(e))+1).join("")},Fn.trimStart=function(t,e,n){if((t=_a(t))&&(n||e===i))return t.replace(rt,"");if(!t||!(e=si(e)))return t;var r=pn(t);return yi(r,Ze(r,pn(e))).join("")},Fn.truncate=function(t,e){var n=30,r="...";if(Xs(e)){var o="separator"in e?e.separator:o;n="length"in e?pa(e.length):n,r="omission"in e?si(e.omission):r}var s=(t=_a(t)).length;if(rn(t)){var a=pn(t);s=a.length}if(n>=s)return t;var c=n-ln(r);if(c<1)return r;var u=a?yi(a,0,c).join(""):t.slice(0,c);if(o===i)return u+r;if(a&&(c+=u.length-c),na(o)){if(t.slice(c).search(o)){var l,p=u;for(o.global||(o=xt(o.source,_a(ht.exec(o))+"g")),o.lastIndex=0;l=o.exec(p);)var h=l.index;u=u.slice(0,h===i?c:h)}}else if(t.indexOf(si(o),c)!=c){var d=u.lastIndexOf(o);d>-1&&(u=u.slice(0,d))}return u+r},Fn.unescape=function(t){return(t=_a(t))&&H.test(t)?t.replace(V,dn):t},Fn.uniqueId=function(t){var e=++Rt;return _a(t)+e},Fn.upperCase=za,Fn.upperFirst=Ha,Fn.each=_s,Fn.eachRight=gs,Fn.first=Go,ic(Fn,(fc={},yr(Fn,(function(t,e){Pt.call(Fn.prototype,e)||(fc[e]=t)})),fc),{chain:!1}),Fn.VERSION="4.17.21",xe(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Fn[t].placeholder=Fn})),xe(["drop","take"],(function(t,e){$n.prototype[t]=function(n){n=n===i?1:gn(pa(n),0);var r=this.__filtered__&&!e?new $n(this):this.clone();return r.__filtered__?r.__takeCount__=mn(n,r.__takeCount__):r.__views__.push({size:mn(n,d),type:t+(r.__dir__<0?"Right":"")}),r},$n.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),xe(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;$n.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:oo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),xe(["head","last"],(function(t,e){var n="take"+(e?"Right":"");$n.prototype[t]=function(){return this[n](1).value()[0]}})),xe(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");$n.prototype[t]=function(){return this.__filtered__?new $n(this):this[n](1)}})),$n.prototype.compact=function(){return this.filter(tc)},$n.prototype.find=function(t){return this.filter(t).head()},$n.prototype.findLast=function(t){return this.reverse().find(t)},$n.prototype.invokeMap=Hr((function(t,e){return"function"==typeof t?new $n(this):this.map((function(n){return Dr(n,t,e)}))})),$n.prototype.reject=function(t){return this.filter(As(oo(t)))},$n.prototype.slice=function(t,e){t=pa(t);var n=this;return n.__filtered__&&(t>0||e<0)?new $n(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=pa(e))<0?n.dropRight(-e):n.take(e-t)),n)},$n.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},$n.prototype.toArray=function(){return this.take(d)},yr($n.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),o=Fn[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);o&&(Fn.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,c=e instanceof $n,u=a[0],l=c||qs(e),p=function(t){var e=o.apply(Fn,Ae([t],a));return r&&h?e[0]:e};l&&n&&"function"==typeof u&&1!=u.length&&(c=l=!1);var h=this.__chain__,d=!!this.__actions__.length,f=s&&!h,_=c&&!d;if(!s&&l){e=_?e:new $n(this);var g=t.apply(e,a);return g.__actions__.push({func:ls,args:[p],thisArg:i}),new qn(g,h)}return f&&_?t.apply(this,a):(g=this.thru(p),f?r?g.value()[0]:g.value():g)})})),xe(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Dt[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Fn.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(qs(i)?i:[],t)}return this[n]((function(n){return e.apply(qs(n)?n:[],t)}))}})),yr($n.prototype,(function(t,e){var n=Fn[e];if(n){var r=n.name+"";Pt.call(kn,r)||(kn[r]=[]),kn[r].push({name:e,func:n})}})),kn[Ui(i,2).name]=[{name:"wrapper",func:i}],$n.prototype.clone=function(){var t=new $n(this.__wrapped__);return t.__actions__=Ii(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ii(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ii(this.__views__),t},$n.prototype.reverse=function(){if(this.__filtered__){var t=new $n(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},$n.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=qs(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=mn(e,t+s);break;case"takeRight":t=gn(t,e-s)}}return{start:t,end:e}}(0,i,this.__views__),s=o.start,a=o.end,c=a-s,u=r?a:s-1,l=this.__iteratees__,p=l.length,h=0,d=mn(c,this.__takeCount__);if(!n||!r&&i==c&&d==c)return pi(t,this.__actions__);var f=[];t:for(;c--&&h<d;){for(var _=-1,g=t[u+=e];++_<p;){var m=l[_],y=m.iteratee,v=m.type,b=y(g);if(2==v)g=b;else if(!b){if(1==v)continue t;break t}}f[h++]=g}return f},Fn.prototype.at=ps,Fn.prototype.chain=function(){return us(this)},Fn.prototype.commit=function(){return new qn(this.value(),this.__chain__)},Fn.prototype.next=function(){this.__values__===i&&(this.__values__=ua(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Fn.prototype.plant=function(t){for(var e,n=this;n instanceof Ln;){var r=Bo(n);r.__index__=0,r.__values__=i,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e},Fn.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof $n){var e=t;return this.__actions__.length&&(e=new $n(this)),(e=e.reverse()).__actions__.push({func:ls,args:[Xo],thisArg:i}),new qn(e,this.__chain__)}return this.thru(Xo)},Fn.prototype.toJSON=Fn.prototype.valueOf=Fn.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Fn.prototype.first=Fn.prototype.head,Jt&&(Fn.prototype[Jt]=function(){return this}),Fn}();pe._=fn,(r=function(){return fn}.call(e,n,e,t))===i||(t.exports=r)}.call(this)},7612:function(t,e,n){var r,i;!function(o,s){const a=e;!function(t){const e=Symbol("newer"),n=Symbol("older");function r(t,e){"number"!=typeof t&&(e=t,t=0),this.size=0,this.limit=t,this.oldest=this.newest=void 0,this._keymap=new Map,e&&(this.assign(e),t<1&&(this.limit=this.size))}function i(t,r){this.key=t,this.value=r,this[e]=void 0,this[n]=void 0}function o(t){this.entry=t}function s(t){this.entry=t}function a(t){this.entry=t}t.LRUMap=r,r.prototype._markEntryAsUsed=function(t){t!==this.newest&&(t[e]&&(t===this.oldest&&(this.oldest=t[e]),t[e][n]=t[n]),t[n]&&(t[n][e]=t[e]),t[e]=void 0,t[n]=this.newest,this.newest&&(this.newest[e]=t),this.newest=t)},r.prototype.assign=function(t){let r,o=this.limit||Number.MAX_VALUE;this._keymap.clear();let s=t[Symbol.iterator]();for(let t=s.next();!t.done;t=s.next()){let s=new i(t.value[0],t.value[1]);if(this._keymap.set(s.key,s),r?(r[e]=s,s[n]=r):this.oldest=s,r=s,0==o--)throw new Error("overflow")}this.newest=r,this.size=this._keymap.size},r.prototype.get=function(t){var e=this._keymap.get(t);if(e)return this._markEntryAsUsed(e),e.value},r.prototype.set=function(t,r){var o=this._keymap.get(t);return o?(o.value=r,this._markEntryAsUsed(o),this):(this._keymap.set(t,o=new i(t,r)),this.newest?(this.newest[e]=o,o[n]=this.newest):this.oldest=o,this.newest=o,++this.size,this.size>this.limit&&this.shift(),this)},r.prototype.shift=function(){var t=this.oldest;if(t)return this.oldest[e]?(this.oldest=this.oldest[e],this.oldest[n]=void 0):(this.oldest=void 0,this.newest=void 0),t[e]=t[n]=void 0,this._keymap.delete(t.key),--this.size,[t.key,t.value]},r.prototype.find=function(t){let e=this._keymap.get(t);return e?e.value:void 0},r.prototype.has=function(t){return this._keymap.has(t)},r.prototype.delete=function(t){var r=this._keymap.get(t);if(r)return this._keymap.delete(r.key),r[e]&&r[n]?(r[n][e]=r[e],r[e][n]=r[n]):r[e]?(r[e][n]=void 0,this.oldest=r[e]):r[n]?(r[n][e]=void 0,this.newest=r[n]):this.oldest=this.newest=void 0,this.size--,r.value},r.prototype.clear=function(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()},o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:[t.key,t.value]}):{done:!0,value:void 0}},s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:t.key}):{done:!0,value:void 0}},a.prototype[Symbol.iterator]=function(){return this},a.prototype.next=function(){let t=this.entry;return t?(this.entry=t[e],{done:!1,value:t.value}):{done:!0,value:void 0}},r.prototype.keys=function(){return new s(this.oldest)},r.prototype.values=function(){return new a(this.oldest)},r.prototype.entries=function(){return this},r.prototype[Symbol.iterator]=function(){return new o(this.oldest)},r.prototype.forEach=function(t,n){"object"!=typeof n&&(n=this);let r=this.oldest;for(;r;)t.call(n,r.value,r.key,this),r=r[e]},r.prototype.toJSON=function(){for(var t=new Array(this.size),n=0,r=this.oldest;r;)t[n++]={key:r.key,value:r.value},r=r[e];return t},r.prototype.toString=function(){for(var t="",n=this.oldest;n;)t+=String(n.key)+":"+n.value,(n=n[e])&&(t+=" < ");return t}}(a),void 0===(i="function"==typeof(r=a)?r.call(e,n,e,t):r)||(t.exports=i)}()},4341:t=>{"use strict";const e=(t,e,r,i)=>{if("length"===r||"prototype"===r)return;if("arguments"===r||"caller"===r)return;const o=Object.getOwnPropertyDescriptor(t,r),s=Object.getOwnPropertyDescriptor(e,r);!n(o,s)&&i||Object.defineProperty(t,r,s)},n=function(t,e){return void 0===t||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},r=(t,e)=>`/* Wrapped ${t}*/\n${e}`,i=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),o=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");t.exports=(t,n,{ignoreNonConfigurable:s=!1}={})=>{const{name:a}=t;for(const r of Reflect.ownKeys(n))e(t,n,r,s);return((t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)})(t,n),((t,e,n)=>{const s=""===n?"":`with ${n.trim()}() `,a=r.bind(null,s,e.toString());Object.defineProperty(a,"name",o),Object.defineProperty(t,"toString",{...i,value:a})})(t,n,a),t}},7824:t=>{var e=1e3,n=60*e,r=60*n,i=24*r;function o(t,e,n,r){var i=e>=1.5*n;return Math.round(t/n)+" "+r+(i?"s":"")}t.exports=function(t,s){s=s||{};var a,c,u=typeof t;if("string"===u&&t.length>0)return function(t){if(!((t=String(t)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(o){var s=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(t);if("number"===u&&isFinite(t))return s.long?(a=t,(c=Math.abs(a))>=i?o(a,c,i,"day"):c>=r?o(a,c,r,"hour"):c>=n?o(a,c,n,"minute"):c>=e?o(a,c,e,"second"):a+" ms"):function(t){var o=Math.abs(t);return o>=i?Math.round(t/i)+"d":o>=r?Math.round(t/r)+"h":o>=n?Math.round(t/n)+"m":o>=e?Math.round(t/e)+"s":t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},9646:(t,e,n)=>{var r=n(938).http,i=n(938).https,o=n(7310),s=n(3837),a=n(2361),c=n(9796),u=n(5158)("NRC");e.K=function(t){var e=this,r=n(8180)(),i=n(6310)(),c=new l(this,r),u=function(t,n){var r=function(t){return function(){try{return t.apply(this,arguments)}catch(t){e.emit("error",t)}}},i={parsers:{},serializers:{}};return i.parsers.add=r(t.add),i.parsers.remove=r(t.remove),i.parsers.find=r(t.find),i.parsers.getAll=r(t.getAll),i.parsers.getDefault=r(t.getDefault),i.parsers.clean=r(t.clean),i.serializers.add=r(n.add),i.serializers.remove=r(n.remove),i.serializers.find=r(n.find),i.serializers.getAll=r(n.getAll),i.serializers.getDefault=r(n.getDefault),i.serializers.clean=r(n.clean),i}(r,i),h="Content-Length";e.options=t||{},e.useProxy=!!e.options.proxy,e.useProxyTunnel=!(!e.useProxy||void 0===e.options.proxy.tunnel)&&e.options.proxy.tunnel,e.proxy=e.options.proxy,e.connection=e.options.connection||{},e.mimetypes=e.options.mimetypes||{},e.requestConfig=e.options.requestConfig||{},e.responseConfig=e.options.responseConfig||{},this.methods={},this.parsers={},this.serializers={};var d=function(){a.EventEmitter.call(this)};s.inherits(d,a.EventEmitter),d.prototype.end=function(){this._httpRequest&&this._httpRequest.end()},d.prototype.setHttpRequest=function(t){this._httpRequest=t};var f={createProxyPath:function(t){var e=t.host;return"https:"===t.protocol&&(e=-1==t.host.indexOf(":")?t.hostname+":443":t.host),e},createProxyHeaders:function(t){var n={};return e.proxy.user&&e.proxy.password&&(n["Proxy-Authorization"]="Basic "+new Buffer([e.proxy.user,e.proxy.password].join(":")).toString("base64")),e.useProxyTunnel||(n.host=t.host),n},createConnectOptions:function(t,n){p("connect URL = ",t);var r=o.parse(t),i={},s=-1==r.protocol.indexOf(":")?r.protocol:r.protocol.substring(0,r.protocol.indexOf(":")),a="http"===s?80:443;if(i={host:-1==r.host.indexOf(":")?r.host:r.host.substring(0,r.host.indexOf(":")),port:void 0===r.port?a:r.port,path:r.path,protocol:s,href:r.href},e.useProxy&&(i.agent=!1),e.options.user&&e.options.password?i.auth=[e.options.user,e.options.password].join(":"):e.options.user&&!e.options.password&&(i.auth=e.options.user+":"),e.useProxy&&(i.proxy={host:e.proxy.host,port:e.proxy.port,method:e.useProxyTunnel?"CONNECT":n,path:e.useProxyTunnel?this.createProxyPath(r):t,headers:this.createProxyHeaders(r)}),e.connection&&"object"==typeof e.connection)for(var c in e.connection)i[c]=e.connection[c];if(!e.useProxyTunnel){for(var u in i.proxy)i[u]=i.proxy[u];delete i.proxy}return i.requestConfig=e.requestConfig,i.responseConfig=e.responseConfig,i},decodeQueryFromURL:function(t){for(var e,n=o.parse(t).query.substring(1).split("&"),r={},i=0;i<n.length;i++)r[(e=n[i].split("="))[0]]=decodeURIComponent(e[1]);return r},serializeEncodeQueryFromArgs:function(t){return p("args is",t),t&&"object"!=typeof t&&e.emit("error","cannot serialize parameters: invalid type "+typeof t+" should be an object type"),function t(e,n){var r,i=[];for(r in e)if(e.hasOwnProperty(r)){var o=n?n+"["+r+"]":r,s=e[r];i.push(null!==s&&"object"==typeof s?t(s,o):encodeURIComponent(o)+"="+encodeURIComponent(s))}return i.join("&")}(t)},parsePathParameters:function(t,e){var n=e;if(!t||!t.path)return e;for(var r in t.path){var i=new RegExp("\\$\\{"+r+"\\}","i");n=n.replace(i,t.path[r])}return n},overrideClientConfig:function(t,e){function n(t){return t&&"object"==typeof t}n(e.requestConfig)&&s._extend(t.requestConfig,e.requestConfig),n(e.responseConfig)&&s._extend(t.responseConfig,e.responseConfig)},connect:function(t,n,r,o,s){o&&r&&"object"!=typeof r&&e.emit("error","args should be and object");var a,u=this.createConnectOptions(this.parsePathParameters(r,n),t);if(p("options pre connect",u),u.method=t,s.href=u.href,u.clientRequest=s,u.headers=u.headers||{},p("args = ",r),p("args.data = ",void 0!==r?r.data:void 0),"function"==typeof r)o=r,"POST"!==t&&"PUT"!==t&&"DELETE"!==t&&"PATCH"!==t||(u.headers[h]=0);else if("object"==typeof r){if(r.headers)for(var l in r.headers)r.headers.hasOwnProperty(l)&&(u.headers[l]=r.headers[l]);if(r.parameters&&Object.keys(r.parameters).length>0){var d=u.path.length,_=u.path.indexOf("?");_>=0&&_!==d-1&&e.emit("error","parameters argument cannot be used if parameters are already defined in URL "+u.path),u.path+="?"===u.path.charAt(d-1)?"":"?",u.path=u.path.concat(f.serializeEncodeQueryFromArgs(r.parameters)),p("options.path after request parameters = ",u.path)}this.overrideClientConfig(u,r),void 0===r.data||u.headers.hasOwnProperty(h)?u.headers[h]=0:i.get(u).serialize(r.data,(a=e,function(t,e){a.emit(t,e)}),(function(t){u.data=t,u.headers[h]=Buffer.byteLength(u.data,"utf8")}))}p("options post connect",u),p("FINAL SELF object  ====>",e),e.useProxy&&e.useProxyTunnel?c.proxy(u,o):c.normal(u,o)},mergeMimeTypes:function(t){if(t&&"object"==typeof t)try{t.json&&t.json instanceof Array&&t.json.length>0?r.find("JSON").contentTypes=t.json:t.xml&&t.xml instanceof Array&&t.xml.length>0&&(r.find("XML").contentTypes=t.xml)}catch(t){e.emit("error","cannot assign custom content types to parser, cause: "+t)}},createHttpMethod:function(t){return function(e,n,r){var i=new d;return f.connect(t.toUpperCase(),e,n,r,i),i}}},_=function(t,n){var r=e[n.toLowerCase()];return function(e,n){return"function"==typeof e&&(n=e,e={}),r(t,e,n)}};this.get=f.createHttpMethod("get"),this.post=f.createHttpMethod("post"),this.put=f.createHttpMethod("put"),this.delete=f.createHttpMethod("delete"),this.patch=f.createHttpMethod("patch"),this.registerMethod=function(t,e,n){this.methods[t]=new _(e,n)},this.unregisterMethod=function(t){delete this.methods[t]},this.addCustomHttpMethod=function(t){e[t.toLowerCase()]=f.createHttpMethod(t)},this.parsers=u.parsers,this.serializers=u.serializers,f.mergeMimeTypes(e.mimetypes),p("ConnectManager",c)};var l=function(t,e){this.configureRequest=function(t,e,n){e.timeout&&t.setTimeout(e.timeout,(function(){n.emit("requestTimeout",t)})),e.noDelay&&t.setNoDelay(e.noDelay),e.keepAlive&&t.setSocketKeepAlive(e.noDelay,e.keepAliveDelay||0)},this.configureResponse=function(t,e,n){e.timeout&&t.setTimeout(e.timeout,(function(){n.emit("responseTimeout",t),t.close()}))},this.configureOptions=function(t){!function(e,n){for(var r in e)n.hasOwnProperty(e[r])&&(t[e[r]]=n[e[r]])}(["followRedirects","maxRedirects"],t.requestConfig),delete t.protocol,delete t.clientRequest,delete t.requestConfig,delete t.responseConfig,p("options pre connect",t)},this.handleEnd=function(t,e,n){var r=this,i=t.headers["content-type"],o=t.headers["content-encoding"];p("content-type: ",i),p("content-encoding: ",o),void 0!==o&&o.indexOf("gzip")>=0?(p("gunzip"),c.gunzip(Buffer.concat(e),(function(e,i){r.handleResponse(t,i,n)}))):void 0!==o&&o.indexOf("deflate")>=0?(p("inflate"),c.inflate(Buffer.concat(e),(function(e,i){r.handleResponse(t,i,n)}))):(p("not compressed"),r.handleResponse(t,Buffer.concat(e),n))},this.handleResponse=function(n,r,i){e.get(n).parse(r,function(t){return function(e,n){t.emit(e,n)}}(t),(function(t){i(t,n)}))},this.prepareData=function(t){return t instanceof Buffer||"object"!=typeof t?t:JSON.stringify(t)},this.proxy=function(e,n){p("proxy options",e.proxy);var o=r.request(e.proxy),s=this;o.on("connect",(function(o,a,c){p("proxy connected",a),e.socket=a;var u=[],l="http"==e.protocol?r:i,h=e.clientRequest,d=e.requestConfig,f=e.responseConfig;s.configureOptions(e),h.options=e;var _=l.request(e,(function(e){s.configureResponse(e,f,h),e.on("data",(function(t){u.push(Buffer.from(t))})),e.on("end",(function(){s.handleEnd(e,u,n)})),e.on("error",(function(n){void 0!==h&&"object"==typeof h?(n.request=h,n.response=e,h.emit("error",n)):t.emit("error",n)}))}));s.configureRequest(_,d,h),h.setHttpRequest(_),e.data&&_.write(e.data),_.end(),_.on("error",(function(e){void 0!==h&&"object"==typeof h?(e.request=h,h.emit("error",e)):t.emit("error",e)}))})),o.on("error",(function(e){t.emit("error",e)})),o.end()},this.normal=function(e,n){var o=[],s="http"===e.protocol?r:i,a=e.clientRequest,c=e.requestConfig,u=e.responseConfig,l=this;l.configureOptions(e),a.options=e;var h=s.request(e,(function(e){l.configureResponse(e,u,a),e.on("data",(function(t){o.push(Buffer.from(t))})),e.on("end",(function(){l.handleEnd(e,o,n)})),e.on("error",(function(n){void 0!==a&&"object"==typeof a?(n.request=a,n.response=e,a.emit("error",n)):t.emit("error",n)}))}));l.configureRequest(h,c,a),p("clientRequest",a),a.setHttpRequest(h),p("options data",e.data),e.data&&h.write(e.data),h.end(),h.on("error",(function(e){void 0!==a&&"object"==typeof a?(e.request=a,a.emit("error",e)):t.emit("error",e)}))}};s.inherits(e.K,a.EventEmitter);var p=function(){if(process.env.DEBUG){var t=new Date,e=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+" [NRC CLIENT]"+arguments.callee.caller.name+" -> ",n=Array.prototype.slice.call(arguments);n.splice(0,0,e),u.apply(console,n)}}},8180:(t,e,n)=>{var r=function(){var t={},e=null;this.add=function(n){if(!function(t){function e(t,e){var n=!0;for(var r in e){var i=e[r].split(":");if(!t.hasOwnProperty([i[0]])||typeof t[i[0]]!==i[1]){n=!1;break}}return n}return result=e(t,["name:string","parse:function","isDefault:boolean"]),result&&!t.isDefault&&(result=e(t,["match:function"])),result}(n))throw"parser cannot be added: invalid parser definition";n.isDefault?e=n:t[n.name]=n},this.remove=function(e){if(!t[e])throw"cannot remove parser: "+e+" doesn't exists";delete t[e]},this.clean=function(){t={}},this.find=function(e){var n=t[e];if(!n)throw"cannot find parser: "+e+" doesn't exists ";return n},this.getDefault=function(){return e},this.get=function(n){var r=null;for(var i in t)if(t[i].match(n)){r=t[i];break}return null===r?e:r},this.getAll=function(){var e=[];for(var n in t)e.push(t[n]);return e}};t.exports=function(){var t=new r,e={isDefault:!1,match:function(t){var e=!1,n=t.headers["content-type"]&&t.headers["content-type"].replace(/ /g,"");if(!n)return e;for(var r=0;r<this.contentTypes.length&&!(e=this.contentTypes[r].trim().toLowerCase()===n.trim().toLowerCase());r++);return e}};return t.add(Object.assign({name:"XML",options:{explicitArray:!1},contentTypes:["application/xml","application/xml;charset=utf-8","text/xml","text/xml;charset=utf-8"],parseString:n(5055).parseString,parse:function(t,e,n){this.parseString(t.toString(),this.options,(function(t,e){n(e)}))}},e)),t.add(Object.assign({name:"JSON",contentTypes:["application/json","application/json;charset=utf-8"],isValidData:function(t){return void 0!==t&&void 0!==t.length&&t.length>0},parse:function(t,e,n){var r,i=t.toString();try{r=this.isValidData(i)?JSON.parse(i):i}catch(t){e("error","Error parsing response. response: ["+i+"], error: ["+t+"]")}n(r)}},e)),t.add({name:"DEFAULT",isDefault:!0,parse:function(t,e,n){n(t)}}),t}},6310:(t,e,n)=>{var r=n(5055),i=function(){var t={},e=null;this.add=function(n){if(!function(t){function e(t,e){var n=!0;for(var r in e){var i=e[r].split(":");if(!t.hasOwnProperty([i[0]])||typeof t[i[0]]!==i[1]){n=!1;break}}return n}return result=e(t,["name:string","serialize:function","isDefault:boolean"]),result&&!t.isDefault&&(result=e(t,["match:function"])),result}(n))throw"serializer cannot be added: invalid serializer definition";n.isDefault?e=n:t[n.name]=n},this.remove=function(e){if(!t[e])throw"cannot remove serializer: "+e+" doesn't exists";delete t[e]},this.find=function(e){var n=t[e];if(!n)throw"cannot find serializer: "+e+" doesn't exists";return n},this.clean=function(){t={}},this.get=function(n){var r=null;for(var i in t)if(t[i].match(n)){r=t[i];break}return null===r?e:r},this.getAll=function(){var e=[];for(var n in t)e.push(t[n]);return e},this.getDefault=function(){return e}};t.exports=function(){var t=new i,e={isDefault:!1,match:function(t){var e=!1,n=t.headers["Content-Type"]&&t.headers["Content-Type"].replace(/ /g,"");if(!n)return e;for(var r=0;r<this.contentTypes.length&&!(e=this.contentTypes[r].trim().toLowerCase()===n.trim().toLowerCase());r++);return e}};return t.add(Object.assign({name:"XML",options:{},contentTypes:["application/xml","application/xml;charset=utf-8","text/xml","text/xml;charset=utf-8"],xmlSerializer:new r.Builder(this.options),serialize:function(t,e,n){"object"==typeof t&&(t=xmlSerializer.buildObject(t)),n(t)}},e)),t.add(Object.assign({name:"JSON",contentTypes:["application/json","application/json;charset=utf-8"],serialize:function(t,e,n){"object"==typeof t&&(t=JSON.stringify(t)),n(t)}},e)),t.add(Object.assign({name:"FORM-ENCODED",contentTypes:["application/x-www-form-urlencoded","multipart/form-data","text/plain"],encode:function(t,e){var n,r=[];for(n in t)if(t.hasOwnProperty(n)){var i=e?e+"["+n+"]":n,o=t[n];r.push(null!==o&&"object"==typeof o?serialize(o,i):encodeURIComponent(i)+"="+encodeURIComponent(o))}return r.join("&")},serialize:function(t,e,n){"object"==typeof t&&(t=this.encode(t)),n(t)}},e)),t.add({name:"DEFAULT",isDefault:!0,serialize:function(t,e,n){n(t.toString())}}),t}},7345:t=>{"use strict";t.exports=(t,e)=>(e=e||(()=>{}),t.then((t=>new Promise((t=>{t(e())})).then((()=>t))),(t=>new Promise((t=>{t(e())})).then((()=>{throw t})))))},5860:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(6729),i=n(6512),o=n(6506),s=()=>{},a=new i.TimeoutError;e.default=class extends r{constructor(t){var e,n,r,i;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=s,this._resolveIdle=s,!("number"==typeof(t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:o.default},t)).intervalCap&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(n=null===(e=t.intervalCap)||void 0===e?void 0:e.toString())&&void 0!==n?n:""}\` (${typeof t.intervalCap})`);if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(i=null===(r=t.interval)||void 0===r?void 0:r.toString())&&void 0!==i?i:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===1/0||0===t.interval,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=!0===t.throwOnTimeout,this._isPaused=!1===t.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=s,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=s,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const t=Date.now();if(void 0===this._intervalId){const e=this._intervalEnd-t;if(!(e<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),e)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const e=this._queue.dequeue();return!!e&&(this.emit("active"),e(),t&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((()=>{this._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!("number"==typeof t&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,e={}){return new Promise(((n,r)=>{this._queue.enqueue((async()=>{this._pendingCount++,this._intervalCount++;try{const o=void 0===this._timeout&&void 0===e.timeout?t():i.default(Promise.resolve(t()),void 0===e.timeout?this._timeout:e.timeout,(()=>{(void 0===e.throwOnTimeout?this._throwOnTimeout:e.throwOnTimeout)&&r(a)}));n(await o)}catch(t){r(t)}this._next()}),e),this._tryToStartAnother(),this.emit("add")}))}async addAll(t,e){return Promise.all(t.map((async t=>this.add(t,e))))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise((t=>{const e=this._resolveEmpty;this._resolveEmpty=()=>{e(),t()}}))}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise((t=>{const e=this._resolveIdle;this._resolveIdle=()=>{e(),t()}}))}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}}},7489:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){let r=0,i=t.length;for(;i>0;){const o=i/2|0;let s=r+o;n(t[s],e)<=0?(r=++s,i-=o+1):i=o}return r}},6506:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(7489);e.default=class{constructor(){this._queue=[]}enqueue(t,e){const n={priority:(e=Object.assign({priority:0},e)).priority,run:t};if(this.size&&this._queue[this.size-1].priority>=e.priority)return void this._queue.push(n);const i=r.default(this._queue,n,((t,e)=>e.priority-t.priority));this._queue.splice(i,0,n)}dequeue(){const t=this._queue.shift();return null==t?void 0:t.run}filter(t){return this._queue.filter((e=>e.priority===t.priority)).map((t=>t.run))}get size(){return this._queue.length}}},6512:(t,e,n)=>{"use strict";const r=n(7345);class i extends Error{constructor(t){super(t),this.name="TimeoutError"}}const o=(t,e,n)=>new Promise(((o,s)=>{if("number"!=typeof e||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0)return void o(t);const a=setTimeout((()=>{if("function"==typeof n){try{o(n())}catch(t){s(t)}return}const r=n instanceof Error?n:new i("string"==typeof n?n:`Promise timed out after ${e} milliseconds`);"function"==typeof t.cancel&&t.cancel(),s(r)}),e);r(t.then(o,s),(()=>{clearTimeout(a)}))}));t.exports=o,t.exports.default=o,t.exports.TimeoutError=i},2773:(t,e,n)=>{var r={};r.sys=n(3583),r.promise=n(8835),t.exports=r},8371:(t,e,n)=>{"use strict";var r=n(3837),i=n(4344),o=n(3078),s=n(9674);function a(){}a.isLinux=function(t){return["aix","android","linux"].indexOf(t)>=0},a.isMacOS=function(t){return["darwin","freebsd"].indexOf(t)>=0},a.isWindow=function(t){return t&&null!==t.match(/^win/)},a.isPlatformSupport=function(t){return this.isWindow(t)||this.isLinux(t)||this.isMacOS(t)},a.getExecutablePath=function(t,e){if(!this.isPlatformSupport(t))throw new Error(r.format("Platform |%s| is not support",t));var n=null;return"aix"===t?n="/usr/sbin/ping":a.isLinux(t)?n=e?"ping6":"ping":a.isWindow(t)?n=process.env.SystemRoot+"/system32/ping.exe":a.isMacOS(t)&&(n=e?"/sbin/ping6":"/sbin/ping"),n},a.createBuilder=function(t){if(!this.isPlatformSupport(t))throw new Error(r.format("Platform |%s| is not support",t));var e=null;return a.isLinux(t)?e=i:a.isWindow(t)?e=s:a.isMacOS(t)&&(e=o),e},t.exports=a},4344:(t,e,n)=>{"use strict";var r=n(3837),i={},o={numeric:!0,timeout:2,deadline:!1,min_reply:1,v6:!1,sourceAddr:"",packetSize:56,extra:[]};i.getCommandArguments=function(t,e){var n=e||{},i=[];return["numeric","timeout","deadline","min_reply","v6","sourceAddr","extra","packetSize"].forEach((function(t){"boolean"!=typeof n[t]&&(n[t]=n[t]||o[t])})),n.numeric&&i.push("-n"),n.timeout&&(i=i.concat(["-W",r.format("%d",n.timeout)])),n.deadline&&(i=i.concat(["-w",r.format("%d",n.deadline)])),n.min_reply&&(i=i.concat(["-c",r.format("%d",n.min_reply)])),n.sourceAddr&&(i=i.concat(["-I",r.format("%s",n.sourceAddr)])),n.packetSize&&(i=i.concat(["-s",r.format("%d",n.packetSize)])),n.extra&&(i=i.concat(n.extra)),i.push(t),i},i.getSpawnOptions=function(){return{shell:!1,env:Object.assign(process.env,{LANG:"C"})}},t.exports=i},3078:(t,e,n)=>{"use strict";var r=n(3837),i={},o={numeric:!0,timeout:2,deadline:!1,min_reply:1,v6:!1,sourceAddr:"",packetSize:56,extra:[]};i.getCommandArguments=function(t,e){var n=e||{},i=[];if(["numeric","timeout","deadline","min_reply","v6","sourceAddr","extra","packetSize"].forEach((function(t){"boolean"!=typeof n[t]&&(n[t]=n[t]||o[t])})),n.numeric&&i.push("-n"),n.timeout){if(e.v6)throw new Error("There is no timeout option on ping6");i=i.concat(["-W",r.format("%d",1e3*n.timeout)])}return n.deadline&&(i=i.concat(["-t",r.format("%d",n.deadline)])),n.min_reply&&(i=i.concat(["-c",r.format("%d",n.min_reply)])),n.sourceAddr&&(i=i.concat(["-S",r.format("%s",n.sourceAddr)])),n.packetSize&&(i=i.concat(["-s",r.format("%d",n.packetSize)])),n.extra&&(i=i.concat(n.extra)),i.push(t),i},i.getSpawnOptions=function(){return{}},t.exports=i},9674:(t,e,n)=>{"use strict";var r=n(3837),i={},o={numeric:!0,timeout:5,min_reply:1,v6:!1,sourceAddr:"",packetSize:32,extra:[]};i.getCommandArguments=function(t,e){var n=e||{},i=[];if(["numeric","timeout","min_reply","v6","sourceAddr","extra","packetSize"].forEach((function(t){"boolean"!=typeof n[t]&&(n[t]=n[t]||o[t])})),i.push(n.v6?"-6":"-4"),n.numeric||i.push("-a"),n.timeout&&(i=i.concat(["-w",r.format("%d",1e3*n.timeout)])),n.deadline)throw new Error("There is no deadline option on windows");return n.min_reply&&(i=i.concat(["-n",r.format("%d",n.min_reply)])),n.sourceAddr&&(i=i.concat(["-S",r.format("%s",n.sourceAddr)])),n.packetSize&&(i=i.concat(["-l",r.format("%d",n.packetSize)])),n.extra&&(i=i.concat(n.extra)),i.push(t),i},i.getSpawnOptions=function(){return{windowsHide:!0}},t.exports=i},5347:t=>{"use strict";function e(t,e){this._state=0,this._response={inputHost:t,host:"unknown",alive:!1,output:"unknown",time:"unknown",times:[],min:"unknown",max:"unknown",avg:"unknown",stddev:"unknown",packetLoss:"unknown"},this._times=[],this._lines=[],this._stripRegex=/[ ]*\r?\n?$/g,this._pingConfig=e||{}}e.prototype.STATES={INIT:0,HEADER:1,BODY:2,FOOTER:3,END:4},e.prototype._changeState=function(t){if(Object.keys(this.STATES).map((function(t){return this.STATES[t]}),this).indexOf(t)<0)throw new Error("Unknown state");return this._state=t,this},e.prototype._processHeader=function(t){throw new Error("Subclass should implement this method")},e.prototype._processBody=function(t){throw new Error("Subclass should implement this method")},e.prototype._processFooter=function(t){throw new Error("Subclass should implement this method")},e.prototype.eat=function(t){var e=[this.STATES.INIT,this.STATES.HEADER];this._lines.push(t);var n=t.replace(this._stripRegex,"");if(0===n.length);else if(e.indexOf(this._state)>=0)this._processHeader(n);else if(this._state===this.STATES.BODY)this._processBody(n);else if(this._state===this.STATES.FOOTER)this._processFooter(n);else if(this._state!==this.STATES.END)throw new Error("Unknown state");return this},e.prototype.getResult=function(){var t=Object.assign({},this._response);if(t.output=this._lines.join("\n"),t.alive=this._times.length>0,t.alive&&(this._response.time=this._times[0],t.time=this._response.time,this._response.times=this._times,t.times=this._response.times),"unknown"===t.stddev&&t.alive){var e=this._times.length,n=this._times.reduce((function(e,n){var r=n-t.avg;return e+r*r}),0)/e;t.stddev=Math.round(1e3*Math.sqrt(n))/1e3}return["min","avg","max","stddev","packetLoss"].forEach((function(e){var n=t[e];"number"==typeof n&&(t[e]=n.toFixed(3))})),t},t.exports=e},6394:(t,e,n)=>{"use strict";var r=n(3837),i=n(8371),o=n(5839),s=n(5096),a=n(7749);function c(){}c.createParser=function(t,e,n){var c=n||{};if(!i.isPlatformSupport(e))throw new Error(r.format("Platform |%s| is not support",e));var u=null;return i.isWindow(e)?u=new o(t,c):i.isMacOS(e)?u=new s(t,c):i.isLinux(e)&&(u=new a(t,c)),u},t.exports=c},7749:(t,e,n)=>{"use strict";var r=n(3837),i=n(5347),o=n(5096);function s(t,e){i.call(this,t,e)}r.inherits(s,i),s.prototype._processHeader=function(t){var e=t.split(" ");if(-1===e[1].indexOf("("))this._response.host=e[1],this._response.numeric_host=e[2].slice(1,-1);else{var n=e.slice(1,-3).join("").match(/([^\s()]+)/g);this._response.host=n.shift(),this._response.numeric_host=n.pop()}this._changeState(this.STATES.BODY)},s.prototype._processBody=function(t){o.prototype._processBody.call(this,t)},s.prototype._processFooter=function(t){o.prototype._processFooter.call(this,t)},t.exports=s},5096:(t,e,n)=>{"use strict";var r=n(3837),i=n(5347);function o(t,e){i.call(this,t,e)}r.inherits(o,i),o.prototype._processHeader=function(t){var e=t.split(" ");this._response.host=e[1],this._response.numeric_host=e[2].slice(1,-2),this._changeState(this.STATES.BODY)},o.prototype._processBody=function(t){if((t.match(/=/g)||[]).length>=3){var e=/([0-9.]+)[ ]*ms/.exec(t);this._times.push(parseFloat(e[1],10))}t.indexOf("---")>=0&&this._changeState(this.STATES.FOOTER)},o.prototype._processFooter=function(t){var e=t.match(/ ([\d.]+)%/);if(e&&(this._response.packetLoss=parseFloat(e[1],10)),(t.match(/[/]/g)||[]).length>=3){var n=/([0-9.]+)/g,r=n.exec(t),i=n.exec(t),o=n.exec(t),s=n.exec(t);r&&i&&o&&s&&(this._response.min=parseFloat(r[1],10),this._response.avg=parseFloat(i[1],10),this._response.max=parseFloat(o[1],10),this._response.stddev=parseFloat(s[1],10),this._changeState(this.STATES.END)),this._changeState(this.STATES.END)}},t.exports=o},5839:(t,e,n)=>{"use strict";var r=n(3837),i=n(5347);function o(t,e){i.call(this,t,e),this._ipv4Regex=/^([0-9]{1,3}\.){3}[0-9]{1,3}$/}r.inherits(o,i),o.prototype._processHeader=function(t){var e=-1===t.indexOf("["),n=t.split(" ");if(e)this._response.host=n.find((function(t){return this._ipv4Regex.test(t)}),this),this._response.numeric_host=this._response.host;else{var r=n.find((function(t){return-1!==t.indexOf("[")}),this),i=n.indexOf(r),o=/\[(.*)\]/.exec(r);this._response.numeric_host=o?o[1]:"NA",this._response.host=n[i-1]}this._changeState(this.STATES.BODY)},o.prototype._processIPV6Body=function(t){var e=t.split(" "),n=e.filter((function(t){return t.indexOf("=")>=0||t.indexOf("<")>=0}));if((n=n.map((function(t){var n=t,r=e.indexOf(t)+1;return r<e.length&&"ms"===e[r]&&(n+="ms"),n}))).length>=1){var r=n.find((function(t){return t.search(/(ms|мс)/i)>=0})),i=/([0-9.]+)/.exec(r);this._times.push(parseFloat(i[1],10))}},o.prototype._processIPV4Body=function(t){var e=t.split(" ").filter((function(t){return t.indexOf("=")>=0||t.indexOf("<")>=0}));if(e.length>=3){var n=this._pingConfig.packetSize,i=e.find((function(t){var e=r.format("=%d",n);return t.indexOf(e)>=0})),o=e.indexOf(i),s=e[o+1],a=/([0-9.]+)/.exec(s);this._times.push(parseFloat(a[1],10))}},o.prototype._processBody=function(t){":"===t.slice(-1)?this._changeState(this.STATES.FOOTER):this._pingConfig.v6?this._processIPV6Body(t):this._processIPV4Body(t)},o.prototype._processFooter=function(t){var e=t.match(/([\d.]+)%/);if(e&&(this._response.packetLoss=parseFloat(e[1],10)),t.search(/(ms|мсек)/i)>=0){var n=/([0-9.]+)/g,r=n.exec(t),i=n.exec(t),o=n.exec(t);r&&i&&o&&(this._response.min=parseFloat(r[1],10),this._response.max=parseFloat(i[1],10),this._response.avg=parseFloat(o[1],10),this._changeState(this.STATES.END))}},t.exports=o},8835:(t,e,n)=>{"use strict";var r=n(3837),i=n(1808),o=n(2081),s=n(2037),a=n(8371),c=n(6394);e.probe=function(t,e){try{var n=function(t,e){var n=e||{};return void 0===n.v6&&(n.v6=i.isIPv6(t)),new Promise((function(e,i){var u=null,l=s.platform();try{var p=a.createBuilder(l),h=a.getExecutablePath(l,n.v6),d=p.getCommandArguments(t,n),f=p.getSpawnOptions();u=o.spawn(h,d,f)}catch(t){return void i(t)}var _=c.createParser(t,l,n);u.once("error",(function(){var t=new Error(r.format("ping.probe: %s. %s","there was an error while executing the ping program. ","Check the path or permissions..."));i(t)}));var g=[];u.stdout.on("data",(function(t){g.push(String(t))})),u.stderr.on("data",(function(t){g.push(String(t))})),u.once("close",(function(){g.join("").split("\n").forEach(_.eat,_);var t=_.getResult();e(t)}))}))}(t,e);return n}catch(t){return Promise.reject(t)}}},3583:(t,e,n)=>{"use strict";var r=n(8835);e.probe=function(t,e,n){var i=n||{};return r.probe(t,i).then((function(t){e(t.alive,null)})).catch((function(t){e(null,t)}))}},6099:(t,e,n)=>{!function(t){t.parser=function(t,e){return new i(t,e)},t.SAXParser=i,t.SAXStream=s,t.createStream=function(t,e){return new s(t,e)},t.MAX_BUFFER_LENGTH=65536;var e,r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function i(e,n){if(!(this instanceof i))return new i(e,n);var o=this;!function(t){for(var e=0,n=r.length;e<n;e++)t[r[e]]=""}(o),o.q=o.c="",o.bufferCheckPosition=t.MAX_BUFFER_LENGTH,o.opt=n||{},o.opt.lowercase=o.opt.lowercase||o.opt.lowercasetags,o.looseCase=o.opt.lowercase?"toLowerCase":"toUpperCase",o.tags=[],o.closed=o.closedRoot=o.sawRoot=!1,o.tag=o.error=null,o.strict=!!e,o.noscript=!(!e&&!o.opt.noscript),o.state=T.BEGIN,o.strictEntities=o.opt.strictEntities,o.ENTITIES=o.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),o.attribList=[],o.opt.xmlns&&(o.ns=Object.create(p)),o.trackPosition=!1!==o.opt.position,o.trackPosition&&(o.position=o.line=o.column=0),I(o,"onready")}t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),i.prototype={end:function(){N(this)},write:function(e){var n=this;if(this.error)throw this.error;if(n.closed)return C(n,"Cannot write after close. Assign an onready handler.");if(null===e)return N(n);"object"==typeof e&&(e=e.toString());for(var i=0,o="";o=L(e,i++),n.c=o,o;)switch(n.trackPosition&&(n.position++,"\n"===o?(n.line++,n.column=0):n.column++),n.state){case T.BEGIN:if(n.state=T.BEGIN_WHITESPACE,"\ufeff"===o)continue;M(n,o);continue;case T.BEGIN_WHITESPACE:M(n,o);continue;case T.TEXT:if(n.sawRoot&&!n.closedRoot){for(var s=i-1;o&&"<"!==o&&"&"!==o;)(o=L(e,i++))&&n.trackPosition&&(n.position++,"\n"===o?(n.line++,n.column=0):n.column++);n.textNode+=e.substring(s,i-1)}"<"!==o||n.sawRoot&&n.closedRoot&&!n.strict?(g(o)||n.sawRoot&&!n.closedRoot||A(n,"Text data outside of root node."),"&"===o?n.state=T.TEXT_ENTITY:n.textNode+=o):(n.state=T.OPEN_WAKA,n.startTagPosition=n.position);continue;case T.SCRIPT:"<"===o?n.state=T.SCRIPT_ENDING:n.script+=o;continue;case T.SCRIPT_ENDING:"/"===o?n.state=T.CLOSE_TAG:(n.script+="<"+o,n.state=T.SCRIPT);continue;case T.OPEN_WAKA:if("!"===o)n.state=T.SGML_DECL,n.sgmlDecl="";else if(g(o));else if(v(h,o))n.state=T.OPEN_TAG,n.tagName=o;else if("/"===o)n.state=T.CLOSE_TAG,n.tagName="";else if("?"===o)n.state=T.PROC_INST,n.procInstName=n.procInstBody="";else{if(A(n,"Unencoded <"),n.startTagPosition+1<n.position){var u=n.position-n.startTagPosition;o=new Array(u).join(" ")+o}n.textNode+="<"+o,n.state=T.TEXT}continue;case T.SGML_DECL:(n.sgmlDecl+o).toUpperCase()===a?(O(n,"onopencdata"),n.state=T.CDATA,n.sgmlDecl="",n.cdata=""):n.sgmlDecl+o==="--"?(n.state=T.COMMENT,n.comment="",n.sgmlDecl=""):(n.sgmlDecl+o).toUpperCase()===c?(n.state=T.DOCTYPE,(n.doctype||n.sawRoot)&&A(n,"Inappropriately located doctype declaration"),n.doctype="",n.sgmlDecl=""):">"===o?(O(n,"onsgmldeclaration",n.sgmlDecl),n.sgmlDecl="",n.state=T.TEXT):m(o)?(n.state=T.SGML_DECL_QUOTED,n.sgmlDecl+=o):n.sgmlDecl+=o;continue;case T.SGML_DECL_QUOTED:o===n.q&&(n.state=T.SGML_DECL,n.q=""),n.sgmlDecl+=o;continue;case T.DOCTYPE:">"===o?(n.state=T.TEXT,O(n,"ondoctype",n.doctype),n.doctype=!0):(n.doctype+=o,"["===o?n.state=T.DOCTYPE_DTD:m(o)&&(n.state=T.DOCTYPE_QUOTED,n.q=o));continue;case T.DOCTYPE_QUOTED:n.doctype+=o,o===n.q&&(n.q="",n.state=T.DOCTYPE);continue;case T.DOCTYPE_DTD:n.doctype+=o,"]"===o?n.state=T.DOCTYPE:m(o)&&(n.state=T.DOCTYPE_DTD_QUOTED,n.q=o);continue;case T.DOCTYPE_DTD_QUOTED:n.doctype+=o,o===n.q&&(n.state=T.DOCTYPE_DTD,n.q="");continue;case T.COMMENT:"-"===o?n.state=T.COMMENT_ENDING:n.comment+=o;continue;case T.COMMENT_ENDING:"-"===o?(n.state=T.COMMENT_ENDED,n.comment=k(n.opt,n.comment),n.comment&&O(n,"oncomment",n.comment),n.comment=""):(n.comment+="-"+o,n.state=T.COMMENT);continue;case T.COMMENT_ENDED:">"!==o?(A(n,"Malformed comment"),n.comment+="--"+o,n.state=T.COMMENT):n.state=T.TEXT;continue;case T.CDATA:"]"===o?n.state=T.CDATA_ENDING:n.cdata+=o;continue;case T.CDATA_ENDING:"]"===o?n.state=T.CDATA_ENDING_2:(n.cdata+="]"+o,n.state=T.CDATA);continue;case T.CDATA_ENDING_2:">"===o?(n.cdata&&O(n,"oncdata",n.cdata),O(n,"onclosecdata"),n.cdata="",n.state=T.TEXT):"]"===o?n.cdata+="]":(n.cdata+="]]"+o,n.state=T.CDATA);continue;case T.PROC_INST:"?"===o?n.state=T.PROC_INST_ENDING:g(o)?n.state=T.PROC_INST_BODY:n.procInstName+=o;continue;case T.PROC_INST_BODY:if(!n.procInstBody&&g(o))continue;"?"===o?n.state=T.PROC_INST_ENDING:n.procInstBody+=o;continue;case T.PROC_INST_ENDING:">"===o?(O(n,"onprocessinginstruction",{name:n.procInstName,body:n.procInstBody}),n.procInstName=n.procInstBody="",n.state=T.TEXT):(n.procInstBody+="?"+o,n.state=T.PROC_INST_BODY);continue;case T.OPEN_TAG:v(d,o)?n.tagName+=o:(P(n),">"===o?B(n):"/"===o?n.state=T.OPEN_TAG_SLASH:(g(o)||A(n,"Invalid character in tag name"),n.state=T.ATTRIB));continue;case T.OPEN_TAG_SLASH:">"===o?(B(n,!0),U(n)):(A(n,"Forward-slash in opening tag not followed by >"),n.state=T.ATTRIB);continue;case T.ATTRIB:if(g(o))continue;">"===o?B(n):"/"===o?n.state=T.OPEN_TAG_SLASH:v(h,o)?(n.attribName=o,n.attribValue="",n.state=T.ATTRIB_NAME):A(n,"Invalid attribute name");continue;case T.ATTRIB_NAME:"="===o?n.state=T.ATTRIB_VALUE:">"===o?(A(n,"Attribute without value"),n.attribValue=n.attribName,j(n),B(n)):g(o)?n.state=T.ATTRIB_NAME_SAW_WHITE:v(d,o)?n.attribName+=o:A(n,"Invalid attribute name");continue;case T.ATTRIB_NAME_SAW_WHITE:if("="===o)n.state=T.ATTRIB_VALUE;else{if(g(o))continue;A(n,"Attribute without value"),n.tag.attributes[n.attribName]="",n.attribValue="",O(n,"onattribute",{name:n.attribName,value:""}),n.attribName="",">"===o?B(n):v(h,o)?(n.attribName=o,n.state=T.ATTRIB_NAME):(A(n,"Invalid attribute name"),n.state=T.ATTRIB)}continue;case T.ATTRIB_VALUE:if(g(o))continue;m(o)?(n.q=o,n.state=T.ATTRIB_VALUE_QUOTED):(A(n,"Unquoted attribute value"),n.state=T.ATTRIB_VALUE_UNQUOTED,n.attribValue=o);continue;case T.ATTRIB_VALUE_QUOTED:if(o!==n.q){"&"===o?n.state=T.ATTRIB_VALUE_ENTITY_Q:n.attribValue+=o;continue}j(n),n.q="",n.state=T.ATTRIB_VALUE_CLOSED;continue;case T.ATTRIB_VALUE_CLOSED:g(o)?n.state=T.ATTRIB:">"===o?B(n):"/"===o?n.state=T.OPEN_TAG_SLASH:v(h,o)?(A(n,"No whitespace between attributes"),n.attribName=o,n.attribValue="",n.state=T.ATTRIB_NAME):A(n,"Invalid attribute name");continue;case T.ATTRIB_VALUE_UNQUOTED:if(!y(o)){"&"===o?n.state=T.ATTRIB_VALUE_ENTITY_U:n.attribValue+=o;continue}j(n),">"===o?B(n):n.state=T.ATTRIB;continue;case T.CLOSE_TAG:if(n.tagName)">"===o?U(n):v(d,o)?n.tagName+=o:n.script?(n.script+="</"+n.tagName,n.tagName="",n.state=T.SCRIPT):(g(o)||A(n,"Invalid tagname in closing tag"),n.state=T.CLOSE_TAG_SAW_WHITE);else{if(g(o))continue;b(h,o)?n.script?(n.script+="</"+o,n.state=T.SCRIPT):A(n,"Invalid tagname in closing tag."):n.tagName=o}continue;case T.CLOSE_TAG_SAW_WHITE:if(g(o))continue;">"===o?U(n):A(n,"Invalid characters in closing tag");continue;case T.TEXT_ENTITY:case T.ATTRIB_VALUE_ENTITY_Q:case T.ATTRIB_VALUE_ENTITY_U:var l,p;switch(n.state){case T.TEXT_ENTITY:l=T.TEXT,p="textNode";break;case T.ATTRIB_VALUE_ENTITY_Q:l=T.ATTRIB_VALUE_QUOTED,p="attribValue";break;case T.ATTRIB_VALUE_ENTITY_U:l=T.ATTRIB_VALUE_UNQUOTED,p="attribValue"}";"===o?(n[p]+=F(n),n.entity="",n.state=l):v(n.entity.length?_:f,o)?n.entity+=o:(A(n,"Invalid character in entity name"),n[p]+="&"+n.entity+o,n.entity="",n.state=l);continue;default:throw new Error(n,"Unknown state: "+n.state)}return n.position>=n.bufferCheckPosition&&function(e){for(var n=Math.max(t.MAX_BUFFER_LENGTH,10),i=0,o=0,s=r.length;o<s;o++){var a=e[r[o]].length;if(a>n)switch(r[o]){case"textNode":D(e);break;case"cdata":O(e,"oncdata",e.cdata),e.cdata="";break;case"script":O(e,"onscript",e.script),e.script="";break;default:C(e,"Max buffer length exceeded: "+r[o])}i=Math.max(i,a)}var c=t.MAX_BUFFER_LENGTH-i;e.bufferCheckPosition=c+e.position}(n),n},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var t;D(t=this),""!==t.cdata&&(O(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(O(t,"onscript",t.script),t.script="")}};try{e=n(2781).Stream}catch(t){e=function(){}}var o=t.EVENTS.filter((function(t){return"error"!==t&&"end"!==t}));function s(t,n){if(!(this instanceof s))return new s(t,n);e.apply(this),this._parser=new i(t,n),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(t){r.emit("error",t),r._parser.error=null},this._decoder=null,o.forEach((function(t){Object.defineProperty(r,"on"+t,{get:function(){return r._parser["on"+t]},set:function(e){if(!e)return r.removeAllListeners(t),r._parser["on"+t]=e,e;r.on(t,e)},enumerable:!0,configurable:!1})}))}s.prototype=Object.create(e.prototype,{constructor:{value:s}}),s.prototype.write=function(t){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(t)){if(!this._decoder){var e=n(1576).StringDecoder;this._decoder=new e("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},s.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},s.prototype.on=function(t,n){var r=this;return r._parser["on"+t]||-1===o.indexOf(t)||(r._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),r.emit.apply(r,e)}),e.prototype.on.call(r,t,n)};var a="[CDATA[",c="DOCTYPE",u="http://www.w3.org/XML/1998/namespace",l="http://www.w3.org/2000/xmlns/",p={xml:u,xmlns:l},h=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,d=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,f=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,_=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function g(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function m(t){return'"'===t||"'"===t}function y(t){return">"===t||g(t)}function v(t,e){return t.test(e)}function b(t,e){return!v(t,e)}var E,w,S,T=0;for(var x in t.STATE={BEGIN:T++,BEGIN_WHITESPACE:T++,TEXT:T++,TEXT_ENTITY:T++,OPEN_WAKA:T++,SGML_DECL:T++,SGML_DECL_QUOTED:T++,DOCTYPE:T++,DOCTYPE_QUOTED:T++,DOCTYPE_DTD:T++,DOCTYPE_DTD_QUOTED:T++,COMMENT_STARTING:T++,COMMENT:T++,COMMENT_ENDING:T++,COMMENT_ENDED:T++,CDATA:T++,CDATA_ENDING:T++,CDATA_ENDING_2:T++,PROC_INST:T++,PROC_INST_BODY:T++,PROC_INST_ENDING:T++,OPEN_TAG:T++,OPEN_TAG_SLASH:T++,ATTRIB:T++,ATTRIB_NAME:T++,ATTRIB_NAME_SAW_WHITE:T++,ATTRIB_VALUE:T++,ATTRIB_VALUE_QUOTED:T++,ATTRIB_VALUE_CLOSED:T++,ATTRIB_VALUE_UNQUOTED:T++,ATTRIB_VALUE_ENTITY_Q:T++,ATTRIB_VALUE_ENTITY_U:T++,CLOSE_TAG:T++,CLOSE_TAG_SAW_WHITE:T++,SCRIPT:T++,SCRIPT_ENDING:T++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach((function(e){var n=t.ENTITIES[e],r="number"==typeof n?String.fromCharCode(n):n;t.ENTITIES[e]=r})),t.STATE)t.STATE[t.STATE[x]]=x;function I(t,e,n){t[e]&&t[e](n)}function O(t,e,n){t.textNode&&D(t),I(t,e,n)}function D(t){t.textNode=k(t.opt,t.textNode),t.textNode&&I(t,"ontext",t.textNode),t.textNode=""}function k(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function C(t,e){return D(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,I(t,"onerror",e),t}function N(t){return t.sawRoot&&!t.closedRoot&&A(t,"Unclosed root tag"),t.state!==T.BEGIN&&t.state!==T.BEGIN_WHITESPACE&&t.state!==T.TEXT&&C(t,"Unexpected end"),D(t),t.c="",t.closed=!0,I(t,"onend"),i.call(t,t.strict,t.opt),t}function A(t,e){if("object"!=typeof t||!(t instanceof i))throw new Error("bad call to strictFail");t.strict&&C(t,e)}function P(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=e.ns),t.attribList.length=0,O(t,"onopentagstart",n)}function R(t,e){var n=t.indexOf(":")<0?["",t]:t.split(":"),r=n[0],i=n[1];return e&&"xmlns"===t&&(r="xmlns",i=""),{prefix:r,local:i}}function j(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))t.attribName=t.attribValue="";else{if(t.opt.xmlns){var e=R(t.attribName,!0),n=e.prefix,r=e.local;if("xmlns"===n)if("xml"===r&&t.attribValue!==u)A(t,"xml: prefix must be bound to "+u+"\nActual: "+t.attribValue);else if("xmlns"===r&&t.attribValue!==l)A(t,"xmlns: prefix must be bound to "+l+"\nActual: "+t.attribValue);else{var i=t.tag,o=t.tags[t.tags.length-1]||t;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[r]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,O(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}}function B(t,e){if(t.opt.xmlns){var n=t.tag,r=R(t.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(A(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),n.uri=r.prefix);var i=t.tags[t.tags.length-1]||t;n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach((function(e){O(t,"onopennamespace",{prefix:e,uri:n.ns[e]})}));for(var o=0,s=t.attribList.length;o<s;o++){var a=t.attribList[o],c=a[0],u=a[1],l=R(c,!0),p=l.prefix,h=l.local,d=""===p?"":n.ns[p]||"",f={name:c,value:u,prefix:p,local:h,uri:d};p&&"xmlns"!==p&&!d&&(A(t,"Unbound namespace prefix: "+JSON.stringify(p)),f.uri=p),t.tag.attributes[c]=f,O(t,"onattribute",f)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),O(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=T.TEXT:t.state=T.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function U(t){if(!t.tagName)return A(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=T.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=T.SCRIPT);O(t,"onscript",t.script),t.script=""}var e=t.tags.length,n=t.tagName;t.strict||(n=n[t.looseCase]());for(var r=n;e--&&t.tags[e].name!==r;)A(t,"Unexpected close tag");if(e<0)return A(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=T.TEXT);t.tagName=n;for(var i=t.tags.length;i-- >e;){var o=t.tag=t.tags.pop();t.tagName=t.tag.name,O(t,"onclosetag",t.tagName);var s={};for(var a in o.ns)s[a]=o.ns[a];var c=t.tags[t.tags.length-1]||t;t.opt.xmlns&&o.ns!==c.ns&&Object.keys(o.ns).forEach((function(e){var n=o.ns[e];O(t,"onclosenamespace",{prefix:e,uri:n})}))}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=T.TEXT}function F(t){var e,n=t.entity,r=n.toLowerCase(),i="";return t.ENTITIES[n]?t.ENTITIES[n]:t.ENTITIES[r]?t.ENTITIES[r]:("#"===(n=r).charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),i=(e=parseInt(n,16)).toString(16)):(n=n.slice(1),i=(e=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),isNaN(e)||i.toLowerCase()!==n?(A(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}function M(t,e){"<"===e?(t.state=T.OPEN_WAKA,t.startTagPosition=t.position):g(e)||(A(t,"Non-whitespace before first tag."),t.textNode=e,t.state=T.TEXT)}function L(t,e){var n="";return e<t.length&&(n=t.charAt(e)),n}T=t.STATE,String.fromCodePoint||(E=String.fromCharCode,w=Math.floor,S=function(){var t,e,n=[],r=-1,i=arguments.length;if(!i)return"";for(var o="";++r<i;){var s=Number(arguments[r]);if(!isFinite(s)||s<0||s>1114111||w(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?n.push(s):(t=55296+((s-=65536)>>10),e=s%1024+56320,n.push(t,e)),(r+1===i||n.length>16384)&&(o+=E.apply(null,n),n.length=0)}return o},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:S,configurable:!0,writable:!0}):String.fromCodePoint=S)}(e)},2130:(t,e,n)=>{"use strict";const r=n(2037),i=n(6224),o=n(6560),{env:s}=process;let a;function c(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function u(t,e){if(0===a)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(t&&!e&&void 0===a)return 0;const n=a||0;if("dumb"===s.TERM)return n;if("win32"===process.platform){const t=r.release().split(".");return Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((t=>t in s))||"codeship"===s.CI_NAME?1:n;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){const t=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:n}o("no-color")||o("no-colors")||o("color=false")||o("color=never")?a=0:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(a=1),"FORCE_COLOR"in s&&(a="true"===s.FORCE_COLOR?1:"false"===s.FORCE_COLOR?0:0===s.FORCE_COLOR.length?1:Math.min(parseInt(s.FORCE_COLOR,10),3)),t.exports={supportsColor:function(t){return c(u(t,t&&t.isTTY))},stdout:c(u(!0,i.isatty(1))),stderr:c(u(!0,i.isatty(2)))}},306:function(t,e){(function(){"use strict";e.stripBOM=function(t){return"\ufeff"===t[0]?t.substring(1):t}}).call(this)},4096:function(t,e,n){(function(){"use strict";var t,r,i,o,s,a={}.hasOwnProperty;t=n(5532),r=n(8381).defaults,o=function(t){return"string"==typeof t&&(t.indexOf("&")>=0||t.indexOf(">")>=0||t.indexOf("<")>=0)},s=function(t){return"<![CDATA["+i(t)+"]]>"},i=function(t){return t.replace("]]>","]]]]><![CDATA[>")},e.Builder=function(){function e(t){var e,n,i;for(e in this.options={},n=r[.2])a.call(n,e)&&(i=n[e],this.options[e]=i);for(e in t)a.call(t,e)&&(i=t[e],this.options[e]=i)}return e.prototype.buildObject=function(e){var n,i,c,u,l,p;return n=this.options.attrkey,i=this.options.charkey,1===Object.keys(e).length&&this.options.rootName===r[.2].rootName?e=e[l=Object.keys(e)[0]]:l=this.options.rootName,p=this,c=function(t,e){var r,u,l,h,d,f;if("object"!=typeof e)p.options.cdata&&o(e)?t.raw(s(e)):t.txt(e);else if(Array.isArray(e)){for(h in e)if(a.call(e,h))for(d in u=e[h])l=u[d],t=c(t.ele(d),l).up()}else for(d in e)if(a.call(e,d))if(u=e[d],d===n){if("object"==typeof u)for(r in u)f=u[r],t=t.att(r,f)}else if(d===i)t=p.options.cdata&&o(u)?t.raw(s(u)):t.txt(u);else if(Array.isArray(u))for(h in u)a.call(u,h)&&(t="string"==typeof(l=u[h])?p.options.cdata&&o(l)?t.ele(d).raw(s(l)).up():t.ele(d,l).up():c(t.ele(d),l).up());else"object"==typeof u?t=c(t.ele(d),u).up():"string"==typeof u&&p.options.cdata&&o(u)?t=t.ele(d).raw(s(u)).up():(null==u&&(u=""),t=t.ele(d,u.toString()).up());return t},u=t.create(l,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),c(u,e).end(this.options.renderOpts)},e}()}).call(this)},8381:function(t,e){(function(){e.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},9082:function(t,e,n){(function(){"use strict";var t,r,i,o,s,a,c,u,l=function(t,e){return function(){return t.apply(e,arguments)}},p={}.hasOwnProperty;c=n(6099),i=n(2361),t=n(306),a=n(7526),u=n(9512).setImmediate,r=n(8381).defaults,o=function(t){return"object"==typeof t&&null!=t&&0===Object.keys(t).length},s=function(t,e,n){var r,i;for(r=0,i=t.length;r<i;r++)e=(0,t[r])(e,n);return e},e.Parser=function(n){function i(t){var n,i,o;if(this.parseStringPromise=l(this.parseStringPromise,this),this.parseString=l(this.parseString,this),this.reset=l(this.reset,this),this.assignOrPush=l(this.assignOrPush,this),this.processAsync=l(this.processAsync,this),!(this instanceof e.Parser))return new e.Parser(t);for(n in this.options={},i=r[.2])p.call(i,n)&&(o=i[n],this.options[n]=o);for(n in t)p.call(t,n)&&(o=t[n],this.options[n]=o);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(a.normalize)),this.reset()}return function(t,e){for(var n in e)p.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(i,n),i.prototype.processAsync=function(){var t,e;try{return this.remaining.length<=this.options.chunkSize?(t=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(t),this.saxParser.close()):(t=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(t),u(this.processAsync))}catch(t){if(e=t,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(e)}},i.prototype.assignOrPush=function(t,e,n){return e in t?(t[e]instanceof Array||(t[e]=[t[e]]),t[e].push(n)):this.options.explicitArray?t[e]=[n]:t[e]=n},i.prototype.reset=function(){var t,e,n,r,i;return this.removeAllListeners(),this.saxParser=c.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(i=this,function(t){if(i.saxParser.resume(),!i.saxParser.errThrown)return i.saxParser.errThrown=!0,i.emit("error",t)}),this.saxParser.onend=function(t){return function(){if(!t.saxParser.ended)return t.saxParser.ended=!0,t.emit("end",t.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,r=[],t=this.options.attrkey,e=this.options.charkey,this.saxParser.onopentag=function(n){return function(i){var o,a,c,u,l;if((c=Object.create(null))[e]="",!n.options.ignoreAttrs)for(o in l=i.attributes)p.call(l,o)&&(t in c||n.options.mergeAttrs||(c[t]=Object.create(null)),a=n.options.attrValueProcessors?s(n.options.attrValueProcessors,i.attributes[o],o):i.attributes[o],u=n.options.attrNameProcessors?s(n.options.attrNameProcessors,o):o,n.options.mergeAttrs?n.assignOrPush(c,u,a):c[t][u]=a);return c["#name"]=n.options.tagNameProcessors?s(n.options.tagNameProcessors,i.name):i.name,n.options.xmlns&&(c[n.options.xmlnskey]={uri:i.uri,local:i.local}),r.push(c)}}(this),this.saxParser.onclosetag=function(t){return function(){var n,i,a,c,u,l,h,d,f,_;if(l=r.pop(),u=l["#name"],t.options.explicitChildren&&t.options.preserveChildrenOrder||delete l["#name"],!0===l.cdata&&(n=l.cdata,delete l.cdata),f=r[r.length-1],l[e].match(/^\s*$/)&&!n?(i=l[e],delete l[e]):(t.options.trim&&(l[e]=l[e].trim()),t.options.normalize&&(l[e]=l[e].replace(/\s{2,}/g," ").trim()),l[e]=t.options.valueProcessors?s(t.options.valueProcessors,l[e],u):l[e],1===Object.keys(l).length&&e in l&&!t.EXPLICIT_CHARKEY&&(l=l[e])),o(l)&&(l="function"==typeof t.options.emptyTag?t.options.emptyTag():""!==t.options.emptyTag?t.options.emptyTag:i),null!=t.options.validator&&(_="/"+function(){var t,e,n;for(n=[],t=0,e=r.length;t<e;t++)c=r[t],n.push(c["#name"]);return n}().concat(u).join("/"),function(){var e;try{return l=t.options.validator(_,f&&f[u],l)}catch(n){return e=n,t.emit("error",e)}}()),t.options.explicitChildren&&!t.options.mergeAttrs&&"object"==typeof l)if(t.options.preserveChildrenOrder){if(f){for(a in f[t.options.childkey]=f[t.options.childkey]||[],h=Object.create(null),l)p.call(l,a)&&(h[a]=l[a]);f[t.options.childkey].push(h),delete l["#name"],1===Object.keys(l).length&&e in l&&!t.EXPLICIT_CHARKEY&&(l=l[e])}}else c=Object.create(null),t.options.attrkey in l&&(c[t.options.attrkey]=l[t.options.attrkey],delete l[t.options.attrkey]),!t.options.charsAsChildren&&t.options.charkey in l&&(c[t.options.charkey]=l[t.options.charkey],delete l[t.options.charkey]),Object.getOwnPropertyNames(l).length>0&&(c[t.options.childkey]=l),l=c;return r.length>0?t.assignOrPush(f,u,l):(t.options.explicitRoot&&(d=l,(l=Object.create(null))[u]=d),t.resultObject=l,t.saxParser.ended=!0,t.emit("end",t.resultObject))}}(this),n=function(t){return function(n){var i,o;if(o=r[r.length-1])return o[e]+=n,t.options.explicitChildren&&t.options.preserveChildrenOrder&&t.options.charsAsChildren&&(t.options.includeWhiteChars||""!==n.replace(/\\n/g,"").trim())&&(o[t.options.childkey]=o[t.options.childkey]||[],(i={"#name":"__text__"})[e]=n,t.options.normalize&&(i[e]=i[e].replace(/\s{2,}/g," ").trim()),o[t.options.childkey].push(i)),o}}(this),this.saxParser.ontext=n,this.saxParser.oncdata=function(t){var e;if(e=n(t))return e.cdata=!0}},i.prototype.parseString=function(e,n){var r;null!=n&&"function"==typeof n&&(this.on("end",(function(t){return this.reset(),n(null,t)})),this.on("error",(function(t){return this.reset(),n(t)})));try{return""===(e=e.toString()).trim()?(this.emit("end",null),!0):(e=t.stripBOM(e),this.options.async?(this.remaining=e,u(this.processAsync),this.saxParser):this.saxParser.write(e).close())}catch(t){if(r=t,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",r),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw r}},i.prototype.parseStringPromise=function(t){return new Promise((e=this,function(n,r){return e.parseString(t,(function(t,e){return t?r(t):n(e)}))}));var e},i}(i),e.parseString=function(t,n,r){var i,o;return null!=r?("function"==typeof r&&(i=r),"object"==typeof n&&(o=n)):("function"==typeof n&&(i=n),o={}),new e.Parser(o).parseString(t,i)},e.parseStringPromise=function(t,n){var r;return"object"==typeof n&&(r=n),new e.Parser(r).parseStringPromise(t)}}).call(this)},7526:function(t,e){(function(){"use strict";var t;t=new RegExp(/(?!xmlns)^.*:/),e.normalize=function(t){return t.toLowerCase()},e.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},e.stripPrefix=function(e){return e.replace(t,"")},e.parseNumbers=function(t){return isNaN(t)||(t=t%1==0?parseInt(t,10):parseFloat(t)),t},e.parseBooleans=function(t){return/^(?:true|false)$/i.test(t)&&(t="true"===t.toLowerCase()),t}}).call(this)},5055:function(t,e,n){(function(){"use strict";var t,r,i,o,s={}.hasOwnProperty;r=n(8381),t=n(4096),i=n(9082),o=n(7526),e.defaults=r.defaults,e.processors=o,e.ValidationError=function(t){function e(t){this.message=t}return function(t,e){for(var n in e)s.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(e,Error),e}(),e.Builder=t.Builder,e.Parser=i.Parser,e.parseString=i.parseString,e.parseStringPromise=i.parseStringPromise}).call(this)},7557:function(t){(function(){t.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},9335:function(t){(function(){t.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},8369:function(t){(function(){var e,n,r,i,o,s,a,c=[].slice,u={}.hasOwnProperty;e=function(){var t,e,n,r,i,s;if(s=arguments[0],i=2<=arguments.length?c.call(arguments,1):[],o(Object.assign))Object.assign.apply(null,arguments);else for(t=0,n=i.length;t<n;t++)if(null!=(r=i[t]))for(e in r)u.call(r,e)&&(s[e]=r[e]);return s},o=function(t){return!!t&&"[object Function]"===Object.prototype.toString.call(t)},s=function(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)},r=function(t){return o(Array.isArray)?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},i=function(t){var e;if(r(t))return!t.length;for(e in t)if(u.call(t,e))return!1;return!0},a=function(t){var e,n;return s(t)&&(n=Object.getPrototypeOf(t))&&(e=n.constructor)&&"function"==typeof e&&e instanceof e&&Function.prototype.toString.call(e)===Function.prototype.toString.call(Object)},n=function(t){return o(t.valueOf)?t.valueOf():t},t.exports.assign=e,t.exports.isFunction=o,t.exports.isObject=s,t.exports.isArray=r,t.exports.isEmpty=i,t.exports.isPlainObject=a,t.exports.getValue=n}).call(this)},594:function(t){(function(){t.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},2750:function(t,e,n){(function(){var e;e=n(9335),n(2026),t.exports=function(){function t(t,n,r){if(this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==n)throw new Error("Missing attribute name. "+this.debugInfo(n));this.name=this.stringify.name(n),this.value=this.stringify.attValue(r),this.type=e.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(t.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(t.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}}),Object.defineProperty(t.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(t.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(t.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"specified",{get:function(){return!0}}),t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(t){return this.options.writer.attribute(this,this.options.writer.filterOptions(t))},t.prototype.debugInfo=function(t){return null==(t=t||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+t+"}, parent: <"+this.parent.name+">"},t.prototype.isEqualNode=function(t){return t.namespaceURI===this.namespaceURI&&t.prefix===this.prefix&&t.localName===this.localName&&t.value===this.value},t}()}).call(this)},6170:function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;e=n(9335),r=n(6488),t.exports=function(t){function n(t,r){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=e.CData,this.value=this.stringify.cdata(r)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return this.options.writer.cdata(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},6488:function(t,e,n){(function(){var e,r={}.hasOwnProperty;e=n(2026),t.exports=function(t){function e(t){e.__super__.constructor.call(this,t),this.value=""}return function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),Object.defineProperty(e.prototype,"data",{get:function(){return this.value},set:function(t){return this.value=t||""}}),Object.defineProperty(e.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}}),e.prototype.clone=function(){return Object.create(this)},e.prototype.substringData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.appendData=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.insertData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.deleteData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.replaceData=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.isEqualNode=function(t){return!!e.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.data===this.data},e}(e)}).call(this)},2096:function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;e=n(9335),r=n(6488),t.exports=function(t){function n(t,r){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=e.Comment,this.value=this.stringify.comment(r)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return this.options.writer.comment(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},383:function(t,e,n){(function(){var e,r;e=n(3933),r=n(6210),t.exports=function(){function t(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new e,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(t.prototype,"parameterNames",{get:function(){return new r(Object.keys(this.defaultParams))}}),t.prototype.getParameter=function(t){return this.params.hasOwnProperty(t)?this.params[t]:null},t.prototype.canSetParameter=function(t,e){return!0},t.prototype.setParameter=function(t,e){return null!=e?this.params[t]=e:delete this.params[t]},t}()}).call(this)},3933:function(t){(function(){t.exports=function(){function t(){}return t.prototype.handleError=function(t){throw new Error(t)},t}()}).call(this)},1770:function(t){(function(){t.exports=function(){function t(){}return t.prototype.hasFeature=function(t,e){return!0},t.prototype.createDocumentType=function(t,e,n){throw new Error("This DOM method is not implemented.")},t.prototype.createDocument=function(t,e,n){throw new Error("This DOM method is not implemented.")},t.prototype.createHTMLDocument=function(t){throw new Error("This DOM method is not implemented.")},t.prototype.getFeature=function(t,e){throw new Error("This DOM method is not implemented.")},t}()}).call(this)},6210:function(t){(function(){t.exports=function(){function t(t){this.arr=t||[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.arr.length}}),t.prototype.item=function(t){return this.arr[t]||null},t.prototype.contains=function(t){return-1!==this.arr.indexOf(t)},t}()}).call(this)},1179:function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;r=n(2026),e=n(9335),t.exports=function(t){function n(t,r,i,o,s,a){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==i)throw new Error("Missing DTD attribute name. "+this.debugInfo(r));if(!o)throw new Error("Missing DTD attribute type. "+this.debugInfo(r));if(!s)throw new Error("Missing DTD attribute default. "+this.debugInfo(r));if(0!==s.indexOf("#")&&(s="#"+s),!s.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(r));if(a&&!s.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(r));this.elementName=this.stringify.name(r),this.type=e.AttributeDeclaration,this.attributeName=this.stringify.name(i),this.attributeType=this.stringify.dtdAttType(o),a&&(this.defaultValue=this.stringify.dtdAttDefault(a)),this.defaultValueType=s}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.toString=function(t){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},6347:function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;r=n(2026),e=n(9335),t.exports=function(t){function n(t,r,i){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());i||(i="(#PCDATA)"),Array.isArray(i)&&(i="("+i.join(",")+")"),this.name=this.stringify.name(r),this.type=e.ElementDeclaration,this.value=this.stringify.dtdElementValue(i)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.toString=function(t){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},9078:function(t,e,n){(function(){var e,r,i,o={}.hasOwnProperty;i=n(8369).isObject,r=n(2026),e=n(9335),t.exports=function(t){function n(t,r,o,s){if(n.__super__.constructor.call(this,t),null==o)throw new Error("Missing DTD entity name. "+this.debugInfo(o));if(null==s)throw new Error("Missing DTD entity value. "+this.debugInfo(o));if(this.pe=!!r,this.name=this.stringify.name(o),this.type=e.EntityDeclaration,i(s)){if(!s.pubID&&!s.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(o));if(s.pubID&&!s.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(o));if(this.internal=!1,null!=s.pubID&&(this.pubID=this.stringify.dtdPubID(s.pubID)),null!=s.sysID&&(this.sysID=this.stringify.dtdSysID(s.sysID)),null!=s.nData&&(this.nData=this.stringify.dtdNData(s.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(o))}else this.value=this.stringify.dtdEntityValue(s),this.internal=!0}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(n.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(n.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"xmlVersion",{get:function(){return null}}),n.prototype.toString=function(t){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},4777:function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;r=n(2026),e=n(9335),t.exports=function(t){function n(t,r,i){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing DTD notation name. "+this.debugInfo(r));if(!i.pubID&&!i.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(r));this.name=this.stringify.name(r),this.type=e.NotationDeclaration,null!=i.pubID&&(this.pubID=this.stringify.dtdPubID(i.pubID)),null!=i.sysID&&(this.sysID=this.stringify.dtdSysID(i.sysID))}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),n.prototype.toString=function(t){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},9077:function(t,e,n){(function(){var e,r,i,o={}.hasOwnProperty;i=n(8369).isObject,r=n(2026),e=n(9335),t.exports=function(t){function n(t,r,o,s){var a;n.__super__.constructor.call(this,t),i(r)&&(r=(a=r).version,o=a.encoding,s=a.standalone),r||(r="1.0"),this.type=e.Declaration,this.version=this.stringify.xmlVersion(r),null!=o&&(this.encoding=this.stringify.xmlEncoding(o)),null!=s&&(this.standalone=this.stringify.xmlStandalone(s))}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.toString=function(t){return this.options.writer.declaration(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},6544:function(t,e,n){(function(){var e,r,i,o,s,a,c,u,l={}.hasOwnProperty;u=n(8369).isObject,c=n(2026),e=n(9335),r=n(1179),o=n(9078),i=n(6347),s=n(4777),a=n(663),t.exports=function(t){function n(t,r,i){var o,s,a,c,l,p;if(n.__super__.constructor.call(this,t),this.type=e.DocType,t.children)for(s=0,a=(c=t.children).length;s<a;s++)if((o=c[s]).type===e.Element){this.name=o.name;break}this.documentObject=t,u(r)&&(r=(l=r).pubID,i=l.sysID),null==i&&(i=(p=[r,i])[0],r=p[1]),null!=r&&(this.pubID=this.stringify.dtdPubID(r)),null!=i&&(this.sysID=this.stringify.dtdSysID(i))}return function(t,e){for(var n in e)l.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"entities",{get:function(){var t,n,r,i,o;for(i={},n=0,r=(o=this.children).length;n<r;n++)(t=o[n]).type!==e.EntityDeclaration||t.pe||(i[t.name]=t);return new a(i)}}),Object.defineProperty(n.prototype,"notations",{get:function(){var t,n,r,i,o;for(i={},n=0,r=(o=this.children).length;n<r;n++)(t=o[n]).type===e.NotationDeclaration&&(i[t.name]=t);return new a(i)}}),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(n.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),n.prototype.element=function(t,e){var n;return n=new i(this,t,e),this.children.push(n),this},n.prototype.attList=function(t,e,n,i,o){var s;return s=new r(this,t,e,n,i,o),this.children.push(s),this},n.prototype.entity=function(t,e){var n;return n=new o(this,!1,t,e),this.children.push(n),this},n.prototype.pEntity=function(t,e){var n;return n=new o(this,!0,t,e),this.children.push(n),this},n.prototype.notation=function(t,e){var n;return n=new s(this,t,e),this.children.push(n),this},n.prototype.toString=function(t){return this.options.writer.docType(this,this.options.writer.filterOptions(t))},n.prototype.ele=function(t,e){return this.element(t,e)},n.prototype.att=function(t,e,n,r,i){return this.attList(t,e,n,r,i)},n.prototype.ent=function(t,e){return this.entity(t,e)},n.prototype.pent=function(t,e){return this.pEntity(t,e)},n.prototype.not=function(t,e){return this.notation(t,e)},n.prototype.up=function(){return this.root()||this.documentObject},n.prototype.isEqualNode=function(t){return!!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.name===this.name&&t.publicId===this.publicId&&t.systemId===this.systemId},n}(c)}).call(this)},6934:function(t,e,n){(function(){var e,r,i,o,s,a,c,u={}.hasOwnProperty;c=n(8369).isPlainObject,i=n(1770),r=n(383),o=n(2026),e=n(9335),a=n(5549),s=n(6434),t.exports=function(t){function n(t){n.__super__.constructor.call(this,null),this.name="#document",this.type=e.Document,this.documentURI=null,this.domConfig=new r,t||(t={}),t.writer||(t.writer=new s),this.options=t,this.stringify=new a(t)}return function(t,e){for(var n in e)u.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"implementation",{value:new i}),Object.defineProperty(n.prototype,"doctype",{get:function(){var t,n,r,i;for(n=0,r=(i=this.children).length;n<r;n++)if((t=i[n]).type===e.DocType)return t;return null}}),Object.defineProperty(n.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(n.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(n.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration?this.children[0].encoding:null}}),Object.defineProperty(n.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(n.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===e.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(n.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(n.prototype,"origin",{get:function(){return null}}),Object.defineProperty(n.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(n.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(n.prototype,"contentType",{get:function(){return null}}),n.prototype.end=function(t){var e;return e={},t?c(t)&&(e=t,t=this.options.writer):t=this.options.writer,t.document(this,t.filterOptions(e))},n.prototype.toString=function(t){return this.options.writer.document(this,this.options.writer.filterOptions(t))},n.prototype.createElement=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createTextNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createComment=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createCDATASection=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createProcessingInstruction=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createAttribute=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createEntityReference=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.importNode=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createElementNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementById=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.adoptNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.renameNode=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByClassName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createEvent=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createNodeIterator=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createTreeWalker=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n}(o)}).call(this)},9227:function(t,e,n){(function(){var e,r,i,o,s,a,c,u,l,p,h,d,f,_,g,m,y,v,b,E,w,S,T,x={}.hasOwnProperty;T=n(8369),w=T.isObject,E=T.isFunction,S=T.isPlainObject,b=T.getValue,e=n(9335),d=n(6934),f=n(2161),o=n(6170),s=n(2096),g=n(9406),v=n(3595),_=n(9181),p=n(9077),h=n(6544),a=n(1179),u=n(9078),c=n(6347),l=n(4777),i=n(2750),y=n(5549),m=n(6434),r=n(594),t.exports=function(){function t(t,n,r){var i;this.name="?xml",this.type=e.Document,t||(t={}),i={},t.writer?S(t.writer)&&(i=t.writer,t.writer=new m):t.writer=new m,this.options=t,this.writer=t.writer,this.writerOptions=this.writer.filterOptions(i),this.stringify=new y(t),this.onDataCallback=n||function(){},this.onEndCallback=r||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return t.prototype.createChildNode=function(t){var n,r,i,o,s,a,c,u;switch(t.type){case e.CData:this.cdata(t.value);break;case e.Comment:this.comment(t.value);break;case e.Element:for(r in i={},c=t.attribs)x.call(c,r)&&(n=c[r],i[r]=n.value);this.node(t.name,i);break;case e.Dummy:this.dummy();break;case e.Raw:this.raw(t.value);break;case e.Text:this.text(t.value);break;case e.ProcessingInstruction:this.instruction(t.target,t.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+t.constructor.name)}for(s=0,a=(u=t.children).length;s<a;s++)o=u[s],this.createChildNode(o),o.type===e.Element&&this.up();return this},t.prototype.dummy=function(){return this},t.prototype.node=function(t,e,n){var r;if(null==t)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(t));return this.openCurrent(),t=b(t),null==e&&(e={}),e=b(e),w(e)||(n=(r=[e,n])[0],e=r[1]),this.currentNode=new f(this,t,e),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=n&&this.text(n),this},t.prototype.element=function(t,n,r){var i,o,s,a,c,u;if(this.currentNode&&this.currentNode.type===e.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(t)||w(t)||E(t))for(a=this.options.noValidation,this.options.noValidation=!0,(u=new d(this.options).element("TEMP_ROOT")).element(t),this.options.noValidation=a,o=0,s=(c=u.children).length;o<s;o++)i=c[o],this.createChildNode(i),i.type===e.Element&&this.up();else this.node(t,n,r);return this},t.prototype.attribute=function(t,e){var n,r;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(t));if(null!=t&&(t=b(t)),w(t))for(n in t)x.call(t,n)&&(r=t[n],this.attribute(n,r));else E(e)&&(e=e.apply()),this.options.keepNullAttributes&&null==e?this.currentNode.attribs[t]=new i(this,t,""):null!=e&&(this.currentNode.attribs[t]=new i(this,t,e));return this},t.prototype.text=function(t){var e;return this.openCurrent(),e=new v(this,t),this.onData(this.writer.text(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.cdata=function(t){var e;return this.openCurrent(),e=new o(this,t),this.onData(this.writer.cdata(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.comment=function(t){var e;return this.openCurrent(),e=new s(this,t),this.onData(this.writer.comment(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.raw=function(t){var e;return this.openCurrent(),e=new g(this,t),this.onData(this.writer.raw(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.instruction=function(t,e){var n,r,i,o,s;if(this.openCurrent(),null!=t&&(t=b(t)),null!=e&&(e=b(e)),Array.isArray(t))for(n=0,o=t.length;n<o;n++)r=t[n],this.instruction(r);else if(w(t))for(r in t)x.call(t,r)&&(i=t[r],this.instruction(r,i));else E(e)&&(e=e.apply()),s=new _(this,t,e),this.onData(this.writer.processingInstruction(s,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},t.prototype.declaration=function(t,e,n){var r;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return r=new p(this,t,e,n),this.onData(this.writer.declaration(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.doctype=function(t,e,n){if(this.openCurrent(),null==t)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new h(this,e,n),this.currentNode.rootNodeName=t,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},t.prototype.dtdElement=function(t,e){var n;return this.openCurrent(),n=new c(this,t,e),this.onData(this.writer.dtdElement(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.attList=function(t,e,n,r,i){var o;return this.openCurrent(),o=new a(this,t,e,n,r,i),this.onData(this.writer.dtdAttList(o,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.entity=function(t,e){var n;return this.openCurrent(),n=new u(this,!1,t,e),this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.pEntity=function(t,e){var n;return this.openCurrent(),n=new u(this,!0,t,e),this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.notation=function(t,e){var n;return this.openCurrent(),n=new l(this,t,e),this.onData(this.writer.dtdNotation(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},t.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},t.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},t.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},t.prototype.openNode=function(t){var n,i,o,s;if(!t.isOpen){if(this.root||0!==this.currentLevel||t.type!==e.Element||(this.root=t),i="",t.type===e.Element){for(o in this.writerOptions.state=r.OpenTag,i=this.writer.indent(t,this.writerOptions,this.currentLevel)+"<"+t.name,s=t.attribs)x.call(s,o)&&(n=s[o],i+=this.writer.attribute(n,this.writerOptions,this.currentLevel));i+=(t.children?">":"/>")+this.writer.endline(t,this.writerOptions,this.currentLevel),this.writerOptions.state=r.InsideTag}else this.writerOptions.state=r.OpenTag,i=this.writer.indent(t,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+t.rootNodeName,t.pubID&&t.sysID?i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(i+=' SYSTEM "'+t.sysID+'"'),t.children?(i+=" [",this.writerOptions.state=r.InsideTag):(this.writerOptions.state=r.CloseTag,i+=">"),i+=this.writer.endline(t,this.writerOptions,this.currentLevel);return this.onData(i,this.currentLevel),t.isOpen=!0}},t.prototype.closeNode=function(t){var n;if(!t.isClosed)return"",this.writerOptions.state=r.CloseTag,n=t.type===e.Element?this.writer.indent(t,this.writerOptions,this.currentLevel)+"</"+t.name+">"+this.writer.endline(t,this.writerOptions,this.currentLevel):this.writer.indent(t,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(t,this.writerOptions,this.currentLevel),this.writerOptions.state=r.None,this.onData(n,this.currentLevel),t.isClosed=!0},t.prototype.onData=function(t,e){return this.documentStarted=!0,this.onDataCallback(t,e+1)},t.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},t.prototype.debugInfo=function(t){return null==t?"":"node: <"+t+">"},t.prototype.ele=function(){return this.element.apply(this,arguments)},t.prototype.nod=function(t,e,n){return this.node(t,e,n)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},t.prototype.dtd=function(t,e,n){return this.doctype(t,e,n)},t.prototype.e=function(t,e,n){return this.element(t,e,n)},t.prototype.n=function(t,e,n){return this.node(t,e,n)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.att=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.a=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},t.prototype.ent=function(t,e){return this.entity(t,e)},t.prototype.pent=function(t,e){return this.pEntity(t,e)},t.prototype.not=function(t,e){return this.notation(t,e)},t}()}).call(this)},8833:function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;r=n(2026),e=n(9335),t.exports=function(t){function n(t){n.__super__.constructor.call(this,t),this.type=e.Dummy}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return""},n}(r)}).call(this)},2161:function(t,e,n){(function(){var e,r,i,o,s,a,c,u,l={}.hasOwnProperty;u=n(8369),c=u.isObject,a=u.isFunction,s=u.getValue,o=n(2026),e=n(9335),r=n(2750),i=n(663),t.exports=function(t){function n(t,r,i){var o,s,a,c;if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(r),this.type=e.Element,this.attribs={},this.schemaTypeInfo=null,null!=i&&this.attribute(i),t.type===e.Document&&(this.isRoot=!0,this.documentObject=t,t.rootObject=this,t.children))for(s=0,a=(c=t.children).length;s<a;s++)if((o=c[s]).type===e.DocType){o.name=this.name;break}}return function(t,e){for(var n in e)l.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(n.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(n.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(n.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(n.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"attributes",{get:function(){return this.attributeMap&&this.attributeMap.nodes||(this.attributeMap=new i(this.attribs)),this.attributeMap}}),n.prototype.clone=function(){var t,e,n,r;for(e in(n=Object.create(this)).isRoot&&(n.documentObject=null),n.attribs={},r=this.attribs)l.call(r,e)&&(t=r[e],n.attribs[e]=t.clone());return n.children=[],this.children.forEach((function(t){var e;return(e=t.clone()).parent=n,n.children.push(e)})),n},n.prototype.attribute=function(t,e){var n,i;if(null!=t&&(t=s(t)),c(t))for(n in t)l.call(t,n)&&(i=t[n],this.attribute(n,i));else a(e)&&(e=e.apply()),this.options.keepNullAttributes&&null==e?this.attribs[t]=new r(this,t,""):null!=e&&(this.attribs[t]=new r(this,t,e));return this},n.prototype.removeAttribute=function(t){var e,n,r;if(null==t)throw new Error("Missing attribute name. "+this.debugInfo());if(t=s(t),Array.isArray(t))for(n=0,r=t.length;n<r;n++)e=t[n],delete this.attribs[e];else delete this.attribs[t];return this},n.prototype.toString=function(t){return this.options.writer.element(this,this.options.writer.filterOptions(t))},n.prototype.att=function(t,e){return this.attribute(t,e)},n.prototype.a=function(t,e){return this.attribute(t,e)},n.prototype.getAttribute=function(t){return this.attribs.hasOwnProperty(t)?this.attribs[t].value:null},n.prototype.setAttribute=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getAttributeNode=function(t){return this.attribs.hasOwnProperty(t)?this.attribs[t]:null},n.prototype.setAttributeNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.removeAttributeNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setAttributeNS=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.removeAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getAttributeNodeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setAttributeNodeNS=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.hasAttribute=function(t){return this.attribs.hasOwnProperty(t)},n.prototype.hasAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setIdAttribute=function(t,e){return this.attribs.hasOwnProperty(t)?this.attribs[t].isId:e},n.prototype.setIdAttributeNS=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setIdAttributeNode=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByClassName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.isEqualNode=function(t){var e,r,i;if(!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(t))return!1;if(t.namespaceURI!==this.namespaceURI)return!1;if(t.prefix!==this.prefix)return!1;if(t.localName!==this.localName)return!1;if(t.attribs.length!==this.attribs.length)return!1;for(e=r=0,i=this.attribs.length-1;0<=i?r<=i:r>=i;e=0<=i?++r:--r)if(!this.attribs[e].isEqualNode(t.attribs[e]))return!1;return!0},n}(o)}).call(this)},663:function(t){(function(){t.exports=function(){function t(t){this.nodes=t}return Object.defineProperty(t.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.getNamedItem=function(t){return this.nodes[t]},t.prototype.setNamedItem=function(t){var e;return e=this.nodes[t.nodeName],this.nodes[t.nodeName]=t,e||null},t.prototype.removeNamedItem=function(t){var e;return e=this.nodes[t],delete this.nodes[t],e||null},t.prototype.item=function(t){return this.nodes[Object.keys(this.nodes)[t]]||null},t.prototype.getNamedItemNS=function(t,e){throw new Error("This DOM method is not implemented.")},t.prototype.setNamedItemNS=function(t){throw new Error("This DOM method is not implemented.")},t.prototype.removeNamedItemNS=function(t,e){throw new Error("This DOM method is not implemented.")},t}()}).call(this)},2026:function(t,e,n){(function(){var e,r,i,o,s,a,c,u,l,p,h,d,f,_,g,m,y,v={}.hasOwnProperty;y=n(8369),m=y.isObject,g=y.isFunction,_=y.isEmpty,f=y.getValue,u=null,i=null,o=null,s=null,a=null,h=null,d=null,p=null,c=null,r=null,l=null,e=null,t.exports=function(){function t(t){this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,u||(u=n(2161),i=n(6170),o=n(2096),s=n(9077),a=n(6544),h=n(9406),d=n(3595),p=n(9181),c=n(8833),r=n(9335),l=n(2390),n(663),e=n(7557))}return Object.defineProperty(t.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(t.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.childNodeList&&this.childNodeList.nodes||(this.childNodeList=new l(this.children)),this.childNodeList}}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){var t;return t=this.parent.children.indexOf(this),this.parent.children[t-1]||null}}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){var t;return t=this.parent.children.indexOf(this),this.parent.children[t+1]||null}}),Object.defineProperty(t.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(t.prototype,"textContent",{get:function(){var t,e,n,i,o;if(this.nodeType===r.Element||this.nodeType===r.DocumentFragment){for(o="",e=0,n=(i=this.children).length;e<n;e++)(t=i[e]).textContent&&(o+=t.textContent);return o}return null},set:function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),t.prototype.setParent=function(t){var e,n,r,i,o;for(this.parent=t,t&&(this.options=t.options,this.stringify=t.stringify),o=[],n=0,r=(i=this.children).length;n<r;n++)e=i[n],o.push(e.setParent(this));return o},t.prototype.element=function(t,e,n){var r,i,o,s,a,c,u,l,p,h,d;if(c=null,null===e&&null==n&&(e=(p=[{},null])[0],n=p[1]),null==e&&(e={}),e=f(e),m(e)||(n=(h=[e,n])[0],e=h[1]),null!=t&&(t=f(t)),Array.isArray(t))for(o=0,u=t.length;o<u;o++)i=t[o],c=this.element(i);else if(g(t))c=this.element(t.apply());else if(m(t)){for(a in t)if(v.call(t,a))if(d=t[a],g(d)&&(d=d.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===a.indexOf(this.stringify.convertAttKey))c=this.attribute(a.substr(this.stringify.convertAttKey.length),d);else if(!this.options.separateArrayItems&&Array.isArray(d)&&_(d))c=this.dummy();else if(m(d)&&_(d))c=this.element(a);else if(this.options.keepNullNodes||null!=d)if(!this.options.separateArrayItems&&Array.isArray(d))for(s=0,l=d.length;s<l;s++)i=d[s],(r={})[a]=i,c=this.element(r);else m(d)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===a.indexOf(this.stringify.convertTextKey)?c=this.element(d):(c=this.element(a)).element(d):c=this.element(a,d);else c=this.dummy()}else c=this.options.keepNullNodes||null!==n?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===t.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===t.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===t.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===t.indexOf(this.stringify.convertRawKey)?this.raw(n):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===t.indexOf(this.stringify.convertPIKey)?this.instruction(t.substr(this.stringify.convertPIKey.length),n):this.node(t,e,n):this.dummy();if(null==c)throw new Error("Could not create any elements with: "+t+". "+this.debugInfo());return c},t.prototype.insertBefore=function(t,e,n){var r,i,o,s,a;if(null!=t?t.type:void 0)return s=e,(o=t).setParent(this),s?(i=children.indexOf(s),a=children.splice(i),children.push(o),Array.prototype.push.apply(children,a)):children.push(o),o;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(t));return i=this.parent.children.indexOf(this),a=this.parent.children.splice(i),r=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,a),r},t.prototype.insertAfter=function(t,e,n){var r,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(t));return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i+1),r=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,o),r},t.prototype.remove=function(){var t;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat([])),this.parent},t.prototype.node=function(t,e,n){var r,i;return null!=t&&(t=f(t)),e||(e={}),e=f(e),m(e)||(n=(i=[e,n])[0],e=i[1]),r=new u(this,t,e),null!=n&&r.text(n),this.children.push(r),r},t.prototype.text=function(t){var e;return m(t)&&this.element(t),e=new d(this,t),this.children.push(e),this},t.prototype.cdata=function(t){var e;return e=new i(this,t),this.children.push(e),this},t.prototype.comment=function(t){var e;return e=new o(this,t),this.children.push(e),this},t.prototype.commentBefore=function(t){var e,n;return e=this.parent.children.indexOf(this),n=this.parent.children.splice(e),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.commentAfter=function(t){var e,n;return e=this.parent.children.indexOf(this),n=this.parent.children.splice(e+1),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.raw=function(t){var e;return e=new h(this,t),this.children.push(e),this},t.prototype.dummy=function(){return new c(this)},t.prototype.instruction=function(t,e){var n,r,i,o,s;if(null!=t&&(t=f(t)),null!=e&&(e=f(e)),Array.isArray(t))for(o=0,s=t.length;o<s;o++)n=t[o],this.instruction(n);else if(m(t))for(n in t)v.call(t,n)&&(r=t[n],this.instruction(n,r));else g(e)&&(e=e.apply()),i=new p(this,t,e),this.children.push(i);return this},t.prototype.instructionBefore=function(t,e){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.instructionAfter=function(t,e){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n+1),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.declaration=function(t,e,n){var i,o;return i=this.document(),o=new s(i,t,e,n),0===i.children.length?i.children.unshift(o):i.children[0].type===r.Declaration?i.children[0]=o:i.children.unshift(o),i.root()||i},t.prototype.dtd=function(t,e){var n,i,o,s,c,u,l,p,h;for(n=this.document(),i=new a(n,t,e),o=s=0,u=(p=n.children).length;s<u;o=++s)if(p[o].type===r.DocType)return n.children[o]=i,i;for(o=c=0,l=(h=n.children).length;c<l;o=++c)if(h[o].isRoot)return n.children.splice(o,0,i),i;return n.children.push(i),i},t.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},t.prototype.root=function(){var t;for(t=this;t;){if(t.type===r.Document)return t.rootObject;if(t.isRoot)return t;t=t.parent}},t.prototype.document=function(){var t;for(t=this;t;){if(t.type===r.Document)return t;t=t.parent}},t.prototype.end=function(t){return this.document().end(t)},t.prototype.prev=function(){var t;if((t=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[t-1]},t.prototype.next=function(){var t;if(-1===(t=this.parent.children.indexOf(this))||t===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[t+1]},t.prototype.importDocument=function(t){var e;return(e=t.root().clone()).parent=this,e.isRoot=!1,this.children.push(e),this},t.prototype.debugInfo=function(t){var e,n;return null!=(t=t||this.name)||(null!=(e=this.parent)?e.name:void 0)?null==t?"parent: <"+this.parent.name+">":(null!=(n=this.parent)?n.name:void 0)?"node: <"+t+">, parent: <"+this.parent.name+">":"node: <"+t+">":""},t.prototype.ele=function(t,e,n){return this.element(t,e,n)},t.prototype.nod=function(t,e,n){return this.node(t,e,n)},t.prototype.txt=function(t){return this.text(t)},t.prototype.dat=function(t){return this.cdata(t)},t.prototype.com=function(t){return this.comment(t)},t.prototype.ins=function(t,e){return this.instruction(t,e)},t.prototype.doc=function(){return this.document()},t.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},t.prototype.e=function(t,e,n){return this.element(t,e,n)},t.prototype.n=function(t,e,n){return this.node(t,e,n)},t.prototype.t=function(t){return this.text(t)},t.prototype.d=function(t){return this.cdata(t)},t.prototype.c=function(t){return this.comment(t)},t.prototype.r=function(t){return this.raw(t)},t.prototype.i=function(t,e){return this.instruction(t,e)},t.prototype.u=function(){return this.up()},t.prototype.importXMLBuilder=function(t){return this.importDocument(t)},t.prototype.replaceChild=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.removeChild=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.appendChild=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.hasChildNodes=function(){return 0!==this.children.length},t.prototype.cloneNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isSupported=function(t,e){return!0},t.prototype.hasAttributes=function(){return 0!==this.attribs.length},t.prototype.compareDocumentPosition=function(t){var n,r;return(n=this)===t?0:this.document()!==t.document()?(r=e.Disconnected|e.ImplementationSpecific,Math.random()<.5?r|=e.Preceding:r|=e.Following,r):n.isAncestor(t)?e.Contains|e.Preceding:n.isDescendant(t)?e.Contains|e.Following:n.isPreceding(t)?e.Preceding:e.Following},t.prototype.isSameNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.lookupPrefix=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isDefaultNamespace=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.lookupNamespaceURI=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(t){var e,n,r;if(t.nodeType!==this.nodeType)return!1;if(t.children.length!==this.children.length)return!1;for(e=n=0,r=this.children.length-1;0<=r?n<=r:n>=r;e=0<=r?++n:--n)if(!this.children[e].isEqualNode(t.children[e]))return!1;return!0},t.prototype.getFeature=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.setUserData=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.getUserData=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.contains=function(t){return!!t&&(t===this||this.isDescendant(t))},t.prototype.isDescendant=function(t){var e,n,r,i;for(n=0,r=(i=this.children).length;n<r;n++){if(t===(e=i[n]))return!0;if(e.isDescendant(t))return!0}return!1},t.prototype.isAncestor=function(t){return t.isDescendant(this)},t.prototype.isPreceding=function(t){var e,n;return e=this.treePosition(t),n=this.treePosition(this),-1!==e&&-1!==n&&e<n},t.prototype.isFollowing=function(t){var e,n;return e=this.treePosition(t),n=this.treePosition(this),-1!==e&&-1!==n&&e>n},t.prototype.treePosition=function(t){var e,n;return n=0,e=!1,this.foreachTreeNode(this.document(),(function(r){if(n++,!e&&r===t)return e=!0})),e?n:-1},t.prototype.foreachTreeNode=function(t,e){var n,r,i,o,s;for(t||(t=this.document()),r=0,i=(o=t.children).length;r<i;r++){if(s=e(n=o[r]))return s;if(s=this.foreachTreeNode(n,e))return s}},t}()}).call(this)},2390:function(t){(function(){t.exports=function(){function t(t){this.nodes=t}return Object.defineProperty(t.prototype,"length",{get:function(){return this.nodes.length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.item=function(t){return this.nodes[t]||null},t}()}).call(this)},9181:function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;e=n(9335),r=n(6488),t.exports=function(t){function n(t,r,i){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing instruction target. "+this.debugInfo());this.type=e.ProcessingInstruction,this.target=this.stringify.insTarget(r),this.name=this.target,i&&(this.value=this.stringify.insValue(i))}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(t))},n.prototype.isEqualNode=function(t){return!!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.target===this.target},n}(r)}).call(this)},9406:function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;e=n(9335),r=n(2026),t.exports=function(t){function n(t,r){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing raw text. "+this.debugInfo());this.type=e.Raw,this.value=this.stringify.raw(r)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return this.options.writer.raw(this,this.options.writer.filterOptions(t))},n}(r)}).call(this)},1996:function(t,e,n){(function(){var e,r,i,o={}.hasOwnProperty;e=n(9335),i=n(751),r=n(594),t.exports=function(t){function n(t,e){this.stream=t,n.__super__.constructor.call(this,e)}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),n.prototype.endline=function(t,e,i){return t.isLastRootNode&&e.state===r.CloseTag?"":n.__super__.endline.call(this,t,e,i)},n.prototype.document=function(t,e){var n,r,i,o,s,a,c,u,l;for(r=i=0,s=(c=t.children).length;i<s;r=++i)(n=c[r]).isLastRootNode=r===t.children.length-1;for(e=this.filterOptions(e),l=[],o=0,a=(u=t.children).length;o<a;o++)n=u[o],l.push(this.writeChildNode(n,e,0));return l},n.prototype.attribute=function(t,e,r){return this.stream.write(n.__super__.attribute.call(this,t,e,r))},n.prototype.cdata=function(t,e,r){return this.stream.write(n.__super__.cdata.call(this,t,e,r))},n.prototype.comment=function(t,e,r){return this.stream.write(n.__super__.comment.call(this,t,e,r))},n.prototype.declaration=function(t,e,r){return this.stream.write(n.__super__.declaration.call(this,t,e,r))},n.prototype.docType=function(t,e,n){var i,o,s,a;if(n||(n=0),this.openNode(t,e,n),e.state=r.OpenTag,this.stream.write(this.indent(t,e,n)),this.stream.write("<!DOCTYPE "+t.root().name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(t,e,n)),e.state=r.InsideTag,o=0,s=(a=t.children).length;o<s;o++)i=a[o],this.writeChildNode(i,e,n+1);e.state=r.CloseTag,this.stream.write("]")}return e.state=r.CloseTag,this.stream.write(e.spaceBeforeSlash+">"),this.stream.write(this.endline(t,e,n)),e.state=r.None,this.closeNode(t,e,n)},n.prototype.element=function(t,n,i){var s,a,c,u,l,p,h,d,f;for(h in i||(i=0),this.openNode(t,n,i),n.state=r.OpenTag,this.stream.write(this.indent(t,n,i)+"<"+t.name),d=t.attribs)o.call(d,h)&&(s=d[h],this.attribute(s,n,i));if(u=0===(c=t.children.length)?null:t.children[0],0===c||t.children.every((function(t){return(t.type===e.Text||t.type===e.Raw)&&""===t.value})))n.allowEmpty?(this.stream.write(">"),n.state=r.CloseTag,this.stream.write("</"+t.name+">")):(n.state=r.CloseTag,this.stream.write(n.spaceBeforeSlash+"/>"));else if(!n.pretty||1!==c||u.type!==e.Text&&u.type!==e.Raw||null==u.value){for(this.stream.write(">"+this.endline(t,n,i)),n.state=r.InsideTag,l=0,p=(f=t.children).length;l<p;l++)a=f[l],this.writeChildNode(a,n,i+1);n.state=r.CloseTag,this.stream.write(this.indent(t,n,i)+"</"+t.name+">")}else this.stream.write(">"),n.state=r.InsideTag,n.suppressPrettyCount++,this.writeChildNode(u,n,i+1),n.suppressPrettyCount--,n.state=r.CloseTag,this.stream.write("</"+t.name+">");return this.stream.write(this.endline(t,n,i)),n.state=r.None,this.closeNode(t,n,i)},n.prototype.processingInstruction=function(t,e,r){return this.stream.write(n.__super__.processingInstruction.call(this,t,e,r))},n.prototype.raw=function(t,e,r){return this.stream.write(n.__super__.raw.call(this,t,e,r))},n.prototype.text=function(t,e,r){return this.stream.write(n.__super__.text.call(this,t,e,r))},n.prototype.dtdAttList=function(t,e,r){return this.stream.write(n.__super__.dtdAttList.call(this,t,e,r))},n.prototype.dtdElement=function(t,e,r){return this.stream.write(n.__super__.dtdElement.call(this,t,e,r))},n.prototype.dtdEntity=function(t,e,r){return this.stream.write(n.__super__.dtdEntity.call(this,t,e,r))},n.prototype.dtdNotation=function(t,e,r){return this.stream.write(n.__super__.dtdNotation.call(this,t,e,r))},n}(i)}).call(this)},6434:function(t,e,n){(function(){var e,r={}.hasOwnProperty;e=n(751),t.exports=function(t){function e(t){e.__super__.constructor.call(this,t)}return function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype}(e,t),e.prototype.document=function(t,e){var n,r,i,o,s;for(e=this.filterOptions(e),o="",r=0,i=(s=t.children).length;r<i;r++)n=s[r],o+=this.writeChildNode(n,e,0);return e.pretty&&o.slice(-e.newline.length)===e.newline&&(o=o.slice(0,-e.newline.length)),o},e}(e)}).call(this)},5549:function(t){(function(){var e=function(t,e){return function(){return t.apply(e,arguments)}},n={}.hasOwnProperty;t.exports=function(){function t(t){var r,i,o;for(r in this.assertLegalName=e(this.assertLegalName,this),this.assertLegalChar=e(this.assertLegalChar,this),t||(t={}),this.options=t,this.options.version||(this.options.version="1.0"),i=t.stringify||{})n.call(i,r)&&(o=i[r],this[r]=o)}return t.prototype.name=function(t){return this.options.noValidation?t:this.assertLegalName(""+t||"")},t.prototype.text=function(t){return this.options.noValidation?t:this.assertLegalChar(this.textEscape(""+t||""))},t.prototype.cdata=function(t){return this.options.noValidation?t:(t=(t=""+t||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(t))},t.prototype.comment=function(t){if(this.options.noValidation)return t;if((t=""+t||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+t);return this.assertLegalChar(t)},t.prototype.raw=function(t){return this.options.noValidation?t:""+t||""},t.prototype.attValue=function(t){return this.options.noValidation?t:this.assertLegalChar(this.attEscape(t=""+t||""))},t.prototype.insTarget=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.insValue=function(t){if(this.options.noValidation)return t;if((t=""+t||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+t);return this.assertLegalChar(t)},t.prototype.xmlVersion=function(t){if(this.options.noValidation)return t;if(!(t=""+t||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+t);return t},t.prototype.xmlEncoding=function(t){if(this.options.noValidation)return t;if(!(t=""+t||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+t);return this.assertLegalChar(t)},t.prototype.xmlStandalone=function(t){return this.options.noValidation?t:t?"yes":"no"},t.prototype.dtdPubID=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdSysID=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdElementValue=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdAttType=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdAttDefault=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdEntityValue=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.dtdNData=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(t){var e,n;if(this.options.noValidation)return t;if(e="","1.0"===this.options.version){if(e=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=t.match(e))throw new Error("Invalid character in string: "+t+" at index "+n.index)}else if("1.1"===this.options.version&&(e=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=t.match(e)))throw new Error("Invalid character in string: "+t+" at index "+n.index);return t},t.prototype.assertLegalName=function(t){var e;if(this.options.noValidation)return t;if(this.assertLegalChar(t),e=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!t.match(e))throw new Error("Invalid character in name");return t},t.prototype.textEscape=function(t){var e;return this.options.noValidation?t:(e=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},t.prototype.attEscape=function(t){var e;return this.options.noValidation?t:(e=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},t}()}).call(this)},3595:function(t,e,n){(function(){var e,r,i={}.hasOwnProperty;e=n(9335),r=n(6488),t.exports=function(t){function n(t,r){if(n.__super__.constructor.call(this,t),null==r)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=e.Text,this.value=this.stringify.text(r)}return function(t,e){for(var n in e)i.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,t),Object.defineProperty(n.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"wholeText",{get:function(){var t,e,n;for(n="",e=this.previousSibling;e;)n=e.data+n,e=e.previousSibling;for(n+=this.data,t=this.nextSibling;t;)n+=t.data,t=t.nextSibling;return n}}),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(t){return this.options.writer.text(this,this.options.writer.filterOptions(t))},n.prototype.splitText=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.replaceWholeText=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n}(r)}).call(this)},751:function(t,e,n){(function(){var e,r,i,o={}.hasOwnProperty;i=n(8369).assign,e=n(9335),n(9077),n(6544),n(6170),n(2096),n(2161),n(9406),n(3595),n(9181),n(8833),n(1179),n(6347),n(9078),n(4777),r=n(594),t.exports=function(){function t(t){var e,n,r;for(e in t||(t={}),this.options=t,n=t.writer||{})o.call(n,e)&&(r=n[e],this["_"+e]=this[e],this[e]=r)}return t.prototype.filterOptions=function(t){var e,n,o,s,a,c,u,l;return t||(t={}),t=i({},this.options,t),(e={writer:this}).pretty=t.pretty||!1,e.allowEmpty=t.allowEmpty||!1,e.indent=null!=(n=t.indent)?n:"  ",e.newline=null!=(o=t.newline)?o:"\n",e.offset=null!=(s=t.offset)?s:0,e.dontPrettyTextNodes=null!=(a=null!=(c=t.dontPrettyTextNodes)?c:t.dontprettytextnodes)?a:0,e.spaceBeforeSlash=null!=(u=null!=(l=t.spaceBeforeSlash)?l:t.spacebeforeslash)?u:"",!0===e.spaceBeforeSlash&&(e.spaceBeforeSlash=" "),e.suppressPrettyCount=0,e.user={},e.state=r.None,e},t.prototype.indent=function(t,e,n){var r;return!e.pretty||e.suppressPrettyCount?"":e.pretty&&(r=(n||0)+e.offset+1)>0?new Array(r).join(e.indent):""},t.prototype.endline=function(t,e,n){return!e.pretty||e.suppressPrettyCount?"":e.newline},t.prototype.attribute=function(t,e,n){var r;return this.openAttribute(t,e,n),r=" "+t.name+'="'+t.value+'"',this.closeAttribute(t,e,n),r},t.prototype.cdata=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<![CDATA[",e.state=r.InsideTag,i+=t.value,e.state=r.CloseTag,i+="]]>"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.comment=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"\x3c!-- ",e.state=r.InsideTag,i+=t.value,e.state=r.CloseTag,i+=" --\x3e"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.declaration=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<?xml",e.state=r.InsideTag,i+=' version="'+t.version+'"',null!=t.encoding&&(i+=' encoding="'+t.encoding+'"'),null!=t.standalone&&(i+=' standalone="'+t.standalone+'"'),e.state=r.CloseTag,i+=e.spaceBeforeSlash+"?>",i+=this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.docType=function(t,e,n){var i,o,s,a,c;if(n||(n=0),this.openNode(t,e,n),e.state=r.OpenTag,a=this.indent(t,e,n),a+="<!DOCTYPE "+t.root().name,t.pubID&&t.sysID?a+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(a+=' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(a+=" [",a+=this.endline(t,e,n),e.state=r.InsideTag,o=0,s=(c=t.children).length;o<s;o++)i=c[o],a+=this.writeChildNode(i,e,n+1);e.state=r.CloseTag,a+="]"}return e.state=r.CloseTag,a+=e.spaceBeforeSlash+">",a+=this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),a},t.prototype.element=function(t,n,i){var s,a,c,u,l,p,h,d,f,_,g,m,y,v;for(f in i||(i=0),_=!1,g="",this.openNode(t,n,i),n.state=r.OpenTag,g+=this.indent(t,n,i)+"<"+t.name,m=t.attribs)o.call(m,f)&&(s=m[f],g+=this.attribute(s,n,i));if(u=0===(c=t.children.length)?null:t.children[0],0===c||t.children.every((function(t){return(t.type===e.Text||t.type===e.Raw)&&""===t.value})))n.allowEmpty?(g+=">",n.state=r.CloseTag,g+="</"+t.name+">"+this.endline(t,n,i)):(n.state=r.CloseTag,g+=n.spaceBeforeSlash+"/>"+this.endline(t,n,i));else if(!n.pretty||1!==c||u.type!==e.Text&&u.type!==e.Raw||null==u.value){if(n.dontPrettyTextNodes)for(l=0,h=(y=t.children).length;l<h;l++)if(((a=y[l]).type===e.Text||a.type===e.Raw)&&null!=a.value){n.suppressPrettyCount++,_=!0;break}for(g+=">"+this.endline(t,n,i),n.state=r.InsideTag,p=0,d=(v=t.children).length;p<d;p++)a=v[p],g+=this.writeChildNode(a,n,i+1);n.state=r.CloseTag,g+=this.indent(t,n,i)+"</"+t.name+">",_&&n.suppressPrettyCount--,g+=this.endline(t,n,i),n.state=r.None}else g+=">",n.state=r.InsideTag,n.suppressPrettyCount++,_=!0,g+=this.writeChildNode(u,n,i+1),n.suppressPrettyCount--,_=!1,n.state=r.CloseTag,g+="</"+t.name+">"+this.endline(t,n,i);return this.closeNode(t,n,i),g},t.prototype.writeChildNode=function(t,n,r){switch(t.type){case e.CData:return this.cdata(t,n,r);case e.Comment:return this.comment(t,n,r);case e.Element:return this.element(t,n,r);case e.Raw:return this.raw(t,n,r);case e.Text:return this.text(t,n,r);case e.ProcessingInstruction:return this.processingInstruction(t,n,r);case e.Dummy:return"";case e.Declaration:return this.declaration(t,n,r);case e.DocType:return this.docType(t,n,r);case e.AttributeDeclaration:return this.dtdAttList(t,n,r);case e.ElementDeclaration:return this.dtdElement(t,n,r);case e.EntityDeclaration:return this.dtdEntity(t,n,r);case e.NotationDeclaration:return this.dtdNotation(t,n,r);default:throw new Error("Unknown XML node type: "+t.constructor.name)}},t.prototype.processingInstruction=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<?",e.state=r.InsideTag,i+=t.target,t.value&&(i+=" "+t.value),e.state=r.CloseTag,i+=e.spaceBeforeSlash+"?>",i+=this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.raw=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n),e.state=r.InsideTag,i+=t.value,e.state=r.CloseTag,i+=this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.text=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n),e.state=r.InsideTag,i+=t.value,e.state=r.CloseTag,i+=this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.dtdAttList=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<!ATTLIST",e.state=r.InsideTag,i+=" "+t.elementName+" "+t.attributeName+" "+t.attributeType,"#DEFAULT"!==t.defaultValueType&&(i+=" "+t.defaultValueType),t.defaultValue&&(i+=' "'+t.defaultValue+'"'),e.state=r.CloseTag,i+=e.spaceBeforeSlash+">"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.dtdElement=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<!ELEMENT",e.state=r.InsideTag,i+=" "+t.name+" "+t.value,e.state=r.CloseTag,i+=e.spaceBeforeSlash+">"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.dtdEntity=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<!ENTITY",e.state=r.InsideTag,t.pe&&(i+=" %"),i+=" "+t.name,t.value?i+=' "'+t.value+'"':(t.pubID&&t.sysID?i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(i+=' SYSTEM "'+t.sysID+'"'),t.nData&&(i+=" NDATA "+t.nData)),e.state=r.CloseTag,i+=e.spaceBeforeSlash+">"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.dtdNotation=function(t,e,n){var i;return this.openNode(t,e,n),e.state=r.OpenTag,i=this.indent(t,e,n)+"<!NOTATION",e.state=r.InsideTag,i+=" "+t.name,t.pubID&&t.sysID?i+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.pubID?i+=' PUBLIC "'+t.pubID+'"':t.sysID&&(i+=' SYSTEM "'+t.sysID+'"'),e.state=r.CloseTag,i+=e.spaceBeforeSlash+">"+this.endline(t,e,n),e.state=r.None,this.closeNode(t,e,n),i},t.prototype.openNode=function(t,e,n){},t.prototype.closeNode=function(t,e,n){},t.prototype.openAttribute=function(t,e,n){},t.prototype.closeAttribute=function(t,e,n){},t}()}).call(this)},5532:function(t,e,n){(function(){var e,r,i,o,s,a,c,u,l,p;p=n(8369),u=p.assign,l=p.isFunction,i=n(1770),o=n(6934),s=n(9227),c=n(6434),a=n(1996),e=n(9335),r=n(594),t.exports.create=function(t,e,n,r){var i,s;if(null==t)throw new Error("Root element needs a name.");return r=u({},e,n,r),s=(i=new o(r)).element(t),r.headless||(i.declaration(r),null==r.pubID&&null==r.sysID||i.dtd(r)),s},t.exports.begin=function(t,e,n){var r;return l(t)&&(e=(r=[t,e])[0],n=r[1],t={}),e?new s(t,e,n):new o(t)},t.exports.stringWriter=function(t){return new c(t)},t.exports.streamWriter=function(t,e){return new a(t,e)},t.exports.implementation=new i,t.exports.nodeType=e,t.exports.writerState=r}).call(this)},9491:t=>{"use strict";t.exports=require("assert")},2081:t=>{"use strict";t.exports=require("child_process")},6113:t=>{"use strict";t.exports=require("crypto")},1891:t=>{"use strict";t.exports=require("dgram")},2361:t=>{"use strict";t.exports=require("events")},3292:t=>{"use strict";t.exports=require("fs/promises")},3685:t=>{"use strict";t.exports=require("http")},5687:t=>{"use strict";t.exports=require("https")},1405:t=>{"use strict";t.exports=require("inspector")},1808:t=>{"use strict";t.exports=require("net")},2037:t=>{"use strict";t.exports=require("os")},1017:t=>{"use strict";t.exports=require("path")},2781:t=>{"use strict";t.exports=require("stream")},1576:t=>{"use strict";t.exports=require("string_decoder")},9512:t=>{"use strict";t.exports=require("timers")},4404:t=>{"use strict";t.exports=require("tls")},6224:t=>{"use strict";t.exports=require("tty")},7310:t=>{"use strict";t.exports=require("url")},3837:t=>{"use strict";t.exports=require("util")},9796:t=>{"use strict";t.exports=require("zlib")},2764:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},7359:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.runEntrypoint=void 0;const r=n(1460),i=n(9913),o=r.__importDefault(n(3292)),s=n(2068),a=n(9946);n(585);const c=n(8221),u=r.__importDefault(n(1017));let l,p=!1;e.runEntrypoint=function(t,e){Promise.resolve().then((async()=>{if(p)throw new Error("runEntrypoint can only be called once");p=!0;const n=process.env.MODULE_MANIFEST;if(!n)throw new Error("Module initialise is missing MODULE_MANIFEST");const r=await o.default.readFile(n),h=JSON.parse(r.toString());if(h.runtime?.api!==i.HostApiNodeJsIpc)throw new Error("Module manifest 'api' mismatch");if(!h.runtime.apiVersion)throw new Error("Module manifest 'apiVersion' missing");let d=h.runtime.apiVersion;if("0.0.0"===d)try{const t=await o.default.readFile(u.default.join(__dirname,"../package.json")),e=JSON.parse(t.toString());"@companion-module/base"===e.name&&(d=e.version)}catch(t){throw new Error("Failed to determine module api version")}if(!process.send)throw new Error("Module is not being run with ipc");console.log(`Starting up module class: ${t.name}`);const f=process.env.CONNECTION_ID;if("string"!=typeof f||!f)throw new Error("Module initialise is missing CONNECTION_ID");const _=process.env.VERIFICATION_TOKEN;if("string"!=typeof _||!_)throw new Error("Module initialise is missing VERIFICATION_TOKEN");const g=process.env.SENTRY_DSN,m=process.env.SENTRY_USERID,y=process.env.SENTRY_COMPANION_VERSION;g&&m&&"https://"==g.substring(0,8)?(console.log("Sentry enabled"),(0,a.init)({dsn:g,release:`${h.name}@${h.version}`,beforeSend:t=>(t.exception&&console.log("sentry","error",t.exception),t)}),(0,a.configureScope)((t=>{t.setUser({id:m}),t.setTag("companion",y)}))):console.log("Sentry disabled");const v=new c.IpcWrapper({},(t=>{process.send(t)}),5e3);process.once("message",(t=>{v.receivedMessage(t)})),l=new t((0,s.literal)({id:f,upgradeScripts:e,_isInstanceBaseProps:!0})),v.sendWithCb("register",{apiVersion:d,connectionId:f,verificationToken:_}).then((()=>{console.log("Module-host accepted registration")}),(t=>{console.error("Module registration failed",t),process.exit(11)}))})).catch((t=>{console.error("Failed to startup module:"),console.error(t.stack||t.message),process.exit(1)}))}},1972:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UDPHelper=e.TelnetHelper=e.TCPHelper=void 0;var r=n(9159);Object.defineProperty(e,"TCPHelper",{enumerable:!0,get:function(){return r.TCPHelper}});var i=n(6226);Object.defineProperty(e,"TelnetHelper",{enumerable:!0,get:function(){return i.TelnetHelper}});var o=n(8473);Object.defineProperty(e,"UDPHelper",{enumerable:!0,get:function(){return o.UDPHelper}})},9159:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TCPHelper=void 0;const r=n(1460).__importDefault(n(1808)),i=n(6729),o=n(609);class s extends i.EventEmitter{#t;#e;_socket;#n;#r=!1;#i=!1;#o=!1;#s;#a;get isConnected(){return this.#r}get isConnecting(){return this.#i}get isDestroyed(){return this.#o}constructor(t,e,n){super(),this.#t=t,this.#e=e,this.#n={reconnect_interval:2e3,reconnect:!0,...n},this._socket=new r.default.Socket,this._socket.setKeepAlive(!0),this._socket.setNoDelay(!0),this._socket.on("error",(t=>{this.#i=!1,this.#r=!1,this.#n.reconnect&&this.#c(),this.#u(o.InstanceStatus.UnknownError,t.message),this.emit("error",t)})),this._socket.on("ready",(()=>{this.#r=!0,this.#i=!1,this.#u(o.InstanceStatus.Ok),this.emit("connect")})),this._socket.on("end",(()=>{this.#r=!1,this.#u(o.InstanceStatus.Disconnected),!this.#i&&this.#n.reconnect&&this.#c(),this.emit("end")})),this._socket.on("data",(t=>this.emit("data",t))),this._socket.on("drain",(()=>this.emit("drain"))),setImmediate((()=>this.connect())),setTimeout((()=>{this.#o||this.listenerCount("error")||console.error(`Danger: TCP client for ${this.#t}:${this.#e} is missing an error handler!`)}),5e3)}connect(){if(this.#o)throw new Error("Cannot connect destroyed socket");return!this.#i&&(this.#i=!0,this._socket.connect(this.#e,this.#t),!0)}async send(t){if(this.#o||this._socket.destroyed)throw new Error("Cannot write to destroyed socket");if(!t||!t.length)throw new Error("No message to send");if(!this.#r)return!1;try{return new Promise(((e,n)=>{this._socket.write(t,(t=>{t?n(t):e(!0)}))}))}catch(t){this.#r=!1;const e=t instanceof Error?t:new Error(`${t}`);throw this.#u(o.InstanceStatus.UnknownError,e.message),this.emit("error",e),e}}destroy(){this.#o=!0,void 0!==this.#a&&clearTimeout(this.#a),this._socket.removeAllListeners(),this.removeAllListeners(),this._socket.destroy()}#c(){void 0!==this.#a&&clearTimeout(this.#a),this.#a=setTimeout((()=>{this.#a=void 0,this.#u(o.InstanceStatus.Connecting),this.connect()}),this.#n.reconnect_interval)}#u(t,e){this.#s!=t&&(this.#s=t,this.emit("status_change",t,e))}}e.TCPHelper=s},6226:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TelnetHelper=void 0;const r=n(1460).__importDefault(n(6729)),i=n(2781),o=n(9159);class s extends r.default{#l;#p;get isConnected(){return this.#l.isConnected}get isConnecting(){return this.#l.isConnecting}get isDestroyed(){return this.#l.isDestroyed}constructor(t,e,n){super(),this.#l=new o.TCPHelper(t,e,n),this.#p=new a,this.#l._socket.pipe(this.#p),this.#l.on("connect",(()=>this.emit("connect"))),this.#l.on("end",(()=>this.emit("end"))),this.#l.on("error",(t=>this.emit("error",t))),this.#l.on("status_change",((t,e)=>this.emit("status_change",t,e))),this.#p.on("iac",((t,e)=>this.emit("iac",t,e))),this.#p.on("sb",(t=>this.emit("sb",t))),this.#p.on("data",(t=>this.emit("data",t))),this.#p.on("drain",(()=>this.emit("drain"))),setTimeout((()=>{this.isDestroyed||this.listenerCount("error")||console.error(`Danger: Telnet client for ${t}:${e} is missing an error handler!`)}),5e3)}connect(){return this.#l.connect()}async send(t){return this.#l.send(t)}destroy(){this.#l.destroy(),this.#p.removeAllListeners(),this.#p.destroy()}}e.TelnetHelper=s;class a extends i.Transform{#h;#d;#f;constructor(t){super(t),this.#h=Buffer.alloc(0),this.#d=Buffer.alloc(0),this.#f=0}_transform(t,e,n){for(let e=0;e<t.length;++e)this.#_(t[e]);const r=this.#g();r.length&&this.push(r),n()}#_(t){if(0===this.#f){if(255===t)return void(this.#f=255);this.#h=Buffer.concat([this.#h,Buffer.from([t])])}else if(255===this.#f)switch(t){case 250:case 251:case 252:case 253:case 254:this.#f=t;break;default:this.#f=0}else{if(this.#f>=251&&this.#f<=254){let e;switch(this.#f){case 251:e="WILL";break;case 252:e="WONT";break;case 253:e="DO";break;case 254:e="DONT";break;default:return}return this.emit("iac",e,t),void(this.#f=0)}if(250===this.#f){if(240===t)return this.emit("sb",this.#d),this.#f=0,void(this.#d=Buffer.alloc(0));this.#d=Buffer.concat([this.#d,Buffer.from([t])])}}}#g(){const t=this.#h;return this.#h=Buffer.alloc(0),t}}},8473:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UDPHelper=void 0;const r=n(1460).__importDefault(n(1891)),i=n(6729),o=n(609);class s extends i.EventEmitter{#t;#e;#m;#n;#o=!1;#s;get isDestroyed(){return this.#o}constructor(t,e,n){super(),this.#t=t,this.#e=e,this.#n={...n},this.#m=r.default.createSocket("udp4");try{this.#m.bind(this.#n.bind_port||0,this.#n.bind_ip)}catch(t){throw new Error(`Unable to bind to ip/port: ${this.#n.bind_ip}:${this.#n.bind_port}`)}this.#n.broadcast&&this.#m.setBroadcast(!0),void 0!==this.#n.ttl&&this.#m.setTTL(this.#n.ttl),void 0!==this.#n.multicast_ttl&&this.#m.setMulticastTTL(this.#n.multicast_ttl),this.#m.on("error",(t=>{this.#u(o.InstanceStatus.UnknownError,t.message),this.emit("error",t)})),this.#m.on("listening",(()=>{this.#n.multicast_interface&&this.#m.setMulticastInterface(this.#n.multicast_interface),this.#u(o.InstanceStatus.Ok),this.emit("listening")})),this.#m.on("message",(t=>this.emit("data",t))),setTimeout((()=>{this.#o||this.listenerCount("error")||console.error(`Danger: UDP socket for ${this.#t}:${this.#e} is missing an error handler!`)}),5e3)}async send(t){if(this.#o)throw new Error("Cannot write to destroyed socket");if(!t||!t.length)throw new Error("No message to send");return new Promise(((e,n)=>{this.#m.send(t,this.#e,this.#t,(t=>{t?n(t):e()}))}))}destroy(){this.#o=!0,this.#m.removeAllListeners(),this.#m.close(),this.removeAllListeners()}#u(t,e){this.#s!=t&&(this.#s=t,this.emit("status_change",t,e))}}e.UDPHelper=s},8221:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IpcWrapper=void 0;const r=n(1460),i=n(4300),o=n(2068),s=r.__importDefault(n(2559));e.IpcWrapper=class{#y;#v;#b;#E={};constructor(t,e,n){this.#y=t,this.#v=e,this.#b=n}async sendWithCb(t,e,n,r=0){r<=0&&(r=this.#b);const o={timeout:void 0,resolve:()=>null,reject:()=>null},a=new Promise(((t,e)=>{o.resolve=t,o.reject=e})),c=(0,i.nanoid)();this.#E[c]=o,this.#v({direction:"call",name:String(t),payload:s.default.stringify(e),callbackId:c});const u=new Error("Call timed out");return o.timeout=setTimeout((()=>{o.reject(n?n():u),delete this.#E[c]}),r),a}sendWithNoCb(t,e){this.#v({direction:"call",name:String(t),payload:s.default.stringify(e),callbackId:void 0})}receivedMessage(t){const e=t;switch(t.direction){case"call":{const e=this.#y[t.name];if(!e)return void(t.callbackId&&this.#v({direction:"response",callbackId:t.callbackId,success:!1,payload:s.default.stringify({message:`Unknown command "${t.name}"`})}));e(t.payload?s.default.parse(t.payload):void 0).then((e=>{t.callbackId&&this.#v({direction:"response",callbackId:t.callbackId,success:!0,payload:s.default.stringify(e)})}),(e=>{t.callbackId&&this.#v({direction:"response",callbackId:t.callbackId,success:!1,payload:e instanceof Error?JSON.stringify(e,Object.getOwnPropertyNames(e)):s.default.stringify(e)})}));break}case"response":{if(!t.callbackId)return void console.error("Ipc: Response message has no callbackId");const e=this.#E[t.callbackId];if(delete this.#E[t.callbackId],!e)return;clearTimeout(e.timeout);const n=t.payload?s.default.parse(t.payload):void 0;if(t.success)e.resolve(n);else{let t=n;n&&"message"in n&&(t=new Error(n.message),n.stack&&(t.stack=n.stack)),e.reject(t)}break}default:(0,o.assertNever)(t),console.error(`Ipc: Message of unknown direction "${e.direction}"`)}}}},9913:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HostApiNodeJsIpc=void 0,e.HostApiNodeJsIpc="nodejs-ipc"},8049:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.runEntrypoint=e.assertNever=e.splitRgb=e.combineRgb=e.literal=void 0;const r=n(1460);r.__exportStar(n(7517),e),r.__exportStar(n(4911),e),r.__exportStar(n(2764),e);var i=n(2068);Object.defineProperty(e,"literal",{enumerable:!0,get:function(){return i.literal}}),Object.defineProperty(e,"combineRgb",{enumerable:!0,get:function(){return i.combineRgb}}),Object.defineProperty(e,"splitRgb",{enumerable:!0,get:function(){return i.splitRgb}}),Object.defineProperty(e,"assertNever",{enumerable:!0,get:function(){return i.assertNever}}),r.__exportStar(n(1972),e);var o=n(7359);Object.defineProperty(e,"runEntrypoint",{enumerable:!0,get:function(){return o.runEntrypoint}})},4391:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionManager=void 0;const r=n(2557);function i(t){return{id:t.id,actionId:t.actionId,controlId:t.controlId,options:t.options}}e.ActionManager=class{#w;#S;#T;#x=new Map;#I=new Map;constructor(t,e,n){this.#w=t,this.#S=e,this.#T=n}async handleExecuteAction(t){const e=this.#x.get(t.action.actionId);if(!e)throw new Error(`Unknown action: ${t.action.actionId}`);const n={parseVariablesInString:async e=>(await this.#w({text:e,controlId:t.action.controlId,actionInstanceId:t.action.id,feedbackInstanceId:void 0})).text};await e.callback({id:t.action.id,actionId:t.action.actionId,controlId:t.action.controlId,options:t.action.options,surfaceId:t.surfaceId??t.deviceId,_deviceId:t.surfaceId??t.deviceId,_page:t.action.page,_bank:t.action.bank},n)}handleUpdateActions(t){for(const[e,n]of Object.entries(t)){const t=this.#I.get(e);if(t){const e=this.#x.get(t.actionId);if(e?.unsubscribe){const n={parseVariablesInString:async e=>(await this.#w({text:e,controlId:t.controlId,actionInstanceId:t.id,feedbackInstanceId:void 0})).text};Promise.resolve(e.unsubscribe(i(t),n)).catch((e=>{this.#T("error",`Action unsubscribe failed: ${JSON.stringify(t)} - ${e?.message??e} ${e?.stack}`)}))}}if(!n||n.disabled)this.#I.delete(e);else{this.#I.set(e,n);const t=this.#x.get(n.actionId);if(t?.subscribe){const e={parseVariablesInString:async t=>(await this.#w({text:t,controlId:n.controlId,actionInstanceId:n.id,feedbackInstanceId:void 0})).text};Promise.resolve(t.subscribe(i(n),e)).catch((t=>{this.#T("error",`Action subscribe failed: ${JSON.stringify(n)} - ${t?.message??t} ${t?.stack}`)}))}}}}async handleLearnAction(t){const e=this.#x.get(t.action.actionId);if(e&&e.learn){const n={parseVariablesInString:async e=>(await this.#w({text:e,controlId:t.action.controlId,actionInstanceId:t.action.id,feedbackInstanceId:void 0})).text};return{options:await e.learn({id:t.action.id,actionId:t.action.actionId,controlId:t.action.controlId,options:t.action.options,surfaceId:void 0,_deviceId:void 0,_page:t.action.page,_bank:t.action.bank},n)}}return{options:void 0}}setActionDefinitions(t){const e=[];this.#x.clear();for(const[n,i]of Object.entries(t))i&&(e.push({id:n,name:i.name,description:i.description,options:(0,r.serializeIsVisibleFn)(i.options),hasLearn:!!i.learn}),this.#x.set(n,i));this.#S({actions:e})}_getAllActions(){return Array.from(this.#I.values()).map((t=>({id:t.id,actionId:t.actionId,controlId:t.controlId,options:t.options})))}subscribeActions(t){let e=Array.from(this.#I.values());const n=new Set(t);n.size&&(e=e.filter((t=>n.has(t.actionId))));for(const t of e){const e=this.#x.get(t.actionId);if(e?.subscribe){const n={parseVariablesInString:async e=>(await this.#w({text:e,controlId:t.controlId,actionInstanceId:t.id,feedbackInstanceId:void 0})).text};Promise.resolve(e.subscribe(i(t),n)).catch((e=>{this.#T("error",`Action subscribe failed: ${JSON.stringify(t)} - ${e?.message??e} ${e?.stack}`)}))}}}unsubscribeActions(t){let e=Array.from(this.#I.values());const n=new Set(t);n.size&&(e=e.filter((t=>n.has(t.actionId))));for(const t of e){const e=this.#x.get(t.actionId);if(e&&e.unsubscribe){const n={parseVariablesInString:async e=>(await this.#w({text:e,controlId:t.controlId,actionInstanceId:t.id,feedbackInstanceId:void 0})).text};Promise.resolve(e.unsubscribe(i(t),n)).catch((e=>{this.#T("error",`Action unsubscribe failed: ${JSON.stringify(t)} - ${e?.message??e} ${e?.stack}`)}))}}}}},2557:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isInstanceBaseProps=e.serializeIsVisibleFn=void 0,e.serializeIsVisibleFn=function(t){return t.map((t=>"isVisible"in t&&"function"==typeof t.isVisible?{...t,isVisibleFn:t.isVisible.toString(),isVisible:void 0}:{...t,isVisibleFn:void 0}))},e.isInstanceBaseProps=function(t){const e=t;return"object"==typeof e&&"string"==typeof e.id&&!0===e._isInstanceBaseProps}},7550:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FeedbackManager=void 0;const r=n(1460),i=n(2557),o=r.__importDefault(n(7319));function s(t,e){return{type:t,id:e.id,feedbackId:e.feedbackId,controlId:e.controlId,options:e.options}}e.FeedbackManager=class{#w;#O;#D;#T;#k=new Map;#C=new Map;#N=new Map;#A=new Map;#P;get parseVariablesContext(){return this.#P}constructor(t,e,n,r){this.#w=t,this.#O=e,this.#D=n,this.#T=r}getDefinitionIds(){return Array.from(this.#k.keys())}getInstanceIds(){return Array.from(this.#C.keys())}handleUpdateFeedbacks(t){for(const[e,n]of Object.entries(t)){const t=this.#C.get(e);if(t){const e=this.#k.get(t.feedbackId);if(e?.unsubscribe){const n={parseVariablesInString:async e=>(await this.#w({text:e,controlId:t.controlId,actionInstanceId:void 0,feedbackInstanceId:t.id})).text};Promise.resolve(e.unsubscribe(s(e.type,t),n)).catch((e=>{this.#T("error",`Feedback unsubscribe failed: ${JSON.stringify(t)} - ${e?.message??e} ${e?.stack}`)}))}}if(!n||n.disabled)this.#C.delete(e);else{this.#C.set(e,{...n,referencedVariables:null});const t=this.#k.get(n.feedbackId);if(t?.subscribe){const e={parseVariablesInString:async t=>(await this.#w({text:t,controlId:n.controlId,actionInstanceId:void 0,feedbackInstanceId:n.id})).text};Promise.resolve(t.subscribe(s(t.type,n),e)).catch((t=>{this.#T("error",`Feedback subscribe failed: ${JSON.stringify(n)} - ${t?.message??t} ${t?.stack}`)}))}this.#R(e)}}}async handleLearnFeedback(t){const e=this.#k.get(t.feedback.feedbackId);if(e&&e.learn){const n={parseVariablesInString:async e=>(await this.#w({text:e,controlId:t.feedback.controlId,actionInstanceId:void 0,feedbackInstanceId:t.feedback.id})).text};return{options:await e.learn({id:t.feedback.id,feedbackId:t.feedback.feedbackId,controlId:t.feedback.controlId,options:t.feedback.options,type:e.type},n)}}return{options:void 0}}handleVariablesChanged(t){if(!t.variablesIds.length)return;const e=new Set(t.variablesIds);for(const e of this.#A.values())for(const n of t.variablesIds)e.changedVariables.add(n);const n=new Set;for(const t of this.#C.values())if(!this.#A.has(t.id)&&t.referencedVariables)for(const r of t.referencedVariables)if(e.has(r)){n.add(t.id);break}for(const t of n)setImmediate((()=>{this.#R(t)}))}#R(t){const e=this.#A.get(t);if(e)return void(e.needsRecheck=!0);const n=this.#C.get(t);if(!n)return;const r=n,i={needsRecheck:!1,changedVariables:new Set};this.#A.set(t,i),Promise.resolve().then((async()=>{const e=this.#k.get(r.feedbackId);let n;const i=new Set;if(e){this.#P=`Feedback ${r.feedbackId} (${t})`;const o={parseVariablesInString:async e=>{const n=await this.#w({text:e,controlId:r.controlId,actionInstanceId:void 0,feedbackInstanceId:t});if(n.variableIds&&n.variableIds.length)for(const t of n.variableIds)i.add(t);return n.text}};n="boolean"===e.type?e.callback({...s("boolean",r),type:"boolean",_rawBank:r.rawBank},o):e.callback({...s("advanced",r),type:"advanced",image:r.image,_page:r.page,_bank:r.bank,_rawBank:r.rawBank},o),this.#P=void 0}const o=await n;this.#N.set(t,{id:t,controlId:r.controlId,value:o}),this.#j(),r.referencedVariables=i.size>0?Array.from(i):null})).catch((t=>{console.error(`Feedback check failed: ${JSON.stringify(r)} - ${t?.message??t} ${t?.stack}`)})).finally((()=>{this.#P=void 0,this.#A.delete(t);let e=!1;if(r.referencedVariables)for(const t of r.referencedVariables)if(i.changedVariables.has(t)){e=!0;break}(e||i.needsRecheck)&&setImmediate((()=>{this.#R(t)}))}))}#j=(0,o.default)((()=>{const t=this.#N;this.#N=new Map,t.size>0&&this.#O({values:Array.from(t.values())})}),{wait:5,maxWait:25});setFeedbackDefinitions(t){const e=[];this.#k.clear();for(const[n,r]of Object.entries(t))r&&(e.push({id:n,name:r.name,description:r.description,options:(0,i.serializeIsVisibleFn)(r.options),type:r.type,defaultStyle:"defaultStyle"in r?r.defaultStyle:void 0,hasLearn:!!r.learn}),this.#k.set(n,r));this.#D({feedbacks:e})}checkFeedbacks(t){const e=new Set(t);for(const[t,n]of this.#C.entries())this.#k.get(n.feedbackId)&&(0===e.size||e.has(n.feedbackId))&&this.#R(t)}checkFeedbacksById(t){for(const e of t)this.#R(e)}_getAllFeedbacks(){return Array.from(this.#C.values()).map((t=>({id:t.id,feedbackId:t.feedbackId,controlId:t.controlId,options:t.options})))}subscribeFeedbacks(t){let e=Array.from(this.#C.values());const n=new Set(t);n.size&&(e=e.filter((t=>n.has(t.feedbackId))));for(const t of e){const e=this.#k.get(t.feedbackId);if(e?.subscribe){const n={parseVariablesInString:async e=>(await this.#w({text:e,controlId:t.controlId,actionInstanceId:void 0,feedbackInstanceId:t.id})).text};Promise.resolve(e.subscribe(s(e.type,t),n)).catch((e=>{this.#T("error",`Feedback subscribe failed: ${JSON.stringify(t)} - ${e?.message??e} ${e?.stack}`)}))}}}unsubscribeFeedbacks(t){let e=Array.from(this.#C.values());const n=new Set(t);n.size&&(e=e.filter((t=>n.has(t.feedbackId))));for(const t of e){const e=this.#k.get(t.feedbackId);if(e&&e.unsubscribe){const n={parseVariablesInString:async e=>(await this.#w({text:e,controlId:t.controlId,actionInstanceId:void 0,feedbackInstanceId:t.id})).text};Promise.resolve(e.unsubscribe(s(e.type,t),n)).catch((e=>{this.#T("error",`Feedback unsubscribe failed: ${JSON.stringify(t)} - ${e?.message??e} ${e?.stack}`)}))}}}}},1806:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.runThroughUpgradeScripts=void 0;const r=n(2068);function i(t){return JSON.parse(JSON.stringify(t))}e.runThroughUpgradeScripts=function(t,e,n,o,s,a){const c=new Map,u=t=>{let e=c.get(t);return e||(e={actions:[],feedbacks:[],config:!1},c.set(t,e)),e};for(const e of Object.values(t)){const t=e?.upgradeIndex??n;e&&"number"==typeof t&&u(t).actions.push(e.id)}for(const t of Object.values(e)){const e=t?.upgradeIndex??n;t&&"number"==typeof e&&u(e).feedbacks.push(t.id)}if(!a)for(let t=n??-1;t<o.length;t++)u(t).config=!0;const l={},p={};let h;if(c.size>0){const a=Array.from(c.keys()).sort(),u=Math.min(...a,n??-1)+1,d=[],f=[],_=o.length;for(let n=u;n<_;n++){const a=c.get(n-1);a&&(d.push(...a.actions),f.push(...a.feedbacks));const u=!!a?.config;if(!u&&0===d.length&&0===f.length)continue;const _=h??s,g=(0,o[n])({currentConfig:i(_)},{config:u?_:null,actions:d.map((e=>{const n=t[e];if(n)return(0,r.literal)({id:n.id,controlId:n.controlId,actionId:n.actionId,options:i(n.options)})})).filter((t=>!!t)),feedbacks:f.map((t=>{const n=e[t];if(n)return(0,r.literal)({id:n.id,controlId:n.controlId,feedbackId:n.feedbackId,options:i(n.options)})})).filter((t=>!!t))});u&&g.updatedConfig&&(h=g.updatedConfig);for(const e of g.updatedActions)if(e){const n=t[e.id];n&&(n.actionId=e.actionId,n.options=e.options,p[e.id]=n)}for(const t of g.updatedFeedbacks)if(t){const n=e[t.id];n&&(n.feedbackId=t.feedbackId,n.options=t.options,l[t.id]={...n,style:l[t.id]?.style??t.style})}}for(const[e,n]of Object.entries(t))p[e]||"number"!=typeof n?.upgradeIndex||(p[e]=n);for(const[t,n]of Object.entries(e))l[t]||"number"!=typeof n?.upgradeIndex||(l[t]=n)}return{updatedActions:p,updatedFeedbacks:l,updatedConfig:h}}},7517:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateManifest=void 0;const r=n(1460).__importDefault(n(4618));e.validateManifest=function(t){if(!(0,r.default)(t)){const t=r.default.errors;if(!t)throw new Error("Manifest failed validation with unknown reason");throw new Error(`Manifest validation failed: ${JSON.stringify(t)}`)}}},8322:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},5203:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstanceBase=void 0;const r=n(1460),i=n(2068),o=r.__importDefault(n(5860)),s=n(2557),a=n(1806),c=n(7550),u=n(8221),l=n(4391);e.InstanceBase=class{#B;#U;id;#F=new o.default({concurrency:1});#M=!1;#L=!1;#q={};#$;#G;#Y=new Map;#V=new Map;#n;#z;get instanceOptions(){return this.#n}get label(){return this.#z}constructor(t){if(!(0,s.isInstanceBaseProps)(t)||!t._isInstanceBaseProps)throw new Error("Module instance is being constructed incorrectly. Make sure you aren't trying to do this manually");this.#n={disableVariableValidation:!1},this.#B=new u.IpcWrapper({init:this._handleInit.bind(this),destroy:this._handleDestroy.bind(this),updateConfigAndLabel:this._handleConfigUpdateAndLabel.bind(this),updateConfig:async()=>{},executeAction:this._handleExecuteAction.bind(this),updateFeedbacks:this._handleUpdateFeedbacks.bind(this),updateActions:this._handleUpdateActions.bind(this),getConfigFields:this._handleGetConfigFields.bind(this),handleHttpRequest:this._handleHttpRequest.bind(this),learnAction:this._handleLearnAction.bind(this),learnFeedback:this._handleLearnFeedback.bind(this),startStopRecordActions:this._handleStartStopRecordActions.bind(this),variablesChanged:this._handleVariablesChanged.bind(this)},(t=>{process.send(t)}),5e3),process.on("message",(t=>{this.#B.receivedMessage(t)})),this.#$=new l.ActionManager((async t=>this.#B.sendWithCb("parseVariablesInString",t)),(t=>this.#B.sendWithNoCb("setActionDefinitions",t)),this.log.bind(this)),this.#G=new c.FeedbackManager((async t=>this.#B.sendWithCb("parseVariablesInString",t)),(t=>this.#B.sendWithNoCb("updateFeedbackValues",t)),(t=>this.#B.sendWithNoCb("setFeedbackDefinitions",t)),this.log.bind(this)),this.#U=t.upgradeScripts,this.id=t.id,this.#z=t.id,this.log("debug","Initializing")}async _handleInit(t){return this.#F.add((async()=>{if(this.#M)throw new Error("Already initialized");const e=t.actions,n=t.feedbacks;if(this.#q=t.config,this.#z=t.label,t.isFirstInit){const e={},n=this.getConfigFields();for(const t of n)"default"in t&&(e[t.id]=t.default);this.#q=e,this.saveConfig(this.#q),t.lastUpgradeIndex=this.#U.length-1}const{updatedActions:r,updatedFeedbacks:i,updatedConfig:o}=(0,a.runThroughUpgradeScripts)(e,n,t.lastUpgradeIndex,this.#U,this.#q,!1);this.#q=o??this.#q;const s=this.#B.sendWithCb("upgradedItems",{updatedActions:r,updatedFeedbacks:i});try{await this.init(this.#q,!!t.isFirstInit),this.#M=!0}catch(t){throw console.trace(`Init failed: ${t}`),t}finally{await s}return setImmediate((()=>{this._handleUpdateActions({actions:e},!0).catch((t=>{this.log("error",`Receive actions failed: ${t}`)})),this._handleUpdateFeedbacks({feedbacks:n},!0).catch((t=>{this.log("error",`Receive feedbacks failed: ${t}`)}))})),{hasHttpHandler:"function"==typeof this.handleHttpRequest,hasRecordActionsHandler:"function"==typeof this.handleStartStopRecordActions,newUpgradeIndex:this.#U.length-1,updatedConfig:this.#q}}))}async _handleDestroy(){await this.#F.add((async()=>{if(!this.#M)throw new Error("Not initialized");await this.destroy(),this.#M=!1}))}async _handleConfigUpdateAndLabel(t){await this.#F.add((async()=>{if(!this.#M)throw new Error("Not initialized");this.#z=t.label,this.#q=t.config,await this.configUpdated(this.#q)}))}async _handleExecuteAction(t){return this.#$.handleExecuteAction(t)}async _handleUpdateFeedbacks(t,e){if(!e){const e=(0,a.runThroughUpgradeScripts)({},t.feedbacks,null,this.#U,this.#q,!0);this.#B.sendWithCb("upgradedItems",{updatedActions:e.updatedActions,updatedFeedbacks:e.updatedFeedbacks}).catch((t=>{this.log("error",`Failed to save upgraded feedbacks: ${t}`)}))}this.#G.handleUpdateFeedbacks(t.feedbacks)}async _handleUpdateActions(t,e){if(!e){const e=(0,a.runThroughUpgradeScripts)(t.actions,{},null,this.#U,this.#q,!0);this.#B.sendWithCb("upgradedItems",{updatedActions:e.updatedActions,updatedFeedbacks:e.updatedFeedbacks}).catch((t=>{this.log("error",`Failed to save upgraded actions: ${t}`)}))}this.#$.handleUpdateActions(t.actions)}async _handleGetConfigFields(t){return{fields:(0,s.serializeIsVisibleFn)(this.getConfigFields())}}async _handleHttpRequest(t){if(!this.handleHttpRequest)throw new Error("handleHttpRequest is not supported!");return{response:await this.handleHttpRequest(t.request)}}async _handleLearnAction(t){return this.#$.handleLearnAction(t)}async _handleLearnFeedback(t){return this.#G.handleLearnFeedback(t)}async _handleStartStopRecordActions(t){if(t.recording){if(this.#L)return}else if(!this.#L)return;if(!this.handleStartStopRecordActions)throw this.#L=!1,new Error("Recording actions is not supported by this module!");this.#L=t.recording,this.handleStartStopRecordActions(this.#L)}async _handleVariablesChanged(t){this.#G.handleVariablesChanged(t)}saveConfig(t){this.#q=t,this.#B.sendWithNoCb("saveConfig",{config:t})}setActionDefinitions(t){this.#$.setActionDefinitions(t)}setFeedbackDefinitions(t){this.#G.setFeedbackDefinitions(t)}setPresetDefinitions(t){const e=[];for(const[n,r]of Object.entries(t))r&&e.push({...r,id:n});this.#B.sendWithNoCb("setPresetDefinitions",{presets:e})}setVariableDefinitions(t){const e=[];this.#Y.clear();for(const n of t)e.push({id:n.variableId,name:n.name}),this.#Y.set(n.variableId,n),this.#V.has(n.variableId)||this.#V.set(n.variableId,"");if(!this.#n.disableVariableValidation){const t=new Set(this.#Y.keys());for(const e of this.#V.keys())t.has(e)||this.#V.delete(e)}this.#B.sendWithNoCb("setVariableDefinitions",{variables:e})}setVariableValues(t){const e=[];for(const[n,r]of Object.entries(t))this.#n.disableVariableValidation?(void 0===r?this.#V.delete(n):this.#V.set(n,r),e.push({id:n,value:r})):this.#Y.has(n)?(this.#V.set(n,r??""),e.push({id:n,value:r??""})):e.push({id:n,value:void 0});this.#B.sendWithNoCb("setVariableValues",{newValues:e})}getVariableValue(t){return this.#V.get(t)}async parseVariablesInString(t){const e=this.#G.parseVariablesContext;return e&&this.log("debug",`parseVariablesInString called while in: ${e}. You should use the parseVariablesInString provided to the callback instead`),(await this.#B.sendWithCb("parseVariablesInString",{text:t,controlId:void 0,actionInstanceId:void 0,feedbackInstanceId:void 0})).text}checkFeedbacks(...t){this.#G.checkFeedbacks(t)}checkFeedbacksById(...t){this.#G.checkFeedbacksById(t)}_getAllActions(){return this.#$._getAllActions()}subscribeActions(...t){this.#$.subscribeActions(t)}unsubscribeActions(...t){this.#$.unsubscribeActions(t)}_getAllFeedbacks(){return this.#G._getAllFeedbacks()}subscribeFeedbacks(...t){this.#G.subscribeFeedbacks(t)}unsubscribeFeedbacks(...t){this.#G.unsubscribeFeedbacks(t)}recordAction(t,e){if(!this.#L)throw new Error("Not currently recording actions");this.#B.sendWithNoCb("recordAction",{uniquenessId:e??null,actionId:t.actionId,options:t.options})}setCustomVariableValue(t,e){this.#B.sendWithNoCb("setCustomVariable",{customVariableId:t,value:e})}oscSend(t,e,n,r){this.#B.sendWithNoCb("send-osc",(0,i.literal)({host:t,port:e,path:n,args:r}))}updateStatus(t,e){this.#B.sendWithNoCb("set-status",(0,i.literal)({status:t,message:e??null}))}log(t,e){this.#B.sendWithNoCb("log-message",(0,i.literal)({level:t,message:e}))}}},9051:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},609:(t,e)=>{"use strict";var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.Regex=e.InstanceStatus=void 0,(r=e.InstanceStatus||(e.InstanceStatus={})).Ok="ok",r.Connecting="connecting",r.Disconnected="disconnected",r.ConnectionFailure="connection_failure",r.BadConfig="bad_config",r.UnknownError="unknown_error",r.UnknownWarning="unknown_warning",(n=e.Regex||(e.Regex={})).IP="/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/",n.HOSTNAME="/^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9])\\.)*([A-Za-z0-9]|[A-Za-z0-9][A-Za-z0-9-]*[A-Za-z0-9])$/",n.BOOLEAN="/^(true|false|0|1)$/i",n.PORT="/^([1-9]|[1-8][0-9]|9[0-9]|[1-8][0-9]{2}|9[0-8][0-9]|99[0-9]|[1-8][0-9]{3}|9[0-8][0-9]{2}|99[0-8][0-9]|999[0-9]|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-4])$/",n.PERCENT="/^(100|[0-9]|[0-9][0-9])$/",n.FLOAT="/^([0-9]*\\.)?[0-9]+$/",n.SIGNED_FLOAT="/^[+-]?([0-9]*\\.)?[0-9]+$/",n.FLOAT_OR_INT="/^([0-9]+)(\\.[0-9]+)?$/",n.NUMBER="/^\\d+$/",n.SIGNED_NUMBER="/^[+-]?\\d+$/",n.SOMETHING="/^.+$/",n.TIMECODE="/^(0*[0-9]|1[0-9]|2[0-4]):(0*[0-9]|[1-5][0-9]|60):(0*[0-9]|[1-5][0-9]|60):(0*[0-9]|[12][0-9]|30)$/"},4334:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},2490:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},4911:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(1460);r.__exportStar(n(8322),e),r.__exportStar(n(5203),e),r.__exportStar(n(9051),e),r.__exportStar(n(609),e),r.__exportStar(n(4334),e),r.__exportStar(n(2490),e),r.__exportStar(n(3646),e),r.__exportStar(n(3558),e),r.__exportStar(n(4788),e),r.__exportStar(n(521),e),r.__exportStar(n(6870),e)},3646:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},3558:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},4788:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},521:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CreateConvertToBooleanFeedbackUpgradeScript=e.EmptyUpgradeScript=void 0,e.EmptyUpgradeScript=()=>({updatedConfig:null,updatedActions:[],updatedFeedbacks:[]}),e.CreateConvertToBooleanFeedbackUpgradeScript=function(t){return(e,n)=>{const r=[];for(const e of n.feedbacks){let n=t[e.feedbackId];if(!0===n&&(n={bg:"bgcolor",bgcolor:"bgcolor",fg:"color",color:"color",png64:"png64",png:"png64"}),n){e.style||(e.style={});for(const[t,i]of Object.entries(n))void 0!==e.options[t]&&(e.style[i]=e.options[t],delete e.options[t],r.push(e))}}return{updatedConfig:null,updatedActions:[],updatedFeedbacks:r}}}},6870:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},2068:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.splitRgb=e.combineRgb=e.assertNever=e.literal=void 0,e.literal=function(t){return t},e.assertNever=function(t){},e.combineRgb=function(t,e,n){return(255&t)<<16|(255&e)<<8|255&n},e.splitRgb=function(t){return{r:(16711680&t)>>16,g:(65280&t)>>8,b:255&t}}},4618:(t,e,n)=>{"use strict";t.exports=o,t.exports.default=o;const r={$schema:"http://json-schema.org/draft-07/schema#",type:"object",title:"ModuleManifest",properties:{id:{type:"string",description:"Unique identifier for the module"},name:{type:"string",description:"Name of the module"},shortname:{type:"string"},description:{type:"string",description:"Description of the module "},version:{type:"string",description:"Current version of the module"},license:{type:"string",description:"SPDX identifier for license of the module"},repository:{type:"string",description:"URL to the source repository"},bugs:{type:"string",description:"URL to bug tracker"},maintainers:{type:"array",description:"List of active maintiners",uniqueItems:!0,items:{type:"object",title:"ModuleManifestMaintainer",properties:{name:{type:"string"},email:{type:"string"},github:{type:"string"}},required:["name"]}},legacyIds:{type:"array",description:"If the module had a different unique identifier previously, then specify it here",uniqueItems:!0,items:{type:"string"}},runtime:{type:"object",title:"ModuleManifestRuntime",description:"Information on how to execute the module",properties:{type:{type:"string",description:"Type of the module. Must be: node18"},api:{type:"string",description:"Which host-api does it use. In the future alternate options will be allowed",enum:["nodejs-ipc"]},apiVersion:{type:"string",description:"The version of the host-api used"},entrypoint:{type:"string",description:"Entrypoint to pass to the runtime. eg index.js"}},required:["type","api","apiVersion","entrypoint"]},manufacturer:{type:"string"},products:{type:"array",uniqueItems:!0,items:{type:"string"}},keywords:{type:"array",uniqueItems:!0,items:{type:"string"}}},required:["id","name","shortname","description","version","license","repository","bugs","maintainers","legacyIds","runtime","manufacturer","products","keywords"]},i=n(7056).Z;function o(t,{instancePath:e="",parentData:n,parentDataProperty:s,rootData:a=t}={}){if(!t||"object"!=typeof t||Array.isArray(t))return o.errors=[{instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let n;if(void 0===t.id&&(n="id")||void 0===t.name&&(n="name")||void 0===t.shortname&&(n="shortname")||void 0===t.description&&(n="description")||void 0===t.version&&(n="version")||void 0===t.license&&(n="license")||void 0===t.repository&&(n="repository")||void 0===t.bugs&&(n="bugs")||void 0===t.maintainers&&(n="maintainers")||void 0===t.legacyIds&&(n="legacyIds")||void 0===t.runtime&&(n="runtime")||void 0===t.manufacturer&&(n="manufacturer")||void 0===t.products&&(n="products")||void 0===t.keywords&&(n="keywords"))return o.errors=[{instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:n},message:"must have required property '"+n+"'"}],!1;if(void 0!==t.id){const n=0;if("string"!=typeof t.id)return o.errors=[{instancePath:e+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var c=0===n}else c=!0;if(c){if(void 0!==t.name){const n=0;if("string"!=typeof t.name)return o.errors=[{instancePath:e+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;c=0===n}else c=!0;if(c){if(void 0!==t.shortname){const n=0;if("string"!=typeof t.shortname)return o.errors=[{instancePath:e+"/shortname",schemaPath:"#/properties/shortname/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;c=0===n}else c=!0;if(c){if(void 0!==t.description){const n=0;if("string"!=typeof t.description)return o.errors=[{instancePath:e+"/description",schemaPath:"#/properties/description/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;c=0===n}else c=!0;if(c){if(void 0!==t.version){const n=0;if("string"!=typeof t.version)return o.errors=[{instancePath:e+"/version",schemaPath:"#/properties/version/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;c=0===n}else c=!0;if(c){if(void 0!==t.license){const n=0;if("string"!=typeof t.license)return o.errors=[{instancePath:e+"/license",schemaPath:"#/properties/license/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;c=0===n}else c=!0;if(c){if(void 0!==t.repository){const n=0;if("string"!=typeof t.repository)return o.errors=[{instancePath:e+"/repository",schemaPath:"#/properties/repository/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;c=0===n}else c=!0;if(c){if(void 0!==t.bugs){const n=0;if("string"!=typeof t.bugs)return o.errors=[{instancePath:e+"/bugs",schemaPath:"#/properties/bugs/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;c=0===n}else c=!0;if(c){if(void 0!==t.maintainers){let n=t.maintainers;const r=0;if(0===r){if(!Array.isArray(n))return o.errors=[{instancePath:e+"/maintainers",schemaPath:"#/properties/maintainers/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var u=!0;const t=n.length;for(let r=0;r<t;r++){let t=n[r];const i=0;if(0===i){if(!t||"object"!=typeof t||Array.isArray(t))return o.errors=[{instancePath:e+"/maintainers/"+r,schemaPath:"#/properties/maintainers/items/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let n;if(void 0===t.name&&(n="name"))return o.errors=[{instancePath:e+"/maintainers/"+r,schemaPath:"#/properties/maintainers/items/required",keyword:"required",params:{missingProperty:n},message:"must have required property '"+n+"'"}],!1;if(void 0!==t.name){const n=0;if("string"!=typeof t.name)return o.errors=[{instancePath:e+"/maintainers/"+r+"/name",schemaPath:"#/properties/maintainers/items/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var l=0===n}else l=!0;if(l){if(void 0!==t.email){const n=0;if("string"!=typeof t.email)return o.errors=[{instancePath:e+"/maintainers/"+r+"/email",schemaPath:"#/properties/maintainers/items/properties/email/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===n}else l=!0;if(l)if(void 0!==t.github){const n=0;if("string"!=typeof t.github)return o.errors=[{instancePath:e+"/maintainers/"+r+"/github",schemaPath:"#/properties/maintainers/items/properties/github/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;l=0===n}else l=!0}}}if(!(u=0===i))break}if(u){let t,r=n.length;if(r>1)for(;r--;)for(t=r;t--;)if(i(n[r],n[t]))return o.errors=[{instancePath:e+"/maintainers",schemaPath:"#/properties/maintainers/uniqueItems",keyword:"uniqueItems",params:{i:r,j:t},message:"must NOT have duplicate items (items ## "+t+" and "+r+" are identical)"}],!1}}}c=0===r}else c=!0;if(c){if(void 0!==t.legacyIds){let n=t.legacyIds;const r=0;if(0===r){if(!Array.isArray(n))return o.errors=[{instancePath:e+"/legacyIds",schemaPath:"#/properties/legacyIds/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var p=!0;const t=n.length;for(let r=0;r<t;r++){const t=0;if("string"!=typeof n[r])return o.errors=[{instancePath:e+"/legacyIds/"+r,schemaPath:"#/properties/legacyIds/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(p=0===t))break}if(p){let t,r=n.length;if(r>1){const i={};for(;r--;){let s=n[r];if("string"==typeof s){if("number"==typeof i[s])return t=i[s],o.errors=[{instancePath:e+"/legacyIds",schemaPath:"#/properties/legacyIds/uniqueItems",keyword:"uniqueItems",params:{i:r,j:t},message:"must NOT have duplicate items (items ## "+t+" and "+r+" are identical)"}],!1;i[s]=r}}}}}}c=0===r}else c=!0;if(c){if(void 0!==t.runtime){let n=t.runtime;const i=0;if(0===i){if(!n||"object"!=typeof n||Array.isArray(n))return o.errors=[{instancePath:e+"/runtime",schemaPath:"#/properties/runtime/type",keyword:"type",params:{type:"object"},message:"must be object"}],!1;{let t;if(void 0===n.type&&(t="type")||void 0===n.api&&(t="api")||void 0===n.apiVersion&&(t="apiVersion")||void 0===n.entrypoint&&(t="entrypoint"))return o.errors=[{instancePath:e+"/runtime",schemaPath:"#/properties/runtime/required",keyword:"required",params:{missingProperty:t},message:"must have required property '"+t+"'"}],!1;if(void 0!==n.type){const t=0;if("string"!=typeof n.type)return o.errors=[{instancePath:e+"/runtime/type",schemaPath:"#/properties/runtime/properties/type/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;var h=0===t}else h=!0;if(h){if(void 0!==n.api){let t=n.api;const i=0;if("string"!=typeof t)return o.errors=[{instancePath:e+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if("nodejs-ipc"!==t)return o.errors=[{instancePath:e+"/runtime/api",schemaPath:"#/properties/runtime/properties/api/enum",keyword:"enum",params:{allowedValues:r.properties.runtime.properties.api.enum},message:"must be equal to one of the allowed values"}],!1;h=0===i}else h=!0;if(h){if(void 0!==n.apiVersion){const t=0;if("string"!=typeof n.apiVersion)return o.errors=[{instancePath:e+"/runtime/apiVersion",schemaPath:"#/properties/runtime/properties/apiVersion/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=0===t}else h=!0;if(h)if(void 0!==n.entrypoint){const t=0;if("string"!=typeof n.entrypoint)return o.errors=[{instancePath:e+"/runtime/entrypoint",schemaPath:"#/properties/runtime/properties/entrypoint/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;h=0===t}else h=!0}}}}c=0===i}else c=!0;if(c){if(void 0!==t.manufacturer){const n=0;if("string"!=typeof t.manufacturer)return o.errors=[{instancePath:e+"/manufacturer",schemaPath:"#/properties/manufacturer/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;c=0===n}else c=!0;if(c){if(void 0!==t.products){let n=t.products;const r=0;if(0===r){if(!Array.isArray(n))return o.errors=[{instancePath:e+"/products",schemaPath:"#/properties/products/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var d=!0;const t=n.length;for(let r=0;r<t;r++){const t=0;if("string"!=typeof n[r])return o.errors=[{instancePath:e+"/products/"+r,schemaPath:"#/properties/products/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(d=0===t))break}if(d){let t,r=n.length;if(r>1){const i={};for(;r--;){let s=n[r];if("string"==typeof s){if("number"==typeof i[s])return t=i[s],o.errors=[{instancePath:e+"/products",schemaPath:"#/properties/products/uniqueItems",keyword:"uniqueItems",params:{i:r,j:t},message:"must NOT have duplicate items (items ## "+t+" and "+r+" are identical)"}],!1;i[s]=r}}}}}}c=0===r}else c=!0;if(c)if(void 0!==t.keywords){let n=t.keywords;const r=0;if(0===r){if(!Array.isArray(n))return o.errors=[{instancePath:e+"/keywords",schemaPath:"#/properties/keywords/type",keyword:"type",params:{type:"array"},message:"must be array"}],!1;{var f=!0;const t=n.length;for(let r=0;r<t;r++){const t=0;if("string"!=typeof n[r])return o.errors=[{instancePath:e+"/keywords/"+r,schemaPath:"#/properties/keywords/items/type",keyword:"type",params:{type:"string"},message:"must be string"}],!1;if(!(f=0===t))break}if(f){let t,r=n.length;if(r>1){const i={};for(;r--;){let s=n[r];if("string"==typeof s){if("number"==typeof i[s])return t=i[s],o.errors=[{instancePath:e+"/keywords",schemaPath:"#/properties/keywords/uniqueItems",keyword:"uniqueItems",params:{i:r,j:t},message:"must NOT have duplicate items (items ## "+t+" and "+r+" are identical)"}],!1;i[s]=r}}}}}}c=0===r}else c=!0}}}}}}}}}}}}}return o.errors=null,!0}},4300:(t,e,n)=>{let r,i,o=n(6113),{urlAlphabet:s}=n(3792),a=t=>{!r||r.length<t?(r=Buffer.allocUnsafe(128*t),o.randomFillSync(r),i=0):i+t>r.length&&(o.randomFillSync(r),i=0),i+=t},c=t=>(a(t-=0),r.subarray(i-t,i)),u=(t,e,n)=>{let r=(2<<31-Math.clz32(t.length-1|1))-1,i=Math.ceil(1.6*r*e/t.length);return(o=e)=>{let s="";for(;;){let e=n(i),a=i;for(;a--;)if(s+=t[e[a]&r]||"",s.length===o)return s}}};t.exports={nanoid:(t=21)=>{a(t-=0);let e="";for(let n=i-t;n<i;n++)e+=s[63&r[n]];return e},customAlphabet:(t,e=21)=>u(t,e,c),customRandom:u,urlAlphabet:s,random:c}},3792:t=>{t.exports={urlAlphabet:"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.c=e,n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),n(n.s=5497)})();